<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Without a strong will, nothing can be achieved</title>
    <url>/comprove/</url>
    <content><![CDATA[<h2 id="Without-a-strong-will-nothing-can-be-achieved"><a href="#Without-a-strong-will-nothing-can-be-achieved" class="headerlink" title="Without a strong will, nothing can be achieved"></a>Without a strong will, nothing can be achieved</h2><h2 id="æ²¡æœ‰åšå¼ºæ„å¿—ï¼Œå¿…å°†ä¸€äº‹æ— æˆ"><a href="#æ²¡æœ‰åšå¼ºæ„å¿—ï¼Œå¿…å°†ä¸€äº‹æ— æˆ" class="headerlink" title="æ²¡æœ‰åšå¼ºæ„å¿—ï¼Œå¿…å°†ä¸€äº‹æ— æˆ"></a>æ²¡æœ‰åšå¼ºæ„å¿—ï¼Œå¿…å°†ä¸€äº‹æ— æˆ</h2><p><strong>Life is never plain sailing.To succeed, a strong will is indispensable.Life is like a marathon, many people can not reach the end.This is not due to physical exhaustion, but because the will is not strong enough.</strong></p>
<p>   äººç”Ÿä»æ¥éƒ½ä¸æ˜¯ä¸€å¸†é£é¡ºçš„ã€‚æƒ³è¦è·å¾—æˆåŠŸï¼Œåšå¼ºçš„æ„å¿—ä¸å¯æˆ–ç¼ºã€‚äººç”Ÿå¦‚åŒé©¬æ‹‰æ¾ï¼Œè®¸å¤šäººå´æ— æ³•åˆ°è¾¾ç»ˆç‚¹ã€‚è¿™ä¸æ˜¯ç”±äºä½“åŠ›ä¸æ”¯ï¼Œè€Œæ˜¯å› ä¸ºæ„å¿—ä¸å¤Ÿåšå¼ºã€‚</p>
<a id="more"></a>

<p><strong>Take quitting smoking for example. Some people think itâ€™s a piece of cake.In the morning they were ambitious to quit, but in the evening they felt they were being seduced by the smell of cigarettes.Their throats were sore, their mouths dry, and their hands were shaking.After a painful struggle, they say to themselves, â€œone is enough, one is enough, and tomorrow I will stop smoking once and for all.â€In this way they surrendered to the weak will.Eventually, they quit â€œa hundred timesâ€ and never succeeded.</strong><br>   æ‹¿æˆ’çƒŸæ¥è¯´ï¼Œæœ‰çš„äººè®¤ä¸ºå°äº‹ä¸€æ¡©ã€‚æ—©ä¸Šè¿˜é›„å¿ƒå‹ƒå‹ƒåœ°è¦æˆ’çƒŸï¼Œå¯åˆ°äº†æ™šä¸Šï¼Œå°±æ„Ÿåˆ°é¦™çƒŸçš„æ°”å‘³æ­£å¼•è¯±ç€ä»–ä»¬ã€‚ä»–ä»¬å–‰å’™å‘é…¸ï¼Œå£å¹²èˆŒç‡¥ï¼Œå°±è¿æ‰‹ä¹Ÿé¢¤æŠ–ä¸å·²ã€‚ç»è¿‡ç—›è‹¦çš„æ€æƒ³æ–—äº‰ï¼Œä»–ä»¬ä¼šå¯¹è‡ªå·±è¯´ï¼šâ€œä¸€æ ¹è¶³çŸ£ï¼Œå°±ä¸€æ ¹ï¼Œæ˜å¤©æˆ‘å°±å½»åº•æˆ’çƒŸã€‚â€å°±è¿™æ ·ï¼Œä»–ä»¬å‘è½¯å¼±çš„æ„å¿—ç¼´æ¢°æŠ•é™ã€‚æœ€ç»ˆï¼Œä»–ä»¬æˆ’çƒŸâ€œä¸€ç™¾æ¬¡â€ï¼Œå´ä»æ— ä¸€æ¬¡æˆåŠŸã€‚</p>
<p><strong>There is a widespread humorous saying that â€œQuitting smoking is theeasiest thing in the world. Iâ€™ve done it for hundreds of times.â€ 1. Funny as itis, the saying ironically reflects the fact that strong will is the mostessential quality for anyone who wants to achieve something, and it plays a vitalrole in our success.</strong><br>æœ‰ä¸€ä¸ªæ™®éçš„ç¬‘è¯è¯´ï¼šæˆ’çƒŸæ˜¯ä¸–ç•Œä¸Šæœ€å®¹æ˜“çš„äº‹å„¿ï¼Œæˆ‘å·²ç»åšäº†å‡ ç™¾æ¬¡ã€‚æœ‰è¶£çš„æ˜¯ï¼Œè¿™åæ˜ äº†ä¸€ä¸ªäº‹å®ï¼Œåšå¼ºçš„æ„å¿—æ˜¯äººä»¬å®Œæˆä¸€ä»¶äº‹æƒ…çš„åŸºæœ¬å“è´¨ï¼Œä»–åœ¨æˆ‘ä»¬çš„æˆåŠŸä¸­æ‰®æ¼”ç€é‡è¦çš„è§’è‰²ã€‚</p>
<p><strong>Just like giving up smoking, you canâ€™t do anything without a strong will.For a successful life, a strong will means that you know where youâ€™re going and stick to the path youâ€™ve chosen.There is no doubt that success belongs to those who overcome their own weak will and persist to the last minute.</strong><br>   æ­£å¦‚æˆ’çƒŸä¸€æ ·ï¼Œæ²¡æœ‰åšå¼ºæ„å¿—ï¼Œå¿…å°†ä¸€äº‹æ— æˆã€‚å¯¹äºæˆåŠŸäººç”Ÿï¼Œåšå¼ºçš„æ„å¿—å°±æ„å‘³ç€ä½ è‡ªå·±çŸ¥é“ä½ çš„ç›®çš„åœ°ï¼Œå¹¶ä¸”åœ¨è‡ªå·±é€‰æ‹©çš„é“è·¯ä¸ŠåšæŒä¸‹å»ã€‚æ¯«æ— ç–‘é—®ï¼ŒæˆåŠŸå±äºé‚£äº›å…‹æœè‡ªèº«è½¯å¼±æ„å¿—è€ŒåˆåšæŒåˆ°æœ€åä¸€åˆ»çš„äººã€‚</p>
<p><strong>Our life involves all kinds of obstacles and setbacks which mayexhaust us. Therefore, we must have a strong will to meet the challenge. Whatâ€™smore, there are many temptations waiting for us when we are striving forsuccess. For example, when we are doing our utmost to quit playing computergames, our friends just play with great satisfaction. Then how can we resistthe temptation? Obviously, only with a strong will can we conquer ourselvesand realize our goals.</strong><br>æˆ‘ä»¬çš„ç”Ÿæ´»å±•ç¤ºå‡ºäº†é‚£äº›è€—å°½æˆ‘ä»¬ç²¾åŠ›çš„éšœç¢ä¸æŒ«æŠ˜ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»æ‹¥æœ‰åšå¼ºçš„æ„å¿—å»è¿æ¥æŒ‘æˆ˜ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œå½“æˆ‘ä»¬è¿½æ±‚æˆåŠŸçš„æ—¶å€™ï¼Œé‚£é‡Œä¼šæœ‰å¾ˆå¤šè¯±æƒ‘ç­‰ç€æˆ‘ä»¬ã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬æ­£åœ¨åŠªåŠ›çš„æˆ’é™¤ç”µè„‘æ¸¸æˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„æœ‹å‹å´ç©çš„å¾ˆé«˜å…´ã€‚é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å¦‚ä½•æŠµæŠ—è¿™äº›è¯±æƒ‘ã€‚æ˜¾ç„¶ï¼Œåªæœ‰åšå¼ºçš„æ„å¿—æ‰èƒ½è®©æˆ‘ä»¬æˆ˜èƒœè‡ªå·±ï¼Œå®ç°åˆ°è‡ªå·±çš„ç›®æ ‡ã€‚</p>
<p><strong>The weak can only struggle, and the brave can overcome;A fool can only lament, but a wise man can go a thousand ways.</strong><br>  å¼±è€…åªæœ‰åƒéš¾ä¸‡éš¾ï¼Œè€Œå‹‡è€…åˆ™èƒ½æŠ«è†æ–©æ£˜ï¼›æ„šè€…åªæœ‰å£°å£°å“€å¹ï¼Œæ™ºè€…å´æœ‰åƒè·¯ä¸‡è·¯ã€‚</p>
<p><strong>When you smile to yourself, there is no trouble in the world can pester you;When you are honest with yourself, no one in the world can deceive you.Live in the applause of others, the most easily lost themselves;In the care of others, the most easily weakened themselves.People who dare to face difficulties, so life is strong;Those who dare to challenge adversity thrive.Thank the person who gave you advice, he made you mature;Be thankful to the one who made you strong.</strong><br>  å½“ä½ å¯¹è‡ªå·±å¾®ç¬‘æ—¶ï¼Œä¸–ä¸Šæ²¡çƒ¦äº‹èƒ½çº ç¼ ä½ ï¼›å½“ä½ å¯¹è‡ªå·±è¯šæ„æ—¶ï¼Œä¸–ä¸Šæ²¡äººèƒ½æ¬ºéª—ä½ ã€‚æ´»åœ¨åˆ«äººçš„æŒå£°ä¸­ï¼Œæœ€æ˜“è¿·å¤±è‡ªå·±ï¼›å¤„åœ¨åˆ«äººçš„å…³çˆ±ä¸­ï¼Œæœ€æ˜“å¼±åŒ–è‡ªå·±ã€‚æ•¢äºé¢å¯¹å›°å¢ƒçš„äººï¼Œç”Ÿå‘½å› æ­¤åšå¼ºï¼›æ•¢äºæŒ‘æˆ˜é€†å¢ƒçš„äººï¼Œç”Ÿå‘½å› æ­¤èŒå£®ã€‚è¦æ„Ÿè°¢ç»™ä½ ææ„è§çš„äººï¼Œä»–ä½¿ä½ æˆç†Ÿï¼›è¦æ„Ÿè°¢ç»™ä½ é€ å›°å¢ƒçš„äººï¼Œä»–ä½¿ä½ åšå¼ºã€‚</p>
<p><strong>Celebrities become famous because they keep climbing when their companions are having fun or resting.A man is mortal because he sleeps while others are busy climbing.No sweat, no tears of success;No hard work, no rich fruit;No hard training, no flash of gold.To transform the world, we must transform ourselves;To succeed in business, you must toil yourself;You have to work hard to reach the top successfully.</strong><br>  åäººä¹‹æ‰€ä»¥èƒ½å¤Ÿæˆä¸ºåäººï¼Œæ˜¯å› ä¸ºä»–ä»¬åœ¨åŒä¼´å¬‰ä¹æˆ–ä¼‘æ¯æ—¶ä¸åœåœ°æ”€ç™»ï¼›å‡¡äººä¹‹æ‰€ä»¥æˆä¸ºå‡¡äººï¼Œæ˜¯å› ä¸ºåˆ«äººå¿™äºæ”€ç™»æ—¶ä»–å´å®‰ç„¶å…¥ç¡ã€‚æ²¡æœ‰è¾›å‹¤çš„æ±—æ°´ï¼Œå°±æ²¡æœ‰æˆåŠŸçš„æ³ªæ°´ï¼›æ²¡æœ‰è‰°è¾›çš„ä»˜å‡ºï¼Œå°±æ²¡æœ‰ä¸°ç¡•çš„æœå®ï¼›æ²¡æœ‰åˆ»è‹¦çš„è®­ç»ƒï¼Œå°±æ²¡æœ‰é—ªå…‰çš„é‡‘ç‰Œã€‚è¦æ”¹é€ ä¸–ç•Œï¼Œå¾—å…ˆæ”¹é€ è‡ªå·±ï¼›è¦æˆå°±äº‹ä¸šï¼Œå¾—å…ˆåŠ³è‹¦è‡ªèº«ï¼›è¦èƒœåˆ©ç™»é¡¶ï¼Œå¾—å…ˆå¥‹åŠ›æ”€ç™»ã€‚</p>
<p><strong>The road of life has both the road, and there is mud;There are both beauty and trap, only the firm faith and courage to reach the end of the victory.The crossroads of life is a difficult choice, careful choice to ensure the right direction, confused choice is easy to go astray, give up the choice will be lost.</strong><br>  äººç”Ÿé“è·¯ä¸Šæ—¢æœ‰å¦é“ï¼Œåˆæœ‰æ³¥æ³ï¼›æ—¢æœ‰ç¾æ™¯ï¼Œåˆæœ‰é™·é˜±ï¼Œåªæœ‰åšå®šä¿¡å¿µåˆå‹‡å¾€ç›´å‰çš„äººæ‰èƒ½åˆ°è¾¾èƒœåˆ©çš„ç»ˆç‚¹ã€‚äººç”Ÿçš„åå­—è·¯å£æ˜¯ä¸€é“è‰°éš¾çš„é€‰æ‹©é¢˜ï¼Œè°¨æ…é€‰æ‹©æ‰èƒ½ç¡®ä¿æ­£ç¡®æ–¹å‘ï¼Œç³Šæ¶‚é€‰æ‹©å°±æ˜“æ­¥å…¥æ­§é€”ï¼Œæ”¾å¼ƒé€‰æ‹©å°±ä¼šè¿·å¤±æ–¹å‘ã€‚</p>
<p><strong>The pioneer has his own way, the conservative follows the old ways, the explorer climbs to the top, and the persistent goes forward courageously.Look into the distance and you will pick up the pace.Watch the scenery, and you will walk lightly;Only when you walk in company can you sing and laugh;You can climb to the top only if you have to work hard.</strong><br>   å¼€æ‹“è€…ç‹¬è¾Ÿè¹Šå¾„ï¼Œä¿å®ˆè€…å› å¾ªå®ˆæ—§ï¼Œæ¢ç´¢è€…å‹‡æ”€é«˜å³°ï¼Œæ‰§ç€è€…å‹‡å¾€ç›´å‰ã€‚ç©ç›®è¿œæ–¹ï¼Œä½ æ‰ä¼šåŠ å¿«æ­¥ä¼ï¼›è§‚èµé£æ™¯ï¼Œä½ æ‰ä¼šæ­¥å±¥è½»ç›ˆï¼›ç»“ä¼´åŒè¡Œï¼Œä½ æ‰èƒ½æ¬¢æ­Œç¬‘è¯­ï¼›é£é›¨å…¼ç¨‹ï¼Œä½ æ‰èƒ½æˆåŠŸç™»é¡¶ã€‚</p>
<p><strong>In life, sometimes the best way is not necessarily the road, but the path;In reality, sometimes the easiest way is not necessarily a straight one, but a zigzag one.</strong><br>   åœ¨äººç”Ÿä¸­ï¼Œæœ‰æ—¶æœ€å¥½èµ°çš„è·¯ä¸ä¸€å®šæ˜¯å¤§è·¯ï¼Œè€Œæ˜¯å°è·¯ï¼›åœ¨ç°å®ä¸­ï¼Œæœ‰æ—¶æœ€ä¾¿æ·çš„è·¯ä¸ä¸€å®šæ˜¯ç›´è·¯ï¼Œè€Œæ˜¯æ›²æŠ˜è·¯ã€‚</p>
<p><strong>Life is struggle, only the courage to climb to create brilliant;Life is innovation, only with The Times to keep up with The Times;Life is to pay, only hard sweat to achieve the ideal;Life is to enjoy, only taste life can feel the joy of life.</strong><br>   ç”Ÿæ´»å°±æ˜¯å¥‹æ–—ï¼Œåªæœ‰å‹‡äºæ”€ç™»æ‰èƒ½åˆ›é€ è¾‰ç…Œï¼›ç”Ÿæ´»å°±æ˜¯åˆ›æ–°ï¼Œåªæœ‰ä¸æ—¶ä¿±è¿›æ‰èƒ½è·Ÿä¸Šæ—¶ä»£ï¼›ç”Ÿæ´»å°±æ˜¯ä»˜å‡ºï¼Œåªæœ‰åƒè‹¦æµæ±—æ‰èƒ½å®ç°ç†æƒ³ï¼›ç”Ÿæ´»å°±æ˜¯äº«å—ï¼Œåªæœ‰å“å°äººç”Ÿæ‰èƒ½æ„ŸçŸ¥ç”Ÿæ´»çš„å¿«ä¹ã€‚</p>
<p><strong>Approach the wilderness, to be satisfied with the beauty of spring;Into the river, to feel the gentle summer water;Pick the fruits, to taste the taste of autumn;Through the cold winter, to feel the warmth of spring!</strong><br>   èµ°è¿‘åŸé‡ï¼Œæ‰èƒ½é¥±èµæ˜¥å¤©çš„ç¾è‰²ï¼›èå…¥æ±Ÿæ²³ï¼Œæ‰èƒ½æ„ŸçŸ¥å¤æ°´çš„æ¸©æŸ”ï¼›é‡‡æ‘˜ç¡•æœï¼Œæ‰èƒ½å“å°ç§‹å¤©çš„å‘³é“ï¼›èµ°è¿‡å¯’å†¬ï¼Œæ‰èƒ½æ„ŸçŸ¥æ˜¥å¤©çš„æ¸©æš–ï¼  </p>
<p><strong>Step forward, no matter how long the road is not under words;Stagnant, however short the road is difficult to reach.Travel is not only about speed, but also about whether you can continue;Moving forward is not only about speed, but also about staying in the right direction.</strong><br>   è¿ˆå¼€è„šæ­¥ï¼Œå†é•¿çš„è·¯ä¹Ÿä¸åœ¨è¯ä¸‹ï¼›åœæ»ä¸å‰ï¼Œå†çŸ­çš„è·¯ä¹Ÿéš¾ä»¥åˆ°è¾¾ã€‚è¡Œè·¯ä¸ä»…ä»…åœ¨äºå¿«æ…¢ï¼Œè¿˜åœ¨äºæ˜¯å¦èƒ½å¤ŸæŒç»­ï¼›å‰è¿›ä¸ä»…ä»…åœ¨äºé€Ÿåº¦ï¼Œæ›´åœ¨äºèƒ½å¦ä¿æŒæ­£ç¡®æ–¹å‘ã€‚</p>
<p><strong>All in all, success only belongs to those who can suffer long yearsof toil and make constant efforts, just as the old popular saying goes, â€œWhenthere is a will, there is a way.â€</strong><br>æ€»ä¹‹ï¼ŒæˆåŠŸåªå±äºé‚£äº›èƒ½å¤Ÿå¿å—å¤šå¹´è¾›è‹¦å·¥ä½œï¼Œä¸æ–­åŠªåŠ›çš„äººï¼Œå°±åƒä¸€å¥å¤è¯è¯´çš„ï¼šæœ‰å¿—è€…äº‹ç«Ÿæˆã€‚</p>
<p>(1) Although it is funny, the sayingironically reflects â€¦ è™½ç„¶å¾ˆæœ‰è¶£ï¼Œå®ƒåæ˜ äº†â€¦â€¦</p>
<p>(2) Clearly, it appears to be funny, thesaying ironically reflects â€¦ æ˜¾ç„¶ï¼Œä»–å¾ˆæœ‰è¶£ï¼Œåæ˜ äº†â€¦â€¦</p>
<p>(1) No doubt, only when we have a strongwill can we conquer ourselves and realize our goals. æ¯«æ— ç–‘é—®ï¼Œåªæœ‰æˆ‘ä»¬æ‹¥æœ‰åšå¼ºçš„æ„å¿—æˆ‘ä»¬æ‰èƒ½å…‹æœè‡ªå·±ï¼Œå®ç°è‡ªå·±çš„ç›®æ ‡ã€‚</p>
<p>(3) Clearly, only with strong will can webe the master of ourselves and make our dreams come true. æ˜¾ç„¶ï¼Œåªæœ‰åšå¼ºçš„æ„å¿—æ‰èƒ½è®©æˆ‘ä»¬æˆä¸ºè‡ªå·±çš„ä¸»äººï¼Œè®©æˆ‘ä»¬çš„æ¢¦æƒ³æˆçœŸã€‚</p>
<h2 id="Finally-do-not-experience-the-wind-and-rain-how-can-the-top-of-the-computer-mountain-to-see-the-rainbow-No-matter-how-I-believe-tomorrow-will-be-better"><a href="#Finally-do-not-experience-the-wind-and-rain-how-can-the-top-of-the-computer-mountain-to-see-the-rainbow-No-matter-how-I-believe-tomorrow-will-be-better" class="headerlink" title="Finally, do not experience the wind and rain, how can the top of the computer mountain to see the rainbow!No matter how, I believe tomorrow will be better!!"></a>Finally, do not experience the wind and rain, how can the top of the computer mountain to see the rainbow!No matter how, I believe tomorrow will be better!!</h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>åŠ±å¿—</category>
      </categories>
      <tags>
        <tag>English</tag>
        <tag>é¸¡æ±¤</tag>
      </tags>
  </entry>
  <entry>
    <title>requestçˆ¬è™«å…¥é—¨</title>
    <url>/Getting_Started_with_Request_Crawler/</url>
    <content><![CDATA[<blockquote>
<p>ä»ç½‘é¡µçš„åŸºæœ¬ç»“æ„å¼€å§‹è®²è¿°, æ…¢æ…¢ä½¿ç”¨ä¸€äº›ç®€å•çš„å·¥å…·, åšä¸€äº›ç®€å•çš„çˆ¬è™«. è¿˜ä¼šæœ‰ä¸€äº›å°ç»ƒä¹ , è®©ä½ çˆ¬çˆ¬çœŸæ­£çš„äº’è”ç½‘. ä¸‹è½½ç¾å›¾, é€›é€›ç™¾åº¦ç™¾ç§‘, å…¨ç½‘çˆ¬å–ç­‰ç­‰. å½“ä½ æ‡‚å¾—äº†çˆ¬è™«çš„æ¦‚å¿µ, æˆ‘ä»¬åœ¨æ·±å…¥ä¸€äº›, è°ˆè°ˆå¦‚ä½•åŠ é€Ÿä½ é‚£å’Œè •è™«(çˆ¬çš„æ…¢)ä¸€æ ·çš„çˆ¬è™«, æŠŠå®ƒå‡çº§ä¸ºä¸€åªå°é£è™«(å¤šè¿›ç¨‹,å¼‚æ­¥çˆ¬å–). å½“ç„¶è¿™äº›å†…å®¹éƒ½ä¸ä¼šç‰¹åˆ«æ·±å…¥, é‡ç‚¹æ˜¯æŠŠä½ å¸¦å…¥é—¨</p>
</blockquote>
<a id="more"></a>

<h2 id="ğŸŒ¸requestçˆ¬è™«å…¥é—¨"><a href="#ğŸŒ¸requestçˆ¬è™«å…¥é—¨" class="headerlink" title="ğŸŒ¸requestçˆ¬è™«å…¥é—¨"></a>ğŸŒ¸requestçˆ¬è™«å…¥é—¨</h2><blockquote>
<p>ä»ç½‘é¡µçš„åŸºæœ¬ç»“æ„å¼€å§‹è®²è¿°, æ…¢æ…¢ä½¿ç”¨ä¸€äº›ç®€å•çš„å·¥å…·, åšä¸€äº›ç®€å•çš„çˆ¬è™«. è¿˜ä¼šæœ‰ä¸€äº›å°ç»ƒä¹ , è®©ä½ çˆ¬çˆ¬çœŸæ­£çš„äº’è”ç½‘. ä¸‹è½½ç¾å›¾, é€›é€›ç™¾åº¦ç™¾ç§‘, å…¨ç½‘çˆ¬å–ç­‰ç­‰. å½“ä½ æ‡‚å¾—äº†çˆ¬è™«çš„æ¦‚å¿µ, æˆ‘ä»¬åœ¨æ·±å…¥ä¸€äº›, è°ˆè°ˆå¦‚ä½•åŠ é€Ÿä½ é‚£å’Œè •è™«(çˆ¬çš„æ…¢)ä¸€æ ·çš„çˆ¬è™«, æŠŠå®ƒå‡çº§ä¸ºä¸€åªå°é£è™«(å¤šè¿›ç¨‹,å¼‚æ­¥çˆ¬å–). å½“ç„¶è¿™äº›å†…å®¹éƒ½ä¸ä¼šç‰¹åˆ«æ·±å…¥, é‡ç‚¹æ˜¯æŠŠä½ å¸¦å…¥é—¨</p>
</blockquote>
<h3 id="ç®€å•çš„ç½‘é¡µç»“æ„"><a href="#ç®€å•çš„ç½‘é¡µç»“æ„" class="headerlink" title="ç®€å•çš„ç½‘é¡µç»“æ„"></a>ç®€å•çš„ç½‘é¡µç»“æ„</h3><p>åœ¨ HTML ä¸­, åŸºæœ¬ä¸Šæ‰€æœ‰çš„å®ä½“å†…å®¹, éƒ½ä¼šæœ‰ä¸ª tag æ¥æ¡†ä½å®ƒ. è€Œè¿™ä¸ªè¢« tag ä½çš„å†…å®¹, å°±å¯ä»¥è¢«å±•ç¤ºæˆä¸åŒçš„å½¢å¼, æˆ–æœ‰ä¸åŒçš„åŠŸèƒ½. ä¸»ä½“çš„ tag åˆ†æˆä¸¤éƒ¨åˆ†, <code>header</code> å’Œ <code>body</code>. åœ¨ <code>header</code> ä¸­, å­˜æ”¾è¿™ä¸€äº›ç½‘é¡µçš„ç½‘é¡µçš„å…ƒä¿¡æ¯, æ¯”å¦‚è¯´ <code>title</code>, è¿™äº›ä¿¡æ¯æ˜¯ä¸ä¼šè¢«æ˜¾ç¤ºåˆ°ä½ çœ‹åˆ°çš„ç½‘é¡µä¸­çš„. è¿™äº›ä¿¡æ¯å¤§å¤šæ•°æ—¶å€™æ˜¯ç»™æµè§ˆå™¨çœ‹, æˆ–è€…æ˜¯ç»™æœç´¢å¼•æ“çš„çˆ¬è™«çœ‹</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">    &lt;title&gt;äº‘æ¾ˆã®åšå®¢&lt;/title&gt;</span><br><span class="line">    &lt;link rel=<span class="string">"icon"</span> href=<span class="string">"https://liudufu.github.io/"</span>&gt;</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>HTML çš„ç¬¬äºŒå¤§å—æ˜¯ <code>body</code>, è¿™ä¸ªéƒ¨åˆ†æ‰æ˜¯ä½ çœ‹åˆ°çš„ç½‘é¡µä¿¡æ¯. ç½‘é¡µä¸­çš„ <code>heading</code>, è§†é¢‘, å›¾ç‰‡å’Œæ–‡å­—ç­‰éƒ½å­˜æ”¾åœ¨è¿™é‡Œ. è¿™é‡Œçš„ <code>&lt;h1&gt;&lt;/h1&gt;</code> tag å°±æ˜¯ä¸»æ ‡é¢˜, æˆ‘ä»¬çœ‹åˆ°å‘ˆç°å‡ºæ¥çš„æ•ˆæœå°±æ˜¯å¤§ä¸€å·çš„æ–‡å­—. <code>&lt;p&gt;&lt;/p&gt;</code> é‡Œé¢çš„æ–‡å­—å°±æ˜¯ä¸€ä¸ªæ®µè½. <code>&lt;a&gt;&lt;/a&gt;</code>é‡Œé¢éƒ½æ˜¯ä¸€äº›é“¾æ¥. æ‰€ä»¥å¾ˆå¤šæƒ…å†µ, ä¸œè¥¿éƒ½æ˜¯æ”¾åœ¨è¿™äº› tag ä¸­çš„.</p>
<h3 id="ç”¨-Python-ç™»å½•ç½‘é¡µ"><a href="#ç”¨-Python-ç™»å½•ç½‘é¡µ" class="headerlink" title="ç”¨ Python ç™»å½•ç½‘é¡µ"></a>ç”¨ Python ç™»å½•ç½‘é¡µ</h3><p>å¥½äº†, å¯¹ç½‘é¡µç»“æ„å’Œ HTML æœ‰äº†ä¸€äº›åŸºæœ¬è®¤è¯†ä»¥å, æˆ‘ä»¬å°±èƒ½ç”¨ Python æ¥çˆ¬å–è¿™ä¸ª<a href="https://mofanpy.com/static/scraping/basic-structure.html" target="_blank" rel="noopener">ç½‘é¡µ</a>çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯. é¦–å…ˆè¦åšçš„, æ˜¯ä½¿ç”¨ Python æ¥ç™»å½•è¿™ä¸ªç½‘é¡µ, å¹¶æ‰“å°å‡ºè¿™ä¸ªç½‘é¡µ HTML çš„ source code. æ³¨æ„, å› ä¸ºç½‘é¡µä¸­å­˜åœ¨ä¸­æ–‡, ä¸ºäº†æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡, <code>read()</code> å®Œä»¥å, æˆ‘ä»¬è¦å¯¹è¯»å‡ºæ¥çš„æ–‡å­—è¿›è¡Œè½¬æ¢, <code>decode()</code> æˆå¯ä»¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡çš„å½¢å¼.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"></span><br><span class="line"><span class="comment"># if has Chinese, apply decode()</span></span><br><span class="line">html = urlopen(</span><br><span class="line">    <span class="string">"https://liudufu.github.io/"</span></span><br><span class="line">).read().decode(<span class="string">'utf-8'</span>)</span><br><span class="line">print(html)</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬èƒ½å¤ŸæˆåŠŸè¯»å–è¿™ä¸ªç½‘é¡µçš„æ‰€æœ‰ä¿¡æ¯äº†. ä½†æˆ‘ä»¬è¿˜æ²¡æœ‰å¯¹ç½‘é¡µçš„ä¿¡æ¯è¿›è¡Œæ±‡æ€»å’Œåˆ©ç”¨. æˆ‘ä»¬å‘ç°, æƒ³è¦æå–ä¸€äº›å½¢å¼çš„ä¿¡æ¯, åˆç†çš„åˆ©ç”¨ tag çš„åå­—ååˆ†é‡è¦.</p>
<h3 id="åŒ¹é…ç½‘é¡µå†…å®¹"><a href="#åŒ¹é…ç½‘é¡µå†…å®¹" class="headerlink" title="åŒ¹é…ç½‘é¡µå†…å®¹"></a>åŒ¹é…ç½‘é¡µå†…å®¹</h3><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ Python çš„æ­£åˆ™è¡¨è¾¾å¼ RegEx è¿›è¡ŒåŒ¹é…æ–‡å­—, ç­›é€‰ä¿¡æ¯çš„å·¥ä½œ. å¦‚æœæ˜¯åˆçº§çš„ç½‘é¡µåŒ¹é…, æˆ‘ä»¬ä½¿ç”¨æ­£åˆ™å®Œå…¨å°±å¯ä»¥äº†, é«˜çº§ä¸€ç‚¹æˆ–è€…æ¯”è¾ƒç¹ççš„åŒ¹é…, æˆ‘è¿˜æ˜¯æ¨èä½¿ç”¨ <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" target="_blank" rel="noopener">BeautifulSoup</a>. ä¸æ€¥ä¸æ€¥, æˆ‘çŸ¥é“ä½ æƒ³å·æ‡’, æˆ‘ä¹‹åé©¬ä¸Šå°±ä¼šæ•™ beautiful soup äº†. ä½†æ˜¯ç°åœ¨æˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨æ­£åˆ™æ¥åšå‡ ä¸ªç®€å•çš„ä¾‹å­, è®©ä½ ç†Ÿæ‚‰ä¸€ä¸‹å¥—è·¯.</p>
<p>å¦‚æœæˆ‘ä»¬æƒ³ç”¨ä»£ç æ‰¾åˆ°è¿™ä¸ªç½‘é¡µçš„ title, æˆ‘ä»¬å°±èƒ½è¿™æ ·å†™. é€‰å¥½è¦ä½¿ç”¨çš„ tag åç§° <code>&lt;title&gt;</code>. ä½¿ç”¨æ­£åˆ™åŒ¹é….</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">res = re.findall(<span class="string">r"&lt;title&gt;(.+?)&lt;/title&gt;"</span>, html)</span><br><span class="line">print(<span class="string">"\nPage title is: "</span>, res[<span class="number">0</span>])</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæƒ³è¦æ‰¾åˆ°ä¸­é—´çš„é‚£ä¸ªæ®µè½ <code>&lt;p&gt;</code>, æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢æ–¹æ³•, å› ä¸ºè¿™ä¸ªæ®µè½åœ¨ HTML ä¸­è¿˜å¤¹æ‚ç€ tab, new line, æ‰€ä»¥æˆ‘ä»¬ç»™ä¸€ä¸ª <code>flags=re.DOTALL</code> æ¥å¯¹è¿™äº› tab, new line ä¸æ•æ„Ÿ.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">res = re.findall(<span class="string">r"&lt;p&gt;(.*?)&lt;/p&gt;"</span>, html, flags=re.DOTALL)    <span class="comment"># re.DOTALL if multi line</span></span><br><span class="line">print(<span class="string">"\nPage paragraph is: "</span>, res[<span class="number">0</span>])</span><br></pre></td></tr></tbody></table></figure>

<p>æœ€åä¸€ä¸ªç»ƒä¹ æ˜¯æ‰¾ä¸€æ‰¾æ‰€æœ‰çš„é“¾æ¥, è¿™ä¸ªæ¯”è¾ƒæœ‰ç”¨, æœ‰æ—¶å€™ä½ æƒ³æ‰¾åˆ°ç½‘é¡µé‡Œçš„é“¾æ¥, ç„¶åä¸‹è½½ä¸€äº›å†…å®¹åˆ°ç”µè„‘é‡Œ, å°±é è¿™æ ·çš„é€”å¾„</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">res = re.findall(<span class="string">r'href="(.*?)"'</span>, html)</span><br><span class="line">print(<span class="string">"\nAll links: "</span>, res)</span><br></pre></td></tr></tbody></table></figure>



<h3 id="BeautifulSoupåŸºç¡€"><a href="#BeautifulSoupåŸºç¡€" class="headerlink" title="BeautifulSoupåŸºç¡€"></a>BeautifulSoupåŸºç¡€</h3><p>æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹çˆ¬ç½‘é¡µçš„æµç¨‹, è®©ä½ å¯¹ BeautifulSoup æœ‰ä¸€ä¸ªæ›´å¥½çš„å®šä½.</p>
<ol>
<li>é€‰ç€è¦çˆ¬çš„ç½‘å€ (url)</li>
<li>ä½¿ç”¨ python ç™»å½•ä¸Šè¿™ä¸ªç½‘å€ (urlopenç­‰)</li>
<li>è¯»å–ç½‘é¡µä¿¡æ¯ (read() å‡ºæ¥)</li>
<li><strong>å°†è¯»å–çš„ä¿¡æ¯æ”¾å…¥ BeautifulSoup</strong></li>
<li><strong>ä½¿ç”¨ BeautifulSoup é€‰å– tag ä¿¡æ¯ç­‰ (ä»£æ›¿æ­£åˆ™è¡¨è¾¾å¼)</strong></li>
</ol>
<p>åˆå­¦çš„æ—¶å€™æ€»æ˜¯æä¸æ‡‚è¿™äº›åŒ…æ˜¯å¹²ä»€ä¹ˆçš„, ç°åœ¨ä½ å°±èƒ½ç†è§£è¿™ä¸ª BeautifulSoup åˆ°åº•æ˜¯å¹²ä»€ä¹ˆçš„äº†.</p>
<p>BeautifulSoup ä½¿ç”¨èµ·æ¥éå¸¸ç®€å•, æˆ‘ä»¬å…ˆæŒ‰å¸¸è§„è¯»å–ç½‘é¡µ</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"></span><br><span class="line"><span class="comment"># if has Chinese, apply decode()</span></span><br><span class="line">html = urlopen(<span class="string">"url"</span>).read().decode(<span class="string">'utf-8'</span>)</span><br><span class="line">print(html)</span><br></pre></td></tr></tbody></table></figure>

<p>æ¯å¼ ç½‘é¡µä¸­, éƒ½æœ‰ä¸¤å¤§å—, ä¸€ä¸ªæ˜¯ <code>&lt;head&gt;</code>, ä¸€ä¸ªæ˜¯ <code>&lt;body&gt;</code>, æˆ‘ä»¬ç­‰ä¼šç”¨ <code>BeautifulSoup</code> æ¥æ‰¾åˆ° body ä¸­çš„æ®µè½ <code>&lt;p&gt;</code> å’Œæ‰€æœ‰é“¾æ¥ <code>&lt;a&gt;</code>.</p>
<p>è¯»å–è¿™ä¸ªç½‘é¡µä¿¡æ¯, æˆ‘ä»¬å°†è¦åŠ è½½è¿› <code>BeautifulSoup</code>, ä»¥ <code>lxml</code> çš„è¿™ç§å½¢å¼åŠ è½½. é™¤äº† <code>lxml</code>, å…¶å®è¿˜æœ‰<a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.zh/#id9" target="_blank" rel="noopener">å¾ˆå¤šå½¢å¼çš„è§£æå™¨</a>, ä¸è¿‡å¤§å®¶éƒ½æ¨èä½¿ç”¨ <code>lxml</code> çš„å½¢å¼. ç„¶å <code>soup</code> é‡Œé¢å°±æœ‰ç€è¿™ä¸ª HTML çš„æ‰€æœ‰ä¿¡æ¯. å¦‚æœä½ è¦è¾“å‡º <code>&lt;h1&gt;</code> æ ‡é¢˜, å¯ä»¥å°±ç›´æ¥ <code>soup.h1</code>.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">soup = BeautifulSoup(html, features=<span class="string">'lxml'</span>)</span><br><span class="line">print(soup.h1)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'\n'</span>, soup.p)</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœç½‘é¡µä¸­æœ‰å¤šä¸ªåŒæ ·çš„ tag, æ¯”å¦‚é“¾æ¥ <code>&lt;a&gt;</code>, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>find_all()</code> æ¥æ‰¾åˆ°æ‰€æœ‰çš„é€‰é¡¹. å› ä¸ºæˆ‘ä»¬çœŸæ­£çš„ link ä¸æ˜¯åœ¨ <code>&lt;a&gt;</code> ä¸­é—´ <code>&lt;/a&gt;</code>, è€Œæ˜¯åœ¨ <code>&lt;a href="link"&gt;</code> é‡Œé¢, ä¹Ÿå¯ä»¥çœ‹åšæ˜¯ <code>&lt;a&gt;</code> çš„ä¸€ä¸ªå±æ€§. æˆ‘ä»¬èƒ½ç”¨åƒ Python å­—å…¸çš„å½¢å¼, ç”¨ key æ¥è¯»å– <code>l["href"]</code>.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">all_href = soup.find_all(<span class="string">'a'</span>)</span><br><span class="line">all_href = [l[<span class="string">'href'</span>] <span class="keyword">for</span> l <span class="keyword">in</span> all_href]</span><br><span class="line">print(<span class="string">'\n'</span>, all_href)</span><br></pre></td></tr></tbody></table></figure>

<p>æ‡‚å¾—è¿™äº›è¿˜æ˜¯è¿œè¿œä¸å¤Ÿçš„, çœŸå®æƒ…å†µå¾€å¾€æ¯”è¿™äº›å¤æ‚. <code>BeautifulSoup</code> è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„é€‰æ‹©å¢å¼ºå™¨. æ¥ä¸‹æ¥, æˆ‘ä»¬æ¥äº†è§£ä¸€äº› CSS çš„æ¦‚å¿µ, ç”¨ <code>BeautifulSoup</code> åŠ ä¸Š CSS æ¥é€‰æ‹©å†…å®¹.</p>
<h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><p>CSS ä¸»è¦ç”¨é€”å°±æ˜¯è£…é¥°ä½  éª¨æ„Ÿ HTML é¡µé¢. å¦‚æœå°† HTML æ¯”å–»æˆæ²¡ç©¿è¡£æœçš„äºº, é‚£ CSS å°±æ˜¯äº”é¢œå…­è‰²çš„è¡£æœ. ç©¿åœ¨äººèº«ä¸Šè®©äººæœ‰äº†æ°”è´¨. CSS çš„è§„åˆ™å¾ˆå¤š, å¥½åœ¨å¦‚æœä½ åªæ˜¯éœ€è¦çˆ¬ç½‘é¡µ, ä½ å¹¶ä¸éœ€è¦å­¦ä¹  CSS çš„è¿™äº›ç”¨æ³•æˆ–è§„åˆ™, (å¦‚æœä½ æƒ³, ä½ å¯ä»¥çœ‹åˆ°<a href="https://www.w3schools.com/css/" target="_blank" rel="noopener">è¿™é‡Œ</a>), ä½ åªéœ€è¦æ³¨æ„ CSS çš„ä¸€æ¡è§„åˆ™å°±èƒ½ç©è½¬çˆ¬è™«äº†.</p>
<h4 id="CSS-çš„-Class"><a href="#CSS-çš„-Class" class="headerlink" title="CSS çš„ Class"></a>CSS çš„ Class</h4><p>è¿™æ¡è§„åˆ™å°±æ˜¯ CSS çš„ Class, CSS åœ¨è£…é¥°æ¯ä¸€ä¸ªç½‘é¡µéƒ¨ä»¶çš„æ—¶å€™, éƒ½ä¼šç»™å®ƒä¸€ä¸ªåå­—. è€Œä¸”ä¸€ä¸ªç±»å‹çš„éƒ¨ä»¶, åå­—éƒ½å¯ä»¥ä¸€æ ·. æ¯”å¦‚æ¯ä¸ªç½‘é¡µ é‡Œé¢çš„å­—ä½“/èƒŒæ™¯é¢œè‰², å­—ä½“å¤§å°, éƒ½æ˜¯ç”± CSS æ¥æŒæ§çš„.</p>
<p>è€Œ CSS çš„ä»£ç , å¯èƒ½å°±ä¼šæ”¾åœ¨è¿™ä¸ªç½‘é¡µçš„ <code>&lt;head&gt;</code> ä¸­. æˆ‘ä»¬å…ˆä½¿ç”¨ Python è¯»å–è¿™ä¸ªé¡µé¢.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"></span><br><span class="line"><span class="comment"># if has Chinese, apply decode()</span></span><br><span class="line">html = urlopen(<span class="string">"URL"</span>).read().decode(<span class="string">'utf-8'</span>)</span><br><span class="line">print(html)</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ <code>&lt;head&gt;</code> ä¸­, ä½ ä¼šå‘ç°æœ‰è¿™æ ·ä¸€äº›ä¸œè¥¿è¢«æ”¾åœ¨ <code>&lt;style&gt;</code> é‡Œé¢, è¿™äº›ä¸œè¥¿éƒ½æ˜¯æŸäº› class çš„ CSS ä»£ç . æ¯”å¦‚ <code>jan</code> å°±æ˜¯ä¸€ä¸ª class. <code>jan</code> è¿™ä¸ªç±»æŒæ§äº†è¿™ä¸ªç±»å‹çš„èƒŒæ™¯é¢œè‰². æ‰€ä»¥åœ¨ <code>&lt;ul class="jan"&gt;</code> è¿™é‡Œ, è¿™ä¸ª ul çš„èƒŒæ™¯é¢œè‰²å°±æ˜¯é»„è‰²çš„. è€Œå¦‚æœæ˜¯ <code>month</code> è¿™ä¸ªç±», å®ƒä»¬çš„å­—ä½“é¢œè‰²å°±æ˜¯çº¢è‰².</p>
<h4 id="æŒ‰-Class-åŒ¹é…"><a href="#æŒ‰-Class-åŒ¹é…" class="headerlink" title="æŒ‰ Class åŒ¹é…"></a>æŒ‰ Class åŒ¹é…</h4><p> Class åŒ¹é…å¾ˆç®€å•. æ¯”å¦‚æˆ‘è¦æ‰¾æ‰€æœ‰ class=month çš„ä¿¡æ¯. å¹¶æ‰“å°å‡ºå®ƒä»¬çš„ tag å†…æ–‡å­—.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">soup = BeautifulSoup(html, features=<span class="string">'lxml'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># use class to narrow search</span></span><br><span class="line">month = soup.find_all(<span class="string">'li'</span>, {<span class="string">"class"</span>: <span class="string">"month"</span>})</span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> month:</span><br><span class="line">    print(m.get_text())</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ–è€…æ‰¾åˆ° class=jan çš„ä¿¡æ¯. ç„¶ååœ¨ <code>&lt;ul&gt;</code> ä¸‹é¢ç»§ç»­æ‰¾ <code>&lt;ul&gt;</code> å†…éƒ¨çš„ <code>&lt;li&gt;</code> ä¿¡æ¯. è¿™æ ·ä¸€å±‚å±‚åµŒå¥—çš„ä¿¡æ¯, éå¸¸å®¹æ˜“æ‰¾åˆ°.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">jan = soup.find(<span class="string">'ul'</span>, {<span class="string">"class"</span>: <span class="string">'jan'</span>})</span><br><span class="line">d_jan = jan.find_all(<span class="string">'li'</span>)              <span class="comment"># use jan as a parent</span></span><br><span class="line"><span class="keyword">for</span> d <span class="keyword">in</span> d_jan:</span><br><span class="line">    print(d.get_text())</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæƒ³è¦æ‰¾åˆ°ä¸€äº›æœ‰ç€ä¸€å®šæ ¼å¼çš„ä¿¡æ¯, æ¯”å¦‚ä½¿ç”¨æ­£åˆ™è¡¨è¾¾æ¥å¯»æ‰¾ç›¸ç±»ä¼¼çš„ä¿¡æ¯, æˆ‘ä»¬åœ¨ BeautifulSoup ä¸­ä¹Ÿèƒ½åµŒå…¥æ­£åˆ™è¡¨è¾¾å¼</p>
<h3 id="åµŒå…¥æ­£åˆ™"><a href="#åµŒå…¥æ­£åˆ™" class="headerlink" title="åµŒå…¥æ­£åˆ™"></a>åµŒå…¥æ­£åˆ™</h3><p>æ¯”å¦‚ä½ æƒ³ä¸‹è½½é¡µé¢çš„å›¾ç‰‡, æˆ‘ä»¬å°±å¯ä»¥å°†å›¾ç‰‡å½¢å¼çš„ url ä¸ªåŒ¹é…å‡ºæ¥. ä¹‹åå†ä¸‹è½½å°±ç®€å•å¤šäº†</p>
<h4 id="æ­£åˆ™åŒ¹é…"><a href="#æ­£åˆ™åŒ¹é…" class="headerlink" title="æ­£åˆ™åŒ¹é…"></a>æ­£åˆ™åŒ¹é…</h4><p>æˆ‘ä»¬å…ˆè¯»å–è¿™ä¸ªç½‘é¡µ. å¯¼å…¥æ­£åˆ™æ¨¡å— <code>re</code>.</p>
<figure class="highlight py"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment"># if has Chinese, apply decode()</span></span><br><span class="line">html = urlopen(<span class="string">"URL"</span>).read().decode(<span class="string">'utf-8'</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæ˜¯å›¾ç‰‡, å®ƒä»¬éƒ½è—åœ¨è¿™æ ·ä¸€ä¸ª tag ä¸­:</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;td&gt;</span><br><span class="line">    &lt;img src=<span class="string">"tf.jpg"</span>&gt;</span><br><span class="line">&lt;/td&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>æ‰€ä»¥, æˆ‘ä»¬å¯ä»¥ç”¨ <code>soup</code> å°†è¿™äº› <code>&lt;img&gt;</code> tag å…¨éƒ¨æ‰¾å‡ºæ¥, ä½†æ˜¯æ¯ä¸€ä¸ª img çš„é“¾æ¥(src)éƒ½å¯èƒ½ä¸åŒ. æˆ–è€…æ¯ä¸€ä¸ªå›¾ç‰‡æœ‰çš„å¯èƒ½æ˜¯ jpg æœ‰çš„æ˜¯ png, å¦‚æœæˆ‘ä»¬åªæƒ³æŒ‘é€‰ jpg å½¢å¼çš„å›¾ç‰‡, æˆ‘ä»¬å°±å¯ä»¥ç”¨è¿™æ ·ä¸€ä¸ªæ­£åˆ™ <code>r'.*?\.jpg'</code> æ¥é€‰å–. æŠŠæ­£åˆ™çš„ compile å½¢å¼æ”¾åˆ° <code>BeautifulSoup</code> çš„åŠŸèƒ½ä¸­, å°±èƒ½é€‰åˆ°ç¬¦åˆè¦æ±‚çš„å›¾ç‰‡é“¾æ¥äº†.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">soup = BeautifulSoup(html, features=<span class="string">'lxml'</span>)</span><br><span class="line"></span><br><span class="line">img_links = soup.find_all(<span class="string">"img"</span>, {<span class="string">"src"</span>: re.compile(<span class="string">'.*?\.jpg'</span>)})</span><br><span class="line"><span class="keyword">for</span> link <span class="keyword">in</span> img_links:</span><br><span class="line">    print(link[<span class="string">'src'</span>])</span><br></pre></td></tr></tbody></table></figure>

<p>åˆæˆ–è€…æˆ‘ä»¬å‘ç°, æˆ‘æƒ³é€‰ä¸€äº›è¯¾ç¨‹çš„é“¾æ¥, è€Œè¿™äº›é“¾æ¥éƒ½æœ‰ç»Ÿä¸€çš„å½¢å¼, å°±æ˜¯å¼€å¤´éƒ½ä¼šæœ‰ <code>https://.</code>, é‚£æˆ‘å°±å°†è¿™ä¸ªå®šä¸ºä¸€ä¸ªæ­£åˆ™çš„è§„åˆ™, è®© BeautifulSoup å¸®æˆ‘æ‰¾åˆ°ç¬¦åˆè¿™ä¸ªè§„åˆ™çš„é“¾æ¥.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">course_links = soup.find_all(<span class="string">'a'</span>, {<span class="string">'href'</span>: re.compile(<span class="string">'/tutorials/.*'</span>)})</span><br><span class="line"><span class="keyword">for</span> link <span class="keyword">in</span> course_links:</span><br><span class="line">    print(link[<span class="string">'href'</span>])</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬æ¥ä¸‹æ¥å°±æ¥åšä¸€ä¸ªå°å®æˆ˜, è®©æˆ‘ä»¬çš„çˆ¬è™«åœ¨ç™¾åº¦ç™¾ç§‘ä¸Šè‡ªç”±çˆ¬è¡Œ, åœ¨å„ä¸ªç™¾ç§‘ç½‘é¡µä¸Šè·³æ¥è·³å»</p>
<h3 id="çˆ¬ç™¾åº¦ç™¾ç§‘"><a href="#çˆ¬ç™¾åº¦ç™¾ç§‘" class="headerlink" title="çˆ¬ç™¾åº¦ç™¾ç§‘"></a>çˆ¬ç™¾åº¦ç™¾ç§‘</h3><blockquote>
<p>çˆ¬ä¸€çˆ¬ç™¾åº¦ç™¾ç§‘, è®©æˆ‘ä»¬çš„çˆ¬è™«ä» ç½‘ç»œçˆ¬è™« è¿™ä¸€é¡µå¼€å§‹çˆ¬, ç„¶ååœ¨é¡µé¢ä¸­å¯»æ‰¾å…¶ä»–é¡µé¢çš„ä¿¡æ¯, ç„¶åçˆ¬å»å…¶ä»–é¡µé¢, ç„¶åå¾ªç¯è¿™ä¹ˆåš, çœ‹çœ‹æœ€åæˆ‘ä»¬çš„çˆ¬è™«åˆ°åº•çˆ¬å»äº†å“ª</p>
</blockquote>
<h4 id="ç™¾åº¦ç™¾ç§‘"><a href="#ç™¾åº¦ç™¾ç§‘" class="headerlink" title="ç™¾åº¦ç™¾ç§‘"></a>ç™¾åº¦ç™¾ç§‘</h4><p>ç™¾åº¦ç™¾ç§‘ä¸­æœ‰å¾ˆå¤šåè¯çš„è§£é‡Šä¿¡æ¯, æˆ‘ä»¬ä»Šå¤©ä» ç½‘é¡µçˆ¬è™« çš„è¯æ¡å¼€å§‹çˆ¬, ç„¶ååœ¨é¡µé¢ä¸­ä»»æ„å¯»æ‰¾ä¸‹ä¸€ä¸ªè¯æ¡, çˆ¬è¿‡å», å†å¯»æ‰¾è¯æ¡, ç»§ç»­çˆ¬. çœ‹çœ‹æœ€åæˆ‘ä»¬çˆ¬åˆ°çš„è¯æ¡å’Œ ç½‘é¡µçˆ¬è™« å·®åˆ«æœ‰å¤šå¤§.</p>
<h4 id="è§‚çœ‹è§„å¾‹"><a href="#è§‚çœ‹è§„å¾‹" class="headerlink" title="è§‚çœ‹è§„å¾‹"></a>è§‚çœ‹è§„å¾‹</h4><p>20+è¡Œä»£ç . ä½†æ˜¯å´èƒ½è®©å®ƒæ¸¸èµ°åœ¨ç™¾åº¦ç™¾ç§‘çš„çŸ¥è¯†çš„æµ·æ´‹ä¸­. é¦–å…ˆæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªèµ·å§‹ç½‘é¡µ, æˆ‘é€‰æ‹©äº† <a href="https://baike.baidu.com/item/ç½‘ç»œçˆ¬è™«/5162711" target="_blank" rel="noopener">ç½‘é¡µçˆ¬è™«</a>. æˆ‘ä»¬å‘ç°, é¡µé¢ä¸­æœ‰ä¸€äº›é“¾æ¥, æŒ‡å‘ç™¾åº¦ç™¾ç§‘ä¸­çš„å¦å¤–ä¸€äº›è¯æ¡, æ¯”å¦‚è¯´ä¸‹é¢è¿™æ ·.</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;a target="_blank" href="/item/%E8%9C%98%E8%9B%9B/8135707" data-lemmaid="8135707"&gt;èœ˜è››&lt;/a&gt;</span><br><span class="line">&lt;a target="_blank" href="/item/%E8%A0%95%E8%99%AB"&gt;è •è™«&lt;/a&gt;</span><br><span class="line">&lt;a target="_blank" href="/item/%E9%80%9A%E7%94%A8%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E"&gt;é€šç”¨æœç´¢å¼•æ“&lt;/a&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡è§‚å¯Ÿ, æˆ‘ä»¬å‘ç°, é“¾æ¥æœ‰äº›å…±é€šä¹‹å¤„. å®ƒä»¬éƒ½æ˜¯ <code>/item/</code> å¼€å¤´, å¤¹æ‚ç€ä¸€äº› <code>%E9</code> è¿™æ ·çš„ä¸œè¥¿. ä½†æ˜¯ä»”ç»†æœç´¢ä¸€ä¸‹, å‘ç°è¿˜æœ‰ä¸€äº›ä»¥ <code>/item/</code> å¼€å¤´çš„, å´ä¸æ˜¯è¯æ¡. æ¯”å¦‚</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;a href="/item/å²è®°Â·2016?fr=navbar" target="_blank"&gt;å²è®°Â·2016&lt;/a&gt;</span><br></pre></td></tr></tbody></table></figure>

<p> æˆ‘ä»¬éœ€è¦å¯¹è¿™äº›é“¾æ¥åšä¸€äº›ç­›é€‰, ä¹‹å‰æåˆ° çš„ç”¨ <code>BeautifulSoup</code> å’Œ æ­£åˆ™è¡¨è¾¾å¼æ¥ç­›é€‰åº”è¯¥ç”¨å¾—ä¸Š. æœ‰äº†äº›æ€è·¯, æˆ‘ä»¬å¼€å§‹å†™ä»£ç å§.</p>
<h4 id="åˆ¶ä½œçˆ¬è™«"><a href="#åˆ¶ä½œçˆ¬è™«" class="headerlink" title="åˆ¶ä½œçˆ¬è™«"></a>åˆ¶ä½œçˆ¬è™«</h4><p>å¯¼å…¥ä¸€äº›æ¨¡å—, è®¾ç½®èµ·å§‹é¡µ. å¹¶å°† <code>/item/...</code> çš„ç½‘é¡µéƒ½æ”¾åœ¨ <code>his</code> ä¸­, åšä¸€ä¸ªå¤‡æ¡ˆ, è®°å½•æˆ‘ä»¬æµè§ˆè¿‡çš„ç½‘é¡µ.</p>
<figure class="highlight py"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">base_url = <span class="string">"https://baike.baidu.com"</span></span><br><span class="line">his = [<span class="string">"/item/%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB/5162711"</span>]</span><br></pre></td></tr></tbody></table></figure>

<p>æ¥ç€æˆ‘ä»¬å…ˆä¸ç”¨å¾ªç¯, å¯¹ä¸€ä¸ªç½‘é¡µè¿›è¡Œå¤„ç†, èµ°ä¸€éæµç¨‹, ç„¶ååŠ ä¸Šå¾ªç¯, è®©æˆ‘ä»¬çš„çˆ¬è™«èƒ½åœ¨å¾ˆå¤šç½‘é¡µä¸­çˆ¬å–. ä¸‹é¢åšçš„äº‹æƒ…, æ˜¯ä¸ºäº†åœ¨å±å¹•ä¸Šæ‰“å°å‡ºæ¥æˆ‘ä»¬ç°åœ¨æ­£åœ¨å“ªå¼ ç½‘é¡µä¸Š, ç½‘é¡µçš„åå­—å«ä»€ä¹ˆ.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">url = base_url + his[<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line">html = urlopen(url).read().decode(<span class="string">'utf-8'</span>)</span><br><span class="line">soup = BeautifulSoup(html, features=<span class="string">'lxml'</span>)</span><br><span class="line">print(soup.find(<span class="string">'h1'</span>).get_text(), <span class="string">'    url: '</span>, his[<span class="number">-1</span>])</span><br></pre></td></tr></tbody></table></figure>

<p>æ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹åœ¨è¿™ä¸ªç½‘é¡µä¸Šæ‰¾æ‰€æœ‰ç¬¦åˆè¦æ±‚çš„ <code>/item/</code> ç½‘å€. ä½¿ç”¨ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼(<a href="https://mofanpy.com/tutorials/python-basic/basic/regular-expression" target="_blank" rel="noopener">æ­£åˆ™æ•™ç¨‹</a>) è¿‡æ»¤æ‰ä¸æƒ³è¦çš„ç½‘å€å½¢å¼. è¿™æ ·æˆ‘ä»¬æ‰¾åˆ°çš„ç½‘å€éƒ½æ˜¯ <code>/item/%xx%xx%xx...</code> è¿™æ ·çš„æ ¼å¼äº†. ä¹‹åæˆ‘ä»¬åœ¨è¿™äº›è¿‡æ»¤åçš„ç½‘é¡µä¸­éšæœºé€‰ä¸€ä¸ª, å½“åšä¸‹ä¸€ä¸ªè¦çˆ¬çš„ç½‘é¡µ. ä¸è¿‡æœ‰æ—¶å€™å¾ˆä¸å¹¸, åœ¨ <code>sub_urls</code> ä¸­å¹¶ä¸èƒ½æ‰¾åˆ°åˆé€‚çš„ç½‘é¡µ, æˆ‘ä»¬å°±å¾€å›è·³ä¸€ä¸ªç½‘é¡µ, å›åˆ°ä¹‹å‰çš„ç½‘é¡µä¸­å†éšæœºæŠ½ä¸€ä¸ªç½‘é¡µåšåŒæ ·çš„äº‹.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># find valid urls</span></span><br><span class="line">sub_urls = soup.find_all(<span class="string">"a"</span>, {<span class="string">"target"</span>: <span class="string">"_blank"</span>, <span class="string">"href"</span>: re.compile(<span class="string">"/item/(%.{2})+$"</span>)})</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> len(sub_urls) != <span class="number">0</span>:</span><br><span class="line">    his.append(random.sample(sub_urls, <span class="number">1</span>)[<span class="number">0</span>][<span class="string">'href'</span>])</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="comment"># no valid sub link found</span></span><br><span class="line">    his.pop()</span><br><span class="line">print(his)</span><br></pre></td></tr></tbody></table></figure>

<p>æœ‰äº†è¿™å¥—ä½“ç³», æˆ‘ä»¬å°±èƒ½æŠŠå®ƒæ”¾åœ¨ä¸€ä¸ª for loop ä¸­, è®©å®ƒåœ¨å„ç§ä¸åŒçš„ç½‘é¡µä¸­è·³æ¥è·³å»</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">his = [<span class="string">"/item/%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB/5162711"</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">20</span>):</span><br><span class="line">    url = base_url + his[<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line">    html = urlopen(url).read().decode(<span class="string">'utf-8'</span>)</span><br><span class="line">    soup = BeautifulSoup(html, features=<span class="string">'lxml'</span>)</span><br><span class="line">    print(i, soup.find(<span class="string">'h1'</span>).get_text(), <span class="string">'    url: '</span>, his[<span class="number">-1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># find valid urls</span></span><br><span class="line">    sub_urls = soup.find_all(<span class="string">"a"</span>, {<span class="string">"target"</span>: <span class="string">"_blank"</span>, <span class="string">"href"</span>: re.compile(<span class="string">"/item/(%.{2})+$"</span>)})</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> len(sub_urls) != <span class="number">0</span>:</span><br><span class="line">        his.append(random.sample(sub_urls, <span class="number">1</span>)[<span class="number">0</span>][<span class="string">'href'</span>])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># no valid sub link found</span></span><br><span class="line">        his.pop()</span><br></pre></td></tr></tbody></table></figure>



<h3 id="requests"><a href="#requests" class="headerlink" title="requests"></a>requests</h3><h4 id="è·å–ç½‘é¡µçš„æ–¹å¼"><a href="#è·å–ç½‘é¡µçš„æ–¹å¼" class="headerlink" title="è·å–ç½‘é¡µçš„æ–¹å¼"></a>è·å–ç½‘é¡µçš„æ–¹å¼</h4><p>å…¶å®åœ¨åŠ è½½ç½‘é¡µçš„æ—¶å€™, æœ‰å‡ ç§ç±»å‹, è€Œè¿™å‡ ç§ç±»å‹å°±æ˜¯ä½ æ‰“å¼€ç½‘é¡µçš„å…³é”®. æœ€é‡è¦çš„ç±»å‹ (method) å°±æ˜¯ <code>get</code> å’Œ <code>post</code> (å½“ç„¶è¿˜æœ‰<a href="https://www.w3schools.com/tags/ref_httpmethods.asp" target="_blank" rel="noopener">å…¶ä»–çš„</a>, æ¯”å¦‚ <code>head</code>, <code>delete</code>). åˆšæ¥è§¦ç½‘é¡µæ„æ¶çš„æœ‹å‹å¯èƒ½åˆä¼šè§‰å¾—æœ‰ç‚¹æ‡µé€¼äº†. è¿™äº›è¯·æ±‚çš„æ–¹å¼åˆ°åº•æœ‰ä»€ä¹ˆä¸åŒ? ä»–ä»¬åˆæœ‰ä»€ä¹ˆä½œç”¨?</p>
<p>æˆ‘ä»¬å°±æ¥è¯´ä¸¤ä¸ªé‡è¦çš„, <code>get</code>, <code>post</code>, 95% çš„æ—¶é—´, ä½ éƒ½æ˜¯åœ¨ä½¿ç”¨è¿™ä¸¤ä¸ªæ¥è¯·æ±‚ä¸€ä¸ªç½‘é¡µ.</p>
<ul>
<li>post<ul>
<li>è´¦å·ç™»å½•</li>
<li>æœç´¢å†…å®¹</li>
<li>ä¸Šä¼ å›¾ç‰‡</li>
<li>ä¸Šä¼ æ–‡ä»¶</li>
<li>å¾€æœåŠ¡å™¨ä¼ æ•°æ® ç­‰</li>
</ul>
</li>
<li>get<ul>
<li>æ­£å¸¸æ‰“å¼€ç½‘é¡µ</li>
<li><strong>ä¸</strong>å¾€æœåŠ¡å™¨ä¼ æ•°æ®</li>
</ul>
</li>
</ul>
<p>è¿™æ ·çœ‹æ¥, å¾ˆå¤šç½‘é¡µä½¿ç”¨ <code>get</code> å°±å¯ä»¥äº†, æ¯”å¦‚ ç™¾åº¦ç™¾ç§‘ é‡Œçš„æ‰€æœ‰é¡µé¢, éƒ½æ˜¯åªæ˜¯ <code>get</code> å‘é€è¯·æ±‚. è€Œ <code>post</code>, æˆ‘ä»¬åˆ™æ˜¯ç»™æœåŠ¡å™¨å‘é€ä¸ªæ€§åŒ–è¯·æ±‚, æ¯”å¦‚å°†ä½ çš„è´¦å·å¯†ç ä¼ ç»™æœåŠ¡å™¨, è®©å®ƒç»™ä½ è¿”å›ä¸€ä¸ªå«æœ‰ä½ ä¸ªäººä¿¡æ¯çš„ HTML.</p>
<p>ä»ä¸»åŠ¨å’Œè¢«åŠ¨çš„è§’åº¦æ¥è¯´, <code>post</code> ä¸­æ–‡æ˜¯<em>å‘é€</em>, æ¯”è¾ƒä¸»åŠ¨, ä½ <strong>æ§åˆ¶</strong>äº†æœåŠ¡å™¨è¿”å›çš„å†…å®¹. è€Œ <code>get</code> ä¸­æ–‡æ˜¯<em>å–å¾—</em>, æ˜¯è¢«åŠ¨çš„, ä½ <strong>æ²¡æœ‰</strong>å‘é€ç»™æœåŠ¡å™¨ä¸ªæ€§åŒ–çš„ä¿¡æ¯, å®ƒ<strong>ä¸ä¼š</strong>æ ¹æ®ä½ ä¸ªæ€§åŒ–çš„ä¿¡æ¯è¿”å›<strong>ä¸ä¸€æ ·</strong>çš„ HTML.</p>
<h4 id="requests-get-è¯·æ±‚"><a href="#requests-get-è¯·æ±‚" class="headerlink" title="requests get è¯·æ±‚"></a>requests get è¯·æ±‚</h4><p>æœ‰äº† requests, æˆ‘ä»¬å¯ä»¥å‘é€ä¸ªä¸­ method çš„è¯·æ±‚. æ¯”å¦‚ <code>get</code>. æˆ‘ä»¬æƒ³æ¨¡æ‹Ÿä¸€ä¸‹ç™¾åº¦çš„æœç´¢. é¦–å…ˆæˆ‘ä»¬éœ€è¦è§‚çœ‹ä¸€ä¸‹ç™¾åº¦æœç´¢çš„è§„å¾‹. åœ¨ç™¾åº¦æœç´¢æ¡†ä¸­å†™ä¸ŠCSDN æˆ‘ä»¬å‘ç°å®ƒå¼¹å‡ºäº†ä¸€ä¸²å¾ˆé•¿é•¿çš„ç½‘å€.</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">https://www.baidu.com/s?word=CSDN&amp;tn=25017023_2_dg&amp;ch=5&amp;ie=utf-8</span><br></pre></td></tr></tbody></table></figure>



<p>ä½†æ˜¯ä»”ç»†ä¸€çœ‹, å’Œ CSDN æœ‰å…³çš„ä¿¡æ¯, åªæœ‰å‰é¢ä¸€å°æ®µ (&amp;word=CSDN), å…¶ä»–çš„å¯¹æˆ‘ä»¬æ¥è¯´éƒ½æ˜¯æ— ç”¨çš„ä¿¡æ¯. æ‰€ä»¥æˆ‘ä»¬ç°åœ¨æ¥å°è¯•ä¸€ä¸‹å¦‚æœçš„æ— ç”¨ url éƒ½å»æ‰ä¼šæ€æ ·? Duang! æˆ‘ä»¬è¿˜æ˜¯èƒ½æœåˆ° CSDN.</p>
<p>æ‰€ä»¥<code>&amp;word=CSDN</code> è¿™å°±æ˜¯æˆ‘ä»¬æœç´¢éœ€è¦çš„å…³é”®ä¿¡æ¯. æˆ‘ä»¬å°±èƒ½ç”¨ <code>get</code> æ¥æ­é…ä¸€äº›è‡ªå®šä¹‰çš„æœç´¢å…³é”®è¯æ¥ç”¨ python ä¸ªæ€§åŒ–æœç´¢. é¦–å…ˆ, æˆ‘ä»¬å›ºå®šä¸åŠ¨çš„ç½‘å€éƒ¨åˆ†æ˜¯ <a href="http://www.baidu.com/s" target="_blank" rel="noopener">http://www.baidu.com/s</a>, <code>?</code> åé¢çš„ä¸œè¥¿éƒ½æ˜¯ä¸€äº›å‚æ•° (parameters), æ‰€ä»¥æˆ‘ä»¬å°†è¿™äº› parameters ç”¨ python çš„å­—å…¸ä»£æ›¿, ç„¶åä¼ å…¥ requests.get() åŠŸèƒ½. ç„¶åæˆ‘ä»¬è¿˜èƒ½ç”¨ python (webbrowseræ¨¡å—) æ‰“å¼€ä¸€ä¸ªä½ çš„é»˜è®¤æµè§ˆå™¨, è§‚çœ‹ä½ æ˜¯å¦åœ¨ç™¾åº¦çš„æœç´¢é¡µé¢.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line">param = {<span class="string">"wd"</span>: <span class="string">"CSDN"</span>}  <span class="comment"># æœç´¢çš„ä¿¡æ¯</span></span><br><span class="line">r = requests.get(<span class="string">'http://www.baidu.com/s'</span>, params=param)</span><br><span class="line">print(r.url)</span><br><span class="line">webbrowser.open(r.url)</span><br><span class="line"></span><br><span class="line"><span class="comment"># http://www.baidu.com/s?wd=%E8%8E%AB%E7%83%A6Python</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="requests-post-è¯·æ±‚"><a href="#requests-post-è¯·æ±‚" class="headerlink" title="requests post è¯·æ±‚"></a>requests post è¯·æ±‚</h4><p><code>post</code> åˆæ€ä¹ˆç”¨å‘¢? æˆ‘ä»¬ä¸¾ä¸ªå°ä¾‹å­, å‡è®¾ æˆ‘ä»¬æœ‰ä¸€ä¸ªæäº¤ä¿¡æ¯çš„çª—å£, å¦‚æœæˆ‘æäº¤ä¸Šå»è¿™ä¸ªä¿¡æ¯, é‚£è¾¹çš„æœåŠ¡å™¨ä¼šæ›´åŠ è¿™ä¸ªæäº¤çš„ä¿¡æ¯è¿”å›å‡ºå¦ä¸€ä¸ªç½‘é¡µ. è¿™å°±æ˜¯ç½‘é¡µæ€ä¹ˆæ ·ä½¿ç”¨ä½  <code>post</code> è¿‡å»çš„ä¿¡æ¯äº†.</p>
<p>æ¯”å¦‚æˆ‘åœ¨ä¸€ä¸ªè¡¨å•å¡«ä¸Šè‡ªå·±çš„å§“å, å½“æˆ‘ç‚¹ submit çš„æ—¶å€™, è¿™ä¸ªå§“å å°±ä¼šè¢«æäº¤ç»™æœåŠ¡å™¨, ç„¶åå®ƒä¼šæ ¹æ®æäº¤çš„å§“åè¿”å›è¿™ä¸ªç½‘é¡µ.</p>
<p>è¿™æ ·å’‹çœ‹èµ·æ¥å¥½åƒå’Œä¸Šé¢è®²çš„ <code>get</code> ç™¾åº¦æœç´¢æ²¡åŒºåˆ«å‘€? éƒ½æ˜¯æäº¤ä¸€äº›ä¿¡æ¯, è¿”å›ä¸€ä¸ªç•Œé¢. ä½†æ˜¯, <strong>é‡ç‚¹æ¥äº†</strong>. ä½ çœ‹çœ‹ç½‘å€æ . ä½  <code>post</code> ä¸Šå»çš„ä¸ªäººä¿¡æ¯, æœ‰æ²¡æœ‰æ˜¾ç¤ºåœ¨ url é‡Œ? ä½ æ„¿æ„å°†ä½ çš„ç§å¯†ä¿¡æ¯æ˜¾ç¤ºåœ¨ url é‡Œå—? ä½  <code>post</code> è¿‡å»çš„ä¿¡æ¯æ˜¯äº¤ç»™æœåŠ¡å™¨å†…éƒ¨å¤„ç†çš„. ä¸æ˜¯ç”¨æ¥æ˜¾ç¤ºåœ¨ç½‘å€ä¸Šçš„.</p>
<p>æ‡‚äº†è¿™äº›, æˆ‘ä»¬å°±æ¥çœ‹ä½¿ç”¨ python å’Œ requests æ€ä¹ˆåš <code>post</code> è¿™ä¸ªæ“ä½œå§.</p>
<p>é¦–å…ˆæˆ‘ä»¬è°ƒå‡ºæµè§ˆå™¨çš„ <code>inspect</code> ç„¶åå‘ç°æˆ‘ä»¬å¡«å…¥å§“åçš„åœ°æ–¹åŸæ¥æ˜¯åœ¨ä¸€ä¸ª <code>&lt;form&gt;</code> é‡Œé¢.</p>
<p>è¿™ä¸ª <code>&lt;form&gt;</code> é‡Œé¢æœ‰ä¸€äº› <code>&lt;input&gt;</code> ä¸ª tag, æˆ‘ä»¬ä»”ç»†çœ‹åˆ° <code>&lt;input&gt;</code> é‡Œé¢çš„è¿™ä¸ªå€¼ <code>name="firstname"</code> å’Œ <code>name="lastname"</code>, è¿™ä¸¤ä¸ªå°±æ˜¯æˆ‘ä»¬è¦ <code>post</code> æäº¤ä¸Šå»çš„å…³é”®ä¿¡æ¯äº†. æˆ‘ä»¬å¡«å¥½å§“å, ä¸ºäº†è®°å½•ç‚¹å‡» submit å, æµè§ˆå™¨ç©¶ç«Ÿå‘ç”Ÿäº†ä»€ä¹ˆç¿»å¤©è¦†åœ°çš„å˜åŒ–, æˆ‘ä»¬åœ¨ <code>inspect</code> çª—å£, é€‰æ‹© <code>Network</code>, å‹¾é€‰ <code>Preserve log</code>, å†ç‚¹å‡» submit, ä½ å°±èƒ½çœ‹åˆ°æœåŠ¡å™¨è¿”å›ç»™ä½ å®šåˆ¶åŒ–åçš„é¡µé¢æ—¶, ä½ ä½¿ç”¨çš„æ–¹æ³•å’Œæ•°æ®.</p>
<p>è¿™äº›æ•°æ®åŒ…æ‹¬äº†:</p>
<ul>
<li>Request URL (post è¦ç”¨çš„ URL)</li>
<li>Request Method (post)</li>
<li>Form Data (post å»çš„ä¿¡æ¯)</li>
</ul>
<p>æœ‰äº†è¿™äº›è®°å½•, æˆ‘ä»¬å°±èƒ½å¼€å§‹å†™ Python æ¥æ¨¡æ‹Ÿè¿™ä¸€æ¬¡æäº¤ post äº†. </p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">data = {<span class="string">'firstname'</span>: <span class="string">'xx'</span>, <span class="string">'lastname'</span>: <span class="string">'xx'</span>}</span><br><span class="line">r = requests.post(<span class="string">'url'</span>, data=data)</span><br><span class="line">print(r.text)</span><br></pre></td></tr></tbody></table></figure>

<h4 id="ä¸Šä¼ å›¾ç‰‡"><a href="#ä¸Šä¼ å›¾ç‰‡" class="headerlink" title="ä¸Šä¼ å›¾ç‰‡"></a>ä¸Šä¼ å›¾ç‰‡</h4><p>ä¼ ç…§ç‰‡ä¹Ÿæ˜¯ <code>post</code> çš„ä¸€ç§, æˆ‘ä»¬å¾—å°†æœ¬åœ°çš„ç…§ç‰‡æ–‡ä»¶ä¼ é€åˆ°æœåŠ¡å™¨. æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ª<a href="http://pythonscraping.com/files/form2.html" target="_blank" rel="noopener">ç½‘é¡µ</a>æ¥æ¨¡æ‹Ÿä¸€æ¬¡ä¼ ç…§ç‰‡çš„è¿‡ç¨‹</p>
<p>å¦‚æœä½ ç•™æ„è§‚å¯Ÿ url, ä½ ä¼šå‘ç°, ä¼ é€å®Œç…§ç‰‡ä»¥åçš„ url æœ‰å˜åŠ¨. æˆ‘ä»¬ä½¿ç”¨åŒæ ·çš„æ­¥éª¤å†æ¬¡æ£€æŸ¥, å‘ç°, choose file æŒ‰é”®é“¾æ¥çš„ <code>&lt;input&gt;</code> æ˜¯ä¸€ä¸ªå« <code>uploadFile</code> çš„åå­—. æˆ‘ä»¬å°†è¿™ä¸ªåå­—è®°ä¸‹, æ”¾å…¥ python çš„å­—å…¸å½“ä¸€ä¸ª key.</p>
<p>æ¥ç€åœ¨å­—å…¸ä¸­, ä½¿ç”¨ open æ‰“å¼€ä¸€ä¸ªå›¾ç‰‡æ–‡ä»¶, å½“åšè¦ä¸Šä¼ çš„æ–‡ä»¶. æŠŠè¿™ä¸ªå­—å…¸æ”¾å…¥ä½ çš„ <code>post</code> é‡Œé¢çš„ <code>files</code> å‚æ•°. å°±èƒ½ä¸Šä¼ ä½ çš„å›¾ç‰‡äº†, ç½‘é¡µä¼šè¿”å›ä¸€ä¸ªé¡µé¢, å°†ä½ çš„å›¾ç‰‡åæ˜¾ç¤ºåœ¨ä¸Šé¢.</p>
<figure class="highlight py"><table><tbody><tr><td class="code"><pre><span class="line">file = {<span class="string">'uploadFile'</span>: open(<span class="string">'./image.png'</span>, <span class="string">'rb'</span>)}</span><br><span class="line">r = requests.post(<span class="string">'url'</span>, files=file)</span><br><span class="line">print(r.text)</span><br></pre></td></tr></tbody></table></figure>

<h4 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h4><p>ç”¨ <code>post</code> è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„, å°±æ˜¯æ¨¡æ‹Ÿç™»å½•. å†ç™»å½•çš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆäº‹æƒ…å‘¢? </p>
<p>æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹, ç™»å½•è´¦å·, æˆ‘ä»¬çš„æµè§ˆå™¨åšäº†ä»€ä¹ˆ.</p>
<ol>
<li>ä½¿ç”¨ post æ–¹æ³•ç™»å½•äº†ç¬¬ä¸€ä¸ªçº¢æ¡†çš„ url</li>
<li>post çš„æ—¶å€™, ä½¿ç”¨äº† Form data ä¸­çš„ç”¨æˆ·åå’Œå¯†ç </li>
<li><strong>ç”Ÿæˆäº†ä¸€äº› cookies</strong></li>
</ol>
<p>ç¬¬ä¸‰ç‚¹æˆ‘ä»¬æ˜¯ä»æ¥æ²¡æœ‰æåˆ°è¿‡çš„. cookie, å¬èµ·æ¥å¾ˆç†Ÿå‘€! æ¯å½“æ¸¸è§ˆå™¨å‡ºç°é—®é¢˜çš„æ—¶å€™, ç½‘ä¸Šçš„è§£å†³æ–¹æ³•æ˜¯ä¸æ˜¯éƒ½æœ‰ä»€ä¹ˆæ¸…é™¤ cookie ä¹‹ç±»çš„, é‚£ cookie å®é™…ä¸Šæ˜¯ä»€ä¹ˆå‘¢? <a href="https://baike.baidu.com/item/cookie/1119?fr=aladdin" target="_blank" rel="noopener">è¿™é‡Œ</a>ç»™å‡ºäº†å’Œå…¨é¢çš„ä»‹ç».</p>
<p>ç®€å•æ¥è¯´, å› ä¸ºæ‰“å¼€ç½‘é¡µæ—¶, æ¯ä¸€ä¸ªé¡µé¢éƒ½æ˜¯ä¸è¿ç»­çš„, æ²¡æœ‰å…³è”çš„, cookies å°±æ˜¯ç”¨æ¥è¡”æ¥ä¸€ä¸ªé¡µé¢å’Œå¦ä¸€ä¸ªé¡µé¢çš„å…³ç³». æ¯”å¦‚è¯´å½“æˆ‘ç™»å½•ä»¥å, æµè§ˆå™¨ä¸ºäº†ä¿å­˜æˆ‘çš„ç™»å½•ä¿¡æ¯, å°†è¿™äº›ä¿¡æ¯å­˜æ”¾åœ¨äº† cookie ä¸­. ç„¶åæˆ‘è®¿é—®ç¬¬äºŒä¸ªé¡µé¢çš„æ—¶å€™, ä¿å­˜çš„ cookie è¢«è°ƒç”¨, æœåŠ¡å™¨çŸ¥é“æˆ‘ä¹‹å‰åšäº†ä»€ä¹ˆ, æµè§ˆäº†äº›ä»€ä¹ˆ. åƒä½ åœ¨ç½‘ä¸Šçœ‹åˆ°çš„å¹¿å‘Š, ä¸ºä»€ä¹ˆéƒ½å¯èƒ½æ˜¯ä½ æ„Ÿå…´è¶£çš„å•†å“? ä½ ç™»å½•æ·˜å®, ç»™ä½ æ¨èçš„ä¸ºä»€ä¹ˆéƒ½å’Œä½ ä¹°è¿‡çš„ç±»ä¼¼? éƒ½æ˜¯ cookies çš„åŠŸåŠ³, è®©æœåŠ¡å™¨çŸ¥é“ä½ çš„ä¸ªæ€§åŒ–éœ€æ±‚.</p>
<p>æ‰€ä»¥å¤§éƒ¨åˆ†æ—¶å€™, æ¯æ¬¡ä½ ç™»å½•, ä½ å°±ä¼šæœ‰ä¸€ä¸ª cookies, é‡Œé¢ä¼šæåˆ°ä½ å·²ç»æ˜¯ç™»å½•çŠ¶æ€äº†. æ‰€ä»¥ cookie åœ¨è¿™æ—¶å€™å¾ˆé‡è¦. cookies çš„ä¼ é€’ä¹Ÿç‰¹åˆ«é‡è¦, æ¯”å¦‚æˆ‘ç”¨ <code>requests.post</code> + <code>payload</code> çš„ç”¨æˆ·ä¿¡æ¯å‘ç»™ç½‘é¡µ, è¿”å›çš„ <code>r</code> é‡Œé¢ä¼šæœ‰ç”Ÿæˆçš„ cookies ä¿¡æ¯. æ¥ç€æˆ‘è¯·æ±‚å»ç™»å½•åçš„é¡µé¢æ—¶, ä½¿ç”¨ <code>request.get</code>, å¹¶å°†ä¹‹å‰çš„ cookies ä¼ å…¥åˆ° get è¯·æ±‚. è¿™æ ·å°±èƒ½å·²ç™»å½•çš„åä¹‰è®¿é—® get çš„é¡µé¢äº†.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">payload = {<span class="string">'username'</span>: <span class="string">'Morvan'</span>, <span class="string">'password'</span>: <span class="string">'password'</span>}</span><br><span class="line">r = requests.post(<span class="string">'/pages/cookies/welcome.php'</span>, data=payload)</span><br><span class="line">print(r.cookies.get_dict())</span><br><span class="line"></span><br><span class="line"><span class="comment"># {'username': 'Morvan', 'loggedin': '1'}</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">r = requests.get(<span class="string">'/pages/cookies/profile.php'</span>, cookies=r.cookies)</span><br><span class="line">print(r.text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hey Morvan! Looks like you're still logged into the site!</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="ä½¿ç”¨-Session-ç™»å½•"><a href="#ä½¿ç”¨-Session-ç™»å½•" class="headerlink" title="ä½¿ç”¨ Session ç™»å½•"></a>ä½¿ç”¨ Session ç™»å½•</h4><p>ä¸è¿‡æ¯æ¬¡éƒ½è¦ä¼ é€’ cookies æ˜¯å¾ˆéº»çƒ¦çš„, å¥½åœ¨ requests æœ‰ä¸ªå¾ˆ handy çš„åŠŸèƒ½, é‚£å°±æ˜¯ Session. åœ¨ä¸€æ¬¡ä¼šè¯ä¸­, æˆ‘ä»¬çš„ cookies ä¿¡æ¯éƒ½æ˜¯ç›¸è¿é€šçš„, å®ƒè‡ªåŠ¨å¸®æˆ‘ä»¬ä¼ é€’è¿™äº› cookies ä¿¡æ¯.</p>
<p>åŒæ ·æ˜¯æ‰§è¡Œä¸Šé¢çš„ç™»å½•æ“ä½œ, ä¸‹é¢å°±æ˜¯ä½¿ç”¨ session çš„ç‰ˆæœ¬. åˆ›å»ºå®Œä¸€ä¸ª session è¿‡å, æˆ‘ä»¬ç›´æ¥åªç”¨ session æ¥ <code>post</code> å’Œ <code>get</code>. è€Œä¸”è¿™æ¬¡ <code>get</code> çš„æ—¶å€™, æˆ‘ä»¬å¹¶æ²¡æœ‰ä¼ å…¥ cookies. ä½†æ˜¯å®é™…ä¸Š session å†…éƒ¨å°±å·²ç»æœ‰äº†ä¹‹å‰çš„ cookies äº†.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">session = requests.Session()</span><br><span class="line">payload = {<span class="string">'username'</span>: <span class="string">'Morvan'</span>, <span class="string">'password'</span>: <span class="string">'password'</span>}</span><br><span class="line">r = session.post(<span class="string">'/pages/cookies/welcome.php'</span>, data=payload)</span><br><span class="line">print(r.cookies.get_dict())</span><br><span class="line"></span><br><span class="line"><span class="comment"># {'username': 'Morvan', 'loggedin': '1'}</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">r = session.get(<span class="string">"http://pythonscraping.com/pages/cookies/profile.php"</span>)</span><br><span class="line">print(r.text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hey Morvan! Looks like you're still logged into the site!</span></span><br></pre></td></tr></tbody></table></figure>

<p>è¿™å°±æ˜¯æˆ‘ä»¬è¿™æ¬¡çš„æ•™å­¦, æƒ³äº†è§£æ›´å¤š requests ä½¿ç”¨çš„æœ‹å‹çœ‹åˆ°<a href="http://docs.python-requests.org/en/master/" target="_blank" rel="noopener">è¿™é‡Œ</a>.</p>
<h3 id="ä¸‹è½½æ–‡ä»¶"><a href="#ä¸‹è½½æ–‡ä»¶" class="headerlink" title="ä¸‹è½½æ–‡ä»¶"></a>ä¸‹è½½æ–‡ä»¶</h3><h4 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h4><p>åœ¨ä¸‹è½½ä¹‹å‰, æˆ‘ä»¬çš„å¼„æ¸…æ¥šæ€ä¹ˆæ ·ä¸‹è½½. æƒ³ä¸‹ä¸€å¼ å›¾, æˆ‘ä»¬é¦–å…ˆè¦åˆ°è¿™å¼ å›¾æ‰€åœ¨çš„ç½‘é¡µ. åœ¨è¿™ä¸ªç½‘é¡µä¸­æ‰¾åˆ°è¿™å¼ å›¾çš„ä½ç½®, å¹¶å³é”® <code>inspect</code>, æ‰¾åˆ°å®ƒåœ¨ HTML ä¸­çš„ä¿¡æ¯.</p>
<p>å‘ç°åŸå›¾è¢«å­˜æ”¾åœ¨è¿™ä¸ªç½‘é¡µ, æ³¨æ„è¿™ä¸ªåœ°å€å¼€å¤´æ˜¯ <code>/</code>, å¹¶ä¸æ˜¯å®Œæ•´çš„ç½‘å€, è¿™ç§å½¢å¼ä»£è¡¨ç€, å®ƒæ˜¯åœ¨ä¸»åŸŸåä¸‹é¢çš„ç½‘å€. æ‰€ä»¥æˆ‘ä»¬è¿˜è¦å°†å…¶è¡¥å…¨, æ‰èƒ½åœ¨ç½‘å€æ ä¸­æ‰¾åˆ°è¿™ä¸ªå›¾ç‰‡åœ°å€.</p>
<p>æ‰¾åˆ°äº†è¿™ä¸ªç½‘å€, æˆ‘ä»¬å°±èƒ½å¼€å§‹ä¸‹è½½äº†. ä¸ºäº†ä¸‹è½½åˆ°ä¸€ä¸ªç‰¹å®šçš„æ–‡ä»¶å¤¹, æˆ‘ä»¬å…ˆå»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹å§. å¹¶ä¸”è§„å®šè¿™ä¸ªå›¾ç‰‡ä¸‹è½½åœ°å€.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.makedirs(<span class="string">'./img/'</span>, exist_ok=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">IMAGE_URL = <span class="string">"url"</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="ä½¿ç”¨-urlretrieve"><a href="#ä½¿ç”¨-urlretrieve" class="headerlink" title="ä½¿ç”¨ urlretrieve"></a>ä½¿ç”¨ urlretrieve</h4><p>åœ¨ urllib æ¨¡å—ä¸­, æä¾›äº†æˆ‘ä»¬ä¸€ä¸ªä¸‹è½½åŠŸèƒ½ urlretrieve. ä½¿ç”¨èµ·æ¥å¾ˆç®€å•. è¾“å…¥ä¸‹è½½åœ°å€ <code>IMAGE_URL</code> å’Œè¦å­˜æ”¾çš„ä½ç½®. å›¾ç‰‡å°±ä¼šè¢«è‡ªåŠ¨ä¸‹è½½è¿‡å»äº†.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlretrieve</span><br><span class="line">urlretrieve(IMAGE_URL, <span class="string">'./img/image1.png'</span>)</span><br></pre></td></tr></tbody></table></figure>

<h4 id="ä½¿ç”¨-request"><a href="#ä½¿ç”¨-request" class="headerlink" title="ä½¿ç”¨ request"></a>ä½¿ç”¨ request</h4><p>è€Œåœ¨ requestsæ¨¡å—, ä¹Ÿèƒ½æ‹¿æ¥ä¸‹ä¸œè¥¿. ä¸‹é¢çš„ä»£ç å®ç°äº†å’Œä¸Šé¢ä¸€æ ·çš„åŠŸèƒ½, ä½†æ˜¯ç¨å¾®é•¿äº†ç‚¹. ä½†æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦æåˆ° requests çš„ä¸‹è½½å‘¢? å› ä¸ºä½¿ç”¨å®ƒçš„å¦ä¸€ç§æ–¹æ³•, æˆ‘ä»¬å¯ä»¥æ›´åŠ æœ‰æ•ˆç‡çš„ä¸‹è½½å¤§æ–‡ä»¶.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">r = requests.get(IMAGE_URL)</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'./img/image2.png'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(r.content)</span><br></pre></td></tr></tbody></table></figure>

<p>æ‰€ä»¥è¯´, å¦‚æœä½ è¦ä¸‹è½½çš„æ˜¯å¤§æ–‡ä»¶, æ¯”å¦‚è§†é¢‘ç­‰. requests èƒ½è®©ä½ ä¸‹ä¸€ç‚¹, ä¿å­˜ä¸€ç‚¹, è€Œä¸æ˜¯è¦å…¨éƒ¨ä¸‹è½½å®Œæ‰èƒ½ä¿å­˜å»å¦å¤–çš„åœ°æ–¹. è¿™å°±æ˜¯ä¸€ä¸ª chunk ä¸€ä¸ª chunk çš„ä¸‹è½½. ä½¿ç”¨ <code>r.iter_content(chunk_size)</code> æ¥æ§åˆ¶æ¯ä¸ª chunk çš„å¤§å°, ç„¶ååœ¨æ–‡ä»¶ä¸­å†™å…¥è¿™ä¸ª chunk å¤§å°çš„æ•°æ®.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">r = requests.get(IMAGE_URL, stream=<span class="literal">True</span>)    <span class="comment"># stream loading</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'./img/image3.png'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> chunk <span class="keyword">in</span> r.iter_content(chunk_size=<span class="number">32</span>):</span><br><span class="line">        f.write(chunk)</span><br></pre></td></tr></tbody></table></figure>

<p>æœ‰äº†è¿™äº›çŸ¥è¯†çš„ç§¯ç´¯, æˆ‘ä»¬å°±èƒ½å¼€å§‹åšä¸€ä¸ªå°çš„å®æˆ˜ç»ƒä¹ </p>
<h3 id="ä¸‹è½½ç¾å›½åœ°å›¾"><a href="#ä¸‹è½½ç¾å›½åœ°å›¾" class="headerlink" title="ä¸‹è½½ç¾å›½åœ°å›¾"></a>ä¸‹è½½ç¾å›½åœ°å›¾</h3><h4 id="æ‰¾åˆ°å›¾ç‰‡ä½ç½®"><a href="#æ‰¾åˆ°å›¾ç‰‡ä½ç½®" class="headerlink" title="æ‰¾åˆ°å›¾ç‰‡ä½ç½®"></a>æ‰¾åˆ°å›¾ç‰‡ä½ç½®</h4><p>è¯´ç™½äº†, æ¯æ¬¡çš„çˆ¬è™«, éƒ½æ˜¯å…ˆåˆ†æä¸€ä¸‹è¿™ä¸ªç½‘é¡µè¦æ‰¾çš„ä¸œè¥¿çš„ä½ç½®, ç„¶åæ€ä¹ˆç´¢å¼•ä¸Šè¿™ä¸ªä½ç½®, æœ€åç”¨ python æ‰¾åˆ°å®ƒ. è¿™æ¬¡ä¹Ÿæ˜¯è¿™ä¸ªé€»è¾‘. æˆ‘ä»¬çœ‹çœ‹ä»Šå¤©è¦çˆ¬çš„è¿™ä¸ªå›¾ç‰‡<a href="https://i.natgeofe.com/n/fb700cc3-3cdb-48cc-a2bd-1ba9ed6a2c72/NGM-10439-1080x805.jpg?w=960" target="_blank" rel="noopener">ç½‘å€</a>. å®šä½åˆ°æœ€æ–°å›¾ç‰‡çš„ä½ç½®,</p>
<p>æ‰¾åˆ°è¿™å¼ å›¾ç‰‡çš„æ‰€åœ¨ä½ç½®, å¯¹æ¯”è¿™ç±»å‹çš„å›¾ç‰‡, æ‰¾åˆ°ä¸€ç§æ‰‹æ®µæ¥ç­›é€‰è¿™äº›å›¾ç‰‡. è€Œå›¾ç‰‡åœ°å€éƒ½æ˜¯åœ¨ <code>&lt;img&gt;</code> ä¸­.ç°åœ¨æˆ‘ä»¬æœ‰äº†æ€è·¯, å…ˆæ‰¾å¸¦æœ‰ <code>Image__Wrapper Image__Wrapper--relative</code> çš„è¿™ç§ <code>&lt;div&gt;</code>, ç„¶ååœ¨ <code>&lt;div&gt;</code> é‡Œé¢æ‰¾ <code>&lt;img&gt;</code>.</p>
<h4 id="ä¸‹è½½å›¾ç‰‡"><a href="#ä¸‹è½½å›¾ç‰‡" class="headerlink" title="ä¸‹è½½å›¾ç‰‡"></a>ä¸‹è½½å›¾ç‰‡</h4><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">URL = <span class="string">"https://www.nationalgeographic.com/travel/article/ethical-souvenirs-crafts-shop-australia-india/"</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç”¨ BeautifulSoup æ‰¾åˆ°å¸¦æœ‰ <code>Image__Wrapper Image__Wrapper--relative</code> çš„è¿™ç§ <code>&lt;div&gt;</code>,</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">html = requests.get(URL).text</span><br><span class="line">soup = BeautifulSoup(html, <span class="string">'lxml'</span>)</span><br><span class="line">img_ul = soup.find_all(<span class="string">'div'</span>, {<span class="string">"class"</span>: <span class="string">"Image__Wrapper Image__Wrapper--relative"</span>})</span><br></pre></td></tr></tbody></table></figure>

<p>ä» divä¸­æ‰¾åˆ°æ‰€æœ‰çš„ <code>&lt;img&gt;</code>, ç„¶åæå– <code>&lt;img&gt;</code> çš„ <code>src</code> å±æ€§, é‡Œé¢çš„å°±æ˜¯å›¾ç‰‡çš„ç½‘å€å•¦. æ¥ç€, å°±ç”¨ä¹‹å‰åœ¨ requests ä¸‹è½½é‡Œæåˆ°çš„ä¸€æ®µæ®µä¸‹è½½.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> ul <span class="keyword">in</span> img_ul:</span><br><span class="line">    imgs = ul.find_all(<span class="string">'img'</span>)</span><br><span class="line">    <span class="keyword">for</span> img <span class="keyword">in</span> imgs:</span><br><span class="line">        url = img[<span class="string">'src'</span>]</span><br><span class="line">        r = requests.get(url, stream=<span class="literal">True</span>)</span><br><span class="line">        image_name = url.split(<span class="string">'/'</span>)[<span class="number">-1</span>]</span><br><span class="line">        <span class="keyword">with</span> open(<span class="string">'./img/%s'</span> % image_name, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">for</span> chunk <span class="keyword">in</span> r.iter_content(chunk_size=<span class="number">128</span>):</span><br><span class="line">                f.write(chunk)</span><br><span class="line">        print(<span class="string">'Saved %s'</span> % image_name)</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœä½ åªæ˜¯å¶å°”çˆ¬ä¸€çˆ¬ç½‘é¡µ, å­¦åˆ°ç›®å‰ä¸ºæ­¢, ä½ å·²ç»å…¥é—¨äº†, ä½†æ˜¯å¦‚æœä½ æƒ³è¦ç»§ç»­æ·±å…¥, ä½ å¼€å§‹å¯¹çˆ¬è™«çš„æ•ˆç‡æ‹…å¿§, è§‰å¾—è‡ªå·±çˆ¬å¾—å¤ªæ…¢, æƒ³è¦å¤§è§„æ¨¡çˆ¬å–ç½‘é¡µ, é‚£ä¹ˆæ¥ä¸‹æ¥çš„å†…å®¹å°±å†é€‚åˆä½ ä¸è¿‡äº†. æ¥ä¸‹æ¥æˆ‘ä»¬å°±ä¼šæåˆ°çˆ¬è™«çš„ææ•ˆæ–¹æ³•. è€Œä¸”ç°åœ¨æˆ‘ä»¬çˆ¬å–çš„éƒ½æ˜¯é™æ€ç½‘é¡µ , å¦‚æœä½ é‡åˆ° JavaScript å¾ˆå¤šçš„åŠ¨æ€åŠ è½½ç½‘é¡µ (æ·˜å®ç­‰), å°±éœ€è¦selenium .</p>
<h3 id="åŠ é€Ÿçˆ¬è™«ï¼šå¤šè¿›ç¨‹åˆ†å¸ƒå¼"><a href="#åŠ é€Ÿçˆ¬è™«ï¼šå¤šè¿›ç¨‹åˆ†å¸ƒå¼" class="headerlink" title="åŠ é€Ÿçˆ¬è™«ï¼šå¤šè¿›ç¨‹åˆ†å¸ƒå¼"></a>åŠ é€Ÿçˆ¬è™«ï¼šå¤šè¿›ç¨‹åˆ†å¸ƒå¼</h3><h4 id="ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼çˆ¬è™«"><a href="#ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼çˆ¬è™«" class="headerlink" title="ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼çˆ¬è™«"></a>ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼çˆ¬è™«</h4><p>åˆ†å¸ƒå¼çˆ¬è™«ä¸»è¦æ˜¯ä¸ºäº†éå¸¸æœ‰æ•ˆç‡çš„æŠ“å–ç½‘é¡µ, æˆ‘ä»¬çš„ç¨‹åºä¸€èˆ¬æ˜¯å•çº¿ç¨‹è·‘çš„, æŒ‡ä»¤ä¹Ÿæ˜¯ä¸€æ¡æ¡å¤„ç†çš„, æ¯æ‰§è¡Œå®Œä¸€æ¡æŒ‡ä»¤æ‰èƒ½è·³åˆ°ä¸‹ä¸€æ¡. é‚£ä¹ˆåœ¨çˆ¬è™«çš„ä¸–ç•Œé‡Œ, è¿™é‡Œå­˜åœ¨ç€ä¸€ä¸ªé—®é¢˜.</p>
<p>å¦‚æœä½ å·²ç»é¡ºåˆ©åœ°æ‰§è¡Œè¿‡äº†å‰å‡ èŠ‚çš„çˆ¬è™«ä»£ç , ä½ ä¼šå‘ç°, æœ‰æ—¶å€™ä»£ç è¿è¡Œçš„æ—¶é—´å¤§éƒ¨åˆ†éƒ½èŠ±åœ¨äº†ä¸‹è½½ç½‘é¡µä¸Š. æœ‰æ—¶å€™ä¸åˆ°ä¸€ç§’èƒ½ä¸‹è½½å¥½ä¸€å¼ ç½‘é¡µçš„ HTML, æœ‰æ—¶å€™å´è¦å‡ åç§’. è€Œä¸”éè¦ç­‰åˆ° HTML ä¸‹è½½å¥½äº†ä»¥å, æ‰èƒ½æ‰§è¡Œç½‘é¡µåˆ†æç­‰æ­¥éª¤. è¿™éå¸¸æµªè´¹æ—¶é—´.</p>
<p>å¦‚æœæˆ‘ä»¬èƒ½åˆç†åˆ©ç”¨è®¡ç®—èµ„æº, åœ¨ä¸‹è½½ä¸€éƒ¨åˆ†ç½‘é¡µçš„æ—¶å€™å°±å·²ç»å¼€å§‹åˆ†æå¦ä¸€éƒ¨åˆ†ç½‘é¡µäº†. è¿™å°†ä¼šå¤§å¤§èŠ‚çœæ•´ä¸ªç¨‹åºçš„è¿è¡Œæ—¶é—´. åˆæˆ–è€…, æˆ‘ä»¬èƒ½åŒæ—¶ä¸‹è½½å¤šä¸ªç½‘é¡µ, åŒæ—¶åˆ†æå¤šä¸ªç½‘é¡µ, è¿™æ ·å°±æœ‰ç§äº‹å€åŠŸåŠçš„æ•ˆç”¨. åˆ†å¸ƒå¼çˆ¬è™«çš„ä½“ç³»æœ‰å¾ˆå¤šç§, å¤„ç†ä¼˜åŒ–çš„é—®é¢˜ä¹Ÿæ˜¯å¤šæ ·çš„. è¿™é‡Œæœ‰<a href="http://bittiger.blogspot.com.au/2016/02/blog-post_3.html" target="_blank" rel="noopener">ä¸€ç¯‡åšå®¢</a>å¯ä»¥å½“åšæ‰©å±•é˜…è¯», æ¥äº†è§£å½“ä»Šæ¯”è¾ƒæµè¡Œçš„åˆ†å¸ƒå¼çˆ¬è™«æ¡†æ¶.</p>
<h4 id="æˆ‘ä»¬çš„åˆ†å¸ƒå¼çˆ¬è™«"><a href="#æˆ‘ä»¬çš„åˆ†å¸ƒå¼çˆ¬è™«" class="headerlink" title="æˆ‘ä»¬çš„åˆ†å¸ƒå¼çˆ¬è™«"></a>æˆ‘ä»¬çš„åˆ†å¸ƒå¼çˆ¬è™«</h4><p>è€Œä»Šå¤©æˆ‘ä»¬æƒ³æ­å»ºçš„è¿™ä¸€ä¸ªçˆ¬è™«, å°±æ˜¯åŒæ—¶ä¸‹è½½, åŒæ—¶åˆ†æçš„è¿™ä¸€ç§ç±»å‹çš„åˆ†å¸ƒå¼çˆ¬è™«. è™½ç„¶ç®—ä¸ä¸Šç‰¹åˆ«ä¼˜åŒ–çš„æ¡†æ¶, ä½†æ˜¯æ¦‚å¿µç†è§£èµ·æ¥æ¯”è¾ƒå®¹æ˜“. æˆ‘æœ‰å°è¯•è¿‡å¾’æ‰‹å†™é«˜çº§ä¸€ç‚¹çš„åˆ†å¸ƒå¼çˆ¬è™«, ä½†æ˜¯å†™èµ·æ¥éå¸¸éº»çƒ¦. æˆ‘ç¢ç£¨äº†ä¸€ä¸‹, æ‰“ç®—ç»™å¤§å®¶ä»‹ç»çš„è¿™ç§åˆ†å¸ƒå¼çˆ¬è™«ä»£ç ä¹Ÿè¾ƒå¥½å†™, è€Œä¸”æ•ˆç‡æ¯”æ™®é€šçˆ¬è™«å¿«äº†3.5å€. </p>
<p>ä¸»è¦æ¥è¯´, æˆ‘ä»¬æœ€å¼€å§‹æœ‰ä¸€ä¸ªç½‘é¡µ, ç„¶åé¦–é¡µä¸­æœ‰å¾ˆå¤š url, æˆ‘ä»¬ä½¿ç”¨å¤šè¿›ç¨‹ åŒæ—¶å¼€å§‹ä¸‹è½½è¿™äº› url, å¾—åˆ°è¿™äº› url çš„ HTML ä»¥å, åŒæ—¶å¼€å§‹è§£æ (æ¯”å¦‚ BeautifulSoup) ç½‘é¡µå†…å®¹. åœ¨ç½‘é¡µä¸­å¯»æ‰¾è¿™ä¸ªç½‘ç«™è¿˜æ²¡æœ‰çˆ¬è¿‡çš„é“¾æ¥. æœ€ç»ˆçˆ¬å®Œæ•´ä¸ª ç½‘ç«™æ‰€æœ‰é¡µé¢.</p>
<p>æœ‰äº†è¿™ç§æ€è·¯, æˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å†™ä»£ç äº†. ä½ å¯ä»¥åœ¨<a href="https://github.com/MorvanZhou/easy-scraping-tutorial/blob/master/notebook/4-1-distributed-scraping.ipynb" target="_blank" rel="noopener">æˆ‘çš„ Github</a> ä¸€æ¬¡æ€§è§‚çœ‹å…¨éƒ¨ä»£ç .</p>
<p>é¦–å…ˆ import å…¨éƒ¨è¦ç”¨çš„æ¨¡å—, å¹¶è§„å®šä¸€ä¸ªä¸»é¡µ. </p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing <span class="keyword">as</span> mp</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen, urljoin</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment"># base_url = "http://127.0.0.1:4000/"</span></span><br><span class="line">base_url = <span class="string">'https://xxx.com/'</span></span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬å®šä¹‰ä¸¤ä¸ªåŠŸèƒ½, ä¸€ä¸ªæ˜¯ç”¨æ¥çˆ¬å–ç½‘é¡µçš„(crawl), ä¸€ä¸ªæ˜¯è§£æç½‘é¡µçš„(parse). æœ‰äº†å‰å‡ èŠ‚å†…å®¹çš„é“ºå«, ä½ åº”è¯¥èƒ½ä¸€è¨€çœ‹æ‡‚ä¸‹é¢çš„ä»£ç . <code>crawl()</code> ç”¨ urlopen æ¥æ‰“å¼€ç½‘é¡µ, æˆ‘ç”¨çš„å†…ç½‘æµ‹è¯•, æ‰€ä»¥ä¸ºäº†ä½“ç°ä¸‹è½½ç½‘é¡µçš„å»¶è¿Ÿ, æ·»åŠ äº†ä¸€ä¸ª <code>time.sleep(0.1)</code> çš„ä¸‹è½½å»¶è¿Ÿ. è¿”å›åŸå§‹çš„ HTML é¡µé¢, <code>parse()</code> å°±æ˜¯åœ¨è¿™ä¸ª HTML é¡µé¢ä¸­æ‰¾åˆ°éœ€è¦çš„ä¿¡æ¯, æˆ‘ä»¬ç”¨ BeautifulSoup è¿”å›æ‰¾åˆ°çš„ä¿¡æ¯.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">crawl</span><span class="params">(url)</span>:</span></span><br><span class="line">    response = urlopen(url)</span><br><span class="line">    <span class="comment"># time.sleep(0.1)             # slightly delay for downloading</span></span><br><span class="line">    <span class="keyword">return</span> response.read().decode()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(html)</span>:</span></span><br><span class="line">    soup = BeautifulSoup(html, <span class="string">'lxml'</span>)</span><br><span class="line">    urls = soup.find_all(<span class="string">'a'</span>, {<span class="string">"href"</span>: re.compile(<span class="string">'^/.+?/$'</span>)})</span><br><span class="line">    title = soup.find(<span class="string">'h1'</span>).get_text().strip()</span><br><span class="line">    page_urls = set([urljoin(base_url, url[<span class="string">'href'</span>]) <span class="keyword">for</span> url <span class="keyword">in</span> urls])   <span class="comment"># å»é‡</span></span><br><span class="line">    url = soup.find(<span class="string">'meta'</span>, {<span class="string">'property'</span>: <span class="string">"og:url"</span>})[<span class="string">'content'</span>]</span><br><span class="line">    <span class="keyword">return</span> title, page_urls, url</span><br></pre></td></tr></tbody></table></figure>



<p>ç½‘é¡µä¸­çˆ¬å–ä¸­, è‚¯å®šä¼šçˆ¬åˆ°é‡å¤çš„ç½‘å€, ä¸ºäº†å»é™¤æ‰è¿™äº›é‡å¤, æˆ‘ä»¬ä½¿ç”¨ python çš„ set åŠŸèƒ½. å®šä¹‰ä¸¤ä¸ª set, ç”¨æ¥æœé›†çˆ¬è¿‡çš„ç½‘é¡µå’Œæ²¡çˆ¬è¿‡çš„.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">unseen = set([base_url,])</span><br><span class="line">seen = set()</span><br></pre></td></tr></tbody></table></figure>

<h4 id="æµ‹è¯•æ™®é€šçˆ¬æ³•"><a href="#æµ‹è¯•æ™®é€šçˆ¬æ³•" class="headerlink" title="æµ‹è¯•æ™®é€šçˆ¬æ³•"></a>æµ‹è¯•æ™®é€šçˆ¬æ³•</h4><p>ä¸ºäº†å¯¹æ¯”æ•ˆæœ, æˆ‘ä»¬å°†åœ¨ä¸‹é¢å¯¹æ¯”æ™®é€šçš„çˆ¬è™«å’Œè¿™ç§åˆ†å¸ƒå¼çš„æ•ˆæœ. å¦‚æœæ˜¯æ™®é€šçˆ¬è™«, æˆ‘ç®€åŒ–äº†ä¸€ä¸‹æ¥ä¸‹æ¥çš„ä»£ç , å°†ä¸€äº›ä¸å½±å“çš„ä»£ç å»é™¤æ‰äº†. æˆ‘ä»¬ç”¨å¾ªç¯ä¸€ä¸ªä¸ª <code>crawl</code> <code>unseen</code> é‡Œé¢çš„ url, çˆ¬å‡ºæ¥çš„ HTML æ”¾åˆ° <code>parse</code> é‡Œé¢å»åˆ†æå¾—åˆ°ç»“æœ. æ¥ç€å°±æ˜¯æ›´æ–° <code>seen</code> å’Œ <code>unseen</code> è¿™ä¸¤ä¸ªé›†åˆäº†.</p>
<p><strong>ç‰¹åˆ«æ³¨æ„: ä»»ä½•ç½‘ç«™éƒ½æ˜¯æœ‰ä¸€ä¸ªæœåŠ¡å™¨å‹åŠ›çš„, å¦‚æœä½ çˆ¬çš„è¿‡äºé¢‘ç¹, ç‰¹åˆ«æ˜¯ä½¿ç”¨å¤šè¿›ç¨‹çˆ¬å–æˆ–å¼‚æ­¥çˆ¬å–, ä¸€æ¬¡æ€§æäº¤è¯·æ±‚ç»™æœåŠ¡å™¨å¤ªå¤šæ¬¡, è¿™å°†å¯èƒ½ä¼šä½¿å¾—æœåŠ¡å™¨ç˜«ç—ª, æ‰€ä»¥ä¸ºäº†å®‰å…¨èµ·è§, æˆ‘é™åˆ¶äº†çˆ¬å–æ•°é‡(restricted_crawl=True).</strong> å› ä¸ºæˆ‘æµ‹è¯•ä½¿ç”¨çš„æ˜¯å†…ç½‘ <a href="http://127.0.0.1:4000/" target="_blank" rel="noopener">http://127.0.0.1:4000/</a> æ‰€ä»¥ä¸ä¼šæœ‰è¿™ç§å‹åŠ›. ä½ åœ¨ä»¥åçš„çˆ¬ç½‘é¡µä¸­, ä¼šç»å¸¸é‡åˆ°è¿™æ ·çš„çˆ¬å–æ¬¡æ•°çš„é™åˆ¶ (ç”šè‡³è¢«å°å·). æˆ‘ä»¥å‰çˆ¬ github æ—¶å°±è¢«é™åˆ¶æˆä¸€å°æ—¶åªèƒ½çˆ¬60é¡µ.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># DON'T OVER CRAWL THE WEBSITE OR YOU MAY NEVER VISIT AGAIN</span></span><br><span class="line"><span class="keyword">if</span> base_url != <span class="string">"http://127.0.0.1:4000/"</span>:</span><br><span class="line">    restricted_crawl = <span class="literal">True</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    restricted_crawl = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> len(unseen) != <span class="number">0</span>:                 <span class="comment"># still get some url to visit</span></span><br><span class="line">    <span class="keyword">if</span> restricted_crawl <span class="keyword">and</span> len(seen) &gt;= <span class="number">20</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    htmls = [crawl(url) <span class="keyword">for</span> url <span class="keyword">in</span> unseen]</span><br><span class="line">    results = [parse(html) <span class="keyword">for</span> html <span class="keyword">in</span> htmls]</span><br><span class="line"></span><br><span class="line">    seen.update(unseen)         <span class="comment"># seen the crawled</span></span><br><span class="line">    unseen.clear()              <span class="comment"># nothing unseen</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> title, page_urls, url <span class="keyword">in</span> results:</span><br><span class="line">        unseen.update(page_urls - seen)     <span class="comment"># get new url to crawl</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä½¿ç”¨è¿™ç§å•çº¿ç¨‹çš„æ–¹æ³•, åœ¨æˆ‘çš„å†…ç½‘ä¸Šé¢çˆ¬, çˆ¬å®Œæ•´ä¸ª ç½‘ç«™, ä¸€å…±æ¶ˆè€— <strong>52.3ç§’</strong>. æ¥ç€æˆ‘ä»¬æŠŠå®ƒæ”¹æˆå¤šè¿›ç¨‹åˆ†å¸ƒå¼.</p>
<h4 id="æµ‹è¯•åˆ†å¸ƒå¼çˆ¬æ³•"><a href="#æµ‹è¯•åˆ†å¸ƒå¼çˆ¬æ³•" class="headerlink" title="æµ‹è¯•åˆ†å¸ƒå¼çˆ¬æ³•"></a>æµ‹è¯•åˆ†å¸ƒå¼çˆ¬æ³•</h4><p>è¿˜æ˜¯ä¸Šä¸€ä¸ª <code>while</code> å¾ªç¯, é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè¿›ç¨‹æ± (Pool).. ç„¶åæˆ‘ä»¬ä¿®æ”¹å¾—åˆ° <code>htmls</code> å’Œ <code>results</code> çš„ä¸¤å¥ä»£ç . å…¶ä»–éƒ½ä¸å˜, åªå°†è¿™ä¸¤ä¸ªåŠŸèƒ½ç»™å¹¶è¡Œäº†. æˆ‘åœ¨è¿™é‡Œå†™çš„éƒ½æ˜¯ç®€åŒ–ä»£ç , </p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">pool = mp.Pool(<span class="number">4</span>)</span><br><span class="line"><span class="keyword">while</span> len(unseen) != <span class="number">0</span>:</span><br><span class="line">    <span class="comment"># htmls = [crawl(url) for url in unseen]</span></span><br><span class="line">    <span class="comment"># ---&gt;</span></span><br><span class="line">    crawl_jobs = [pool.apply_async(crawl, args=(url,)) <span class="keyword">for</span> url <span class="keyword">in</span> unseen]</span><br><span class="line">    htmls = [j.get() <span class="keyword">for</span> j <span class="keyword">in</span> crawl_jobs]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># results = [parse(html) for html in htmls]</span></span><br><span class="line">    <span class="comment"># ---&gt;</span></span><br><span class="line">    parse_jobs = [pool.apply_async(parse, args=(html,)) <span class="keyword">for</span> html <span class="keyword">in</span> htmls]</span><br><span class="line">    results = [j.get() <span class="keyword">for</span> j <span class="keyword">in</span> parse_jobs]</span><br><span class="line"></span><br><span class="line">    ...</span><br></pre></td></tr></tbody></table></figure>

<p>è¿˜æ˜¯åœ¨å†…ç½‘æµ‹è¯•, åªç”¨äº† <strong>16.3ç§’</strong>!! è¿™å¯æ¯”ä¸Šé¢çš„å•çº¿ç¨‹çˆ¬è™«å¿«äº†3.5å€. è€Œä¸”æˆ‘è¿˜ä¸æ˜¯åœ¨å¤–ç½‘æµ‹è¯•çš„. å¦‚æœåœ¨å¤–ç½‘, çˆ¬å–ä¸€å¼ ç½‘é¡µçš„æ—¶é—´æ›´é•¿, ä½¿ç”¨å¤šè¿›ç¨‹ä¼šæ›´åŠ æœ‰æ•ˆç‡, èŠ‚çœçš„æ—¶é—´æ›´å¤š.</p>
<p>çœ‹åˆ°è¿™é‡Œ, ä¸€å®šè§‰å¾—å¤šçº¿ç¨‹æ˜¯çˆ¬è™«çš„æ•‘æ˜Ÿ. å…¶å®ä¸ç„¶</p>
<p><strong>ä»£ç å…¨</strong>ï¼š</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>



<h3 id="åŠ é€Ÿçˆ¬è™«ï¼šå¼‚æ­¥åŠ è½½"><a href="#åŠ é€Ÿçˆ¬è™«ï¼šå¼‚æ­¥åŠ è½½" class="headerlink" title="åŠ é€Ÿçˆ¬è™«ï¼šå¼‚æ­¥åŠ è½½"></a>åŠ é€Ÿçˆ¬è™«ï¼šå¼‚æ­¥åŠ è½½</h3><p>Python è¿˜æä¾›äº†ä¸€ä¸ªæœ‰åŠ›çš„å·¥å…·, å«åš <a href="https://docs.python.org/3/library/asyncio.html" target="_blank" rel="noopener">asyncio</a>. è¿™æ˜¯ä¸€ä¸ªä»…ä»…ä½¿ç”¨å•çº¿ç¨‹, å°±èƒ½è¾¾åˆ°å¤šçº¿ç¨‹/è¿›ç¨‹çš„æ•ˆæœçš„å·¥å…·. å®ƒçš„åŸç†, ç®€å•è¯´å°±æ˜¯: <strong>åœ¨å•çº¿ç¨‹é‡Œä½¿ç”¨å¼‚æ­¥è®¡ç®—, ä¸‹è½½ç½‘é¡µçš„æ—¶å€™å’Œå¤„ç†ç½‘é¡µçš„æ—¶å€™æ˜¯ä¸è¿ç»­çš„, æ›´æœ‰æ•ˆåˆ©ç”¨äº†ç­‰å¾…ä¸‹è½½çš„è¿™æ®µæ—¶é—´.</strong></p>
<p>ä¼ ç»Ÿçš„å•çº¿ç¨‹ä¸‹è½½å¤„ç†ç½‘é¡µå¯èƒ½å°±åƒæ­¤å›¾(<a href="https://www.nginx.com/blog/thread-pools-boost-performance-9x/" target="_blank" rel="noopener">æ¥æº</a>)å·¦è¾¹è“è‰²é‚£æ ·, è®¡ç®—æœºæ‰§è¡Œä¸€äº›ä»£ç , ç„¶åç­‰å¾…ä¸‹è½½ç½‘é¡µ, ä¸‹å¥½ä»¥å, å†æ‰§è¡Œä¸€äº›ä»£ç â€¦ æˆ–è€…åœ¨ç­‰å¾…çš„æ—¶å€™, ç”¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå…¶ä»–çš„ä»£ç , è¿™æ˜¯å¤šçº¿ç¨‹çš„æ‰‹æ®µ. é‚£ä¹ˆ asyncio å°±åƒå³è¾¹, åªä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹, ä½†æ˜¯å°†è¿™äº›ç­‰å¾…æ—¶é—´ç»Ÿç»Ÿææ‰, ä¸‹è½½åº”è¯¥éƒ½è°ƒåˆ°äº†åå°, è¿™ä¸ªæ—¶é—´é‡Œ, æ‰§è¡Œå…¶ä»–å¼‚æ­¥çš„åŠŸèƒ½, ä¸‹è½½å¥½äº†ä¹‹å, å†è°ƒå›æ¥æ¥ç€å¾€ä¸‹æ‰§è¡Œ.</p>
<p>ä»Šå¤©å°±æ¥å°è¯•ä½¿ç”¨ asyncio æ¥æ›¿æ¢æ‰ multiprocessing æˆ–è€… threading, çœ‹çœ‹æ•ˆæœå¦‚ä½•.</p>
<h4 id="Asyncio-åº“"><a href="#Asyncio-åº“" class="headerlink" title="Asyncio åº“"></a>Asyncio åº“</h4><p><a href="https://docs.python.org/3/library/asyncio.html" target="_blank" rel="noopener">Asyncio</a> åº“æ˜¯ Python çš„åŸè£…åº“, ä½†æ˜¯æ˜¯åœ¨ Python 3 çš„æ—¶å€™æå‡ºæ¥çš„, Python 2 å’Œ Python 3.3- æ˜¯æ²¡æœ‰çš„. è€Œä¸” Python 3.5 ä¹‹å, å’Œ Python 3.4 å‰åœ¨è¯­æ³•ä¸Šè¿˜æ˜¯æœ‰äº›ä¸åŒ, æ¯”å¦‚ await å’Œ yield çš„ä½¿ç”¨, ä¸‹é¢çš„æ•™ç¨‹éƒ½æ˜¯åŸºäº Python 3.5+, ä½¿ç”¨ Python3.4 çš„å¯èƒ½ä¼šæ‰§è¡Œæœ‰ç‚¹é—®é¢˜. è°ƒæ•´ä¸€ä¸‹å°±å¥½.</p>
<p>åœ¨ 3.5+ ç‰ˆæœ¬ä¸­, asyncio æœ‰ä¸¤æ ·è¯­æ³•éå¸¸é‡è¦, <code>async</code>, <code>await</code>. å¼„æ‡‚äº†å®ƒä»¬æ˜¯å¦‚ä½•ååŒå·¥ä½œçš„, æˆ‘ä»¬å°±å®Œå…¨èƒ½å‘æŒ¥å‡ºè¿™ä¸ªåº“çš„åŠŸèƒ½äº†. å‰§é€ä¸€ä¸‹, ç­‰ä¼šä½¿ç”¨å•çº¿ç¨‹çˆ¬ç½‘é¡µçš„ asyncio å’Œä¹‹å‰å¤šè¿›ç¨‹å†™çš„çˆ¬ç½‘é¡µæ•ˆæœå·®ä¸å¤š, è€Œä¸”å½“å¹¶è¡Œçš„è¿›ç¨‹æ•°å°‘çš„æ—¶å€™, asyncio æ•ˆæœè¿˜ä¼šæ¯”å¤šè¿›ç¨‹å¿«.</p>
<h4 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h4><p>æ¥ç€æˆ‘ä»¬æ¥ä¸¾ä¾‹ä»‹ç» asyncio, åƒä¹‹å‰ç”»çš„å›¾é‚£æ ·, æˆ‘ä»¬è¦æ—¶åˆ»è®°ä½, asyncio ä¸æ˜¯å¤šè¿›ç¨‹, ä¹Ÿä¸æ˜¯å¤šçº¿ç¨‹, å•å•æ˜¯ä¸€ä¸ªçº¿ç¨‹, ä½†æ˜¯æ˜¯åœ¨ Python çš„åŠŸèƒ½é—´åˆ‡æ¢ç€æ‰§è¡Œ. åˆ‡æ¢çš„ç‚¹ç”¨ <code>await</code> æ¥æ ‡è®°, èƒ½å¤Ÿå¼‚æ­¥çš„åŠŸèƒ½ç”¨ <code>async</code> æ ‡è®°, æ¯”å¦‚ <code>async def function():</code>. é¦–å…ˆæˆ‘ä»¬çœ‹ä¸€ä¸‹, ä¸ä½¿ç”¨ <code>async</code> å®Œæˆçš„ä¸€ä»½ä»£ç , ç„¶åæˆ‘ä»¬å°†è¿™ä»½ä»£ç æ”¹æˆ <code>async</code> ç‰ˆçš„. </p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸æ˜¯å¼‚æ­¥çš„</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">job</span><span class="params">(t)</span>:</span></span><br><span class="line">    print(<span class="string">'Start job '</span>, t)</span><br><span class="line">    time.sleep(t)               <span class="comment"># wait for "t" seconds</span></span><br><span class="line">    print(<span class="string">'Job '</span>, t, <span class="string">' takes '</span>, t, <span class="string">' s'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    [job(t) <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">3</span>)]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">t1 = time.time()</span><br><span class="line">main()</span><br><span class="line">print(<span class="string">"NO async total time : "</span>, time.time() - t1)</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">Start job  1</span></span><br><span class="line"><span class="string">Job  1  takes  1  s</span></span><br><span class="line"><span class="string">Start job  2</span></span><br><span class="line"><span class="string">Job  2  takes  2  s</span></span><br><span class="line"><span class="string">NO async total time :  3.008603096008301</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä»ä¸Šé¢å¯ä»¥çœ‹å‡º, æˆ‘ä»¬çš„ job æ˜¯æŒ‰é¡ºåºæ‰§è¡Œçš„, å¿…é¡»æ‰§è¡Œå®Œ <code>job 1</code> æ‰èƒ½å¼€å§‹æ‰§è¡Œ <code>job 2</code>, è€Œä¸” <code>job 1</code> éœ€è¦1ç§’çš„æ‰§è¡Œæ—¶é—´, è€Œ <code>job 2</code> éœ€è¦2ç§’. æ‰€ä»¥æ€»æ—¶é—´æ˜¯ <strong>3 ç§’å¤š</strong>. è€Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨ asyncio çš„å½¢å¼, <code>job 1</code> åœ¨ç­‰å¾… <code>time.sleep(t)</code> ç»“æŸçš„æ—¶å€™, æ¯”å¦‚æ˜¯ç­‰å¾…ä¸€ä¸ªç½‘é¡µçš„ä¸‹è½½æˆåŠŸ, åœ¨è¿™ä¸ªåœ°æ–¹æ˜¯å¯ä»¥åˆ‡æ¢ç»™ <code>job 2</code>, è®©å®ƒå¼€å§‹æ‰§è¡Œ.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">job</span><span class="params">(t)</span>:</span>                   <span class="comment"># async å½¢å¼çš„åŠŸèƒ½</span></span><br><span class="line">    print(<span class="string">'Start job '</span>, t)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(t)          <span class="comment"># ç­‰å¾… "t" ç§’, æœŸé—´åˆ‡æ¢å…¶ä»–ä»»åŠ¡</span></span><br><span class="line">    print(<span class="string">'Job '</span>, t, <span class="string">' takes '</span>, t, <span class="string">' s'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">(loop)</span>:</span>                       <span class="comment"># async å½¢å¼çš„åŠŸèƒ½</span></span><br><span class="line">    tasks = [</span><br><span class="line">    loop.create_task(job(t)) <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">    ]                                       <span class="comment"># åˆ›å»ºä»»åŠ¡, ä½†æ˜¯ä¸æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">await</span> asyncio.wait(tasks)               <span class="comment"># æ‰§è¡Œå¹¶ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ</span></span><br><span class="line"></span><br><span class="line">t1 = time.time()</span><br><span class="line">loop = asyncio.get_event_loop()             <span class="comment"># å»ºç«‹ loop</span></span><br><span class="line">loop.run_until_complete(main(loop))         <span class="comment"># æ‰§è¡Œ loop</span></span><br><span class="line">loop.close()                                <span class="comment"># å…³é—­ loop</span></span><br><span class="line">print(<span class="string">"Async total time : "</span>, time.time() - t1)</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">Start job  1</span></span><br><span class="line"><span class="string">Start job  2</span></span><br><span class="line"><span class="string">Job  1  takes  1  s</span></span><br><span class="line"><span class="string">Job  2  takes  2  s</span></span><br><span class="line"><span class="string">Async total time :  2.001495838165283</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä»ç»“æœå¯ä»¥çœ‹å‡º, æˆ‘ä»¬æ²¡æœ‰ç­‰å¾… <code>job 1</code> çš„ç»“æŸæ‰å¼€å§‹ <code>job 2</code>, è€Œæ˜¯ <code>job 1</code> è§¦å‘äº† <code>await</code> çš„æ—¶å€™å°±åˆ‡æ¢åˆ°äº† <code>job 2</code> äº†. è¿™æ—¶, <code>job 1</code> å’Œ <code>job 2</code> åŒæ—¶åœ¨ç­‰å¾… <code>await asyncio.sleep(t)</code>, æ‰€ä»¥æœ€ç»ˆçš„ç¨‹åºå®Œæˆæ—¶é—´, å–å†³äºç­‰å¾…æœ€é•¿çš„ <code>t</code>, ä¹Ÿå°±æ˜¯ <strong>2ç§’</strong>. è¿™å’Œä¸Šé¢ç”¨æ™®é€šå½¢å¼çš„ä»£ç ç›¸æ¯”(3ç§’), çš„ç¡®å¿«äº†å¾ˆå¤š.</p>
<h4 id="aiohttp"><a href="#aiohttp" class="headerlink" title="aiohttp"></a>aiohttp</h4><p>æœ‰äº†å¯¹ asyncio çš„åŸºæœ¬äº†è§£, æˆ‘ä»¬å°±æ¥çœ‹æ€ä¹ˆæŠŠå®ƒç”¨åœ¨çˆ¬è™«. è¿™ä¸ªåŠŸèƒ½å¯¹äºçˆ¬è™«éå¸¸çš„ç†æƒ³, åŸå› å¾ˆç®€å•, æˆ‘ä»¬åœ¨ç­‰å¾…ä¸€ä¸ªç½‘é¡µä¸‹è½½çš„æ—¶å€™, å®Œå…¨å¯ä»¥åˆ‡æ¢åˆ°å…¶å®ƒä»£ç , äº‹åŠåŠŸå€. ä½†æ˜¯ asycio è‡ªå·±è¿˜æ˜¯æ²¡åŠæ³•å®Œæˆè¿™é¡¹ä»»åŠ¡çš„, æˆ‘ä»¬è¿˜éœ€è¦å®‰è£…å¦ä¸€ä¸ªç‰›é€¼çš„æ¨¡å—å°† <code>requests</code> æ¨¡å—ä»£æ›¿æˆä¸€ä¸ªå¼‚æ­¥çš„ <code>requests</code>, è¿™ä¸ªç‰›é€¼çš„æ¨¡å—å«ä½œ <code>aiohttp</code> (<a href="https://aiohttp.readthedocs.io/en/stable/index.html" target="_blank" rel="noopener">å®˜ç½‘åœ¨è¿™</a>). ä¸‹è½½å®‰è£…ç‰¹åˆ«ç®€å•. ç›´æ¥åœ¨ä½ çš„ terminal æˆ–è€… cmd é‡Œé¢è¾“å…¥ pip3 install aiohttp.</p>
<p>æ¥ç€æˆ‘ä»¬æ¥çœ‹çœ‹æˆ‘ä»¬æ€ä¹ˆç”¨æœ€ä¸€èˆ¬çš„ requests æ¨¡å—çˆ¬ç½‘é¡µ, å’Œæˆ‘ä»¬æ€ä¹ˆå°† requests æ›¿æ¢æˆ aiohttp.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">URL = <span class="string">'https://xxx.com/'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">normal</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">        r = requests.get(URL)</span><br><span class="line">        url = r.url</span><br><span class="line">        print(url)</span><br><span class="line"></span><br><span class="line">t1 = time.time()</span><br><span class="line">normal()</span><br><span class="line">print(<span class="string">"Normal total time:"</span>, time.time()-t1)</span><br></pre></td></tr></tbody></table></figure>

<p>ç„¶åæˆ‘ä»¬åœ¨ç”¨ <a href="https://aiohttp.readthedocs.io/en/stable/index.html" target="_blank" rel="noopener">aiohttp</a> æ¥å®ç°ä¸€æ ·çš„åŠŸèƒ½</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> aiohttp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">job</span><span class="params">(session)</span>:</span></span><br><span class="line">    response = <span class="keyword">await</span> session.get(URL)       <span class="comment"># ç­‰å¾…å¹¶åˆ‡æ¢</span></span><br><span class="line">    <span class="keyword">return</span> str(response.url)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">(loop)</span>:</span></span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">with</span> aiohttp.ClientSession() <span class="keyword">as</span> session:      <span class="comment"># å®˜ç½‘æ¨èå»ºç«‹ Session çš„å½¢å¼</span></span><br><span class="line">        tasks = [loop.create_task(job(session)) <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">2</span>)]</span><br><span class="line">        finished, unfinished = <span class="keyword">await</span> asyncio.wait(tasks)</span><br><span class="line">        all_results = [r.result() <span class="keyword">for</span> r <span class="keyword">in</span> finished]    <span class="comment"># è·å–æ‰€æœ‰ç»“æœ</span></span><br><span class="line">        print(all_results)</span><br><span class="line"></span><br><span class="line">t1 = time.time()</span><br><span class="line">loop = asyncio.get_event_loop()</span><br><span class="line">loop.run_until_complete(main(loop))</span><br><span class="line">loop.close()</span><br><span class="line">print(<span class="string">"Async total time:"</span>, time.time() - t1)</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬åˆšåˆšåˆ›å»ºäº†ä¸€ä¸ª Session, è¿™æ˜¯å®˜ç½‘æ¨èçš„æ–¹å¼, ä½†æ˜¯æˆ‘è§‰å¾—ä¹Ÿå¯ä»¥ç›´æ¥ç”¨ request å½¢å¼, ç»†èŠ‚è¯·å‚è€ƒ<a href="https://aiohttp.readthedocs.io/en/stable/client.html#make-a-request" target="_blank" rel="noopener">å®˜æ–¹è¯´æ˜</a>. å¦‚æœè¦è·å–ç½‘é¡µè¿”å›çš„ç»“æœ, æˆ‘ä»¬å¯ä»¥åœ¨ <code>job()</code> ä¸­ return ä¸ªç»“æœå‡ºæ¥, ç„¶åå†åœ¨ <code>finished, unfinished = await asyncio.wait(tasks)</code> æ”¶é›†å®Œæˆçš„ç»“æœ, è¿™é‡Œå®ƒä¼šè¿”å›å®Œæˆçš„å’Œæ²¡å®Œæˆçš„, æˆ‘ä»¬å…³å¿ƒçš„éƒ½æ˜¯å®Œæˆçš„, è€Œä¸” <code>await</code> ä¹Ÿç¡®å®æ˜¯ç­‰å¾…éƒ½å®Œæˆäº†æ‰è¿”å›. çœŸæ­£çš„ç»“æœè¢«å­˜æ”¾åœ¨äº† <code>result()</code> é‡Œé¢.</p>
<h4 id="å’Œå¤šè¿›ç¨‹åˆ†å¸ƒå¼çˆ¬è™«å¯¹æ¯”"><a href="#å’Œå¤šè¿›ç¨‹åˆ†å¸ƒå¼çˆ¬è™«å¯¹æ¯”" class="headerlink" title="å’Œå¤šè¿›ç¨‹åˆ†å¸ƒå¼çˆ¬è™«å¯¹æ¯”"></a>å’Œå¤šè¿›ç¨‹åˆ†å¸ƒå¼çˆ¬è™«å¯¹æ¯”</h4><p>æœ‰äº†è¿™äº›åŸºç¡€, æˆ‘ä»¬å°±å¯ä»¥æ¥ç©ç‚¹é«˜çº§çš„äº†, ä¹‹å‰æˆ‘ä»¬ç”¨ multiprocessing å†™è¿‡äº†ä¸€ä¸ªç®€å•çš„åˆ†å¸ƒå¼çˆ¬è™«, ç°åœ¨æˆ‘ä»¬å°±æ¥æ‹¿è¿‡æ¥ PK ä¸€ä¸‹ asyncio çš„æ–¹æ³•. é¦–å…ˆæˆ‘ä»¬å¯¹æ¯”ä¸€ä¸‹è¿™æ¬¡å†™çš„ç»“æ„å’Œä¸Šæ¬¡å†™çš„ç®€å•åˆ†å¸ƒå¼çˆ¬è™«çš„åŒºåˆ«. åˆ†å¸ƒå¼æˆ‘ä»¬å®Œå…¨ä¾èµ–çš„æ˜¯ multiprocessing è¿™ä¸ªæ¨¡å—. ä½¿ç”¨ python å¼ºå¤§çš„å¹¶è¡Œå¤„ç†è¿ç®—æ¥ä¸‹è½½æˆ‘ä»¬è¦å¤„ç†çš„ urls, ç„¶åè§£æç½‘é¡µä¹Ÿæ˜¯ä¸€ä»¶è€—æ—¶çš„äº‹, ç‰¹åˆ«æ˜¯ç½‘é¡µé‡å¤šçš„æ—¶å€™. æ‰€ä»¥æˆ‘ä»¬ä¹Ÿå°†ç½‘é¡µè§£æç»™å¹¶è¡Œäº†. è¿™æ ·å¤§å¤§èŠ‚çœäº†ä¸‹è½½å’Œè¿ç®—æ—¶é—´. å†çœ‹å³è¾¹çš„è¿™ä¸ª asyncio çš„ä¾‹å­, æˆ‘ä»¬è§£æç½‘é¡µè¿˜æ˜¯ç”¨çš„å’Œ multiprocessing é‚£è¾¹ä¸€æ ·çš„å¹¶è¡Œå¤„ç†, å› ä¸º asyncio å¥½åƒä¸æ”¯æŒè§£æç½‘é¡µçš„å¼‚æ­¥, æ¯•ç«Ÿæ˜¯è®¡ç®—å¯†é›†å‹å·¥åº. ç„¶åä¸ä¸€æ ·çš„åœ°æ–¹æ˜¯, æˆ‘ä»¬åœ¨ä¸‹è½½ç½‘é¡µæ—¶, ä¸ç”¨ multiprocessing, æ”¹ç”¨ asyncio, ç”¨ä¸€ä¸ªå•çº¿ç¨‹çš„ä¸œè¥¿æŒ‘æˆ˜å¤šè¿›ç¨‹.</p>
<p>æˆ‘ä»¬å‘ç°, å¦‚æœ <code>Pool(n)</code> é‡Œé¢çš„è¿™ä¸ª n è¶Šå¤§, å¤šè¿›ç¨‹æ‰èƒ½è¶Šå¿«, ä½†æ˜¯ asyncio å´ä¸ä¼šç‰¹åˆ«å—è¿›ç¨‹æ•°çš„å½±å“. ä¸€ä¸ªå•çº¿ç¨‹çš„ä¸œè¥¿å±…ç„¶æˆ˜èƒœäº†å¤šè¿›ç¨‹. å¯è§å¼‚æ­¥ asyncio ä¸‹è½½ç½‘é¡µçš„é‡è¦æ€§.</p>
<p>ä¸Šé¢ä»‹ç»çš„è¿˜åªæ˜¯ asyncio çš„ä¸€å°éƒ¨åˆ†åŠŸèƒ½, å¦‚æœæƒ³äº†è§£æ›´å¤šæœ‰å…³äº asyncio çš„ä½¿ç”¨æ–¹æ³•, è¯·çœ‹åˆ° Python çš„<a href="https://docs.python.org/3/library/asyncio.html" target="_blank" rel="noopener">å®˜æ–¹ä»‹ç»</a>.</p>
<h3 id="é«˜çº§çˆ¬è™«ï¼šè®©-Selenium-æ§åˆ¶ä½ çš„æµè§ˆå™¨å¸®ä½ çˆ¬"><a href="#é«˜çº§çˆ¬è™«ï¼šè®©-Selenium-æ§åˆ¶ä½ çš„æµè§ˆå™¨å¸®ä½ çˆ¬" class="headerlink" title="é«˜çº§çˆ¬è™«ï¼šè®© Selenium æ§åˆ¶ä½ çš„æµè§ˆå™¨å¸®ä½ çˆ¬"></a>é«˜çº§çˆ¬è™«ï¼š<strong>è®© Selenium æ§åˆ¶ä½ çš„æµè§ˆå™¨å¸®ä½ çˆ¬</strong></h3><blockquote>
<p>Selenium æ˜¯ä¸ºäº†æµ‹è¯•è€Œå‡ºç”Ÿçš„. ä½†æ˜¯æ²¡æƒ³åˆ°åˆ°äº†çˆ¬è™«çš„å¹´ä»£, å®ƒæ‘‡èº«ä¸€å˜, å˜æˆäº†çˆ¬è™«çš„å¥½å·¥å…·. è®©æˆ‘è¯•ç€ç”¨ä¸€å¥è¯æ¥æ¦‚æ‹¬ Seleninm: <strong>å®ƒèƒ½æ§åˆ¶ä½ çš„æµè§ˆå™¨, æœ‰æ¨¡æœ‰æ ·åœ°å­¦äººç±»çœ‹ç½‘é¡µ</strong>.</p>
</blockquote>
<h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>å› ä¸º Selenium éœ€è¦æ“æ§ä½ çš„æµè§ˆå™¨, æ‰€ä»¥å®‰è£…èµ·æ¥æ¯”ä¼ ç»Ÿçš„ Python æ¨¡å—è¦å¤šå‡ æ­¥. å…ˆåœ¨ terminal æˆ–è€… cmd ç”¨ pip å®‰è£… selenium.</p>
<p>è¦æ“æ§æµè§ˆå™¨, ä½ å°±è¦æœ‰æµè§ˆå™¨çš„ driver. Selenium é’ˆå¯¹å‡ ä¸ªä¸»æµçš„æµè§ˆå™¨éƒ½æœ‰ driver. <strong>é’ˆå¯¹ Linux å’Œ MacOS</strong>.</p>
<ul>
<li>Chrome <a href="https://sites.google.com/a/chromium.org/chromedriver/downloads" target="_blank" rel="noopener">driver</a>, å¦‚æœå‰é¢é“¾æ¥æ— æ³•æ‰“å¼€, è¯·å°è¯•<a href="https://npm.taobao.org/mirrors/chromedriver" target="_blank" rel="noopener">è¿™ä¸ª</a>, å¹¶ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„ driver</li>
<li>Edge <a href="https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/" target="_blank" rel="noopener">driver</a></li>
<li>Firefox <a href="https://github.com/mozilla/geckodriver/releases" target="_blank" rel="noopener">driver</a></li>
<li>Safari <a href="https://webkit.org/blog/6900/webdriver-support-in-safari-10/" target="_blank" rel="noopener">driver</a></li>
</ul>
<p>Linux å’Œ MacOS ç”¨æˆ·ä¸‹è½½å¥½ä¹‹å, è¯·å°†ä¸‹è½½å¥½çš„geckodriveræ–‡ä»¶æ”¾åœ¨ä½ çš„è®¡ç®—æœºçš„ /usr/bin æˆ– /usr/local/bin ç›®å½•. å¹¶èµ‹äºˆæ‰§è¡Œæƒé™, ä¸ä¼šæ”¾çš„, è¯·ä½¿ç”¨è¿™æ¡è¯­å¥.</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">sudo cp ä½ çš„geckodriverä½ç½® /usr/local/bin</span><br><span class="line">sudo chmod +x /usr/local/bin/geckodriver</span><br></pre></td></tr></tbody></table></figure>

<p>å¯¹äº Windows ç”¨æˆ·, å®˜ç½‘ä¸Šçš„<a href="http://selenium-python.readthedocs.io/installation.html#detailed-instructions-for-windows-users" target="_blank" rel="noopener">è¯´æ³•</a>, å¥½åƒæ²¡æœ‰æåˆ°è¦å…·ä½“æ€ä¹ˆæ“ä½œ, æˆ‘æƒ³, åº”è¯¥æ˜¯æŠŠ geckodriver è¿™ä¸ªæ–‡ä»¶çš„ä½ç½®åŠ åœ¨ Windows çš„ç¯å¢ƒå˜é‡ä¸­(PATH).</p>
<p>å¦‚æœä½ å®‰è£…æœ‰ä»»ä½•çš„é—®é¢˜, è¯·åœ¨å®ƒä»¬çš„<a href="http://selenium-python.readthedocs.io/installation.html" target="_blank" rel="noopener">å®˜ç½‘</a>ä¸ŠæŸ¥è¯¢è§£å†³æ–¹æ¡ˆ.</p>
<h4 id="å·æ‡’çš„ç«ç‹æµè§ˆå™¨æ’ä»¶"><a href="#å·æ‡’çš„ç«ç‹æµè§ˆå™¨æ’ä»¶" class="headerlink" title="å·æ‡’çš„ç«ç‹æµè§ˆå™¨æ’ä»¶"></a>å·æ‡’çš„ç«ç‹æµè§ˆå™¨æ’ä»¶</h4><p>åœ¨è¿™æ•™ä½ ç”¨<a href="https://www.mozilla.org/en-US/firefox/new/" target="_blank" rel="noopener">ç«ç‹æµè§ˆå™¨</a>å·æ‡’çš„ä¸€æ‹›, å› ä¸ºæš‚æ—¶åªæœ‰ç«ç‹ä¸Šæœ‰è¿™ä¸ªæ’ä»¶. æ’ä»¶ Katalon Recorder ä¸‹è½½çš„ç½‘å€<a href="https://addons.mozilla.org/en-US/firefox/addon/katalon-automation-record/" target="_blank" rel="noopener">åœ¨è¿™</a></p>
<p>è¿™ä¸ªæ’ä»¶èƒ½è®©ä½ è®°å½•ä½ ä½¿ç”¨æµè§ˆå™¨çš„æ“ä½œ. æˆ‘ä»¥å‰ç©ç½‘æ¸¸, ä¸ºäº†å·æ‡’, ç”¨è¿‡ä¸€ä¸ªå«æŒ‰é”®ç²¾çµçš„ä¸œè¥¿, å¸®æˆ‘åšäº†å¾ˆå¤šé‡å¤æ€§çš„å·¥ä½œ, æ‹¯æ•‘äº†æˆ‘çš„é¼ æ ‡å’Œé”®ç›˜, å½“ç„¶è¿˜æœ‰æˆ‘çš„æ‰‹æŒ‡! çœ‹ç€åˆ«äººä¸€ç›´åœ¨ç‚¹é¼ æ ‡, æˆ‘å¿ƒä¸­æš—çˆ½~ è¿™ä¸ª Katalon Recorder æ’ä»¶ + Selenium å°±å’ŒæŒ‰é”®ç²¾çµæ˜¯ä¸€ä¸ªæ„æ€. è®°å½•ä½ çš„æ“ä½œ, ç„¶åä½ å¯ä»¥è®©ç”µè„‘é‡å¤ä¸Šåƒé.</p>
<p>å®‰è£…å¥½ç«ç‹ä¸Šçš„è¿™ä¸ªæ’ä»¶å, æ‰“å¼€å®ƒ.</p>
<p>æ‰¾åˆ°æ’ä»¶ä¸Šçš„ record, ç‚¹å®ƒ. ç„¶åç”¨ç«ç‹ç™»å½•ä¸Š æŸä¸ªç½‘ç«™, å¼€å§‹ä½ çš„å„ç§ç‚¹å‡»å·¥ä½œ,</p>
<p>æ¯å½“ä½ ç‚¹å‡»çš„æ—¶å€™, æ’ä»¶å°±ä¼šè®°å½•ä¸‹ä½ è¿™äº›ç‚¹å‡», å½¢æˆä¸€äº›log. æœ€åç¥å¥‡çš„äº‹æƒ…å°†è¦å‘ç”Ÿ. ä½ å¯ä»¥ç‚¹å‡» Export æŒ‰é’®, è§‚çœ‹åˆ°å¸®ä½ ç”Ÿæˆçš„æµè§ˆè®°å½•ä»£ç !</p>
<p>è™½ç„¶è¿™ä¸ªä»£ç è¾“å‡ºåªæœ‰ Python2 ç‰ˆæœ¬çš„, ä¸è¿‡ä¸å½±å“. æˆ‘ä»¬ç›´æ¥å°†è¿™äº›åœˆèµ·æ¥çš„ä»£ç å¤åˆ¶. è¿™å°†ä¼šæ˜¯ python å¸®ä½ æ‰§è¡Œçš„è¡Œä¸ºä»£ç .</p>
<h4 id="Python-æ§åˆ¶æµè§ˆå™¨"><a href="#Python-æ§åˆ¶æµè§ˆå™¨" class="headerlink" title="Python æ§åˆ¶æµè§ˆå™¨"></a>Python æ§åˆ¶æµè§ˆå™¨</h4><p>å¥½äº†, æœ‰äº†è¿™äº›ä»£ç , æˆ‘ä»¬å°±èƒ½å›åˆ° Python. å¼€å§‹å†™ Python çš„ä»£ç äº†. è¿™é‡Œååˆ†ç®€å•! æˆ‘å°† selenium ç»‘å®šåˆ° Chrome ä¸Š <code>webdriver.Chrome()</code>. ä½ å¯ä»¥ç»‘å…¶å®ƒçš„æµè§ˆå™¨.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome()     <span class="comment"># æ‰“å¼€ Chrome æµè§ˆå™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†åˆšåˆšå¤åˆ¶çš„å¸–åœ¨è¿™</span></span><br><span class="line">driver.get(<span class="string">"https://xxx.com/"</span>)</span><br><span class="line">driver.find_element_by_xpath(<span class="string">u"//img[@alt='å¼ºåŒ–å­¦ä¹  (Reinforcement Learning)']"</span>).click()</span><br><span class="line">driver.find_element_by_link_text(<span class="string">"About"</span>).click()</span><br><span class="line">driver.find_element_by_link_text(<span class="string">u"èµåŠ©"</span>).click()</span><br><span class="line">driver.find_element_by_link_text(<span class="string">u"æ•™ç¨‹ â–¾"</span>).click()</span><br><span class="line">driver.find_element_by_link_text(<span class="string">u"æ•°æ®å¤„ç† â–¾"</span>).click()</span><br><span class="line">driver.find_element_by_link_text(<span class="string">u"ç½‘é¡µçˆ¬è™«"</span>).click()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¾—åˆ°ç½‘é¡µ html, è¿˜èƒ½æˆªå›¾</span></span><br><span class="line">html = driver.page_source       <span class="comment"># get html</span></span><br><span class="line">driver.get_screenshot_as_file(<span class="string">"./img/sreenshot1.png"</span>)</span><br><span class="line">driver.close()</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬èƒ½å¾—åˆ°é¡µé¢çš„ html code (<code>driver.page_source</code>), å°±èƒ½åŸºäºè¿™ä¸ª code æ¥çˆ¬å–æ•°æ®äº†. </p>
<p>ä¸è¿‡æ¯æ¬¡éƒ½è¦çœ‹ç€æµè§ˆå™¨æ‰§è¡Œè¿™äº›æ“ä½œ, æœ‰æ—¶å€™æœ‰ç‚¹ä¸æ–¹ä¾¿. æˆ‘ä»¬å¯ä»¥è®© selenium ä¸å¼¹å‡ºæµè§ˆå™¨çª—å£, è®©å®ƒå®‰é™åœ°æ‰§è¡Œæ“ä½œ. åœ¨åˆ›å»º <code>driver</code> ä¹‹å‰å®šä¹‰å‡ ä¸ªå‚æ•°å°±èƒ½æ‘†è„±æµè§ˆå™¨çš„èº«ä½“äº†.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.options <span class="keyword">import</span> Options</span><br><span class="line"></span><br><span class="line">chrome_options = Options()</span><br><span class="line">chrome_options.add_argument(<span class="string">"--headless"</span>)       <span class="comment"># define headless</span></span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome(chrome_options=chrome_options)</span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure>

<p>Selenium èƒ½åšçš„äº‹è¿˜æœ‰å¾ˆå¤š, æ¯”å¦‚å¡« Form è¡¨å•, è¶…æ§é”®ç›˜ç­‰ç­‰. è¿™ä¸ªæ•™ç¨‹ä¸ä¼šç»†è¯´äº†, åªæ˜¯ä¸ªå…¥é—¨, å¦‚æœä½ è¿˜æƒ³ç»§ç»­æ·±å…¥äº†è§£, æ¬¢è¿ç‚¹è¿›å»<a href="http://selenium-python.readthedocs.io/" target="_blank" rel="noopener">ä»–ä»¬çš„ Python æ•™å­¦å®˜ç½‘</a>.</p>
<p>æœ€å, Selenium çš„ä¼˜ç‚¹æˆ‘ä»¬éƒ½çœ‹å‡ºæ¥äº†, å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¸®ä½ æ¨¡æ‹Ÿä½ çš„æ“ä½œ, æ·»åŠ å…¶å®ƒæ“ä½œä¹Ÿæ˜¯éå¸¸å®¹æ˜“çš„, ä½†æ˜¯ä¹Ÿæ˜¯æœ‰ç¼ºç‚¹çš„, ä¸æ˜¯ä»»ä½•æ—¶å€™ selenium éƒ½å¾ˆå¥½. å› ä¸ºè¦æ‰“å¼€æµè§ˆå™¨, åŠ è½½æ›´å¤šä¸œè¥¿, å®ƒçš„æ‰§è¡Œé€Ÿåº¦è‚¯å®šæ²¡æœ‰å…¶å®ƒæ¨¡å—å¿«. æ‰€ä»¥å¦‚æœä½ éœ€è¦é€Ÿåº¦, èƒ½ä¸ç”¨ Selenium, å°±ä¸ç”¨å§.</p>
<h4 id="é«˜çº§çˆ¬è™«-é«˜æ•ˆæ— å¿§çš„-Scrapy-çˆ¬è™«åº“"><a href="#é«˜çº§çˆ¬è™«-é«˜æ•ˆæ— å¿§çš„-Scrapy-çˆ¬è™«åº“" class="headerlink" title="é«˜çº§çˆ¬è™«: é«˜æ•ˆæ— å¿§çš„ Scrapy çˆ¬è™«åº“"></a><strong>é«˜çº§çˆ¬è™«: é«˜æ•ˆæ— å¿§çš„ Scrapy çˆ¬è™«åº“</strong></h4><blockquote>
<p> å¦‚æœä½ æƒ³æ›´é«˜æ•ˆçš„å¼€å‘, çˆ¬å–ç½‘é¡µ, è®°å½•æ•°æ®åº“, Scrapy æ˜¯å€¼å¾—ä¸€æ¨çš„. å®ƒæ˜¯ä¸€ä¸ªçˆ¬è™«çš„æ¡†æ¶, è€Œä¸æ˜¯ä¸€ä¸ªç®€å•çš„çˆ¬è™«. å®ƒæ•´åˆäº†çˆ¬å–, å¤„ç†æ•°æ®, å­˜å‚¨æ•°æ®çš„ä¸€æ¡é¾™æœåŠ¡. å¦‚æœä½ åªéœ€è¦å¶å°”çš„ä¸€ä¸¤æ¬¡çˆ¬çˆ¬ç½‘é¡µ, å‰é¢çš„æ•™ç¨‹å·²ç»å¤Ÿäº†, å¦‚æœä½ éœ€è¦æ¯å¤©é çˆ¬è™«åƒé¥­, Scrapy è¿˜æ˜¯æœ‰å¿…è¦äº†è§£çš„</p>
<p>è¿™é‡Œä½ å†™å‡ºä¸€ä¸ª Scrapy å½¢å¼çš„çˆ¬è™«, å¸¦ä½ å…¥é—¨ Scrapy, ä½†æ˜¯ Scrapy ä¸ä»…ä»…åªæœ‰çˆ¬è™«, ä½ éœ€è¦å­¦ä¹ æ›´å¤š. é‚£å­¦ä¹  Scrapy çš„åœ°æ–¹, å½“ç„¶æ˜¯ä»–ä»¬<a href="https://docs.scrapy.org/en/latest/" target="_blank" rel="noopener">è‡ªå®¶ç½‘ç«™</a>å’¯.</p>
</blockquote>
<h4 id="Scrapy-çš„ä¼˜åŠ¿"><a href="#Scrapy-çš„ä¼˜åŠ¿" class="headerlink" title="Scrapy çš„ä¼˜åŠ¿"></a>Scrapy çš„ä¼˜åŠ¿</h4><p>Scrapy æ˜¯ä¸€ä¸ªæ•´åˆäº†çš„çˆ¬è™«æ¡†æ¶, æœ‰ç€éå¸¸å¥å…¨çš„ç®¡ç†ç³»ç»Ÿ. è€Œä¸”å®ƒä¹Ÿæ˜¯åˆ†å¸ƒå¼çˆ¬è™«, ä½†æ˜¯æ¯”æˆ‘ä»¬ä¹‹å‰å†™çš„é‚£ä¸ªåˆ†å¸ƒå¼çˆ¬è™«é«˜çº§å¤šäº†. è¿™é‡Œæ˜¯ Scrapy çš„æ¡†æ¶ç¤ºæ„å›¾(<a href="https://docs.scrapy.org/en/latest/topics/architecture.html#topics-architecture" target="_blank" rel="noopener">å›¾æº</a>). å®ƒçš„ç®¡ç†ä½“ç³»éå¸¸å¤æ‚. ä½†æ˜¯ç‰¹åˆ«é«˜æ•ˆ. è®©ä½ åˆåˆ·ç½‘é¡µ, åˆä¸‹è½½, åŒæ—¶èƒ½å¤„ç†æ•°æ®. ç®€ç›´åƒæ‰‹è§‚éŸ³å‘€.</p>
<p>è€Œä¸”åš Scrapy çš„é¡¹ç›®, ç»å¯¹ä¸æ˜¯åªéœ€è¦å†™ä¸€ä¸ªè„šæœ¬å°±èƒ½è§£å†³çš„. ä¸ºäº†æŠŠä½ å¸¦å…¥é—¨, è¿™æ¬¡æˆ‘ä»¬åªå†™ä¸€ä¸ªè„šæœ¬, åªæ¶‰åŠé‡Œé¢çš„çˆ¬è™«(spider)éƒ¨åˆ†. å…¶ä»–çš„éƒ¨åˆ†ä½ å¯ä»¥åœ¨è¿™é‡Œæ·±å…¥å­¦ä¹ .</p>
<ul>
<li>å®˜ç½‘æ•™ç¨‹ <a href="https://docs.scrapy.org/en/latest/" target="_blank" rel="noopener">è‹±æ–‡</a>, <a href="https://scrapy-chs.readthedocs.io/zh_CN/0.24/" target="_blank" rel="noopener">ä¸­æ–‡</a></li>
<li>JasonDing çš„<a href="https://www.jianshu.com/p/a8aad3bf4dc4" target="_blank" rel="noopener">å­¦ä¹ Scrapyå…¥é—¨</a></li>
<li>young-hz çš„<a href="http://blog.csdn.net/u012150179/article/details/32343635" target="_blank" rel="noopener">Scrapyç ”ç©¶æ¢ç´¢ç³»åˆ—</a></li>
</ul>
<h4 id="Scrapy-çˆ¬è™«"><a href="#Scrapy-çˆ¬è™«" class="headerlink" title="Scrapy çˆ¬è™«"></a>Scrapy çˆ¬è™«</h4><p>é¦–å…ˆä½ å¾—å®‰è£… Scrapy. åœ¨ terminal æˆ–è€… cmd ä½¿ç”¨ pip å®‰è£…å°±å¥½.</p>
<p>å¦‚æœå®‰è£…é‡åˆ°ä»»ä½•é—®é¢˜, å®ƒä»¬å®¶çš„<a href="https://docs.scrapy.org/en/latest/intro/install.html" target="_blank" rel="noopener">ç½‘ç«™</a>æ˜¯ä¸ªå¥½å»å¤„.</p>
<p>æˆ‘ä»¬å¯¼å…¥ scrapy æ¨¡å—, å¹¶åˆ›å»ºä¸€ä¸ª spider çš„ class. å¹¶ç»§æ‰¿ <code>scrapy.Spider</code>, ä¸€å®šè¿˜è¦ç»™è¿™ä¸ª spider ä¸€ä¸ªåå­—, æˆ‘å°±ç”¨ <code>mofan</code> å¥½äº†, å› ä¸ºæ˜¯çˆ¬ è«çƒ¦Python çš„. ç»™å®šä¸€äº›åˆå§‹çˆ¬å–çš„ç½‘é¡µ, å†™åœ¨ <code>start_urls</code> é‡Œ. è¿™é‡Œç‰¹åˆ«è¦æçš„æ˜¯: <strong>ä¹‹å‰æˆ‘ä»¬ç”¨ python çš„ set æ¥å»é™¤é‡å¤çš„ url, åœ¨ scrapy ä¸­, è¿™æ˜¯ä¸éœ€è¦çš„, å› ä¸ºå®ƒè‡ªåŠ¨å¸®ä½ å»é‡</strong>. </p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MofanSpider</span><span class="params">(scrapy.Spider)</span>:</span></span><br><span class="line">    name = <span class="string">"mofan"</span></span><br><span class="line">    start_urls = [</span><br><span class="line">        <span class="string">'https://xxx.com/'</span>,</span><br><span class="line">    ]</span><br><span class="line">    <span class="comment"># unseen = set()</span></span><br><span class="line">    <span class="comment"># seen = set()      # æˆ‘ä»¬ä¸åœ¨éœ€è¦ set äº†, å®ƒè‡ªåŠ¨å»é‡</span></span><br></pre></td></tr></tbody></table></figure>

<p>æ¥ç€æˆ‘ä»¬è¿˜è¦å®šä¹‰è¿™ä¸ª class ä¸­çš„ä¸€ä¸ªåŠŸèƒ½å°±èƒ½å®Œäº‹äº†. æˆ‘ä»¬ä½¿ç”¨ python çš„ <code>yield</code> æ¥è¿”å›æœé›†åˆ°çš„æ•°æ® (ä¸ºä»€ä¹ˆæ˜¯yield? å› ä¸ºåœ¨ scrapy ä¸­ä¹Ÿæœ‰å¼‚æ­¥å¤„ç†, åŠ é€Ÿæ•´ä½“æ•ˆç‡). è¿™äº› title å’Œ url çš„æ•°æ®, æˆ‘ä»¬éƒ½æ˜¯ç”¨ scrapy ä¸­<a href="https://docs.scrapy.org/en/latest/intro/tutorial.html#extracting-data" target="_blank" rel="noopener">æŠ“å–ä¿¡æ¯çš„æ–¹å¼</a>.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MofanSpider</span><span class="params">(scrapy.Spider)</span>:</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self, response)</span>:</span></span><br><span class="line">        <span class="keyword">yield</span> {     <span class="comment"># return some results</span></span><br><span class="line">            <span class="string">'title'</span>: response.css(<span class="string">'h1::text'</span>).extract_first(default=<span class="string">'Missing'</span>).strip().replace(<span class="string">'"'</span>, <span class="string">""</span>),</span><br><span class="line">            <span class="string">'url'</span>: response.url,</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        urls = response.css(<span class="string">'a::attr(href)'</span>).re(<span class="string">r'^/.+?/$'</span>)     <span class="comment"># find all sub urls</span></span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> urls:</span><br><span class="line">            <span class="keyword">yield</span> response.follow(url, callback=self.parse)     <span class="comment"># it will filter duplication automatically</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç„¶ååœ¨è¿™ä¸ªresponseç½‘é¡µä¸­ç­›é€‰ <code>urls</code>, è¿™é‡Œæˆ‘ä»¬ä¹Ÿä¸éœ€è¦ä½¿ç”¨ <code>urljoin()</code> è¿™ç§åŠŸèƒ½ç»™ url æ”¹å˜å½¢å¼. å®ƒåœ¨ <code>follow()</code> è¿™ä¸€æ­¥ä¼šè‡ªåŠ¨æ£€æµ‹ url çš„æ ¼å¼. (çœŸæ˜¯çœå¿ƒå•Š<del>), ç„¶åå¯¹äºæ¯ä¸ªæ‰¾åˆ°çš„ url, ç„¶å yield é‡æ–°ä½¿ç”¨ <code>self.parse()</code> æ¥çˆ¬å–, è¿™é‡Œåˆæ˜¯è‡ªåŠ¨å»é‡! Scrapy ä»¿ä½›çŸ¥é“ä½ æœ€ä¸æƒ³åšä»€ä¹ˆ, å®ƒè‡ªåŠ¨å¸®ä½ éƒ½åšå¥½äº†. å¼€å¿ƒ</del></p>
<p>æœ€åéœ€è¦è¿è¡Œçš„æ—¶å€™æœ‰ç‚¹ä¸åŒ, ä½ éœ€è¦åœ¨ terminal æˆ– cmd ä¸­è¿è¡Œè¿™ä¸ªçˆ¬è™«. è€Œä¸”è¿˜èƒ½å¸®ä½ ä¿å­˜åˆšåˆš yield çš„ <code>{title:, url:}</code> çš„ç»“æœ. <code>runspider 5-2-scrapy.py</code> å°±æ˜¯é€‰æ‹©ä½ è¦è·‘çš„è¿™ä¸ª Python æ–‡ä»¶.</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ scrapy runspider 5-2-scrapy.py -o res.json</span><br></pre></td></tr></tbody></table></figure>

<p><code>-o res.json</code> è¿™ä¸ª <code>-o</code> å°±æ˜¯è¾“å‡ºçš„æŒ‡ä»¤, ä½ å¯ä»¥åœ¨é‚£ä¸ªæ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°ä¸€ä¸ªåå­—å« <code>res.json</code> çš„æ–‡ä»¶, é‡Œé¢å­˜æœ‰æ‰€æœ‰æ‰¾åˆ°çš„ <code>{title:, url:}</code>.</p>
<p>å…¶å®æˆ‘ä»¬åªåšäº† scrapy ä¸­çš„çˆ¬è™«, ä¸€ä¸ªæ­£å¸¸çš„ scrapy é¡¹ç›®è¿˜åŒ…æ‹¬æœ‰å¾ˆå¤šå…¶ä»–çš„å†…å®¹(è§ä¸‹é¢). è¿™ä¸ªæ•™ç¨‹å°±ä¸ä¼šç»†è¯´äº†, å› ä¸ºå­¦å¥½ scrapy è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„. ä½ å¯ä»¥åœ¨ä¸Šé¢æ¨èç»™ä½ çš„é“¾æ¥ä¸­, ç»§ç»­æ·±å…¥å­¦ä¹  scrapy.</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>æ•°æ®æŒ–æ˜</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>reæ­£åˆ™å…¥é—¨</title>
    <url>/Introduction_to_RE_Regularization/</url>
    <content><![CDATA[<blockquote>
<p>æ­£åˆ™è¡¨è¾¾å¼ (Regular Expression) åˆç§° RegEx, æ˜¯ç”¨æ¥åŒ¹é…å­—ç¬¦çš„ä¸€ç§å·¥å…·. åœ¨ä¸€å¤§ä¸²å­—ç¬¦ä¸­å¯»æ‰¾ä½ éœ€è¦çš„å†…å®¹. å®ƒå¸¸è¢«ç”¨åœ¨å¾ˆå¤šæ–¹é¢, æ¯”å¦‚ç½‘é¡µçˆ¬è™«, æ–‡ç¨¿æ•´ç†, æ•°æ®ç­›é€‰ç­‰ç­‰</p>
</blockquote>
<a id="more"></a>

<h2 id="ğŸŒ¸reæ­£åˆ™å…¥é—¨"><a href="#ğŸŒ¸reæ­£åˆ™å…¥é—¨" class="headerlink" title="ğŸŒ¸reæ­£åˆ™å…¥é—¨"></a>ğŸŒ¸reæ­£åˆ™å…¥é—¨</h2><blockquote>
<p>æ­£åˆ™è¡¨è¾¾å¼ (Regular Expression) åˆç§° RegEx, æ˜¯ç”¨æ¥åŒ¹é…å­—ç¬¦çš„ä¸€ç§å·¥å…·. åœ¨ä¸€å¤§ä¸²å­—ç¬¦ä¸­å¯»æ‰¾ä½ éœ€è¦çš„å†…å®¹. å®ƒå¸¸è¢«ç”¨åœ¨å¾ˆå¤šæ–¹é¢, æ¯”å¦‚ç½‘é¡µçˆ¬è™«, æ–‡ç¨¿æ•´ç†, æ•°æ®ç­›é€‰ç­‰ç­‰</p>
</blockquote>
<h3 id="ç®€å•çš„åŒ¹é…"><a href="#ç®€å•çš„åŒ¹é…" class="headerlink" title="ç®€å•çš„åŒ¹é…"></a>ç®€å•çš„åŒ¹é…</h3><p>æ­£åˆ™è¡¨è¾¾å¼æ— éå°±æ˜¯åœ¨åšè¿™ä¹ˆä¸€å›äº‹. åœ¨æ–‡å­—ä¸­æ‰¾åˆ°ç‰¹å®šçš„å†…å®¹, æ¯”å¦‚ä¸‹é¢çš„å†…å®¹. æˆ‘ä»¬åœ¨ dog runs to cat è¿™å¥è¯ä¸­å¯»æ‰¾æ˜¯å¦å­˜åœ¨ cat æˆ–è€… bird.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># matching string</span></span><br><span class="line">pattern1 = <span class="string">"cat"</span></span><br><span class="line">pattern2 = <span class="string">"bird"</span></span><br><span class="line">string = <span class="string">"dog runs to cat"</span></span><br><span class="line">print(pattern1 <span class="keyword">in</span> string)    <span class="comment"># True</span></span><br><span class="line">print(pattern2 <span class="keyword">in</span> string)    <span class="comment"># False</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä½†æ˜¯æ­£åˆ™è¡¨è¾¾å¼ç»éä¸æ­¢è¿™æ ·ç®€å•çš„åŒ¹é…, å®ƒè¿˜èƒ½åšæ›´åŠ é«˜çº§çš„å†…å®¹. è¦ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼, é¦–å…ˆéœ€è¦è°ƒç”¨ä¸€ä¸ª python çš„å†…ç½®æ¨¡å— <code>re</code>. ç„¶åæˆ‘ä»¬é‡å¤ä¸Šé¢çš„æ­¥éª¤, ä¸è¿‡è¿™æ¬¡ä½¿ç”¨æ­£åˆ™. å¯ä»¥çœ‹å‡º, å¦‚æœ <code>re.search()</code> æ‰¾åˆ°äº†ç»“æœ, å®ƒä¼šè¿”å›ä¸€ä¸ª match çš„ object. å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°, å®ƒä¼šè¿”å› None. è¿™ä¸ª <code>re.search()</code> åªæ˜¯ <code>re</code> ä¸­çš„ä¸€ä¸ªåŠŸèƒ½, ä¹‹åä¼šä»‹ç»å…¶å®ƒçš„åŠŸèƒ½.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment"># regular expression</span></span><br><span class="line">pattern1 = <span class="string">"cat"</span></span><br><span class="line">pattern2 = <span class="string">"bird"</span></span><br><span class="line">string = <span class="string">"dog runs to cat"</span></span><br><span class="line">print(re.search(pattern1, string))  <span class="comment"># &lt; match='cat'&gt;</span></span><br><span class="line">print(re.search(pattern2, string))  <span class="comment"># None</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="çµæ´»åŒ¹é…"><a href="#çµæ´»åŒ¹é…" class="headerlink" title="çµæ´»åŒ¹é…"></a>çµæ´»åŒ¹é…</h3><p>é™¤äº†ä¸Šé¢çš„ç®€å•åŒ¹é…, ä¸‹é¢çš„å†…å®¹æ‰æ˜¯æ­£åˆ™çš„æ ¸å¿ƒå†…å®¹, ä½¿ç”¨ç‰¹æ®Šçš„ pattern æ¥çµæ´»åŒ¹é…éœ€è¦æ‰¾çš„æ–‡å­—.</p>
<p>å¦‚æœéœ€è¦æ‰¾åˆ°æ½œåœ¨çš„å¤šä¸ªå¯èƒ½æ€§æ–‡å­—, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>[]</code> å°†å¯èƒ½çš„å­—ç¬¦å›Šæ‹¬è¿›æ¥. æ¯”å¦‚ <code>[ab]</code> å°±è¯´æ˜æˆ‘æƒ³è¦æ‰¾çš„å­—ç¬¦å¯ä»¥æ˜¯ <code>a</code> ä¹Ÿå¯ä»¥æ˜¯ <code>b</code>. è¿™é‡Œæˆ‘ä»¬è¿˜éœ€è¦æ³¨æ„çš„æ˜¯, å»ºç«‹ä¸€ä¸ªæ­£åˆ™çš„è§„åˆ™, æˆ‘ä»¬åœ¨ pattern çš„ â€œå‰é¢éœ€è¦åŠ ä¸Šä¸€ä¸ª <code>r</code> ç”¨æ¥è¡¨ç¤ºè¿™æ˜¯æ­£åˆ™è¡¨è¾¾å¼, è€Œä¸æ˜¯æ™®é€šå­—ç¬¦ä¸². é€šè¿‡ä¸‹é¢è¿™ç§å½¢å¼, å¦‚æœå­—ç¬¦ä¸²ä¸­å‡ºç°runæˆ–è€…æ˜¯ranâ€, å®ƒéƒ½èƒ½æ‰¾åˆ°.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># multiple patterns ("run" or "ran")</span></span><br><span class="line">ptn = <span class="string">r"r[au]n"</span>       <span class="comment"># start with "r" means raw string</span></span><br><span class="line">print(re.search(ptn, <span class="string">"dog runs to cat"</span>))    <span class="comment"># &lt;match='run'&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>åŒæ ·, ä¸­æ‹¬å· <code>[]</code> ä¸­è¿˜å¯ä»¥æ˜¯ä»¥ä¸‹è¿™äº›æˆ–è€…æ˜¯è¿™äº›çš„ç»„åˆ. æ¯”å¦‚ <code>[A-Z]</code> è¡¨ç¤ºçš„å°±æ˜¯æ‰€æœ‰å¤§å†™çš„è‹±æ–‡å­—æ¯. <code>[0-9a-z]</code> è¡¨ç¤ºå¯ä»¥æ˜¯æ•°å­—ä¹Ÿå¯ä»¥æ˜¯ä»»ä½•å°å†™å­—æ¯.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">print(re.search(<span class="string">r"r[A-Z]n"</span>, <span class="string">"dog runs to cat"</span>))     <span class="comment"># None</span></span><br><span class="line">print(re.search(<span class="string">r"r[a-z]n"</span>, <span class="string">"dog runs to cat"</span>))     <span class="comment"># &lt;match='run'&gt;</span></span><br><span class="line">print(re.search(<span class="string">r"r[0-9]n"</span>, <span class="string">"dog r2ns to cat"</span>))     <span class="comment"># &lt;match='r2n'&gt;</span></span><br><span class="line">print(re.search(<span class="string">r"r[0-9a-z]n"</span>, <span class="string">"dog runs to cat"</span>))  <span class="comment"># &lt;match='run'&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="æŒ‰ç±»å‹åŒ¹é…"><a href="#æŒ‰ç±»å‹åŒ¹é…" class="headerlink" title="æŒ‰ç±»å‹åŒ¹é…"></a>æŒ‰ç±»å‹åŒ¹é…</h3><p>é™¤äº†è‡ªå·±å®šä¹‰è§„åˆ™, è¿˜æœ‰å¾ˆå¤šåŒ¹é…çš„è§„åˆ™æ—¶æå‰å°±ç»™ä½ å®šä¹‰å¥½äº†çš„. ä¸‹é¢æœ‰ä¸€äº›ç‰¹æ®Šçš„åŒ¹é…ç±»å‹ç»™å¤§å®¶å…ˆæ€»ç»“ä¸€ä¸‹, ç„¶åå†ä¸Šä¸€äº›ä¾‹å­.</p>
<ul>
<li>\d : ä»»ä½•æ•°å­—</li>
<li>\D : ä¸æ˜¯æ•°å­—</li>
<li>\s : ä»»ä½• white space, å¦‚ [\t\n\r\f\v]</li>
<li>\S : ä¸æ˜¯ white space</li>
<li>\w : ä»»ä½•å¤§å°å†™å­—æ¯, æ•°å­—å’Œ _ [a-zA-Z0-9_]</li>
<li>\W : ä¸æ˜¯ \w</li>
<li>\b : ç©ºç™½å­—ç¬¦ (<strong>åª</strong>åœ¨æŸä¸ªå­—çš„å¼€å¤´æˆ–ç»“å°¾)</li>
<li>\B : ç©ºç™½å­—ç¬¦ (<strong>ä¸</strong>åœ¨æŸä¸ªå­—çš„å¼€å¤´æˆ–ç»“å°¾)</li>
<li>\ : åŒ¹é… \</li>
<li>. : åŒ¹é…ä»»ä½•å­—ç¬¦ (é™¤äº† \n)</li>
<li>^ : åŒ¹é…å¼€å¤´</li>
<li>$ : åŒ¹é…ç»“å°¾</li>
<li>? : å‰é¢çš„å­—ç¬¦å¯æœ‰å¯æ— </li>
</ul>
<p>ä¸‹é¢å°±æ˜¯å…·ä½“çš„ä¸¾ä¾‹è¯´æ˜.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># \d : decimal digit</span></span><br><span class="line">print(re.search(<span class="string">r"r\dn"</span>, <span class="string">"run r4n"</span>))           <span class="comment"># &lt;match='r4n'&gt;</span></span><br><span class="line"><span class="comment"># \D : any non-decimal digit</span></span><br><span class="line">print(re.search(<span class="string">r"r\Dn"</span>, <span class="string">"run r4n"</span>))           <span class="comment"># &lt;match='run'&gt;</span></span><br><span class="line"><span class="comment"># \s : any white space [\t\n\r\f\v]</span></span><br><span class="line">print(re.search(<span class="string">r"r\sn"</span>, <span class="string">"r\nn r4n"</span>))          <span class="comment"># &lt;match='r\nn'&gt;</span></span><br><span class="line"><span class="comment"># \S : opposite to \s, any non-white space</span></span><br><span class="line">print(re.search(<span class="string">r"r\Sn"</span>, <span class="string">"r\nn r4n"</span>))          <span class="comment"># &lt; match='r4n'&gt;</span></span><br><span class="line"><span class="comment"># \w : [a-zA-Z0-9_]</span></span><br><span class="line">print(re.search(<span class="string">r"r\wn"</span>, <span class="string">"r\nn r4n"</span>))          <span class="comment"># &lt;match='r4n'&gt;</span></span><br><span class="line"><span class="comment"># \W : opposite to \w</span></span><br><span class="line">print(re.search(<span class="string">r"r\Wn"</span>, <span class="string">"r\nn r4n"</span>))          <span class="comment"># &lt;match='r\nn'&gt;</span></span><br><span class="line"><span class="comment"># \b : empty string (only at the start or end of the word)</span></span><br><span class="line">print(re.search(<span class="string">r"\bruns\b"</span>, <span class="string">"dog runs to cat"</span>))    <span class="comment"># &lt;match='runs'&gt;</span></span><br><span class="line"><span class="comment"># \B : empty string (but not at the start or end of a word)</span></span><br><span class="line">print(re.search(<span class="string">r"\B runs \B"</span>, <span class="string">"dog   runs  to cat"</span>))  <span class="comment"># &lt;match=' runs '&gt;</span></span><br><span class="line"><span class="comment"># \\ : match \</span></span><br><span class="line">print(re.search(<span class="string">r"runs\\"</span>, <span class="string">"runs\ to me"</span>))     <span class="comment"># &lt;match='runs\\'&gt;</span></span><br><span class="line"><span class="comment"># . : match anything (except \n)</span></span><br><span class="line">print(re.search(<span class="string">r"r.n"</span>, <span class="string">"r[ns to me"</span>))         <span class="comment"># &lt;match='r[n'&gt;</span></span><br><span class="line"><span class="comment"># ^ : match line beginning</span></span><br><span class="line">print(re.search(<span class="string">r"^dog"</span>, <span class="string">"dog runs to cat"</span>))   <span class="comment"># &lt;match='dog'&gt;</span></span><br><span class="line"><span class="comment"># $ : match line ending</span></span><br><span class="line">print(re.search(<span class="string">r"cat$"</span>, <span class="string">"dog runs to cat"</span>))   <span class="comment"># &lt;match='cat'&gt;</span></span><br><span class="line"><span class="comment"># ? : may or may not occur</span></span><br><span class="line">print(re.search(<span class="string">r"Mon(day)?"</span>, <span class="string">"Monday"</span>))       <span class="comment"># &lt;match='Monday'&gt;</span></span><br><span class="line">print(re.search(<span class="string">r"Mon(day)?"</span>, <span class="string">"Mon"</span>))          <span class="comment"># &lt;match='Mon'&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²æœ‰å¾ˆå¤šè¡Œ, æˆ‘ä»¬æƒ³ä½¿ç”¨ <code>^</code> å½¢å¼æ¥åŒ¹é…è¡Œå¼€å¤´çš„å­—ç¬¦, å¦‚æœç”¨é€šå¸¸çš„å½¢å¼æ˜¯ä¸æˆåŠŸçš„. æ¯”å¦‚ä¸‹é¢çš„ I å‡ºç°åœ¨ç¬¬äºŒè¡Œå¼€å¤´, ä½†æ˜¯ä½¿ç”¨ <code>r"^I"</code> å´åŒ¹é…ä¸åˆ°ç¬¬äºŒè¡Œ, è¿™æ—¶å€™, æˆ‘ä»¬è¦ä½¿ç”¨ å¦å¤–ä¸€ä¸ªå‚æ•°, è®© <code>re.search()</code> å¯ä»¥å¯¹æ¯ä¸€è¡Œå•ç‹¬å¤„ç†. è¿™ä¸ªå‚æ•°å°±æ˜¯ <code>flags=re.M</code>, æˆ–è€…è¿™æ ·å†™ä¹Ÿè¡Œ <code>flags=re.MULTILINE</code>.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">string = <span class="string">"""</span></span><br><span class="line"><span class="string">dog runs to cat.</span></span><br><span class="line"><span class="string">I run to dog.</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">print(re.search(<span class="string">r"^I"</span>, string))                 <span class="comment"># None</span></span><br><span class="line">print(re.search(<span class="string">r"^I"</span>, string, flags=re.M))     <span class="comment"># &lt;match='I'&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="é‡å¤åŒ¹é…"><a href="#é‡å¤åŒ¹é…" class="headerlink" title="é‡å¤åŒ¹é…"></a>é‡å¤åŒ¹é…</h3><p>å¦‚æœæˆ‘ä»¬æƒ³è®©æŸä¸ªè§„å¾‹è¢«é‡å¤ä½¿ç”¨, åœ¨æ­£åˆ™é‡Œé¢ä¹Ÿæ˜¯å¯ä»¥å®ç°çš„, è€Œä¸”å®ç°çš„æ–¹å¼è¿˜æœ‰å¾ˆå¤š. å…·ä½“å¯ä»¥åˆ†ä¸ºè¿™ä¸‰ç§:</p>
<ul>
<li><code>*</code> : é‡å¤é›¶æ¬¡æˆ–å¤šæ¬¡</li>
<li><code>+</code> : é‡å¤ä¸€æ¬¡æˆ–å¤šæ¬¡</li>
<li><code>{n, m}</code> : é‡å¤ n è‡³ m æ¬¡</li>
<li><code>{n}</code> : é‡å¤ n æ¬¡</li>
</ul>
<p>ä¸¾ä¾‹å¦‚ä¸‹:</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># * : occur 0 or more times</span></span><br><span class="line">print(re.search(<span class="string">r"ab*"</span>, <span class="string">"a"</span>))             <span class="comment"># &lt;match='a'&gt;</span></span><br><span class="line">print(re.search(<span class="string">r"ab*"</span>, <span class="string">"abbbbb"</span>))        <span class="comment"># &lt;match='abbbbb'&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># + : occur 1 or more times</span></span><br><span class="line">print(re.search(<span class="string">r"ab+"</span>, <span class="string">"a"</span>))             <span class="comment"># None</span></span><br><span class="line">print(re.search(<span class="string">r"ab+"</span>, <span class="string">"abbbbb"</span>))        <span class="comment"># &lt;match='abbbbb'&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># {n, m} : occur n to m times</span></span><br><span class="line">print(re.search(<span class="string">r"ab{2,10}"</span>, <span class="string">"a"</span>))        <span class="comment"># None</span></span><br><span class="line">print(re.search(<span class="string">r"ab{2,10}"</span>, <span class="string">"abbbbb"</span>))   <span class="comment"># &lt;match='abbbbb'&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="åˆ†ç»„"><a href="#åˆ†ç»„" class="headerlink" title="åˆ†ç»„"></a>åˆ†ç»„</h3><p>æˆ‘ä»¬ç”šè‡³å¯ä»¥ä¸ºæ‰¾åˆ°çš„å†…å®¹åˆ†ç»„, ä½¿ç”¨ <code>()</code> èƒ½è½»æ¾å®ç°è¿™ä»¶äº‹. é€šè¿‡åˆ†ç»„, æˆ‘ä»¬èƒ½è½»æ¾å®šä½æ‰€æ‰¾åˆ°çš„å†…å®¹. æ¯”å¦‚åœ¨è¿™ä¸ª <code>(\d+)</code> ç»„é‡Œ, éœ€è¦æ‰¾åˆ°çš„æ˜¯ä¸€äº›æ•°å­—, åœ¨ <code>(.+)</code> è¿™ä¸ªç»„é‡Œ, æˆ‘ä»¬ä¼šæ‰¾åˆ° Date: åé¢çš„æ‰€æœ‰å†…å®¹. å½“ä½¿ç”¨ <code>match.group()</code> æ—¶, ä»–ä¼šè¿”å›æ‰€æœ‰ç»„é‡Œçš„å†…å®¹, è€Œå¦‚æœç»™ <code>.group(2)</code> é‡ŒåŠ ä¸€ä¸ªæ•°, å®ƒå°±èƒ½å®šä½ä½ éœ€è¦è¿”å›å“ªä¸ªç»„é‡Œçš„ä¿¡æ¯.</p>
<figure class="highlight py"><table><tbody><tr><td class="code"><pre><span class="line">match = re.search(<span class="string">r"(\d+), Date: (.+)"</span>, <span class="string">"ID: 021523, Date: Feb/12/2017"</span>)</span><br><span class="line">print(match.group())                   <span class="comment"># 021523, Date: Feb/12/2017</span></span><br><span class="line">print(match.group(<span class="number">1</span>))                  <span class="comment"># 021523</span></span><br><span class="line">print(match.group(<span class="number">2</span>))                  <span class="comment"># Date: Feb/12/2017</span></span><br></pre></td></tr></tbody></table></figure>

<p>æœ‰æ—¶å€™, ç»„ä¼šå¾ˆå¤š, å…‰ç”¨æ•°å­—å¯èƒ½æ¯”è¾ƒéš¾æ‰¾åˆ°è‡ªå·±æƒ³è¦çš„ç»„, è¿™æ—¶å€™, å¦‚æœæœ‰ä¸€ä¸ªåå­—å½“åšç´¢å¼•, ä¼šæ˜¯ä¸€ä»¶å¾ˆå®¹æ˜“çš„äº‹. æˆ‘ä»¬å­—éœ€è¦åœ¨æ‹¬å·çš„å¼€å¤´å†™ä¸Šè¿™æ ·çš„å½¢å¼ <code>?P&lt;åå­—&gt;</code> å°±ç»™è¿™ä¸ªç»„å®šä¹‰äº†ä¸€ä¸ªåå­—. ç„¶åå°±èƒ½ç”¨è¿™ä¸ªåå­—æ‰¾åˆ°è¿™ä¸ªç»„çš„å†…å®¹.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">match = re.search(<span class="string">r"(?P&lt;id&gt;\d+), Date: (?P&lt;date&gt;.+)"</span>, <span class="string">"ID: 021523, Date: Feb/12/2017"</span>)</span><br><span class="line">print(match.group(<span class="string">'id'</span>))                <span class="comment"># 021523</span></span><br><span class="line">print(match.group(<span class="string">'date'</span>))              <span class="comment"># Date: Feb/12/2017</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="findall"><a href="#findall" class="headerlink" title="findall"></a>findall</h3><p>å‰é¢æˆ‘ä»¬è¯´çš„éƒ½æ˜¯åªæ‰¾åˆ°äº†æœ€å¼€å§‹åŒ¹é…ä¸Šçš„ä¸€é¡¹è€Œå·², å¦‚æœéœ€è¦æ‰¾åˆ°å…¨éƒ¨çš„åŒ¹é…é¡¹, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>findall</code> åŠŸèƒ½. ç„¶åè¿”å›ä¸€ä¸ªåˆ—è¡¨. æ³¨æ„ä¸‹é¢è¿˜æœ‰ä¸€ä¸ªæ–°çš„çŸ¥è¯†ç‚¹, <code>|</code> æ˜¯ or çš„æ„æ€, è¦ä¸æ˜¯å‰è€…è¦ä¸æ˜¯åè€….</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># findall</span></span><br><span class="line">print(re.findall(<span class="string">r"r[ua]n"</span>, <span class="string">"run ran ren"</span>))    <span class="comment"># ['run', 'ran']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># | : or</span></span><br><span class="line">print(re.findall(<span class="string">r"(run|ran)"</span>, <span class="string">"run ran ren"</span>)) <span class="comment"># ['run', 'ran']</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="replace"><a href="#replace" class="headerlink" title="replace"></a>replace</h3><p>æˆ‘ä»¬è¿˜èƒ½é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ä¸Šä¸€äº›å½¢å¼çš„å­—ç¬¦ä¸²ç„¶åå†æ›¿ä»£æ‰è¿™äº›å­—ç¬¦ä¸². ä½¿ç”¨è¿™ç§åŒ¹é… <code>re.sub()</code>, å°†ä¼šæ¯” python è‡ªå¸¦çš„ <code>string.replace()</code> è¦çµæ´»å¤šå˜.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">print(re.sub(<span class="string">r"r[au]ns"</span>, <span class="string">"catches"</span>, <span class="string">"dog runs to cat"</span>))     <span class="comment"># dog catches to cat</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="split"><a href="#split" class="headerlink" title="split"></a>split</h3><p>å†æ¥æˆ‘ä»¬ Python ä¸­æœ‰ä¸ªå­—ç¬¦ä¸²çš„åˆ†å‰²åŠŸèƒ½, æ¯”å¦‚æƒ³è·å–ä¸€å¥è¯ä¸­æ‰€æœ‰çš„å•è¯. æ¯”å¦‚ <code>"a is b".split(" ")</code>, è¿™æ ·å®ƒå°±ä¼šäº§ç”Ÿä¸€ä¸ªåˆ—è¡¨æ¥ä¿å­˜æ‰€æœ‰å•è¯. ä½†æ˜¯åœ¨æ­£åˆ™ä¸­, è¿™ç§æ™®é€šçš„åˆ†å‰²ä¹Ÿå¯ä»¥åšçš„æ·‹æ¼“ç²¾è‡´</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">print(re.split(<span class="string">r"[,;\.]"</span>, <span class="string">"a;b,c.d;e"</span>))             <span class="comment"># ['a', 'b', 'c', 'd', 'e']</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="compile"><a href="#compile" class="headerlink" title="compile"></a>compile</h3><p>æœ€å, æˆ‘ä»¬è¿˜èƒ½ä½¿ç”¨ compile è¿‡åçš„æ­£åˆ™, æ¥å¯¹è¿™ä¸ªæ­£åˆ™é‡å¤ä½¿ç”¨. å…ˆå°†æ­£åˆ™ compile è¿›ä¸€ä¸ªå˜é‡, æ¯”å¦‚ <code>compiled_re</code>, ç„¶åç›´æ¥ä½¿ç”¨è¿™ä¸ª <code>compiled_re</code> æ¥æœç´¢.</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">compiled_re = re.compile(<span class="string">r"r[ua]n"</span>)</span><br><span class="line">print(compiled_re.search(<span class="string">"dog ran to cat"</span>))  <span class="comment"># &lt; match='ran'&gt;</span></span><br></pre></td></tr></tbody></table></figure>



<h3 id="é™„ï¼šæ­£åˆ™å­¦ä¹ è·¯å¾„"><a href="#é™„ï¼šæ­£åˆ™å­¦ä¹ è·¯å¾„" class="headerlink" title="é™„ï¼šæ­£åˆ™å­¦ä¹ è·¯å¾„"></a>é™„ï¼š<a href="https://www.cnblogs.com/huxi/archive/2010/07/04/1771073.html" target="_blank" rel="noopener">æ­£åˆ™å­¦ä¹ è·¯å¾„</a></h3><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>æ•°æ®æŒ–æ˜</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>Easy to mix knowledge points of C language</title>
    <url>/knowledge_C_language/</url>
    <content><![CDATA[<blockquote>
<p> æˆéƒ½ä¿¡æ¯å·¥ç¨‹å¤§å­¦807ç¨‹åºè®¾è®¡åŸºç¡€æ˜“é”™çŸ¥è¯†ç‚¹æ±‡æ€»</p>
</blockquote>
<a id="more"></a>

<h1 id="ğŸŒ¸æ˜“æ··çŸ¥è¯†ç‚¹"><a href="#ğŸŒ¸æ˜“æ··çŸ¥è¯†ç‚¹" class="headerlink" title="ğŸŒ¸æ˜“æ··çŸ¥è¯†ç‚¹"></a>ğŸŒ¸æ˜“æ··çŸ¥è¯†ç‚¹</h1><ol>
<li><p>å…³äºnew delete ä¸malloc free çš„è”ç³»ä¸åŒºåˆ«æè¿°ï¼Ÿã€‹</p>
<ul>
<li>ç”¨mallocå‡½æ•°éœ€è¦æŒ‡å®šå†…å­˜åˆ†é…çš„å­—èŠ‚æ•°å¹¶ä¸”ä¸èƒ½åˆå§‹åŒ–å¯¹è±¡ï¼Œnew ä¼šè‡ªåŠ¨è°ƒç”¨å¯¹è±¡çš„æ„é€ å‡½æ•°</li>
<li>delete ä¼šè°ƒç”¨å¯¹è±¡çš„destructorï¼Œè€Œfree ä¸ä¼šè°ƒç”¨å¯¹è±¡çš„destructor</li>
<li>éƒ½æ˜¯åœ¨å †ä¸Šå–å¾—å†…å­˜ã€‚</li>
</ul>
</li>
<li><pre><code class="c++"><span class="keyword">char</span> *p1 = <span class="string">"123"</span>, *p2 = <span class="string">"ABC"</span>, strï¼»<span class="number">50</span>ï¼½= <span class="string">"xyz"</span>;
<span class="built_in">strcpy</span>(str + <span class="number">2</span>, <span class="built_in">strcat</span>(p1, p2));
<span class="built_in">cout</span> &lt;&lt; str;
&lt;!--ï¿¼<span class="number">0</span>--&gt;
 <span class="keyword">char</span> str[<span class="number">20</span>]=<span class="string">"0123456789"</span>; <span class="keyword">int</span> a=<span class="built_in">strlen</span>(str); <span class="comment">//a=10; &gt;&gt;&gt; strlen è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä»¥ç»“æŸç¬¦ 0x00 ä¸ºå­—ç¬¦ä¸²ç»“æŸã€‚ int b=sizeof(str); //è€Œb=20; &gt;&gt;&gt; sizeof è®¡ç®—çš„åˆ™æ˜¯åˆ†é…çš„æ•°ç»„ str[20] æ‰€å çš„å†…å­˜ç©ºé—´çš„å¤§å°ï¼Œä¸å—é‡Œé¢å­˜å‚¨çš„å†…å®¹æ”¹å˜ã€‚ ä¸Šé¢æ˜¯å¯¹é™æ€æ•°ç»„å¤„ç†çš„ç»“æœã€‚</span>
 &lt;!--ï¿¼<span class="number">1</span>--&gt;</code></pre>
</li>
<li><p><font color="red">return åé¢æ‹¬å·çš„å€¼ä¸ä¸€å®šæ˜¯å‡½æ•°çš„å€¼</font>ï¼Œè­¬å¦‚å‡½æ•°è¿”å›å€¼ä¸return ç±»å‹ä¸ä¸€è‡´éœ€è¦ç±»å‹è½¬æ¢ï¼Œè¿”å›å€¼ä¸º int ï¼Œretun 3.2 ï¼Œé‚£ä¹ˆè‚¯å®šä¼šè¿›è¡Œè½¬æ¢çš„</p>
</li>
<li><p>å®å‹å­—é¢å€¼å¸¸é‡æœ‰ä¸¤ç§è¡¨ç¤ºæ–¹å¼ï¼šå°æ•°å½¢å¼å’ŒæŒ‡æ•°å½¢å¼</p>
<pre><code>å°æ•°å½¢å¼ï¼šç”±æœ€å‰é¢çš„é¢æ­£è´Ÿå·ï¼Œæ•°å­—0-9å’Œå°æ•°ç‚¹ç»„æˆï¼Œä¸å…è®¸æœ‰å…¶ä»–ç¬¦å·ï¼›

æŒ‡æ•°å½¢å¼ï¼›åŒ…æ‹¬æŒ‡æ•°å’Œå°¾æ•°ä¸¤ä¸ªä¸å¯ç¼ºå°‘çš„éƒ¨åˆ†ï¼Œç”¨ç¬¦å·E(e)åˆ†å‰²ï¼›E(e)å·¦è¾¹æ˜¯å°¾æ•°ï¼Œä¸ºåè¿›åˆ¶æ•´æ•°æˆ–å°æ•°å½¢å¼çš„å®æ•°ï¼Œå³è¾¹ä¸ºæŒ‡æ•°ï¼Œå¿…é¡»ä¸ºåè¿›åˆ¶æ•´æ•°ï¼Œè¡¨ç¤ºä¹˜ä»¥10çš„å¤šå°‘æ¬¡æ–¹</code></pre></li>
<li><p>BSSï¼ˆBlock Started by Symbolï¼‰é€šå¸¸æ˜¯æŒ‡ç”¨æ¥å­˜æ”¾ç¨‹åºä¸­æœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡çš„ä¸€å—å†…å­˜åŒºåŸŸã€‚ç‰¹ç‚¹æ˜¯:å¯è¯»å†™çš„ï¼Œåœ¨ç¨‹åºæ‰§è¡Œä¹‹å‰BSSæ®µä¼šè‡ªåŠ¨æ¸…0ã€‚æ‰€ä»¥ï¼Œæœªåˆå§‹çš„å…¨å±€å˜é‡åœ¨ç¨‹åºæ‰§è¡Œä¹‹å‰å·²ç»æˆ0äº†ã€‚</p>
</li>
<li><p>A.å•é“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½å…·æœ‰å”¯ä¸€çš„å‰é©±èŠ‚ç‚¹å’Œå”¯ä¸€çš„åç»§èŠ‚ç‚¹ï¼Œæ‰€ä»¥å½“ä¸¤ä¸ªå•é“¾è¡¨å­˜åœ¨ç›¸äº¤çš„èŠ‚ç‚¹æ—¶ï¼Œè¿™ä¸¤ä¸ªé“¾è¡¨åˆ™åŒæ—¶æ‹¥æœ‰è¿™ä¸ªèŠ‚ç‚¹ï¼Œä»¥åŠè¿™ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰åç»§èŠ‚ç‚¹ï¼Œå½“è¿™ä¸ªå…¬å…±èŠ‚ç‚¹æ˜¯å°¾èŠ‚ç‚¹æ—¶ï¼Œä»–ä»¬åˆ™åªå«æœ‰å…¬å…±ä¸€ä¸ªèŠ‚ç‚¹â€”â€”-å°¾èŠ‚ç‚¹ã€‚</p>
<p>B.å¿«æ…¢æŒ‡é’ˆæ˜¯åˆ¤æ–­å•é“¾è¡¨æ˜¯å¦æœ‰ç¯çš„ä¸€ç§æ–¹æ³•ï¼šä¸¤ä¸ªæŒ‡é’ˆï¼Œæ¯æ¬¡ç§»åŠ¨çš„æ­¥é•¿ä¸º2å«åšå¿«æŒ‡é’ˆï¼Œæ¯æ¬¡ç§»åŠ¨æ­¥é•¿ä¸º1çš„æŒ‡é’ˆå«åšæ…¢æŒ‡é’ˆã€‚å¿«æ…¢æŒ‡é’ˆåŒæ—¶ä»å¤´ç»“ç‚¹å‡ºå‘ï¼Œå½“å¿«æŒ‡é’ˆç‡å…ˆåˆ°è¾¾NULLçš„æ—¶å€™ï¼Œåˆ™è¯´æ˜æ­¤å•é“¾è¡¨ä¸­ä¸å­˜åœ¨ç¯ï¼Œå½“å¿«æŒ‡é’ˆè¿½ä¸Šæ…¢æŒ‡é’ˆçš„æ—¶å€™ï¼Œè¯´æ˜æ­¤å•é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚</p>
<p>C.<font color="red">æœ‰ç¯çš„å•å‘é“¾è¡¨å’Œæ— ç¯çš„å•å‘é“¾è¡¨ä¸èƒ½ç›¸äº¤</font>ï¼Œå› ä¸ºå½“ç›¸äº¤çš„æ—¶å€™ï¼Œæ— ç¯çš„å•å‘é“¾è¡¨ä¹Ÿä¼šè¢«è¿«å­˜åœ¨ä¸€ä¸ªç¯ï¼Œåªä¸è¿‡è¿™ä¸ªç¯çš„â€èµ·ç‚¹â€œå¯èƒ½ä¸æ˜¯åŸæ¥å•å‘é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚</p>
<p>4.ä¸¤ä¸ªå•å‘é“¾è¡¨ä¹‹é—´ç›¸äº¤å¯ä»¥å­˜åœ¨ç¯ã€‚</p>
</li>
<li><p>å­˜åœ¨è¿™æ ·çš„çº¿æ€§è¡¨ï¼šè¡¨ä¸­å„ç»“ç‚¹éƒ½æ²¡æœ‰ç›´æ¥å‰è¶‹å’Œç›´æ¥åç»§ã€‚â€“ç©ºè¡¨</p>
</li>
<li><p>%%d=%%å’Œd</p>
<pre><code>%%åœ¨å±å¹•ä¸Šæ˜¾ç¤ºä¸º%

dè¿˜æ˜¯d

æ‰€ä»¥æ˜¯å’Œkæ²¡æœ‰å…³ç³»äº†~</code></pre></li>
<li><p>é˜Ÿåˆ—å®ç°æ–¹å¼æœ‰é“¾è¡¨å­˜å‚¨å’Œé¡ºåºè¡¨å­˜å‚¨ä¸¤ç§ï¼šé“¾è¡¨å­˜å‚¨å¯è®¾è®¡ä¸ºå¸¦æœ‰å°¾æŒ‡é’ˆçš„å•é“¾è¡¨ï¼Œå³å¯é«˜æ•ˆå®ç°å…¥é˜Ÿå‡ºé˜Ÿï¼Œæ— éœ€å¾ªç¯é“¾è¡¨ï¼›é¡ºåºè¡¨å­˜å‚¨ä¸ºè§£å†³å­˜å‚¨ç©ºé—´æµªè´¹è€Œè®¾è®¡ä¸ºå¾ªç¯é˜Ÿåˆ—ã€‚ å› æ­¤å¾ªç¯é˜Ÿåˆ—ä»…æœ‰é¡ºåºè¡¨å­˜å‚¨ç»“æ„ï¼Œä¸å¾ªç¯é“¾è¡¨æ¯«æ— å…³ç³»ã€‚</p>
</li>
<li><p>ä¸€ä¸ªéç©ºçš„æ•°æ®ç»“æ„å¦‚æœæ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼šæœ‰ä¸”åªæœ‰ä¸€ä¸ªæ ¹ç»“ç‚¹ï¼›æ¯ä¸€ä¸ªç»“ç‚¹æœ€å¤šæœ‰ä¸€ä¸ªå‰ä»¶ï¼Œä¹Ÿæœ€å¤šæœ‰ä¸€ä¸ªåä»¶ï¼Œåˆ™ç§°ä¸ºçº¿æ€§ç»“æ„ï¼Œåœ¨æ•°æ®ç»“æ„ä¸­ä¹ æƒ¯ç§°ä¸ºçº¿æ€§è¡¨ã€‚åŒå‘é“¾è¡¨ç»“ç‚¹å…·æœ‰ä¸¤ä¸ªæŒ‡é’ˆåŸŸï¼Œå±äºçº¿æ€§ç»“æ„ï¼Œ A é€‰é¡¹é”™è¯¯ã€‚å¾ªç¯é“¾è¡¨æ‰€æœ‰ç»“ç‚¹çš„æŒ‡é’ˆåŸŸéƒ½ä¸ºéç©ºï¼Œå±äºçº¿æ€§ç»“æ„ï¼Œ B é€‰é¡¹é”™è¯¯ã€‚å¾ªç¯é“¾è¡¨æ˜¯é“¾è¡¨ï¼Œå¾ªç¯é˜Ÿåˆ—å±äºé˜Ÿåˆ—ï¼Œé˜Ÿåˆ—åªèƒ½åœ¨é˜Ÿå°¾å…¥é˜Ÿï¼Œåœ¨æ’å¤´é€€é˜Ÿï¼Œé“¾è¡¨å¯ä»¥åœ¨ä»»ä½•ä½ç½®æ’å…¥ã€åˆ é™¤ï¼Œ C é€‰é¡¹é”™è¯¯ã€‚åŒå‘é“¾è¡¨ç»“ç‚¹å…·æœ‰å¤šä¸ªæŒ‡é’ˆåŸŸï¼Œ D é€‰é¡¹æ­£ç¡®</p>
</li>
<li><p><font color="red">%X.Ys</font>çš„æ ¼å¼åŒ–è¾“å‡ºï¼ŒXæ˜¯æ€»é•¿åº¦ï¼Œ<font color="blue">Yæ˜¯ä»å­—ç¬¦ä¸²ä¸­ä»å·¦è¾¹å–Yä½</font>ï¼Œå‰©ä¸‹çš„ä½æ•°è¡¥ç©ºæ ¼</p>
</li>
<li><p>å¯¹äºæ•°æ®ç»“æ„è¯¾ç¨‹è€Œè¨€ï¼Œç®€å•åœ°è¯´ï¼Œçº¿æ€§ç»“æ„æ˜¯nä¸ªæ•°æ®å…ƒç´ çš„æœ‰åºï¼ˆæ¬¡åºï¼‰é›†åˆã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">1ï¼é›†åˆä¸­å¿…å­˜åœ¨å”¯ä¸€çš„ä¸€ä¸ª"ç¬¬ä¸€ä¸ªå…ƒç´ "ï¼›</span><br><span class="line"></span><br><span class="line">2ï¼é›†åˆä¸­å¿…å­˜åœ¨å”¯ä¸€çš„ä¸€ä¸ª"æœ€åçš„å…ƒç´ "ï¼›</span><br><span class="line"></span><br><span class="line">3ï¼é™¤æœ€åå…ƒç´ ä¹‹å¤–ï¼Œå…¶å®ƒæ•°æ®å…ƒç´ å‡æœ‰å”¯ä¸€çš„"åç»§"ï¼›</span><br><span class="line"></span><br><span class="line">4ï¼é™¤ç¬¬ä¸€å…ƒç´ ä¹‹å¤–ï¼Œå…¶å®ƒæ•°æ®å…ƒç´ å‡æœ‰å”¯ä¸€çš„"å‰é©±"ã€‚</span><br><span class="line"></span><br><span class="line">æ•°æ®ç»“æ„ä¸­çº¿æ€§ç»“æ„æŒ‡çš„æ˜¯æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ç€â€œä¸€å¯¹ä¸€â€çš„çº¿æ€§å…³ç³»çš„æ•°æ®ç»“æ„ã€‚</span><br><span class="line"></span><br><span class="line">éçº¿æ€§ç»“æ„ï¼šæ•°å­¦ç”¨è¯­ï¼Œå…¶é€»è¾‘ç‰¹å¾æ˜¯ä¸€ä¸ªç»“ç‚¹å…ƒç´ å¯èƒ½æœ‰å¤šä¸ªç›´æ¥å‰è¶‹å’Œå¤šä¸ªç›´æ¥åç»§ã€‚</span><br><span class="line"></span><br><span class="line">Aé€‰é¡¹ï¼šåœ¨é“¾è¡¨ä¸­ï¼Œå¦‚æœæ¯ä¸ªç»“ç‚¹æœ‰ä¸¤ä¸ªæŒ‡é’ˆåŸŸï¼Œåˆ™è¯¥é“¾è¡¨ä¸€å®šæ˜¯éçº¿æ€§ç»“æ„ï¼Œé”™ï¼Œç±»ä¼¼äºä¼ ç»Ÿçš„åŒé“¾è¡¨ï¼Œä¸€ä¸ªæŒ‡å‘å‰ä¸€ä¸ªç»“ç‚¹ï¼Œä¸€ä¸ªæŒ‡å‘åä¸€ä¸ªç»“ç‚¹ï¼Œè¿™ç§åŒé“¾è¡¨è¿˜æ˜¯ä¸€ä¸ªçº¿æ€§ç»“æ„ã€‚</span><br><span class="line"></span><br><span class="line">Bé€‰é¡¹ï¼šåœ¨é“¾è¡¨ä¸­ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªç»“ç‚¹çš„åŒä¸€ä¸ªæŒ‡é’ˆåŸŸçš„å€¼ç›¸ç­‰ï¼Œåˆ™è¯¥é“¾è¡¨ä¸€å®šæ˜¯éçº¿æ€§ç»“æ„ã€‚å¯¹ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªç»“ç‚¹çš„åŒä¸€ä¸ªæŒ‡é’ˆåŸŸçš„å€¼ï¼Œé‚£ä¹ˆè¢«æŒ‡å‘çš„è¿™ä¸ªç‚¹ï¼Œæœ‰ä¸¤ä¸ªå‰é©±ï¼Œè¿èƒŒäº†å”¯ä¸€çš„ç‰¹ç‚¹ï¼Œæ‰€ä»¥å¿…é¡»æ˜¯éçº¿æ€§ç»“æ„ã€‚</span><br><span class="line"></span><br><span class="line">Cé€‰é¡¹ï¼šåœ¨é“¾è¡¨ä¸­ï¼Œå¦‚æœæ¯ä¸ªç»“ç‚¹æœ‰ä¸¤ä¸ªæŒ‡é’ˆåŸŸï¼Œåˆ™è¯¥é“¾è¡¨ä¸€å®šæ˜¯çº¿æ€§ç»“æ„ï¼Œé”™ã€‚ä¾‹å¦‚å˜ç§çš„åŒé“¾è¡¨ï¼Œä¸€ä¸ªæŒ‡å‘åç»§ç»“ç‚¹ï¼Œä¸€ä¸ªæŒ‡å‘é“¾è¡¨ä¸­çš„ä»»æ„ç»“ç‚¹ã€‚å¦‚æœæŒ‡å‘åŒä¸€ç»“ç‚¹çš„è¯ï¼Œå°±ç±»ä¼¼Bé€‰é¡¹ï¼Œæ‰€ä»¥è¿™ä¸ªé€‰é¡¹æ˜¯é”™çš„ã€‚</span><br><span class="line"></span><br><span class="line">Dé€‰é¡¹ï¼šåœ¨é“¾è¡¨ä¸­ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªç»“ç‚¹çš„åŒä¸€ä¸ªæŒ‡é’ˆåŸŸçš„å€¼ç›¸ç­‰ï¼Œåˆ™è¯¥é“¾è¡¨ä¸€å®šæ˜¯çº¿æ€§ç»“æ„ï¼Œé”™ã€‚ä¸€ä¸ªæ™®é€šçš„é“¾è¡¨ä¸­ï¼Œä¸åŒçš„ç»“ç‚¹å€¼å¯ä»¥ç›¸ç­‰ï¼Œä½†æ˜¯è¿™ç§é“¾è¡¨æ˜¯çº¿æ€§ç»“æœã€‚æ‰€ä»¥è¿™ä¸ªé€‰é¡¹æ˜¯é”™çš„</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><strong>å¹¿ä¹‰è¡¨çš„é•¿åº¦ï¼š è‹¥å¹¿ä¹‰è¡¨ä¸ç©ºï¼Œåˆ™å¹¿ä¹‰è¡¨æ‰€åŒ…å«çš„å…ƒç´ çš„ä¸ªæ•°ï¼Œå«å¹¿ä¹‰è¡¨çš„é•¿åº¦ï¼Œæ•°ç¬¬ä¸€å±‚æ‹¬å·å†…çš„é€—å·æ•°ç›®ã€‚</strong></p>
<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">**å¹¿ä¹‰è¡¨çš„æ·±åº¦ï¼š å¹¿ä¹‰è¡¨ä¸­æ‹¬å·çš„æœ€å¤§å±‚æ•°å«å¹¿ä¹‰è¡¨çš„æ·±åº¦ã€‚**</span><br><span class="line"></span><br><span class="line">é•¿åº¦ï¼šæœ€å¤–å±‚åŒ…å«å…ƒç´ çš„ä¸ªæ•°ï¼Œå³å»æ‰æœ€å¤–å±‚æ‹¬å·åå«æœ‰çš„å…ƒç´ ä¸ªæ•°ã€‚</span><br><span class="line"></span><br><span class="line">æ·±åº¦ï¼šè¡¨ä¸­å«æœ‰æ‹¬å·æ•°æœ€å¤šçš„æ‹¬å·å±‚æ•°åŠ ä¸€ã€‚</span><br><span class="line"></span><br><span class="line">head :è¿”å›åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œï¼ˆä¸å¸¦æ‹¬å·ï¼‰</span><br><span class="line"></span><br><span class="line">tailï¼šè¿”å›åˆ—è¡¨åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ åå‰©ä½™çš„åˆ—è¡¨ï¼ˆå¸¦æ‹¬å·ï¼‰</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>çº¿æ€§é“¾è¡¨ä¸­çš„å„å…ƒç´ åœ¨å­˜å‚¨ç©ºé—´ä¸­çš„ä½ç½®ä¸ä¸€å®šæ˜¯è¿ç»­çš„ï¼Œä¸”å„å…ƒç´ çš„å­˜å‚¨é¡ºåºä¹Ÿæ˜¯ä»»æ„çš„</p>
</li>
<li><p><strong>é¡ºåºè¡¨ä¸­é€»è¾‘ç›¸é‚»ç‰©ç†ä½ç½®å¿…å®šç›¸é‚»ã€‚å•é“¾è¡¨ä¸­é€»è¾‘ç›¸é‚»ç‰©ç†ä½ç½®ä¸ä¸€å®šç›¸é‚»ã€‚</strong></p>
</li>
<li><p>ç»“æ„ä½“å˜é‡ä¸ç®¡å…¶åŒ…å«æœ‰å¤šå°‘ä¸ªæˆå‘˜ï¼Œéƒ½åº”å½“çœ‹æˆæ˜¯ä¸€ä¸ªæ•´ä½“ã€‚åœ¨ç¨‹åºè¿è¡Œ</p>
<p>   æœŸé—´ï¼Œåªè¦åœ¨å˜é‡çš„ç”Ÿå­˜æœŸå†…ï¼Œæ‰€æœ‰æˆå‘˜ä¸€ç›´é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œä¸å¯èƒ½å‡ºç°æœ‰çš„æˆå‘˜é©»ç•™å†… å­˜ï¼Œæœ‰çš„æˆå‘˜ä¸é©»ç•™å†…å­˜çš„æƒ…å†µ</p>
</li>
<li><p>C è¯­è¨€ä¸­ç”¨ <font color="orange">â€œ%%â€ æ‰“å°è¾“å‡ºå­—ç¬¦ â€œ%â€</font>, æ‰€ä»¥ %%d, è¾“å‡ºä¸º %d ä¸¤ä¸ªæ™®é€šå­—ç¬¦ , è€Œä¸æ˜¯æ ¼å¼æ§åˆ¶ç¬¦ â€œ%dâ€ çš„å«ä¹‰</p>
</li>
<li><p>avaä¸­åªæœ‰byte, booleanæ˜¯ä¸€ä¸ªå­—èŠ‚, charæ˜¯ä¸¤ä¸ªå­—èŠ‚, æ‰€ä»¥å¯¹äºjavaæ¥è¯´127ä¸ä¼šå‘ç”Ÿæº¢å‡º, è¾“å‡º328</p>
<ul>
<li>ä½†æ˜¯å¯¹äºc/c++è¯­è¨€æ¥è¯´, charæ˜¯ä¸€ä¸ªå­—èŠ‚, ä¼šå‘ç”Ÿæº¢å‡º, å¯¹127åŠ ä¸€å‘ç”Ÿæº¢å‡º, <code>0111 1111 --&gt; 1000 0000, 1000 0000</code>ä¸ºè¡¥ç -128, æ‰€ä»¥ç»“æœä¸º<code>200-128=72</code></li>
</ul>
</li>
<li><p>å¹¿ä¹‰è¡¨æ˜¯ä¸€ä¸ªé€’å½’çš„å®šä¹‰ï¼Œå®ƒçš„å…ƒç´ å¯ä»¥æ˜¯ (1)å•ä¸ªå…ƒç´  (2)å­è¡¨</p>
<pre><code>ä¸€å¯¹ç¡®å®šçš„ï¼ˆè¡¨å¤´ï¼Œè¡¨å°¾ï¼‰å¯ä»¥å”¯ä¸€ç¡®å®šä¸€ä¸ªå¹¿ä¹‰è¡¨ï¼š

  1. è¡¨å¤´ï¼šå¹¿ä¹‰è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ (å¹¿ä¹‰) ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªå…ƒç´ (ç‹­ä¹‰)ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªå­è¡¨(ä½†å®ƒä½œä¸ºç¬¬ä¸€ä¸ªå…ƒç´ (å¹¿ä¹‰))

  2. è¡¨å°¾ï¼šé™¤è¡¨å¤´å¤–å…¶ä½™å…ƒç´ ç»„æˆçš„å­è¡¨ï¼Œä¸€å®šæ˜¯ä¸€ä¸ªè¡¨ï¼

ä¸¾ä¸€äº›ç‰¹æ®Šçš„ä¾‹å­ï¼š

è¡¨A = (e) ï¼Œåˆ™è¡¨å¤´ä¸ºeï¼Œè¡¨å°¾ä¸º() 

è¡¨B = ( ) ï¼Œå³ç©ºè¡¨ï¼Œé•¿åº¦=0
è¡¨C = (( ))ï¼Œé•¿åº¦=1ï¼Œè¡¨å¤´ä¸º( )ï¼Œè¡¨å°¾ä¸º( )   </code></pre></li>
<li><p>æ‹†åˆ†äºŒç»´æ•°ç»„</p>
<pre><code>int a[4][3] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 };

æ‹†åˆ†æˆï¼š

int b[3] = {1, 2, 3 };

int c[3] = {4, 5, 6 };

int d[3] = {7, 8, 9 };

int e[3] = {10, 11, 12 };

\2. ä¸ºä½•æ‹†åˆ†ï¼Ÿ

ä»¥â€œb[3] = {1, 2, 3 }â€ä¸ºä¾‹ï¼šbæ˜¯æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€ï¼Œè¿™é‡Œbç›¸å½“äºæ•´å‹æŒ‡é’ˆï¼ä¸Šè¿°bï¼Œcï¼Œdï¼Œeéƒ½æ˜¯æ•´å‹æŒ‡é’ˆã€‚

é‚£ä¹ˆå°±æœ‰ï¼ša[4] = { b, c, d, e };

è¿™æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œå…¶ä¸­çš„**å…ƒç´ éƒ½æ˜¯æ•´å‹æŒ‡é’ˆ**ã€‚aæ˜¯ä»€ä¹ˆï¼Ÿæ˜¯æ•°ç»„aä¸­ç¬¬ä¸€ä¸ªå…ƒç´ bçš„åœ°å€ï¼

æ ¹æ®ä¸Šè¿°è¿™ç§ç†è§£ï¼Œå‘ç°å¯ä»¥å¾ˆæ–¹ä¾¿çš„è§£å‡ºè¿™é“é¢˜ã€‚

åˆ†æï¼šACé€‰é¡¹å…ˆçœ‹â€œint ( * prt)[3]=aâ€,ç›¸å½“äºï¼šint b[3];int *prt = &amp;b;

å³å®šä¹‰äº†ä¸€ä¸ªæŒ‡å‘â€œæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€â€çš„æŒ‡é’ˆprtï¼›è€Œä»1,2åˆ†ææ¥çœ‹ï¼Œaè¡¨ç¤ºçš„æ­£æ˜¯bçš„åœ°å€ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œç­‰ä»·äºï¼šprt = aã€‚

æˆ‘ä»¬çœ‹ACé€‰é¡¹ï¼Œå…ˆæŠŠptréƒ½æ¢æˆaã€‚

Aï¼š* (( * prt+1)[2])

*a å³a[0]ï¼Œä¹Ÿå°±æ˜¯bï¼›

( b+1) è¡¨ç¤º å…ƒç´ 2çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯a[0][1]çš„åœ°å€ï¼›

(b+1)[2] â†’ *( (b+1) + 2 ) = *(b+3) = b[3]ï¼Œè¶Šç•Œäº†ï¼å…¶å®å°±æ˜¯c[0]ï¼ŒVSä¸ŠéªŒè¯è¿‡ï¼Œè¾“å‡ºä¹Ÿæ˜¯4.

è€Œç­”æ¡ˆæä¾›çš„ç›¸å½“äº*(b[3])ï¼Œè¿æ•°ç»„å…ƒç´ éƒ½ç®—ä¸ä¸Šï¼

*æ³¨ï¼š**ä¸‹æ ‡å’ŒæŒ‡é’ˆè½¬åŒ–å…¬å¼ï¼š***(a+n) = a[n]*

Cï¼š( * prt+1)+2( * a+1)+2 ç­‰ä»·äº(b+1) + 2 = b+3ï¼Œæ˜¯4çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯c[0]çš„åœ°å€ï¼›åŒæ ·é”™è¯¯ã€‚ä¸è¿‡å¯ä»¥éªŒè¯*(( * prt+1)+2)ï¼Œè¾“å‡ºä¸º4.

5. Bé€‰é¡¹åˆ†æï¼š* ( * (p+5))

int *p = a[0]ï¼Œç›¸å½“äºint *p = bï¼Œé‡åˆ°pç›´æ¥ç”¨bæ›¿æ¢å°±è¡Œäº†ï¼* (p+5)ç­‰ä»·äºb[5]ï¼Œä¹Ÿå°±æ˜¯c[2]ï¼Œå…ƒç´ 6ï¼Œå‰é¢è¿˜å¤šä¸ª*ï¼Œæ‰€ä»¥è¿™ä¸ªé”™çš„ä¹Ÿå¾ˆæ˜æ˜¾ã€‚

6. Dé€‰é¡¹

**ä¸‹æ ‡å’ŒæŒ‡é’ˆè½¬åŒ–å…¬å¼ï¼š*****(a+n) = a[n]**ï¼Œè¿™ä¸ªæ­£åéƒ½å¯ä»¥ä½¿ç”¨ï¼Œè€Œä¸”å¾ˆå¥½ç”¨ã€‚</code></pre></li>
<li><p>%% å¯ä»¥è¾“å‡º %</p>
</li>
<li><p>ç”¨åè¿›åˆ¶æ•´æ•°æ¥è¡¨ç¤ºè¾“å‡ºçš„æœ€å°‘ä½æ•°ã€‚è‹¥å®é™…ä½æ•°å¤šäºå®šä¹‰çš„å®½åº¦ï¼Œåˆ™æŒ‰å®é™…ä½æ•°è¾“å‡ºï¼Œè‹¥å®é™…ä½æ•°å°‘äºå®šä¹‰çš„å®½åº¦åˆ™è¡¥ä»¥ç©ºæ ¼æˆ–0ã€‚</p>
</li>
<li><p>ä¸åŒæ•°æ®ç±»å‹ä¹‹é—´çš„å·®åˆ«åœ¨äºæ•°æ®çš„è¡¨ç¤ºèŒƒå›´åŠç²¾åº¦ä¸Šï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ•°æ®çš„è¡¨ç¤ºèŒƒå›´è¶Šå¤§ã€ç²¾åº¦è¶Šé«˜ï¼Œå…¶ç±»å‹ä¹Ÿè¶Šâ€œé«˜çº§â€ã€‚</p>
<ul>
<li><p>èµ‹å€¼è¿ç®—ä¸­<font color="blue">å¦‚æœå·¦å€¼ç²¾åº¦æ¯”å³å€¼ç²¾åº¦ä½ï¼Œå°†ä¼šå‡ºç°æˆªæ–­</font>ï¼Œä¼šå¯¼è‡´ç²¾åº¦ä¸¢å¤±ã€‚</p>
</li>
<li><p>å½“å‡½æ•°è°ƒç”¨æ—¶ï¼Œæ‰€ä¼ å®å‚ä¸å½¢å‚ç±»å‹ä¸ä¸€è‡´æ—¶ï¼Œä¹Ÿä¼šæŠŠ<font color="red">å®å‚è‡ªåŠ¨è½¬æ¢ä¸ºå½¢å‚ç±»å‹</font>åå†èµ‹å€¼ï¼ˆ<font color="red">ç±»å‹ä»¥å½¢å‚ä¸ºå‡†</font>ï¼‰</p>
</li>
</ul>
</li>
<li><p>C++</p>
<ol>
<li><p>charã€shortã€intã€longã€bool åŸºæœ¬ç±»å‹éƒ½å¯ä»¥ç”¨äºswitchè¯­å¥ã€‚</p>
</li>
<li><p>floatã€doubleéƒ½ä¸èƒ½ç”¨äºswitchè¯­å¥ã€‚</p>
<ol start="3">
<li>enumç±»å‹ï¼Œå³æšä¸¾ç±»å‹å¯ä»¥ç”¨äºswitchè¯­å¥ã€‚</li>
<li>æ‰€æœ‰ç±»å‹çš„å¯¹è±¡éƒ½ä¸èƒ½ç”¨äºswitchè¯­å¥ã€‚</li>
<li>å­—ç¬¦ä¸²ä¹Ÿä¸èƒ½ç”¨äºswitchè¯­å¥</li>
</ol>
</li>
</ol>
</li>
<li><p>Cè¯­è¨€ä¸­çš„æ–‡ä»¶çš„å­˜å‚¨æ–¹å¼æœ‰ï¼ˆå¯ä»¥<font color="green">é¡ºåºå­˜å–ï¼Œä¹Ÿå¯éšæœºå­˜å–</font>ï¼‰</p>
</li>
<li><p>Cè¯­è¨€æ˜¯ä¸€ç§<font color="cyan">ç»“æ„åŒ–</font>ç¨‹åºè®¾è®¡è¯­è¨€</p>
</li>
<li><p>ç©ºæŒ‡é’ˆæ˜¯ä¸€<strong>ä¸ªç‰¹æ®Šçš„æŒ‡é’ˆå€¼ã€‚</strong></p>
<ul>
<li>ç©ºæŒ‡é’ˆæ˜¯æŒ‡å¯ä»¥ç¡®ä¿æ²¡æœ‰æŒ‡å‘ä»»ä½•ä¸€ä¸ªå¯¹è±¡çš„æŒ‡é’ˆã€‚é€šå¸¸ä½¿ç”¨å®å®šä¹‰NULLæ¥è¡¨ç¤ºç©ºæŒ‡é’ˆå¸¸é‡å€¼ã€‚<font color="blue">NULLå°±ä»£è¡¨ç³»ç»Ÿçš„0åœ°å€å•å…ƒ</font></li>
<li><font color="blue">ç©ºæŒ‡é’ˆç¡®ä¿å®ƒå’Œä»»ä½•éç©ºæŒ‡é’ˆè¿›è¡Œæ¯”è¾ƒéƒ½ä¸ä¼šç›¸ç­‰</font>ï¼Œå› æ­¤ç»å¸¸ä½œä¸ºå‡½æ•°å‘ç”Ÿå¼‚å¸¸æ—¶çš„è¿”å›å€¼ä½¿ç”¨ã€‚     </li>
</ul>
</li>
<li><p>åœ¨printfä¸­çš„%ä½œä¸ºè½¬ä¹‰ç¬¦ï¼Œä¸¤ä¸ª%æ‰ç›¸å½“äº1ä¸ª%</p>
</li>
<li><p>freeæ‰ä¸€ä¸ªæŒ‡é’ˆåï¼ŒæŒ‡é’ˆçš„å€¼æ˜¯ä¸ä¼šè‡ªåŠ¨ç½®ä¸ºNULLçš„ï¼Œå½“ç„¶å…¶æŒ‡å‘çš„å†…å­˜å·²ç»è¢«é‡Šæ”¾ï¼Œå¯ä»¥é‡æ–°åˆ†é…ç»™å…¶ä»–è¿›è¡Œä½¿ç”¨ï¼Œæ­¤æ—¶è¯¥æŒ‡é’ˆè¢«ç§°ä¸º<strong>é‡æŒ‡é’ˆ</strong>ã€‚</p>
<ul>
<li>å¯¹é‡æŒ‡é’ˆè¿›è¡Œæ“ä½œï¼Œå¯èƒ½ä¼šç ´åå†…å­˜ç»“æ„ï¼Œå› ä¸ºå¹¶ä¸çŸ¥é“å½“å‰æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥ä¸€èˆ¬åœ¨freeæ“ä½œç»“æŸåï¼Œç”±ç¨‹åºçŒ¿å°†æŒ‡é’ˆç½®ä¸ºNULLã€‚</li>
</ul>
</li>
<li><p>Cè¯­è¨€çš„æŒ‡é’ˆçš„æ•°æ®ç±»å‹å£°æ˜çš„æ˜¯<font color="red">æŒ‡é’ˆå®é™…æŒ‡å‘å†…å®¹çš„æ•°æ®ç±»å‹</font></p>
</li>
<li><p><font color="red">c = c^32</font> å¤§å°å†™äº’æ¢</p>
</li>
<li><p>å½“é¡ºåˆ©æ‰§è¡Œäº†æ–‡ä»¶å…³é—­æ“ä½œæ—¶ï¼Œ<code>fclose</code>å‡½æ•°çš„<strong>è¿”å›å€¼</strong>æ˜¯ï¼šå¦‚æœ<font color="red">æ­£å¸¸</font>å…³é—­äº†æ–‡ä»¶ï¼Œåˆ™å‡½æ•°è¿”å›å€¼ä¸º<font color="red">0</font>ï¼›å¦åˆ™ï¼Œè¿”å›å€¼ä¸ºé0</p>
</li>
<li><p>ä»¥ä¸‹å‡½æ•°ç”¨æ³•æ­£ç¡®çš„ä¸ªæ•°æ˜¯ï¼š</p>
<pre><code><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">char</span> <span class="built_in">array</span>[MAX_CHAR+<span class="number">1</span>],i;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt;= MAX_CHAR;i++){</span><br><span class="line">        <span class="built_in">array</span>[i] = i;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">char</span>*<span class="title">test2</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">char</span> p[] = <span class="string">"hello world"</span>;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">char</span> *p = test2();</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">10</span>];</span><br><span class="line">    str++;</span><br><span class="line">    *str = <span class="string">'0'</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

&gt; é‡ç‚¹ä¸åœ¨äºCHAR_MAXçš„å–å€¼æ˜¯å¤šå°‘ï¼Œè€Œæ˜¯åœ¨äºiçš„å–å€¼èŒƒå›´æ˜¯å¤šå°‘ã€‚
&gt;
&gt; ä¸€èˆ¬charçš„å–å€¼èŒƒå›´æ˜¯-128åˆ°127ï¼Œè€Œu char åˆ™æ˜¯0~255ï¼Œæ‰€ä»¥içš„å–å€¼èŒƒå›´æ˜¯0~255.
&gt;
&gt; æ‰€ä»¥å½“CHAR_MAXå¸¸é‡å¤§äº255æ—¶ï¼Œæ‰§è¡Œi++åï¼Œiä¸èƒ½è¡¨ç¤º256ä»¥ä¸Šçš„æ•°å­—ï¼Œæ‰€ä»¥å¯¼è‡´æ— é™å¾ªç¯ã€‚
&gt;
&gt; ç¬¬äºŒä¸ªé—®é¢˜ï¼š
&gt;
&gt; é‡ç‚¹åœ¨äºå‡½æ•°ä¸­pçš„èº«ä»½ï¼Œä»–æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿˜æ˜¯æ•°ç»„åï¼›
&gt;
&gt; å¦‚æœæ˜¯æŒ‡é’ˆpï¼Œåˆ™pæŒ‡å‘å­˜æ”¾å­—ç¬¦ä¸²å¸¸é‡çš„åœ°å€ï¼Œè¿”å›påˆ™æ˜¯è¿”å›å­—ç¬¦ä¸²å¸¸é‡åœ°å€å€¼ï¼Œè°ƒç”¨å‡½æ•°ç»“æŸå­—ç¬¦ä¸²å¸¸é‡ä¸ä¼šæ¶ˆå¤±ï¼ˆæ˜¯å¸¸é‡ï¼‰ã€‚æ‰€ä»¥è¿”å›å¸¸é‡çš„åœ°å€ä¸ä¼šå‡ºé”™ã€‚
&gt;
&gt; å¦‚æœæ˜¯æ•°ç»„pï¼Œåˆ™å‡½æ•°ä¼šå°†å­—ç¬¦ä¸²å¸¸é‡çš„å­—ç¬¦é€ä¸ªå¤åˆ¶åˆ°pæ•°ç»„é‡Œé¢ï¼Œè¿”å›påˆ™æ˜¯è¿”å›æ•°ç»„pï¼Œä½†æ˜¯è°ƒç”¨å‡½æ•°ç»“æŸåpè¢«é”€æ¯ï¼Œé‡Œé¢çš„å…ƒç´ ä¸å­˜åœ¨äº†ã€‚
&gt;
&gt; ä¾‹å­ä¸­pæ˜¯æ•°ç»„åï¼Œæ‰€ä»¥ä¼šå‡ºé”™ï¼Œpæ‰€æŒ‡çš„åœ°å€æ˜¯éšæœºå€¼ã€‚
&gt;
&gt; è‹¥æ˜¯æŠŠchar p[]="hello";æ”¹æˆchar *p="hello";å°±å¯ä»¥äº†ã€‚
&gt;
&gt; ç¬¬ä¸‰ä¸ªé—®é¢˜ï¼š
&gt;
&gt; é‡ç‚¹åœ¨äºstr++;è¿™å®é™…çš„è¯­å¥å°±æ˜¯str=str+1;è€Œstræ˜¯æ•°ç»„åï¼Œæ•°ç»„åæ˜¯å¸¸é‡ï¼Œæ‰€ä»¥ä¸èƒ½ç»™å¸¸é‡èµ‹å€¼ã€‚ï¼ˆå¯ä»¥æ‰§è¡Œstr+1ï¼Œä½†æ˜¯ä¸èƒ½str=.ï¼‰</code></pre></li>
<li><p>feeskä¸­seek_end çš„<strong>æ–‡ä»¶æœ«å°¾æŒ‡é’ˆ</strong>åœ¨<font color="red">æœ«å°¾æœ€åä¸€ä¸ªå­—ç¬¦åé¢</font>ï¼Œè€Œéæœ€åä¸€ä¸ªå­—ç¬¦</p>
</li>
<li><p>ä½¿ç”¨â€wâ€å†™æ–‡ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨fwrite </p>
</li>
<li><p>å¯¹äº32ä½ç³»ç»Ÿï¼Œå®šä¹‰ <code>int **a[3][4],</code> åˆ™å˜é‡aå æœ‰çš„å†…å­˜ç©ºé—´ä¸º</p>
<ul>
<li>æ­¤å¤„å®šä¹‰çš„æ˜¯æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆæ•°ç»„ï¼Œå¯¹äº32ä½ç³»ç»Ÿï¼ŒæŒ‡é’ˆå å†…å­˜ç©ºé—´4å­—èŠ‚ï¼Œå› æ­¤æ€»ç©ºé—´ä¸º3Ã—4Ã—4ï¼48ã€‚</li>
</ul>
</li>
</ol>
<p>â€‹           ç”¨å³å·¦æ³•åˆ™æ¥çœ‹ï¼Œé¦–å…ˆå¾€å˜é‡açš„å³è¾¹çœ‹ï¼Œæ˜¯ã€3ã€‘ï¼Œå†å¾€å·¦çœ‹ï¼Œæ˜¯<em>ï¼Œæ‰€ä»¥å®ƒé¦–å…ˆæ˜¯ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œæ•°ç»„é‡Œå­˜æ”¾3ä¸ªæŒ‡é’ˆï¼Œç„¶åå†å¾€å³çœ‹æ˜¯ã€4ã€‘ï¼Œå†å¾€å·¦çœ‹ï¼Œæ˜¯int *ï¼Œè¯´æ˜å‰é¢3ä¸ªæŒ‡é’ˆæ¯ä¸ªæŒ‡é’ˆéƒ½æŒ‡å‘ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªæ•°ç»„é‡Œå­˜æ”¾4ä¸ªint *ç±»å‹çš„æŒ‡é’ˆï¼Œæ‰€ä»¥3</em>4æœ‰12ä¸ªäºŒçº§æŒ‡é’ˆï¼Œæ¯ä¸ªæŒ‡é’ˆåœ¨32ä½ç³»ç»Ÿå 4ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥48ä¸ªå­—èŠ‚<br>â€‹<br>â€‹           å¯ä»¥ä»ç®€å•åˆ°éš¾è¿›è¡Œç†è§£ï¼Œ<code>int *a[3]</code>æ˜¯ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œaçš„å¤§å°æ˜¯<code>3*4 = 12ï¼›int *a[3][4]</code>æ˜¯ä¸€ä¸ªäºŒç»´çš„æŒ‡é’ˆæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œaçš„å¤§å°æ˜¯<code>3*4*4 = 48</code>ï¼›<code>int **a[3]</code>ä¹Ÿæ˜¯ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œåªä¸è¿‡è¯¥æ•°ç»„çš„å…ƒç´ æ˜¯ä¸€ä¸ªäºŒçº§æŒ‡é’ˆï¼Œä½†æ˜¯äºŒçº§æŒ‡é’ˆçš„æœ¬è´¨è¿˜æ˜¯æŒ‡é’ˆï¼Œæ‰€ä»¥açš„å¤§å°æ˜¯<code>3*4 = 12</code>ï¼›<code>int **a[3][4]</code>æ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªäºŒçº§æŒ‡é’ˆï¼Œæ‰€ä»¥açš„å¤§å°æ˜¯<code>3*4*4</code> = 48ï¼Œå°±è¿™ä¹ˆç®€å•ï¼Œä¸éœ€è¦å»åˆ†æä»€ä¹ˆä»å·¦åˆ°å³ä»å³åˆ°å·¦çœ‹ï¼Œåè€Œå®¹æ˜“ææ··;<br>â€‹           å› ä¸º[]çš„ä¼˜å…ˆçº§æ˜¯å¤§äº<em>å·çš„ä¼˜å…ˆçº§çš„ï¼Œæ‰€ä»¥å…ˆä»å˜é‡åaå‘å³çœ‹æ˜¯<code>a[3][4]</code>æ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œç„¶åå†å°†è¯¥äºŒç»´æ•°ç»„çœ‹ä½œä¸€ä¸ªæ•´ä½“å‘å·¦çœ‹ï¼Œint *</em>æ˜¯ä¸€ä¸ªäºŒçº§æŒ‡é’ˆï¼Œè¯´æ˜è¯¥äºŒç»´æ•°ç»„æ˜¯ä¸€ä¸ªæ•°æ®ç±»å‹ä¸ºäºŒçº§æŒ‡é’ˆçš„æŒ‡é’ˆæ•°ç»„ï¼Œè¿™ç§ç†è§£æ–¹æ³•å°±è·Ÿæ™®é€šçš„æŒ‡é’ˆæ•°ç»„ç†è§£æ–¹å¼ä¸€æ ·ï¼Œæ¯”å¦‚ï¼šint *a[3]<br>â€‹           æˆ‘ä»¬ç†è§£æ˜¯å…ˆå‘å³çœ‹æ˜¯a[3]æ‹¥æœ‰ä¸‰ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œå†å‘å·¦çœ‹ï¼Œint *è¯´æ˜æ•°ç»„çš„å…ƒç´ ç±»å‹æ˜¯æ•´å½¢çš„æŒ‡é’ˆç±»å‹ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„<br>â€‹          ```</p>
<ol start="92">
<li><p>%3oè¡¨ç¤ºä»¥å…«è¿›åˆ¶æ•°å½¢å¼è¾“å‡ºï¼Œå 3ä¸ªç©ºæ ¼çš„ä½ç½®ï¼Œå³å¯¹é½ï¼Œå·¦è¾¹å¤šä½™çš„ä½ç½®è¡¥</p>
<p>  ç©ºæ ¼ï¼Œä½†å®é™…æ•°æ®çš„å®½åº¦ä¸º4å¤§äºè§„å®šçš„å®½åº¦ï¼Œæ‰€ä»¥æ­¤æ—¶æŒ‰å®é™…å®½åº¦è¾“å‡ºï¼Œæ•…ç¬¬ä¸€ä¸ªyçš„  è¾“å‡ºä¸ºâ”‚4630â”‚ã€‚%8oä¸%3oçš„å·®åˆ«å°±åœ¨äºè¾“å‡ºå 8ä¸ªç©ºæ ¼çš„ä½ç½®ï¼Œæ‰€ä»¥å·¦è¾¹è¦è¡¥4ä¸ªç©ºæ ¼ï¼Œ æ•…ç¬¬äºŒä¸ªyçš„è¾“å‡ºä¹Ÿä¸ºâ”‚â–¡â–¡â–¡â–¡4630â”‚.<font color="blue">%#8oä¸%8oçš„å·®åˆ«åªæ˜¯è¾“å‡ºæ—¶å¿…é¡»è¾“å‡ºå…«è¿›åˆ¶å‰å¯¼0</font>ï¼Œæ‰€ä»¥ç¬¬ä¸‰ä¸ªyçš„è¾“å‡ºä¸ºâ”‚â–¡â–¡â–¡04630â”‚.<font color="blue">%08o</font>ä¸%8oçš„å·®åˆ«åªæ˜¯è¾“å‡ºæ—¶<font color="blue">å·¦è¾¹å¤šä½™çš„ä½ç½®è¡¥0</font>ï¼Œ  æ‰€ä»¥ç¬¬å››ä¸ªyçš„è¾“å‡ºä¸ºâ”‚00004630â”‚</p>
</li>
<li><p>2014å¯¹åº”çš„äºŒè¿›åˆ¶ä¸ºï¼š0000 0000 000 0000 0000 0111 1101 1110</p>
<ul>
<li>è€Œ<code>x|ï¼ˆx+1ï¼‰</code>çš„ä½œç”¨æ˜¯å¯¹ä¸€ä¸ªæ•°ä¸­<font color="blue">äºŒè¿›åˆ¶0çš„ä¸ªæ•°è¿›è¡Œç»Ÿè®¡</font></li>
</ul>
</li>
<li><p>1ã€ã€ç¼–è¯‘ã€‘æ˜¯æŠŠcæºç¨‹åºç¿»è¯‘æˆæ±‡ç¼–ä»£ç ï¼š<code>.s</code>ï¼› </p>
<p>2ã€ã€æ±‡ç¼–ã€‘æ˜¯æŠŠæ±‡ç¼–ä»£ç ç¿»è¯‘æˆäºŒè¿›åˆ¶ç›®æ ‡ä»£ç ï¼š<code>.obj</code></p>
<p>3ã€ã€é“¾æ¥ã€‘æ˜¯æŠŠå¤šä¸ªäºŒè¿›åˆ¶ç›®æ ‡ä»£ç æ–‡ä»¶é“¾æ¥æˆä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºï¼›å› ä¸ºä¸€ä¸ªå·¥ç¨‹æŸä¸ªæ–‡ä»¶è°ƒç”¨äº†å…¶ä»–cæ–‡ä»¶çš„å‡½æ•°æˆ–å˜é‡ ä¸€ä¸ªç¨‹åºéœ€è¦ä¸Šé¢ä¸‰ä¸ªæ­¥éª¤æ‰èƒ½ç”±æºç¨‹åºå˜æˆå¯æ‰§è¡Œç¨‹åºã€‚</p>
</li>
<li><pre><code class="c">      <span class="keyword">union</span> s{
          <span class="keyword">int</span> i;
          <span class="keyword">char</span> c;
          <span class="keyword">float</span> a;
      }temp;
      temp.i = <span class="number">266</span>;
      <span class="built_in">printf</span>(<span class="string">"%d"</span>, temp.c);

      <span class="comment">//è¾“å‡ºæ˜¯10</span>
      å› ä¸º<span class="number">266</span>&gt;<span class="number">256.</span>ä¹Ÿå› ä¸ºtempä¸€å…±å æœ‰å››ä¸ªå­—èŠ‚ï¼Œiå’Œchå…±ç”¨å†…å­˜ç©ºé—´ï¼Œä½†æ˜¯ch åªå æ®æœ€ä½çš„ä¸€ä¸ªå­—èŠ‚ï¼Œå³æœ€ä½çš„<span class="number">8</span>ä½ï¼Œæ‰€ä»¥è¾“å‡ºcçš„å€¼ä¹Ÿæ˜¯åªèƒ½è¾“å‡ºè¿™ä¸€å­—èŠ‚å†…å­˜ä¸­çš„äºŒè¿›åˆ¶æ•°è¡¨ç¤ºçš„æ•°ï¼Œå¦‚æœèµ‹å€¼çš„iæ˜¯<span class="number">100</span>,å°†ä¼šæ­£å¸¸è¾“å‡º<span class="number">100</span>

&lt;!--ï¿¼<span class="number">5</span>--&gt;</code></pre>
</li>
<li><pre><code class="c">      <span class="function"><span class="keyword">int</span> <span class="title">fseek</span><span class="params">(FILE *stream, <span class="keyword">long</span> offset, <span class="keyword">int</span> fromwhere)</span></span>; 

      å‡½æ•°fseekå°†æ–‡ä»¶ä½ç½®æŒ‡é’ˆé‡å®šä½åˆ°fromwhereï¼ˆSEEK_SETæ–‡ä»¶å¤´<span class="number">0</span>,SEEK_CURæ–‡ä»¶å½“å‰ä½ç½®<span class="number">1</span>,SEEK_ENDæ–‡ä»¶æœ«å°¾<span class="number">2</span>ï¼‰å¼€å§‹åç§»offsetä¸ªå­—èŠ‚çš„ä½ç½®ï¼›è¿”å›æˆåŠŸ<span class="number">0</span>ï¼Œå¤±è´¥<span class="number">-1</span>ï¼›

      <span class="function"><span class="keyword">long</span> <span class="title">ftell</span><span class="params">(FILE *stream)</span></span>;

      è¿”å›æ–‡ä»¶ä½ç½®æŒ‡é’ˆå½“å‰ä½ç½®ç›¸å¯¹äºæ–‡ä»¶é¦–çš„åç§»å­—èŠ‚æ•°ï¼›
&lt;!--ï¿¼<span class="number">6</span>--&gt;
</code></pre>
</li>
</ol>
<p>å¯¹æŒ‡é’ˆå˜é‡èµ‹0å€¼å’Œä¸èµ‹å€¼æ˜¯ä¸åŒçš„ã€‚ æŒ‡é’ˆå˜é‡æœªèµ‹å€¼æ—¶ï¼Œå€¼æ˜¯éšæœºçš„ï¼Œæ˜¯åƒåœ¾å€¼ï¼Œä¸èƒ½ä½¿ç”¨çš„ï¼Œå¦åˆ™å°†é€ æˆæ„å¤–é”™è¯¯ã€‚è€ŒæŒ‡é’ˆå˜é‡èµ‹0å€¼åï¼Œåˆ™å¯ä»¥ä½¿ç”¨ï¼Œåªæ˜¯å®ƒä¸æŒ‡å‘å…·ä½“çš„å˜é‡è€Œå·²ã€‚</p>
<ol start="102">
<li><p>é¢è¯•é—®é¢˜</p>
<p>æ— æ³•é«˜æ•ˆè·å–é•¿åº¦ï¼Œæ— æ³•æ ¹æ®åç§»å¿«é€Ÿè®¿é—®å…ƒç´ ï¼Œæ˜¯é“¾è¡¨çš„ä¸¤ä¸ªåŠ£åŠ¿ã€‚ç„¶è€Œé¢è¯•çš„æ—¶å€™ç»å¸¸ç¢°è§è¯¸å¦‚<font color="orange">è·å–å€’æ•°ç¬¬kä¸ªå…ƒç´ </font>ï¼Œ<font color="green">è·å–ä¸­é—´ä½ç½®çš„å…ƒç´ </font>ï¼Œ<font color="cyan">åˆ¤æ–­é“¾è¡¨æ˜¯å¦å­˜åœ¨ç¯</font>ï¼Œ<font color="blue">åˆ¤æ–­ç¯çš„é•¿åº¦</font>ç­‰å’Œé•¿åº¦ä¸ä½ç½®æœ‰å…³çš„é—®é¢˜ã€‚è¿™äº›é—®é¢˜éƒ½å¯ä»¥é€šè¿‡çµæ´»è¿ç”¨åŒæŒ‡é’ˆæ¥è§£å†³ã€‚</p>
<blockquote>
<p> Tipsï¼šåŒæŒ‡é’ˆå¹¶ä¸æ˜¯å›ºå®šçš„å…¬å¼ï¼Œè€Œæ˜¯ä¸€ç§æ€ç»´æ–¹å¼~</p>
</blockquote>
<p>  å…ˆæ¥çœ‹â€<font color="orange">å€’æ•°ç¬¬kä¸ªå…ƒç´ çš„é—®é¢˜</font>â€œã€‚è®¾æœ‰ä¸¤ä¸ªæŒ‡é’ˆ p å’Œ qï¼Œåˆå§‹æ—¶å‡æŒ‡å‘å¤´ç»“ç‚¹ã€‚é¦–å…ˆï¼Œå…ˆè®© p æ²¿ç€ next ç§»åŠ¨ k æ¬¡ã€‚æ­¤æ—¶ï¼Œp æŒ‡å‘ç¬¬ k+1ä¸ªç»“ç‚¹ï¼Œq æŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œä¸¤ä¸ªæŒ‡é’ˆçš„è·ç¦»ä¸º k ã€‚ç„¶åï¼ŒåŒæ—¶ç§»åŠ¨ p å’Œ qï¼Œç›´åˆ° p æŒ‡å‘ç©ºï¼Œæ­¤æ—¶ q å³æŒ‡å‘å€’æ•°ç¬¬ k ä¸ªç»“ç‚¹ã€‚</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> {</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">getKthFromEnd</span><span class="params">(ListNode* head, <span class="keyword">int</span> k)</span> </span>{</span><br><span class="line">        ListNode *p = head, *q = head; <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">while</span>(k--) {   <span class="comment">//å°† pæŒ‡é’ˆç§»åŠ¨ k æ¬¡</span></span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">while</span>(p != <span class="literal">nullptr</span>) {<span class="comment">//åŒæ—¶ç§»åŠ¨ï¼Œç›´åˆ° p == nullptr</span></span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">            q = q-&gt;next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> q;</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p>  <font color="green">è·å–ä¸­é—´å…ƒç´ çš„é—®é¢˜</font>ã€‚è®¾æœ‰ä¸¤ä¸ªæŒ‡é’ˆ fast å’Œ slowï¼Œåˆå§‹æ—¶æŒ‡å‘å¤´èŠ‚ç‚¹ã€‚æ¯æ¬¡ç§»åŠ¨æ—¶ï¼Œfastå‘åèµ°ä¸¤æ¬¡ï¼Œslowå‘åèµ°ä¸€æ¬¡ï¼Œç›´åˆ° fast æ— æ³•å‘åèµ°ä¸¤æ¬¡ã€‚è¿™ä½¿å¾—åœ¨æ¯è½®ç§»åŠ¨ä¹‹åã€‚fast å’Œ slow çš„è·ç¦»å°±ä¼šå¢åŠ ä¸€ã€‚è®¾é“¾è¡¨æœ‰ n ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆæœ€å¤šç§»åŠ¨ n/2 è½®ã€‚å½“ n ä¸ºå¥‡æ•°æ—¶ï¼Œslow æ°å¥½æŒ‡å‘ä¸­é—´ç»“ç‚¹ï¼Œå½“ n ä¸º å¶æ•°æ—¶ï¼Œslow æ°å¥½æŒ‡å‘ä¸­é—´ä¸¤ä¸ªç»“ç‚¹çš„é å‰ä¸€ä¸ª(å¯ä»¥è€ƒè™‘ä¸‹å¦‚ä½•ä½¿å…¶æŒ‡å‘åä¸€ä¸ªç»“ç‚¹å‘¢ï¼Ÿ)ã€‚</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line">ä¸‹è¿°ä»£ç å®ç°äº† n ä¸ºå¶æ•°æ—¶æ…¢æŒ‡é’ˆæŒ‡å‘é åç»“ç‚¹ã€‚</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> {</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">middleNode</span><span class="params">(ListNode* head)</span> </span>{</span><br><span class="line">        ListNode *p = head, *q = head;</span><br><span class="line">        <span class="keyword">while</span>(q != <span class="literal">nullptr</span> &amp;&amp; q-&gt;next != <span class="literal">nullptr</span>) {</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">            q = q-&gt;next-&gt;next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    } </span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p> <font color="cyan"> æ˜¯å¦å­˜åœ¨ç¯çš„é—®é¢˜</font>ã€‚å¦‚æœå°†å°¾ç»“ç‚¹çš„ next æŒ‡é’ˆæŒ‡å‘å…¶ä»–ä»»æ„ä¸€ä¸ªç»“ç‚¹ï¼Œé‚£ä¹ˆé“¾è¡¨å°±å­˜åœ¨äº†ä¸€ä¸ªç¯ã€‚</p>
<p>  ä¸Šä¸€éƒ¨åˆ†ä¸­ï¼Œæ€»ç»“å¿«æ…¢æŒ‡é’ˆçš„ç‰¹æ€§ â€”â€” æ¯è½®ç§»åŠ¨ä¹‹åä¸¤è€…çš„è·ç¦»ä¼šåŠ ä¸€ã€‚ä¸‹é¢ä¼šç»§ç»­ç”¨è¯¥ç‰¹æ€§è§£å†³ç¯çš„é—®é¢˜ã€‚<br>  å½“ä¸€ä¸ªé“¾è¡¨æœ‰ç¯æ—¶ï¼Œå¿«æ…¢æŒ‡é’ˆéƒ½ä¼šé™·å…¥ç¯ä¸­è¿›è¡Œæ— é™æ¬¡ç§»åŠ¨ï¼Œç„¶åå˜æˆäº†è¿½åŠé—®é¢˜ã€‚æƒ³è±¡ä¸€ä¸‹åœ¨æ“åœºè·‘æ­¥çš„åœºæ™¯ï¼Œåªè¦ä¸€ç›´è·‘ä¸‹å»ï¼Œå¿«çš„æ€»ä¼šè¿½ä¸Šæ…¢çš„ã€‚å½“ä¸¤ä¸ªæŒ‡é’ˆéƒ½è¿›å…¥ç¯åï¼Œæ¯è½®ç§»åŠ¨ä½¿å¾—æ…¢æŒ‡é’ˆåˆ°å¿«æŒ‡é’ˆçš„è·ç¦»å¢åŠ ä¸€ï¼ŒåŒæ—¶å¿«æŒ‡é’ˆåˆ°æ…¢æŒ‡é’ˆçš„è·ç¦»ä¹Ÿå‡å°‘ä¸€ï¼Œåªè¦ä¸€ç›´ç§»åŠ¨ä¸‹å»ï¼Œå¿«æŒ‡é’ˆæ€»ä¼šè¿½ä¸Šæ…¢æŒ‡é’ˆã€‚</p>
<p>  æ®ä¸Šè¿°è¡¨è¿°å¾—å‡ºï¼Œå¦‚æœä¸€ä¸ªé“¾è¡¨å­˜åœ¨ç¯ï¼Œé‚£ä¹ˆå¿«æ…¢æŒ‡é’ˆå¿…ç„¶ä¼šç›¸é‡ã€‚å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> {</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">hasCycle</span><span class="params">(ListNode *head)</span> </span>{</span><br><span class="line">        ListNode *slow = head;</span><br><span class="line">        ListNode *fast = head;</span><br><span class="line">        <span class="keyword">while</span>(fast != <span class="literal">nullptr</span>) {</span><br><span class="line">            fast = fast-&gt;next;</span><br><span class="line">            <span class="keyword">if</span>(fast != <span class="literal">nullptr</span>) {</span><br><span class="line">                fast = fast-&gt;next;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(fast == slow) {</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            }</span><br><span class="line">            slow = slow-&gt;next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p>  æœ€åä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœå­˜åœ¨ç¯ï¼Œå¦‚ä½•åˆ¤æ–­ç¯çš„é•¿åº¦å‘¢ï¼Ÿæ–¹æ³•æ˜¯ï¼Œ<font color="blue">å¿«æ…¢æŒ‡é’ˆç›¸é‡åç»§ç»­ç§»åŠ¨ï¼Œç›´åˆ°ç¬¬äºŒæ¬¡ç›¸é‡ã€‚ä¸¤æ¬¡ç›¸é‡é—´çš„ç§»åŠ¨æ¬¡æ•°å³ä¸ºç¯çš„é•¿åº¦</font>ã€‚</p>
</li>
<li><p>ç”±äºé“¾è¡¨ä¸­ä»é«˜ä½åˆ°ä½ä½å­˜æ”¾äº†æ•°å­—çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒè¿›åˆ¶è½¬åè¿›åˆ¶çš„æ–¹æ³•ï¼Œåœ¨éå†ä¸€éé“¾è¡¨çš„åŒæ—¶å¾—åˆ°æ•°å­—çš„åè¿›åˆ¶å€¼ã€‚</p>
<p>   ä»¥ç¤ºä¾‹ 1 ä¸­ç»™å‡ºçš„äºŒè¿›åˆ¶é“¾è¡¨ä¸ºä¾‹ï¼š</p>
<p>   <img src="C:%5CUsers%5CASUS%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221101205758024.png" alt="image-20221101205758024"></p>
<p>â€‹     è¡¨ç¤º n æ˜¯äºŒè¿›åˆ¶æ•´æ•°ã€‚<br>   <img src="C:%5CUsers%5CASUS%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221101205804892.png" alt="image-20221101205804892"></p>
<p>   é“¾è¡¨çš„ç¬¬ 1 ä¸ªèŠ‚ç‚¹çš„å€¼æ˜¯ 1ï¼Œè¿™ä¸ª 1 æ˜¯äºŒè¿›åˆ¶çš„æœ€é«˜ä½ï¼Œåœ¨åè¿›åˆ¶åˆ†è§£ä¸­ï¼Œ1 ä½œä¸ºç³»æ•°å¯¹åº”çš„ 2^2^<br>çš„æŒ‡æ•°æ˜¯ 2ï¼Œè¿™æ˜¯å› ä¸ºé“¾è¡¨çš„é•¿åº¦ä¸º 3ã€‚æˆ‘ä»¬æ˜¯ä¸æ˜¯æœ‰å¿…è¦ä¸€å®šè¦å…ˆçŸ¥é“é“¾è¡¨çš„é•¿åº¦ï¼Œæ‰å¯ä»¥ç¡®å®šæŒ‡æ•° 2 å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä¸å¿…è¦çš„ã€‚</p>
<ul>
<li><p>æ¯è¯»å–é“¾è¡¨çš„ä¸€ä¸ªèŠ‚ç‚¹å€¼ï¼Œå¯ä»¥è®¤ä¸ºè¯»åˆ°çš„èŠ‚ç‚¹å€¼æ˜¯å½“å‰äºŒè¿›åˆ¶æ•°çš„æœ€ä½ä½ï¼›</p>
</li>
<li><p>å½“è¯»åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å€¼çš„æ—¶å€™ï¼Œéœ€è¦å°†å·²ç»è¯»åˆ°çš„ç»“æœä¹˜ä»¥ 2ï¼Œå†å°†æ–°è¯»åˆ°çš„èŠ‚ç‚¹å€¼å½“ä½œå½“å‰äºŒè¿›åˆ¶æ•°çš„æœ€ä½ä½ï¼›</p>
</li>
<li><p>å¦‚æ­¤è¿›è¡Œä¸‹å»ï¼Œç›´åˆ°è¯»åˆ°äº†é“¾è¡¨çš„æœ«å°¾ã€‚</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> {</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getDecimalValue</span><span class="params">(ListNode* head)</span> </span>{</span><br><span class="line">        ListNode* cur = head;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">nullptr</span>) {</span><br><span class="line">            ans = ans * <span class="number">2</span> + cur-&gt;val;</span><br><span class="line">            cur = cur-&gt;next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">     <span class="number">5</span>Ã·<span class="number">2</span>=<span class="number">2</span>ä½™<span class="number">1</span> </span><br><span class="line">     <span class="number">2</span>Ã·<span class="number">2</span>=<span class="number">1</span>ä½™<span class="number">0</span> </span><br><span class="line">     <span class="number">1</span>Ã·<span class="number">2</span>=<span class="number">0</span>ä½™<span class="number">1</span>  </span><br><span class="line">      ===&gt; å¾—å‡ºäºŒè¿›åˆ¶ <span class="number">101</span> .</span><br><span class="line">     åæ¨å›å» å•† x é™¤æ•° + ä½™æ•° </span><br><span class="line">     =&gt; <span class="number">0</span> x <span class="number">2</span> + <span class="number">1</span> = <span class="number">1</span> </span><br><span class="line">     -&gt; <span class="number">1</span> x <span class="number">2</span> + <span class="number">0</span> = <span class="number">2</span></span><br><span class="line">     -&gt; <span class="number">2</span> x <span class="number">2</span> +<span class="number">1</span> = <span class="number">5</span></span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p>Cè¯­è¨€è¯­æ³•è§„å®šï¼Œå­—æ¯eæˆ–Eä¹‹å‰å¿…é¡»è¦æœ‰æ•°å­—ï¼Œä¸”eæˆ–Eåé¢çš„æŒ‡æ•°å¿…é¡»ä¸ºæ•´æ•°ã€‚å¦‚e3ã€5e3.6ã€<font color="red">.eã€eç­‰éƒ½æ˜¯éæ³•</font>çš„æŒ‡æ•°å½¢å¼ã€‚</p>
</li>
<li><p><img src="C:%5CUsers%5CASUS%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221103211215842.png" alt="image-20221103211215842"></p>
</li>
<li><p>åœ¨æ–¹æ³•ä½“ä¸­å®šä¹‰çš„å±€éƒ¨å˜é‡åœ¨è¯¥æ–¹æ³•è¢«æ‰§è¡Œæ—¶åˆ›å»ºï¼šé”™</p>
<ul>
<li>ä¸æ˜¯å±€éƒ¨å˜é‡å†è¯¥æ–¹æ³•è¢«æ‰§è¡Œ/è°ƒç”¨æ—¶åˆ›å»ºï¼Œè€Œæ˜¯<font color="red">åº”è¯¥ä¸ºåœ¨è¯¥å˜é‡è¢«å£°æ˜å¹¶èµ‹å€¼æ—¶åˆ›å»ºï¼Œå¯ä»¥ç†è§£ä¸ºå½“ä»£ç æ‰§è¡Œåˆ°è¯¥ å˜é‡è¢«èµ‹å€¼çš„ä»£ç æ˜¯æ‰è¢«åˆ›å»º</font>ã€‚</li>
</ul>
</li>
<li><p>Cè¯­è¨€çš„æºç¨‹åºåŠ å·¥åŒ…æ‹¬ä¸‰æ­¥ï¼š<strong>é¢„å¤„ç†ã€ç¼–è¯‘å’Œé“¾æ¥ã€‚</strong></p>
<p>  å…¶ä¸­æºç¨‹åºåŠ å·¥çš„ç¼–è¯‘é˜¶æ®µåˆå¯ç»†åˆ†ä¸ºï¼šé¢„å¤„ç†ï¼Œç¼–è¯‘ï¼Œæ±‡ç¼–ä¸‰ä¸ªé˜¶æ®µã€‚</p>
<p>  å³Cè¯­è¨€ç”±æºä»£ç ç”Ÿæˆå¯æ‰§è¡Œç¨‹åºçš„è¿‡ç¨‹ä¸ºï¼š<strong>Cæºç¨‹åºâ†’ç¼–è¯‘é¢„å¤„ç†â†’ç¼–è¯‘â†’æ±‡ç¼–ç¨‹åºâ†’é“¾æ¥ç¨‹åºâ†’å¯æ‰§è¡Œæ–‡ä»¶</strong>ã€‚</p>
  <figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">â‘ é¢„å¤„ç†ï¼š</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>ã€å¤´æ–‡ä»¶çš„åŒ…å«ï¼Œ<span class="meta">#<span class="meta-keyword">include</span>é¢„å¤„ç†æŒ‡ä»¤ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€defineå®šä¹‰ç¬¦å·çš„æ›¿æ¢</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>  é¢„å¤„ç†æŒ‡ä»¤</span></span><br><span class="line"></span><br><span class="line">æ³¨é‡Šåˆ é™¤</span><br><span class="line"></span><br><span class="line">â‘¡ç¼–è¯‘ï¼š</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>ã€æŠŠCè¯­è¨€ä»£ç ç¿»è¯‘æˆæ±‡ç¼–ä»£ç ã€‚</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€è¯­æ³•åˆ†æ</span><br><span class="line">     </span><br><span class="line"><span class="number">3</span>ã€è¯æ³•åˆ†æ</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>ã€è¯­ä¹‰åˆ†æ</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>ã€ç¬¦å·æ±‡æ€»</span><br><span class="line"></span><br><span class="line">â‘¢æ±‡ç¼–</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>ã€æŠŠæ±‡ç¼–æŒ‡ä»¤ç¿»è¯‘æˆäºŒè¿›åˆ¶æŒ‡ä»¤</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€å½¢æˆç¬¦å·è¡¨</span><br><span class="line"></span><br><span class="line">â‘£é“¾æ¥</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>ã€åˆå¹¶æ®µè¡¨</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€ç¬¦å·è¡¨çš„åˆå¹¶å’Œç¬¦å·è¡¨çš„é‡å®šä½</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><strong>å‡½æ•°fscanfä¸èƒ½ä»æ ‡å‡†è¾“å…¥æµè¯»å–æ•°æ®</strong>   â€“é”™</p>
</li>
<li><p><strong>ç¨‹åºå‘˜å¿…é¡»æ˜ç¡®åœ°ç”¨å‡½æ•°fopenæ‰“å¼€æ ‡å‡†è¾“å…¥æµã€æ ‡å‡†è¾“å‡ºæµå’Œæ ‡å‡†é”™è¯¯æµ</strong>   â€“é”™</p>
</li>
<li><p><strong>ç¨‹åºå¿…é¡»æ˜ç¡®åœ°è°ƒç”¨å‡½æ•°fcloseå…³é—­æ–‡ä»¶</strong> â€“ é”™</p>
</li>
<li><pre><code class="c"> <span class="keyword">int</span> _tmain(<span class="keyword">int</span> argc, _TCHAR* argv[])
 {
     <span class="keyword">char</span> *p1 = <span class="string">"h</span>
<span class="string">        ello"</span>;
     <span class="keyword">char</span> *p2 = <span class="string">"world"</span>;
     <span class="keyword">char</span> *p3 = <span class="string">"a piece of cake"</span>;
     <span class="keyword">char</span> *str[] = { p1, p2, p3 };
     <span class="built_in">cout</span> &lt;&lt; <span class="keyword">sizeof</span>(*str[<span class="number">0</span>]) &lt;&lt; <span class="string">" "</span> &lt;&lt; <span class="keyword">typeid</span>(str[<span class="number">0</span>]).name() &lt;&lt; <span class="string">" "</span> &lt;&lt; *(str[<span class="number">0</span>] + <span class="number">1</span>) &lt;&lt; <span class="built_in">endl</span>;<span class="comment">//typeidæ˜¯ç±»å‹</span>
     <span class="built_in">cout</span> &lt;&lt; <span class="keyword">sizeof</span>(*&amp;str[<span class="number">0</span>]) &lt;&lt; <span class="string">" "</span> &lt;&lt; <span class="keyword">typeid</span>(&amp;str[<span class="number">0</span>]).name() &lt;&lt; <span class="string">" "</span> &lt;&lt; *(&amp;str[<span class="number">0</span>] + <span class="number">1</span>) &lt;&lt; <span class="built_in">endl</span>;
     <span class="built_in">cout</span> &lt;&lt; <span class="keyword">sizeof</span>(*str) &lt;&lt; <span class="string">" "</span> &lt;&lt; <span class="keyword">typeid</span>(str).name() &lt;&lt; <span class="string">" "</span> &lt;&lt; *(str + <span class="number">1</span>) &lt;&lt; <span class="built_in">endl</span>;
     <span class="built_in">cout</span> &lt;&lt; <span class="keyword">sizeof</span>(*&amp;str) &lt;&lt; <span class="string">" "</span> &lt;&lt; <span class="keyword">typeid</span>(&amp;str).name() &lt;&lt; <span class="string">" "</span> &lt;&lt; *(&amp;str + <span class="number">1</span>) &lt;&lt; <span class="built_in">endl</span>;
     <span class="keyword">return</span> <span class="number">0</span>;
 }
 è¿è¡Œç»“æœï¼š
 <span class="number">1</span> <span class="keyword">char</span> * e
 <span class="number">4</span> <span class="keyword">char</span> * * world
 <span class="number">4</span> <span class="keyword">char</span> * [<span class="number">3</span>] world
 <span class="number">12</span> <span class="keyword">char</span> * (*)[<span class="number">3</span>] <span class="number">00F</span>7F734
 èƒ½çœ‹æ‡‚è¿™ä¸ªä½ å°±çŸ¥é“äº†ï¼Œè¿™ä¸ªåœ°æ–¹+<span class="number">1</span>çš„æ—¶å€™éƒ½æ˜¯è¯´æ­¥é•¿ï¼Œæ­¥é•¿å°±æ˜¯è¯´+<span class="number">1</span>å‰é¢çš„è¿™ä¸ªå¯¹è±¡ æ‰€æŒ‡å‘çš„ æ•°æ®ç±»å‹çš„é•¿åº¦ï¼Œæ¯”å¦‚ &amp;str[<span class="number">0</span>]ç±»å‹æ˜¯<span class="keyword">char</span> * * æ‰€æŒ‡å‘çš„æ˜¯<span class="keyword">char</span> * é•¿åº¦æ˜¯æŒ‡é’ˆçš„é•¿åº¦ï¼ˆä¸åŒæœºå™¨ä¸åŒï¼‰
&lt;!--ï¿¼<span class="number">12</span>--&gt;

å¦‚æœè¦è¾“å‡ºå‰©ä½™å­—ç¬¦ä¸²ï¼Œå¯ç”¨

</code></pre>
</li>
</ol>
<pre><code><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, ``<span class="string">"%s\n"</span>``, s);</span><br></pre></td></tr></tbody></table></figure></code></pre><ol start="127">
<li><p>â— itoa()ï¼šå°†æ•´å‹å€¼è½¬æ¢ä¸º<a href="https://so.csdn.net/so/search?q=å­—ç¬¦ä¸²&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener">å­—ç¬¦ä¸²</a>ã€‚<br>â— ltoa()ï¼šå°†é•¿æ•´å‹å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚<br>â— ultoa()ï¼šå°†æ— ç¬¦å·é•¿æ•´å‹å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚<br>â— gcvt()ï¼šå°†æµ®ç‚¹å‹æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå–å››èˆäº”å…¥ã€‚<br>â— ecvt()ï¼šå°†åŒç²¾åº¦æµ®ç‚¹å‹å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œè½¬æ¢ç»“æœä¸­ä¸åŒ…å«åè¿›åˆ¶å°æ•°ç‚¹ã€‚<br>â— fcvt()ï¼šæŒ‡å®šä½æ•°ä¸ºè½¬æ¢ç²¾åº¦ï¼Œå…¶ä½™åŒecvt()ã€‚</p>
<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">itoa()å‡½æ•°æœ‰<span class="number">3</span>ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦è½¬æ¢çš„æ•°å­—ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦å†™å…¥è½¬æ¢ç»“æœçš„ç›®æ ‡å­—ç¬¦ä¸²ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯è½¬ç§»æ•°å­—æ—¶æ‰€ç”¨ çš„åŸºæ•°ã€‚åœ¨ä¸Šä¾‹ä¸­ï¼Œè½¬æ¢åŸºæ•°ä¸º<span class="number">10</span>ã€‚<span class="number">10</span>ï¼šåè¿›åˆ¶ï¼›<span class="number">2</span>ï¼šäºŒè¿›åˆ¶...</span><br><span class="line"></span><br><span class="line">itoaå¹¶ä¸æ˜¯ä¸€ä¸ªæ ‡å‡†çš„Cå‡½æ•°ï¼Œå®ƒæ˜¯Windowsç‰¹æœ‰çš„ï¼Œå¦‚æœè¦å†™è·¨å¹³å°çš„ç¨‹åºï¼Œè¯·ç”¨<span class="built_in">sprintf</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="keyword">int</span> num = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">char</span> str[<span class="number">25</span>];</span><br><span class="line">itoa(num, str, <span class="number">10</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"The number 'num' is %d and the string 'str' is %s. \n"</span> ,</span><br><span class="line">num, str);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">atoi</span> <span class="params">(<span class="keyword">char</span> s[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="keyword">int</span> i,n,sign;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;<span class="built_in">isspace</span>(s[i]);i++)<span class="comment">//è·³è¿‡ç©ºç™½ç¬¦;</span></span><br><span class="line">sign=(s[i]==<span class="string">'-'</span>)?<span class="number">-1</span>:<span class="number">1</span>;</span><br><span class="line">if(s[i]=='+'||s[i]==' -')//è·³è¿‡ç¬¦å·</span><br><span class="line">  i++;</span><br><span class="line"><span class="keyword">for</span>(n=<span class="number">0</span>;<span class="built_in">isdigit</span>(s[i]);i++)</span><br><span class="line">       n=<span class="number">10</span>*n+(s[i]-<span class="string">'0'</span>);<span class="comment">//å°†æ•°å­—å­—ç¬¦è½¬æ¢æˆæ•´å½¢æ•°å­—</span></span><br><span class="line"><span class="keyword">return</span> sign *n;</span><br></pre></td></tr></tbody></table></figure>

<p>â— atof()ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºåŒç²¾åº¦æµ®ç‚¹å‹å€¼ã€‚<br>â— atoi()ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´å‹å€¼ã€‚<br>â— atol()ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºé•¿æ•´å‹å€¼ã€‚<br>â— strtod()ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºåŒç²¾åº¦æµ®ç‚¹å‹å€¼ï¼Œå¹¶æŠ¥å‘Šä¸èƒ½è¢«è½¬æ¢çš„æ‰€æœ‰å‰©ä½™æ•°å­—ã€‚<br>â— strtol()ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºé•¿æ•´å€¼ï¼Œå¹¶æŠ¥å‘Šä¸èƒ½è¢«è½¬æ¢çš„æ‰€æœ‰å‰©ä½™æ•°å­—ã€‚<br>â— strtoul()ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ— ç¬¦å·é•¿æ•´å‹å€¼ï¼Œå¹¶æŠ¥å‘Šä¸èƒ½è¢«è½¬æ¢çš„æ‰€æœ‰å‰©ä½™æ•°å­—ã€‚</p>
</li>
<li><p>int f1(float);<br>int f2(char);<br>void f3(float);<br>int (*pf)(float);</p>
<p>å‡½æ•°æŒ‡é’ˆå˜é‡ï¼š</p>
<p>å‡½æ•°æŒ‡é’ˆå˜é‡çš„å£°æ˜æ–¹æ³•ä¸ºï¼š</p>
<p><strong>è¿”å›å€¼ç±»å‹ ( * æŒ‡é’ˆå˜é‡å) ([å½¢å‚åˆ—è¡¨]);</strong><br>æ ¹æ®å®šä¹‰ï¼Œ</p>
<p><code>int(*pf)(float);
int (*p)(float)=&amp;f1;</code><br>pf,péƒ½æ˜¯å‡½æ•°æŒ‡é’ˆå˜é‡ã€‚</p>
<p>å‡½æ•°åœ°å€ ï¼š</p>
<p>åœ¨ç¼–è¯‘æ—¶ï¼Œæ¯ä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªå…¥å£åœ°å€ï¼Œè¯¥å…¥å£åœ°å€å°±æ˜¯å‡½æ•°æŒ‡é’ˆæ‰€æŒ‡å‘çš„åœ°å€ã€‚</p>
<p>å‡½æ•°åœ°å€çš„è·å–ï¼Œå¯ä»¥æ˜¯å‡½æ•°åï¼Œä¹Ÿå¯ä»¥åœ¨å‡½æ•°åå‰åŠ å–åœ°å€ç¬¦&amp; ã€‚</p>
<p>Cé”™è¯¯æ˜¯å› ä¸ºå‡½æ•°å½¢å‚ç±»å‹ä¸åŒ¹é…ã€‚</p>
<p>å‡½æ•°æŒ‡é’ˆæ‰€æŒ‡å‘çš„å‡½æ•°ï¼Œè¿”å›å€¼ç±»å‹ï¼Œå½¢å‚åˆ—è¡¨å¿…é¡»å®Œå…¨åŒ¹é…ï¼Œå¯¹å‡½æ•°æŒ‡é’ˆèµ‹å€¼å¯ä»¥é‡‡ç”¨ä»¥ä¸‹æ–¹å¼<font color="red">pfï¼&amp;p1æˆ–è€…pfï¼p1 </font></p>
</li>
<li><p>æŒ‰ä½è¿ç®—æ˜¯å¯¹å­—èŠ‚æˆ–å­—ä¸­çš„å®é™…ä½è¿›è¡Œæ£€æµ‹ã€è®¾ç½®æˆ–ç§»ä½, å®ƒ<strong>åªé€‚ç”¨äºå­—ç¬¦å‹å’Œæ•´æ•°å‹å˜é‡ä»¥åŠå®ƒä»¬çš„å˜ä½“, å¯¹å…¶å®ƒæ•°æ®ç±»å‹ä¸é€‚ç”¨</strong>ã€‚æ— è®ºæ˜¯float  è¿˜æ˜¯double,åœ¨å†…å­˜ä¸­çš„å­˜å‚¨åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š<strong>ç¬¦å·ä½ï¼ŒæŒ‡æ•°ä½ï¼Œå°¾æ•°ä½ï¼›</strong>ä½è¿ç®—ç¬¦å¯¹å®ƒä»¬æ²¡æœ‰æ„ä¹‰</p>
</li>
<li><p><font color="red">floatç±»å‹çš„å˜é‡</font>èµ‹å€¼åä¸ºä»€ä¹ˆ<font color="red">å¿…é¡»åœ¨å€¼ååŠ â€fâ€/â€œFâ€</font><br><code>float x = 3.4F;</code><br>è¿™é‡Œå°†â€œ3.4â€èµ‹å€¼ç»™floatç±»å‹çš„å˜é‡xï¼Œå¦‚æœä¸åŠ Fï¼Œç³»ç»Ÿä¼šé»˜è®¤æŠŠèµ‹å€¼çš„æ•°å­—å½“ä½œdoubleç±»å‹å¤„ç† 1ï¼Œç„¶ååœ¨æŠŠè¿™ä¸ªdoubleç±»å‹çš„å€¼èµ‹ç»™floatç±»å‹ï¼Œè¿™æ ·å°±ä¼šå‡ºç°ç²¾åº¦ä¸¢å¤±ã€‚<br><code>float y = 3F;</code><br>è¿™é‡Œå°†â€œ3â€èµ‹å€¼ç»™floatç±»å‹çš„å˜é‡yï¼Œå¦‚æœå°†æ•´æ•°ç±»å‹çš„â€œ3â€èµ‹å€¼ç»™floatï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†å…¶è½¬åŒ–ä¸ºdoubleç±»å‹1ï¼Œç„¶åå†èµ‹å€¼ç»™floatç±»å‹ï¼Œè¿™æ ·è™½ç„¶ä¼šç¼–è¯‘æˆåŠŸï¼Œä½†ä¼šå¯¼è‡´ç²¾åº¦ç¼ºå¤±ã€‚<br>å¸¸é‡å­˜å‚¨åœ¨å¸¸é‡ç¼“å†²åŒºä¸­ï¼Œæœ‰ä¸”åªæœ‰ä¸€ä»½ï¼Œå¸¸é‡ç¼“å†²åŒºä¸­çš„å€¼é»˜è®¤ç©ºé—´å¤§å°ï¼Œå¦‚æœæ˜¯æ•´æ•°ï¼Œé»˜è®¤ç©ºé—´å¤§å°ä¸º32bitâ€”-intï¼Œå¦‚æœæ˜¯å°æ•°ï¼Œé»˜è®¤ç©ºé—´å¤§å°ä¸º64bitâ€”-doubleã€‚ </p>
</li>
<li><p>%fç”¨äºè¾“å…¥float,%lfç”¨äºè¾“å…¥double,%leç”¨äºç§‘å­¦è®¡æ•°æ³•è¾“å…¥doubleå‹å˜é‡</p>
</li>
<li><p>å½¢å‚ä¸å®å‚çš„ä¹‹é—´çš„ä¼ é€’åˆ†ç±»</p>
</li>
<li><p>1ã€<strong>æŒ‰å€¼ä¼ é€’ï¼ˆå®å½¢æ— è”ç³»ï¼‰</strong></p>
<p>æŒ‰å€¼ä¼ é€’å°±æ˜¯å¹³å¸¸ç¼–ç¨‹ä¸­ç»å¸¸ç”¨åˆ°çš„ï¼Œå®šä¹‰ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ï¼Œåœ¨è°ƒç”¨æŸå‡½æ•°æ—¶æŠŠè¯¥å˜é‡ä½œä¸ºå‡½æ•°çš„å®å‚ä¼ é€’ç»™å‡½æ•°ã€‚è¿™ç§ä¼ é€’æ–¹å¼é‡‡ç”¨çš„æ˜¯å•å‘å€¼ä¼ é€’ï¼Œå®å½¢æ— è”ç³»ï¼Œå½¢å‚æ”¹å˜ä¸å½±å“å®å‚ã€‚</p>
<p>2ã€<strong>æŒ‰åœ°å€ä¼ é€’ï¼ˆé€šè¿‡æ“ä½œå½¢å‚å¯èƒ½ä¼šæ”¹å˜å®å‚ï¼‰</strong></p>
<p>æŒ‰åœ°å€ä¼ é€’ä¸»è¦å‡ºç°åœ¨å‡½æ•°å‚æ•°æ˜¯æŒ‡é’ˆå˜é‡ã€æ•°ç»„ç­‰çš„æ—¶å€™ã€‚</p>
<p>æ³¨æ„ï¼š</p>
<p>å®è´¨ä¸Šç”¨æŒ‡é’ˆåšå‡½æ•°å‚æ•°çš„æƒ…å†µä¸‹ï¼Œåœ¨è°ƒç”¨å‡½æ•°æ—¶ï¼Œå°†å®å‚å˜é‡çš„ä¼ é€’ç»™å½¢å‚å˜é‡ï¼Œé‡‡å–çš„ä¾ç„¶æ˜¯å•å‘å€¼ä¼ é€’ã€‚å¦‚æœ<font color="blue">åœ¨è¢«è°ƒå‡½æ•°ä¸­åªæ˜¯å•çº¯æ”¹å˜äº†å½¢å‚æŒ‡é’ˆå˜é‡çš„å€¼</font>ï¼Œåœ¨å‡½æ•°è°ƒç”¨ç»“æŸåè¿™äº›å½¢å‚è¢«é”€æ¯ï¼Œæ˜¯<font color="blue">ä¸ä¼šå½±å“è°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥å®å‚æŒ‡é’ˆå˜é‡å€¼</font>ã€‚</p>
<p><font color="red">åªæœ‰å½“ä½ åœ¨è¢«è°ƒå‡½æ•°ä¸­é€šè¿‡æ“ä½œå½¢å‚æŒ‡é’ˆå˜é‡ï¼Œå»æ”¹å˜äº†æŒ‡é’ˆæŒ‡å‘å˜é‡çš„å€¼æ—¶ï¼Œæ‰å¯ä»¥æ”¹å˜å®å‚æŒ‡é’ˆå˜é‡æ‰€æŒ‡å‘å˜é‡çš„å€¼</font>ã€‚ä¹Ÿåªæœ‰è¿™ç§æƒ…å†µä¸‹å½¢å‚æ”¹å˜æ‰å¯èƒ½å½±å“å®å‚ã€‚</p>
</li>
<li><p>å‡è®¾å‡½æ•°åŸå‹å’Œå˜é‡è¯´æ˜å¦‚ä¸‹ï¼š </p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">void f3(int(*p)[4]);``int a[4]={1ï¼Œ2ï¼Œ3ï¼Œ4}ï¼Œ``int b[3][4]={{1ï¼Œ2ï¼Œ3ï¼Œ4}ï¼Œ{5ï¼Œ6ï¼Œ7ï¼Œ8}ï¼Œ{9ï¼Œ10ï¼Œ11ï¼Œ12}};</span><br></pre></td></tr></tbody></table></figure>

<p>  ä¸‹é¢è°ƒç”¨éæ³•çš„æ˜¯</p>
<ul>
<li><pre><code>f3(&amp;a);
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></tbody></table></figure>
f3(b[1]);
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></tbody></table></figure>
f3(&amp;b[1]);
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></tbody></table></figure>
f3(b);

<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">       &gt; é€‰**B**ã€‚æ ¹æ®é¢˜ç›®ç»“åˆé€‰é¡¹æ¥çœ‹è€ƒå¯Ÿçš„æ˜¯å¯¹å‡½æ•°çš„ä¼ å‚è°ƒç”¨ï¼Œå…¶ä¸­å‚æ•°æ¶‰åŠåˆ°**æ•°ç»„æŒ‡é’ˆ** ã€‚ </span><br><span class="line">       &gt;</span><br><span class="line">       &gt; void f3(**int(\*p)[4]**);  å…¶å‚æ•°æ˜¯**æ•°ç»„æŒ‡é’ˆ** ï¼ŒæŒ‡å‘æ•°ç»„pçš„æŒ‡é’ˆã€‚</span><br><span class="line">       &gt;</span><br><span class="line">       &gt;</span><br><span class="line">       &gt; - â€‹    é€‰é¡¹Aï¼šf3(**&amp;a**); å‚æ•°ä¸ºä¸€ä¸ªåœ°å€ï¼Œç¬¦åˆæŒ‡é’ˆå®šä¹‰ã€‚   </span><br><span class="line">       &gt; - â€‹    é€‰é¡¹Bï¼šf3(**b[1]**); å‚æ•°ä¸ºä¸€ä¸ªæ•°ç»„çš„å…·ä½“å…ƒç´ ï¼Œä¸ç¬¦åˆæŒ‡é’ˆå®šä¹‰ã€‚**æ‰€ä»¥Bæ˜¯éæ³•çš„è°ƒç”¨ã€‚**   </span><br><span class="line">       &gt; - â€‹    é€‰é¡¹Cï¼šf3(**&amp;b[1]**); å‚æ•°ä¸ºä¸€ä¸ªæ•°ç»„å…ƒç´ çš„åœ°å€ï¼Œç¬¦åˆæŒ‡é’ˆå®šä¹‰ã€‚   </span><br><span class="line">       &gt; - â€‹    é€‰é¡¹Dï¼šf3(**b**); å‚æ•°ä¸ºæ•°ç»„åï¼Œè¡¨ç¤ºè¯¥æ•°ç»„çš„é¦–åœ°å€ï¼Œç¬¦åˆæŒ‡é’ˆå®šä¹‰ã€‚</span><br><span class="line">       &gt;</span><br><span class="line">       &gt; &lt;font color='red'&gt;`b[1]`å’Œ`&amp;b[1]`è™½ç„¶å€¼ç›¸ç­‰ï¼Œä½†æ˜¯å«ä¹‰ä¸ä¸€æ ·ï¼Œ`&amp;b[1]`æ˜¯è¡ŒæŒ‡é’ˆï¼Œç±»å‹æ˜¯`int (*)[4]`ï¼Œå’Œ`a`çš„ç±»å‹ç›¸åŒï¼›è€Œ`b[1]`æ˜¯ä¸ª`int *`ï¼Œå’Œ`&amp;b[1][0]`ç­‰ä»·ã€‚&lt;/font&gt;</span><br><span class="line">       &gt;</span><br><span class="line">       &gt; - b[1]ä½œä¸ºç¬¬äºŒè¡Œæ•°ç»„çš„æ•°ç»„åï¼Œå¦‚æœå•ç‹¬å‡ºç°ï¼Œåˆ™è¡¨ç¤ºé¦–å…ƒç´ çš„åœ°å€ï¼Œå³å…ƒç´ b[1][0]çš„åœ°å€ï¼Œç±»å‹æ˜¯int*ï¼›å¦‚æœåŠ å–åœ°å€&amp;ï¼Œå˜æˆ&amp;b[1]ï¼Œé‚£ä¹ˆå°±æ˜¯æ•´ä¸ªç¬¬äºŒè¡Œæ•°ç»„çš„åœ°å€ï¼Œå’Œå‡½æ•°f(3)è¦æ±‚çš„å½¢å‚ä¿æŒä¸€è‡´ï¼Œå³è¯¥æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªæ•´å‹æ•°ç»„ï¼Œæ•°ç»„å…±4ä¸ªæ•´å‹å…ƒç´ ã€‚å¹¶ä¸æ˜¯æ‰€è°“çš„æŒ‡é’ˆçš„&lt;font color='red'&gt;æŒ‡é’ˆã€‚&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">135. Cè¯­è¨€ä¸­ï¼Œ&lt;font color='red'&gt;æœªç»èµ‹å€¼&lt;/font&gt;çš„&lt;font color='red'&gt;å…¨å±€å˜é‡&lt;/font&gt;é»˜è®¤åˆå§‹åŒ–ä¸º&lt;font color='red'&gt;0&lt;/font&gt;ï¼Œ**autoç±»å‹ã€registerç±»å‹ä¸ç¡®å®š**</span><br><span class="line"></span><br><span class="line">136. æ‰€æœ‰çš„&lt;font color='red'&gt;é™æ€å±€éƒ¨å˜é‡&lt;/font&gt;ï¼Œå³å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨çš„`static int name`å½¢å¼çš„ï¼Œé»˜è®¤åˆå§‹åŒ–ä¸º&lt;font color='red'&gt;0&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">137. å¤–éƒ¨å˜é‡å¯ä»¥ä¾›å…¶æ‰€åœ¨çš„ç¨‹åºæ–‡ä»¶ä¸­çš„ä»»ä½•å‡½æ•°ä½¿ç”¨   --- é”™è¯¯</span><br><span class="line"></span><br><span class="line">     - å…¨å±€å˜é‡ä¹Ÿç§°ä¸ºå¤–éƒ¨å˜é‡ï¼Œå®ƒæ˜¯åœ¨å‡½æ•°å¤–éƒ¨å®šä¹‰çš„å˜é‡ï¼Œå…¶ä½œç”¨åŸŸæ˜¯ä»å®šä¹‰è¯¥å˜é‡çš„ä½ç½®å¼€å§‹è‡³æºæ–‡ä»¶ç»“æŸã€‚å…¨å±€å˜é‡ä¸å—ä½œç”¨åŸŸçš„å½±å“ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œå…¨å±€å˜é‡çš„ç”Ÿå‘½æœŸä¸€ç›´åˆ°ç¨‹åºçš„ç»“æŸï¼‰ã€‚ </span><br><span class="line">       -    å¦‚æœåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨externå…³é”®å­—æ¥å£°æ˜å¦ä¸€ä¸ªæ–‡ä»¶ä¸­å­˜åœ¨çš„å…¨å±€å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ•°æ®ã€‚    </span><br><span class="line">       -    åœ¨å…¨å±€å˜é‡å‰åŠ ä¸€ä¸ªstaticï¼Œä½¿è¯¥å˜é‡åªåœ¨è¿™ä¸ªæºæ–‡ä»¶ä¸­å¯ç”¨ï¼Œç§°ä¹‹ä¸ºå…¨å±€é™æ€å˜é‡ã€‚</span><br><span class="line"></span><br><span class="line">138. æŒ‡é’ˆå°±æ˜¯åœ°å€ï¼Œå› æ­¤ä¸€ä¸ªå˜é‡çš„æŒ‡é’ˆå°±æ˜¯è¯¥å˜é‡çš„åœ°å€ã€‚è¯·é—®è¿™å¥è¯çš„è¯´æ³•æ˜¯æ­£ç¡®çš„å—ï¼Ÿ   &lt;font color='red'&gt;é”™è¯¯&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">     - &lt;font color='blue'&gt;ä¸€ä¸ªå˜é‡çš„æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹æ‰æ˜¯è¿™ä¸ªå˜é‡çš„åœ°å€&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">139. - è‹¥å·²åŒ…å«æ ‡å‡†åº“å¤´æ–‡ä»¶åŠç›¸å…³å‘½åç©ºé—´ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥é‡æ–°å®šä¹‰æ ‡å‡†åº“å‡½æ•°ï¼Œä½†æ˜¯è¯¥å‡½æ•°å°†å¤±å»åŸæœ‰å«ä¹‰  -- &lt;font color='red'&gt;é”™è¯¯&lt;/font&gt;</span><br><span class="line">     - è‹¥å·²åŒ…å«æ ‡å‡†åº“å¤´æ–‡ä»¶åŠç›¸å…³å‘½åç©ºé—´ï¼Œåˆ™ç³»ç»Ÿä¸å…è®¸ç”¨æˆ·é‡æ–°å®šä¹‰æ ‡å‡†åº“å‡½æ•°      --&lt;font color='red'&gt;æ­£ç¡®&lt;/font&gt;</span><br><span class="line">     - ç”¨æˆ·è°ƒç”¨æ ‡å‡†åº“å‡½æ•°å‰ï¼Œä¸å¿…ä½¿ç”¨é¢„ç¼–è¯‘å‘½ä»¤å°†è¯¥å‡½æ•°æ‰€åœ¨æ–‡ä»¶åŒ…æ‹¬åˆ°ç”¨æˆ·æºæ–‡ä»¶ä¸­     &lt;font color='blue'&gt;é”™è¯¯&lt;/font&gt;</span><br><span class="line">     - ç”¨æˆ·è°ƒç”¨æ ‡å‡†åº“å‡½æ•°å‰ï¼Œå¿…é¡»é‡æ–°å®šä¹‰    --&lt;font color='blue'&gt;é”™è¯¯&lt;/font&gt;</span><br><span class="line">       - Aé€‰é¡¹ï¼Œå‡½æ•°ä¸èƒ½é‡æ–°å®šä¹‰ï¼Œåªèƒ½é‡è½½ï¼Œé™¤éæ¢ä½œç”¨åŸŸï¼ˆé‚£ä¹Ÿä¸èƒ½å«é‡æ–°å®šä¹‰ï¼‰ï¼› Bé€‰é¡¹ï¼Œ&lt;font color='red'&gt;å‡½æ•°å¯ä»¥è¢«é‡è½½è€Œä¸èƒ½é‡æ–°å®šä¹‰&lt;/font&gt;ï¼Œé‡è½½åå‡½æ•°å…·æœ‰ä¸åŒçš„å½¢å‚ï¼ŒåŸæœ‰å®šä¹‰å¹¶ä¸å¤±æ•ˆï¼› Cé€‰é¡¹ï¼Œæ­£ç¡®ï¼› Dé€‰é¡¹ï¼Œè°ƒç”¨åº“å‡½æ•°æœæ–­éœ€è¦#includeï¼ˆé¢„å¤„ç†åŒ…å«ï¼‰å¤´æ–‡ä»¶å•Šâ€¦â€¦å¦åˆ™æ‰¾ä¸åˆ°å‡½æ•°å®šä¹‰</span><br><span class="line"></span><br><span class="line">140. åœ¨ while å¾ªç¯ä¸­ä»¥ EOFï¼ˆ&lt;font color='red'&gt;-1&lt;/font&gt;ï¼‰ ä½œä¸ºæ–‡ä»¶ç»“æŸæ ‡å¿—ï¼Œè¿™ç§ä»¥ EOF ä½œä¸ºæ–‡ä»¶ç»“æŸæ ‡å¿—çš„æ–‡ä»¶ï¼Œå¿…é¡»æ˜¯æ–‡æœ¬æ–‡ä»¶ã€‚åœ¨æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œæ•°æ®éƒ½æ˜¯ä»¥å­—ç¬¦çš„ ASCII ä»£ç å€¼çš„å½¢å¼å­˜æ”¾ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œ ASCII ä»£ç å€¼çš„èŒƒå›´æ˜¯ 0~255 ï¼Œä¸å¯èƒ½å‡ºç° -1 ï¼Œå› æ­¤å¯ä»¥ç”¨ EOF ä½œä¸ºæ–‡ä»¶ç»“æŸæ ‡å¿—</span><br><span class="line"></span><br><span class="line">141. A é€‰é¡¹æ­£ç¡®ï¼Œ`int a[10]={0, 0, 0, 0, 0}`; å‰ 5 ä¸ªå…ƒç´ ä¸º 0ï¼Œåé¢ 5 ä¸ªå…ƒç´ ç¼–è¯‘å™¨è¡¥ä¸º 0</span><br><span class="line">     B é€‰é¡¹æ­£ç¡®ï¼Œ&lt;font color='red'&gt;int a[10]={ }&lt;/font&gt;; ç¼–è¯‘å™¨&lt;font color='green'&gt;è‡ªåŠ¨å°†æ‰€æœ‰å…ƒç´ ç½®é›¶&lt;/font&gt;</span><br><span class="line">     C é€‰é¡¹æ­£ç¡®ï¼Œ`int a[] = {0}`; ç¼–è¯‘å™¨è‡ªåŠ¨è®¡ç®—å…ƒç´ ä¸ªæ•°</span><br><span class="line">     D é€‰é¡¹é”™è¯¯ï¼Œ`int a[10] = {10*a}`;a æ˜¯æ•´å‹æ•°ç»„ï¼Œ10*a æ“ä½œéæ³•</span><br><span class="line"></span><br><span class="line">142. æ’åºæ–¹æ³•    å¹³å‡æƒ…å†µ    æœ€å¥½æƒ…å†µ    æœ€åæƒ…å†µ    è¾…åŠ©ç©ºé—´    ç¨³å®šæ€§ </span><br><span class="line"></span><br><span class="line">       å†’æ³¡æ’åº     O(n^2)      O(n)       O(n^2)        O(1)        ç¨³å®š </span><br><span class="line"></span><br><span class="line">       é€‰æ‹©æ’åº     O(n^2)     O(n^2)      O(n^2)        O(1)        ä¸ç¨³å®š </span><br><span class="line"></span><br><span class="line">       æ’å…¥æ’åº     O(n^2)      O(n)       O(n^2)        O(1)        ç¨³å®š </span><br><span class="line"></span><br><span class="line">       å¸Œå°”æ’åºO(n*log(n))~O(n^2) O(n^1.3)    O(n^2)        O(1)       ä¸ç¨³å®š </span><br><span class="line"></span><br><span class="line">       å †æ’åº     O(n*log(n))   O(n*log(n))   O(n*log(n))      O(1)       ä¸ç¨³å®š </span><br><span class="line"></span><br><span class="line">       å½’å¹¶æ’åº    O(n*log(n))   O(n*log(n))   O(n*log(n))    O(n)          ç¨³å®š </span><br><span class="line"></span><br><span class="line">       å¿«é€Ÿæ’åº    O(n*log(n))   O(n*log(n))    O(n^2)         O(1)       ä¸ç¨³å®š </span><br><span class="line"></span><br><span class="line">       å†’æ³¡æ’åºç»è¿‡ä¼˜åŒ–ä»¥åï¼Œæœ€å¥½æ—¶é—´å¤æ‚åº¦å¯ä»¥è¾¾åˆ°O(n)ã€‚è®¾ç½®ä¸€ä¸ªæ ‡å¿—ä½ï¼Œå¦‚æœæœ‰ä¸€è¶Ÿæ¯”è¾ƒä¸­æ²¡æœ‰å‘ç”Ÿä»»ä½•äº¤æ¢ï¼Œå¯æå‰ç»“æŸï¼Œå› æ­¤åœ¨æ­£åºæƒ…å†µä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚é€‰æ‹©æ’åºåœ¨æœ€åå’Œæœ€å¥½æƒ…å†µä¸‹ï¼Œéƒ½å¿…é¡»åœ¨å‰©ä½™çš„åºåˆ—ä¸­é€‰æ‹©æœ€å°ï¼ˆå¤§ï¼‰çš„æ•°ï¼Œä¸å·²æ’å¥½åºçš„åºåˆ—åä¸€ä¸ªä½ç½®å…ƒç´ åšäº¤æ¢ï¼Œä¾æ¬¡æœ€å¥½å’Œæœ€åæ—¶é—´å¤æ‚åº¦å‡ä¸ºO(n^2)ã€‚^</span><br><span class="line"></span><br><span class="line">     æ’å…¥æ’åºæ˜¯åœ¨æŠŠå·²æ’å¥½åºçš„åºåˆ—çš„åä¸€ä¸ªå…ƒç´ æ’å…¥åˆ°å‰é¢å·²æ’å¥½åº(éœ€è¦é€‰æ‹©åˆé€‚çš„ä½ç½®)çš„åºåˆ—ä¸­ï¼Œåœ¨æ­£åºæƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚å †æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œå› æ­¤æ ‘çš„æ·±åº¦ä¸€å®šæ˜¯log(n)+1ï¼Œæœ€å¥½å’Œæœ€åæ—¶é—´å¤æ‚åº¦å‡ä¸ºO(n*log(n))ã€‚å½’å¹¶æ’åºæ˜¯å°†å¤§æ•°ç»„åˆ†ä¸ºä¸¤ä¸ªå°æ•°ç»„ï¼Œä¾æ¬¡é€’å½’ï¼Œç›¸å½“äºäºŒå‰æ ‘ï¼Œæ·±åº¦ä¸ºlog(n)+1ï¼Œå› æ­¤æœ€å¥½å’Œæœ€åæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(n*log(n))ã€‚å¿«é€Ÿæ’åºåœ¨æ­£åºæˆ–é€†åºæƒ…å†µä¸‹ï¼Œæ¯æ¬¡åˆ’åˆ†åªå¾—åˆ°æ¯”ä¸Šä¸€æ¬¡åˆ’åˆ†å°‘ä¸€ä¸ªè®°å½•çš„å­åºåˆ—ï¼Œç”¨é€’å½’æ ‘ç”»å‡ºæ¥ï¼Œæ˜¯ä¸€æ£µæ–œæ ‘ï¼Œæ­¤æ—¶éœ€è¦n-1æ¬¡é€’å½’ï¼Œä¸”ç¬¬iæ¬¡åˆ’åˆ†è¦ç»è¿‡n-iæ¬¡å…³é”®å­—æ¯”è¾ƒæ‰èƒ½æ‰¾åˆ°ç¬¬iä¸ªè®°å½•ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯\sum_{i=1}^{n-1}(n-i)=n(n-1)/2ï¼Œå³O(n^2)ã€‚</span><br><span class="line"></span><br><span class="line">143. ç®—æ³•çš„5ä¸ªåŸºæœ¬ç‰¹å¾ï¼šç¡®å®šæ€§ã€æœ‰ç©·æ€§ã€è¾“å…¥ã€è¾“å‡ºã€&lt;font color='red'&gt;å¯è¡Œæ€§&lt;/font&gt;ã€‚</span><br><span class="line"></span><br><span class="line">144. é¡ºåºæŸ¥æ‰¾çš„å¹³å‡æ—¶é—´æ˜¯å¤šå°‘ï¼Ÿâ€”â€”&lt;font color='red'&gt;N/2&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">     - ä¸¥æ ¼æ„ä¹‰ä¸Šç¡®å® åº”è¯¥æ˜¯(n+1)/2ï¼Œå› ä¸ºç›®æ ‡æ•°æ®å¯ä»¥åœ¨ä»»æ„ä½ç½®ï¼Œåˆ†åˆ«æŸ¥æ‰¾1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ.......ï¼Œnæ¬¡ï¼Œä¸€å…±ä¸ºn*(n+1)/2ï¼Œæ‰€ä»¥é™¤ä»¥nï¼Œå¹³å‡æ—¶é—´ä¸º(n+1)/2</span><br><span class="line"></span><br><span class="line">145. `void hello(int a,int b=7,char* pszC="*");`</span><br><span class="line"></span><br><span class="line">     - hello(5)</span><br><span class="line"></span><br><span class="line">     - hello(5,8)</span><br><span class="line"></span><br><span class="line">     - `hello(6,"#")`</span><br><span class="line"></span><br><span class="line">     - hello(0,0,"#")</span><br><span class="line"></span><br><span class="line">     - &lt;font color='red'&gt;å‚æ•°ä»å³å‘å·¦åŒ¹é…&lt;/font&gt;ï¼ŒCé¡¹ aæ²¡æœ‰åŒ¹é…åˆ°ï¼Œ`&amp;quot`;ç›¸å½“äºåŠä¸ªå¼•å·ï¼Œ`&amp;quot ;#"=â€œ#â€`å¦‚ä¸Šé¢Dé€‰é¡¹</span><br><span class="line"></span><br><span class="line">       ä»å·¦åˆ°å³æˆ‘ä»¬å°±è¯´å‚æ•°æ˜¯  a   b   c     Aï¼Œå‡½æ•°ä»å³å¾€å·¦åŒ¹é…ã€‚b,cæœ‰ç°æœ‰çš„å°±ä¸ç»™äº†ï¼Œ5ç»™a  </span><br><span class="line"></span><br><span class="line">       B,  8ç»™b,5ç»™a</span><br><span class="line"></span><br><span class="line">        C,  é‚£ä¸€å¨ç»™äº†cï¼Œ6ç»™äº†b,  æ²¡ä¸œè¥¿ç»™a ã€‚ä¸èƒ½è·³ç€ç»™ã€‚6ç»™aï¼Œbç”¨å…ˆæœ‰çš„æ˜¯ä¸å¯¹çš„ã€‚</span><br><span class="line"></span><br><span class="line">        Dï¼ŒæŒ¨ä¸ªç»™å°±è¡Œäº†ã€‚</span><br><span class="line"></span><br><span class="line">146. å£°æ˜ä¸€ä¸ªæŒ‡å‘å«æœ‰10ä¸ªå…ƒç´ çš„æ•°ç»„çš„æŒ‡é’ˆï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼æ˜¯intï¼Œå‚æ•°æ˜¯int*ï¼Œæ­£ç¡®çš„æ˜¯ï¼ˆï¼‰                                        </span><br><span class="line"></span><br><span class="line">     -</span><br></pre></td></tr></tbody></table></figure>
(int *p[10])(int*)
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></tbody></table></figure>
int [10]*p(int *)
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></tbody></table></figure>
int (*(*p)[10])(int *)
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></tbody></table></figure>
int ((int *)[10])*p
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">     - å…ˆçœ‹æœªå®šä¹‰æ ‡è¯†ç¬¦pï¼Œpçš„å·¦è¾¹æ˜¯*ï¼Œ*pè¡¨ç¤ºä¸€ä¸ªæŒ‡é’ˆï¼Œè·³å‡ºæ‹¬å·ï¼Œç”±äº[]çš„ç»“åˆæ€§å¤§äº*ï¼Œæ‰€ä»¥*pæŒ‡å‘ä¸€ä¸ªå¤§å°ä¸º10çš„æ•°ç»„ï¼Œå³`(*p)[10]`ã€‚å·¦è¾¹åˆæœ‰ä¸€ä¸ª*å·ï¼Œä¿®é‡Šæ•°ç»„çš„å…ƒç´ ï¼Œ*`(*p)[10]`è¡¨ç¤º`*p`æŒ‡å‘ä¸€ä¸ªå¤§å°ä¸º10çš„æ•°ç»„ï¼Œä¸”æ¯ä¸ªæ•°ç»„çš„å…ƒç´ ä¸ºä¸€ä¸ªæŒ‡é’ˆã€‚è·³å‡ºæ‹¬å·ï¼Œæ ¹æ®å³è¾¹`ï¼ˆint  *ï¼‰`å¯ä»¥åˆ¤æ–­ï¼ˆ*`(*p)[10]ï¼‰`æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œè¯¥å‡½æ•°çš„å‚æ•°æ˜¯`int*`,è¿”å›å€¼æ˜¯intã€‚æ‰€ä»¥é€‰Cã€‚</span><br><span class="line"></span><br><span class="line">147. Cè¯­è¨€ä¸­çš„ä¸€ä¸ªå˜é‡å¯ä»¥è¢«å®šä¹‰ä¸ºä¸¤ä¸ªæˆ–å¤šä¸ªä¸åŒçš„ç±»å‹ã€‚è¯·é—®è¿™å¥è¯çš„è¯´æ³•æ˜¯æ­£ç¡®çš„å—ï¼Ÿ</span><br><span class="line"></span><br><span class="line">     - å¦‚æœä¸åœ¨ä¸€ä¸ªå‡½æ•°ä½“ä¸­ï¼Œå¯ä»¥çš„ï¼›ä½†æ˜¯å¦‚æœåœ¨ä¸€ä¸ªå‡½æ•°ä½“ä¸­ï¼Œä¼šå‡ºç°è°ƒç”¨æ··æ·†ï¼Œä¸å…è®¸ã€‚</span><br><span class="line"></span><br><span class="line">       è€Œä¸”è¿™æ˜¯ä¸¤ä¸ªå˜é‡ï¼Œåªæ˜¯å˜é‡åç›¸åŒè€Œå·²ï¼Œè¢«å­˜åœ¨ä¸åŒçš„å†…å­˜å•å…ƒä¸­ã€‚</span><br><span class="line"></span><br><span class="line">     - å¦‚æœåœ¨åŒä¸€ä¸ªå‡½æ•°å†…ï¼Œé‚£è‚¯å®šä¸è¡Œï¼Œé‡å¤çš„å®šä¹‰ï¼Œå¦‚æœä¸€ä¸ªæ˜¯&lt;font color='red'&gt;å…¨å±€&lt;/font&gt;ä¸€ä¸ªæ˜¯&lt;font color='red'&gt;å±€éƒ¨&lt;/font&gt;é‚£å°±å¯ä»¥ï¼Œè¿˜æœ‰åœ¨ä¸¤ä¸ªä¸åŒçš„å‡½æ•°å†…ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„</span><br><span class="line"></span><br><span class="line">148. åŒå¾ªç¯é“¾è¡¨ä¸­ï¼Œä»»æ„ä¸€ç»“ç‚¹çš„åç»§æŒ‡é’ˆå‡æŒ‡å‘å…¶é€»è¾‘åç»§ã€‚</span><br><span class="line"></span><br><span class="line">     - é€»è¾‘åç»§:&lt;font color='green'&gt;æŒ‡åœ¨å­˜å‚¨æ—¶æŒ‰ç…§éœ€è¦ç»™å®šçš„é€»è¾‘é¡ºåºåœ¨å…¶åçš„æ•°æ®å—&lt;/font&gt;ã€‚å¾ªç¯é“¾è¡¨ä¸­**å°¾èŠ‚ç‚¹çš„é€»è¾‘åç»§**åº”è¯¥ä¸º&lt;font color='red'&gt;null&lt;/font&gt;è€Œå…¶**åç»§æŒ‡é’ˆæŒ‡å‘äº†å¤´èŠ‚ç‚¹ã€‚**</span><br><span class="line"></span><br><span class="line">149. é€’å½’å…ˆåºéå†ä¸€ä¸ªèŠ‚ç‚¹ä¸ºnï¼Œæ·±åº¦ä¸ºdçš„äºŒå‰æ ‘ï¼Œéœ€è¦æ ˆç©ºé—´çš„å¤§å°ä¸º_</span><br><span class="line"></span><br><span class="line">     - **å› ä¸ºäºŒå‰æ ‘å¹¶ä¸ä¸€å®šæ˜¯å¹³è¡¡çš„ï¼Œä¹Ÿå°±æ˜¯æ·±åº¦dï¼=lognï¼Œæœ‰å¯èƒ½d &gt; &gt; logn(è¿œå¤§äº)ï¼Œæ‰€ä»¥æ ˆå¤§å°åº”è¯¥æ˜¯Oï¼ˆdï¼‰**</span><br><span class="line"></span><br><span class="line">150. ç¼“å­˜ç­–ç•¥ä¸­åŸºäº LRU çš„æ·˜æ±°ç­–ç•¥ï¼Œåœ¨ç¼“å­˜æ»¡æ—¶ï¼Œä¼šæŠŠæœ€è¿‘è¿›å…¥ç¼“å­˜çš„æ•°æ®å…ˆæ·˜æ±°ï¼Œä»¥ä¿æŒé«˜çš„å‘½ä¸­ç‡</span><br><span class="line"></span><br><span class="line">     - åˆšå¥½è¯´åäº†ï¼ŒLRUçš„è¿‡ç¨‹å¦‚ä¸‹ï¼ˆå…¶å®å¾ˆå¥½ç†è§£ï¼Œè®¿é—®çš„é¢‘ç‡è¶Šé«˜è¶Šä¸è¯¥ä¸¢å¼ƒï¼‰ï¼š </span><br><span class="line"></span><br><span class="line">       â€‹      1. æ–°æ•°æ®æ’å…¥åˆ°é“¾è¡¨å¤´éƒ¨ï¼› </span><br><span class="line"></span><br><span class="line">       â€‹      2. æ¯å½“ç¼“å­˜å‘½ä¸­ï¼ˆå³ç¼“å­˜æ•°æ®è¢«è®¿é—®ï¼‰ï¼Œåˆ™å°†æ•°æ®ç§»åˆ°é“¾è¡¨å¤´éƒ¨ï¼› </span><br><span class="line"></span><br><span class="line">             3. å½“é“¾è¡¨æ»¡çš„æ—¶å€™ï¼Œå°†é“¾è¡¨å°¾éƒ¨çš„æ•°æ®ä¸¢å¼ƒã€‚</span><br><span class="line"></span><br><span class="line">151. é¡ºåºè¡¨åˆ é™¤éœ€è¦ç§»åŠ¨å…ƒç´ ï¼Œè€Œé“¾è¡¨åˆ é™¤ä¸éœ€è¦ç§»åŠ¨å…ƒç´ </span><br><span class="line"></span><br><span class="line">152. &lt;font color='red'&gt;æœ‰ç¯çš„å•å‘é“¾è¡¨è·Ÿæ— ç¯çš„å•å‘é“¾è¡¨ä¸å¯èƒ½ç›¸äº¤&lt;/font&gt; -æ­£ç¡®</span><br><span class="line"></span><br><span class="line">     - æœ‰ç¯çš„å•å‘é“¾è¡¨å’Œæ— ç¯çš„å•å‘é“¾è¡¨ä¸èƒ½ç›¸äº¤ï¼Œå› ä¸ºå½“ç›¸äº¤çš„æ—¶å€™ï¼Œæ— ç¯çš„å•å‘é“¾è¡¨ä¹Ÿä¼šè¢«è¿«å­˜åœ¨ä¸€ä¸ªç¯ï¼Œåªä¸è¿‡è¿™ä¸ªç¯çš„â€èµ·ç‚¹â€œå¯èƒ½ä¸æ˜¯åŸæ¥å•å‘é“¾è¡¨çš„å¤´ç»“ç‚¹</span><br><span class="line"></span><br><span class="line">153. å¦‚æœä¸¤ä¸ªå•å‘é“¾è¡¨&lt;font color='red'&gt;ç›¸äº¤&lt;/font&gt;ï¼Œé‚£è¿™ä¸¤ä¸ªé“¾è¡¨éƒ½ä¸€å®šä¸å­˜åœ¨ç¯ -é”™è¯¯</span><br><span class="line"></span><br><span class="line">     - å•å‘é“¾è¡¨ç›¸äº¤&lt;font color='red'&gt;å¯ä»¥å­˜åœ¨ç¯&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">     ![img](https://uploadfiles.nowcoder.com/images/20180717/4256577_1531815312082_BA893B14C7935C1B5F8296D83D999DDA)</span><br><span class="line"></span><br><span class="line">     - æ„æ€å°±æ˜¯&lt;font color='red'&gt;é“¾è¡¨ç›¸äº¤ï¼Œè¦ä¹ˆéƒ½æœ‰ç¯ï¼Œè¦ä¹ˆéƒ½æ— ç¯&lt;/font&gt;ï¼Œä¸å¯èƒ½å‡ºç°å…¶ä»–æƒ…å†µï¼Œå‡ºç°å…¶ä»–æƒ…å†µå°±ä¸æ˜¯çº¿æ€§ç»“æ„å°±ä¸ç¬¦åˆé“¾è¡¨çš„å®šä¹‰</span><br><span class="line"></span><br><span class="line">154. æ‰§è¡Œ"int x=1;int y=~x;"è¯­å¥å,yçš„å€¼ä¸ºï¼Ÿ â€”â€”-2</span><br><span class="line"></span><br><span class="line">     - å‡è®¾intå 2ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆ1çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯ 0000 0001 ï¼Œ~è¡¨ç¤ºæŒ‰ä½å–åï¼Œåˆ™ 0000 0001å˜ä¸º 1111 1110ï¼Œåœ¨è®¡ç®—æœºä¸­æ•´æ•°ç”¨è¡¥ç å½¢å¼è¡¨ç¤ºï¼Œæ­£æ•°çš„è¡¥ç æ˜¯å®ƒæœ¬èº«ï¼Œè´Ÿæ•°çš„è¡¥ç æ˜¯åŸæ•°å€¼é™¤ç¬¦å·ä½æŒ‰ä½å–åå†åŠ ä¸€ï¼Œç”±è¡¥ç æ±‚åŸæ•°å€¼ä¹Ÿæ˜¯æŒ‰ä½å–åå†åŠ ä¸€ï¼Œé‚£ä¹ˆ 1111 1110 é™¤ç¬¦å·ä½æŒ‰ä½å–åå†åŠ ä¸€å˜æˆ 1000 0010ï¼Œå³ -2ã€‚</span><br><span class="line"></span><br><span class="line">155. è‹¥å‡½æ•°çš„å®šä¹‰å‡ºç°åœ¨ä¸»å‡½æ•°ä¹‹å‰ä¸”ä»…è¢«ä¸»å‡½æ•°ä½¿ç”¨ï¼Œåˆ™å¯ä»¥ä¸å¿…å†è¯´æ˜</span><br><span class="line"></span><br><span class="line">     - æ­£ç¡®ï¼ˆå¦‚æœä¸æ˜¯ä»…è¢«ä¸»å‡½æ•°è°ƒç”¨ï¼Œå°±æ˜¯é”™çš„ï¼‰</span><br><span class="line"></span><br><span class="line">156. è‹¥ä¸€ä¸ªå‡½æ•°ï¼ˆéä¸»å‡½æ•°ï¼‰æ²¡æœ‰returnè¯­å¥ï¼Œè¿”å›ç±»å‹æ˜¯void</span><br><span class="line"></span><br><span class="line">     - é”™è¯¯ï¼ˆæ„é€ å‡½æ•°å’Œææ„å‡½æ•°éƒ½æ²¡æœ‰è¿”å›ç±»å‹ï¼Œä¹Ÿæ²¡æœ‰returnè¯­å¥ï¼‰</span><br><span class="line"></span><br><span class="line">157. &lt;font color='red'&gt;++ã€--ä¸ç®—åšèµ‹å€¼è¿ç®—&lt;/font&gt;ï¼Œåªèƒ½è¯´æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼</span><br><span class="line"></span><br><span class="line">158. æœ‰char a[10]=â€abcâ€;ï¼Œåˆ™strlen(a)çš„å€¼ä¸º3ï¼Œ&lt;font color='red'&gt;strlen&lt;/font&gt;å‡½æ•°è¿”å›å­—ç¬¦ä¸²çš„&lt;font color='blue'&gt;é•¿åº¦&lt;/font&gt;ï¼Œä¸åŒ…æ‹¬æœ«å°¾çš„â€™\0ï¼Œsizeof(a)æ‰æ˜¯10</span><br><span class="line"></span><br><span class="line">159. \#includeå‘½ä»¤çš„åŠŸèƒ½æ˜¯ï¼ˆï¼‰</span><br><span class="line"></span><br><span class="line">     - åœ¨&lt;font color='red'&gt;å‘½ä»¤å¤„&lt;/font&gt;æ’å…¥ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼ˆæ³¨æ„&lt;font color='red'&gt;ä¸æ˜¯&lt;/font&gt;åœ¨&lt;font color='blue'&gt;æ–‡ä»¶é¦–éƒ¨&lt;/font&gt;æ’å…¥ä¸€ä¸ªå¤´æ–‡ä»¶ï¼‰</span><br><span class="line"></span><br><span class="line">160. å½“é¡ºåˆ©æ‰§è¡Œäº†æ–‡ä»¶å…³é—­æ“ä½œæ—¶ï¼Œ&lt;font color='blue'&gt;fcloseå‡½æ•°çš„è¿”å›å€¼&lt;/font&gt;æ˜¯ï¼ˆï¼‰</span><br><span class="line"></span><br><span class="line">     - å¦‚æœ&lt;font color='red'&gt;æ­£å¸¸å…³&lt;/font&gt;ä¾‹äº†æ–‡ä»¶ï¼Œåˆ™å‡½æ•°è¿”å›å€¼ä¸º&lt;font color='red'&gt;0&lt;/font&gt;ï¼›å¦åˆ™ï¼Œè¿”å›å€¼ä¸º&lt;font color='red'&gt;é0&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">161. å®šä¹‰ç±»å‹å¹¶ä¸ä¼šåˆ†é…ç©ºé—´ï¼Œåªæœ‰åœ¨&lt;font color='blue'&gt;å®šä¹‰å˜é‡&lt;/font&gt;æ—¶æ‰ä¼šåˆ†é…å†…å­˜ç©ºé—´</span><br><span class="line"></span><br><span class="line">162. `int  a[10];`</span><br><span class="line"></span><br><span class="line">     - é—®ä¸‹é¢ä¸å¯ä»¥è¡¨ç¤ºa[1]åœ°å€çš„æ˜¯ï¼ˆï¼‰</span><br><span class="line"></span><br><span class="line">       - &amp;a[0] + 1</span><br><span class="line">       - &lt;font color='blue'&gt;a + sizeof(int)&nbsp;&nbsp;&lt;/font&gt;</span><br><span class="line">       - (int*)&amp;a + 1</span><br><span class="line">       - `(int*)((char*)&amp;a + sizeof(int))`</span><br><span class="line"></span><br><span class="line">     - aä¸ºæ•°ç»„çš„æ—¶å€™ </span><br><span class="line">       &lt;font color='red'&gt;&amp;a + 1&lt;/font&gt; ç§»åŠ¨sizeof(æ•°ç»„)å­—èŠ‚ </span><br><span class="line"></span><br><span class="line">        &lt;font color='red'&gt; a + 1 &lt;/font&gt;æˆ–è€… &lt;font color='red'&gt;&amp;a[0] + 1&lt;/font&gt; ç§»åŠ¨sizeof(int) ,å³ç§»åŠ¨åˆ°&lt;font color='red'&gt;ä¸‹ä¸€ä¸ªæ•°ç»„å…ƒç´  &lt;/font&gt;</span><br><span class="line"></span><br><span class="line">       Bæ˜¯æŒ‡å‘a[4]</span><br><span class="line"></span><br><span class="line">       Cå°†aå˜æˆäº†æŒ‡é’ˆ int *ç±»å‹ï¼ŒæŒ‡é’ˆ+1 éƒ½æ˜¯ç§»åŠ¨sizeof(int) ï¼Œç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ çš„ </span><br><span class="line"></span><br><span class="line">        DæŒ‡é’ˆç»•æ¥ç»•å»çš„ï¼Œå˜æˆchar* å +4 ï¼Œç§»åŠ¨ 4* (sizeof(char))ï¼Œç§»åŠ¨å››ä¸ªå­—èŠ‚ï¼Œç„¶ååˆé‡æ–°å¼ºè½¬æˆäº†int*,ä¾ç„¶æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span><br><span class="line"></span><br><span class="line">163. å·²çŸ¥iiï¼Œjéƒ½æ˜¯æ•´å‹å˜é‡ï¼Œä¸‹åˆ—è¡¨è¾¾å¼ä¸­ï¼Œä¸ä¸‹æ ‡å¼•ç”¨`X[ii][j]`ä¸ç­‰æ•ˆçš„æ˜¯ï¼ˆï¼‰</span><br><span class="line"></span><br><span class="line">     - *ï¼ˆX[ii]+jï¼‰</span><br><span class="line"></span><br><span class="line">     - &lt;font color='red'&gt;*(X+ii)[j]&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">     - &lt;font color='red'&gt;*(X+ii+j)&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">     - *(*(X+ii)+j)</span><br><span class="line"></span><br><span class="line">       - &lt;font color='red'&gt;a[m]ç›¸å½“äº*ï¼ˆa+m)&lt;/font&gt;å°±æ˜¯è¯´ [] ç¬¦å·å¦‚æœè¦å»æ‰çš„è¯ï¼Œç›¸åŠ ï¼Œæ‹¬å·ï¼Œå†å–åœ°å€ã€‚ã€‚ã€‚åè¿‡æ¥ä¹Ÿä¸€æ ·</span><br><span class="line"></span><br><span class="line">       - Båº”è¯¥ä¹Ÿæ˜¯é”™è¯¯çš„ï¼Œç”±äº&lt;font color='red'&gt;[]çš„ä¼˜å…ˆçº§é«˜äº*&lt;/font&gt;,å› æ­¤ï¼Œç›¸å½“äºå¯¹åœ°å€`ï¼ˆX+iiï¼‰[j]`å–å€¼ï¼Œå¦‚æœBæ”¹ä¸º`ï¼ˆ*ï¼ˆX+iiï¼‰ï¼‰[j]`å°±å¯¹äº†</span><br><span class="line">       - `a[i][j] =*(a[i]+j) = *(*(a+i)+j) =(*(a+i))[j]`</span><br><span class="line"></span><br><span class="line">164. printå‡½æ•°å£°æ˜ä¸ºvoid print(int a,char b='b',int c=1); ä¸‹é¢å‡½æ•°è°ƒç”¨æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰</span><br><span class="line"></span><br><span class="line">     - print('a');</span><br><span class="line"></span><br><span class="line">       print(5,8);</span><br><span class="line"></span><br><span class="line">       print(5,'#');</span><br><span class="line"></span><br><span class="line">       print(5,'#',2);</span><br><span class="line"></span><br><span class="line">     - C++åœ¨è°ƒç”¨å‡½æ•°æ—¶ï¼Œå½“å®å‚å’Œå½¢å‚çš„æ•°æ®ç±»å‹ä¸ä¸€è‡´æ—¶ï¼Œä¼šå‘ç”Ÿæ•°æ®ç±»å‹è½¬æ¢ï¼å°†ä½ç²¾åº¦è½¬æ¢ä¸ºé«˜ç²¾åº¦æ—¶ï¼Œç”±ç¼–è¯‘å™¨éšå¼å®Œæˆï¼›å°†é«˜ç²¾åº¦è½¬æ¢ä¸ºä½ç²¾åº¦æ—¶ï¼Œå¿…é¡»ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢è¿ç®—ç¬¦ï¼šstatic_cast&lt;&gt;()æ¥è½¬æ¢æ‰ä¸ä¼šé€ æˆæ•°æ®ä¸¢å¤±ã€‚ç²¾åº¦ç”±ä½åˆ°é«˜: char-&gt;int-&gt;double-&gt;long doubleã€‚CDè‚¯å®šå¯¹ï¼Œ Açš„è¯å­—ç¬¦è½¬ä¸ºæ•´æ•°å³ä¸º97, B é€‰é¡¹åœ¨å°†æ•´æ•°ç±»å‹ 8 å¤åˆ¶ç»™ char æ—¶ï¼Œä¼šå‘ç”Ÿæˆªæ–­èµ‹å€¼ã€‚æŠŠæ•´æ•°çš„å‰3*8ä½å»æ‰  ç›´æ¥å8ä½èµ‹å€¼ç»™char </span><br><span class="line"></span><br><span class="line">165. fprintfå‡½æ•°åªèƒ½ä»¥&lt;font color='red'&gt;å­—ç¬¦ä¸²&lt;/font&gt;çš„å½¢å¼å†™å…¥åˆ°æ–‡ä»¶ä¸­</span><br><span class="line"></span><br><span class="line">166.</span><br></pre></td></tr></tbody></table></figure>
int` `s[4][5],(*ps)[5];
ps = s;
</code></pre></li>
</ul>
<p>psæ˜¯ä¸€æŒ‡å‘äºŒç»´æ•°ç»„sçš„æŒ‡é’ˆï¼Œps+1è¡¨ç¤ºæŒ‡å‘æ•°ç»„sç¬¬2è¡Œé¦–åœ°å€çš„æŒ‡é’ˆï¼›<br><em>(ps+3)è¡¨ç¤ºæ•°ç»„sç¬¬4è¡Œçš„é¦–åœ°å€ï¼›</em>(ps+1)+3è¡¨ç¤ºæ•°ç»„sç¬¬2è¡Œç¬¬4åˆ—å…ƒç´ çš„åœ°å€ï¼Œ</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">167. æµ®ç‚¹ç±»å‹åœ¨å†…å­˜ä¸­åˆ†å¸ƒä¸ºï¼š&lt;font color='blue'&gt;ç¬¦å·ä½+æŒ‡æ•°ä½ï¼ˆ-127~128ï¼‰+å°¾æ•°éƒ¨åˆ† (æœ‰æ•ˆæ•°å­— 1&lt;= M &lt;2)&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">168. ```c</span><br><span class="line">     #include "stdio.h"</span><br><span class="line">     #include "string.h"</span><br><span class="line">     void fun(char *s){ </span><br><span class="line">         char t[7];</span><br><span class="line">         s=t;</span><br><span class="line">         strcpy(s, "example");</span><br><span class="line">     }</span><br><span class="line">     </span><br><span class="line">     int  main(){ </span><br><span class="line">         char *s;    </span><br><span class="line">         fun(s);    </span><br><span class="line">         printf("%s",s);</span><br><span class="line">         return 0;</span><br><span class="line">     }</span><br></pre></td></tr></tbody></table></figure>

<p>å¯¹äºæ ˆä¸­å†…å­˜å¦‚æœæ²¡æœ‰åˆå§‹åŒ–ï¼Œåˆ™ä¼šå‡ºç°â€œçƒ«çƒ«çƒ«çƒ«çƒ«çƒ«â€ã€‚å¯¹äºå †ä¸­å†…å­˜å¦‚æœæ²¡æœ‰åˆå§‹åŒ–ï¼Œåˆ™ä¼šå‡ºç°â€œå±¯å±¯å±¯å±¯å±¯â€</p>
<ul>
<li><p>éœ€è¦è§£é‡Šçš„å°±æ˜¯ç¼–è¯‘é”™è¯¯å’Œè¿è¡Œé”™è¯¯ï¼Œç¼–è¯‘é”™è¯¯å¯ä»¥ç†è§£æˆç¼–è¯‘å™¨èƒ½æ£€æŸ¥å‡ºæ¥çš„é”™è¯¯ï¼Œè¿è¡Œé”™è¯¯ç†è§£æˆé€»è¾‘é”™è¯¯ï¼Œéœ€è¦ç”¨æˆ·è‡ªå·±çº é”™</p>
</li>
<li><p>1.mainå‡½æ•°é‡Œçš„sæ²¡æœ‰åˆå§‹åŒ–å°±åœ¨funå‡½æ•°é‡Œä½¿ç”¨sï¼Œç¼–è¯‘å™¨ä¼šæŠ¥è­¦å‘Šï¼Œè¿è¡Œæ—¶ä¼šæŠ¥é”™ï¼ˆå±€éƒ¨å˜é‡æœªåˆå§‹åŒ–ï¼‰ã€‚ç­”æ¡ˆé€‰Dã€‚ </p>
<p>2.å°±ç®—såˆå§‹åŒ–äº†ï¼Œåœ¨funå‡½æ•°é‡Œï¼Œå±€éƒ¨å˜é‡tçš„å¤§å°ä¸º7ï¼Œè€Œstrcpyå‡½æ•°ä¼šå¤åˆ¶exampleæœ«å°¾çš„\0 </p>
<p>æ‰€ä»¥example+â€™\0â€™ä¸€å…±8ä¸ªå­—èŠ‚ç©ºé—´ï¼Œä¼šæº¢å‡ºï¼Œç¨‹åºä¼šå´©æºƒã€‚ </p>
<p>3.å°±ç®—å±€éƒ¨å˜é‡tçš„å¤§å°è¶³å¤Ÿå¤§ï¼Œåœ¨funå‡½æ•°è¿è¡Œç»“æŸåï¼Œå±€éƒ¨å˜é‡tçš„å†…å­˜ç©ºé—´ä¼šè¢«é‡Šæ”¾æ‰ï¼Œæ­¤æ—¶sæˆä¸ºé‡æŒ‡é’ˆï¼›è¿”å›mainå‡½æ•°åï¼Œä¹Ÿä¸ä¼šè¾“å‡ºexampleã€‚</p>
</li>
</ul>
</li>
<li><p>å®šä¹‰äºŒç»´æ•°ç»„æ—¶ï¼Œè‹¥ç¬¬ä¸€ç»´ä¸ç¡®å®šç¬¬äºŒç»´ç¡®å®šï¼Œåˆ™æ•°ç»„å¿…é¡»åˆå§‹åŒ–;åˆå§‹åŒ–åæ•°ç»„ä¸­å…ƒç´ ä¸ªæ•°é™¤ä»¥ç¬¬äºŒç»´å¤§å°<font color="red">ï¼Œè‹¥èƒ½æ•´é™¤ï¼Œåˆ™å•†å³ç¬¬ä¸€ç»´å¤§å°ï¼Œè‹¥ä¸èƒ½æ•´é™¤ï¼Œåˆ™å•†åŠ ä¸Š1å¾—åˆ°ç¬¬ä¸€ç»´å¤§å°</font>;è‹¥ç¬¬ä¸€äºŒç»´å…¨éƒ¨ç¡®å®šï¼Œå¯ä»¥ä¸åˆå§‹åŒ–ï¼Œé»˜è®¤å…ƒç´ å…¨éƒ¨ä¸º0;ä¸å…è®¸ç¬¬äºŒç»´ä¸å®š</p>
<ul>
<li>äºŒç»´æ•°ç»„çš„çœŸå®å«ä¹‰æ˜¯ï¼Œå®ƒçš„ç¬¬ä¸€ç»´å°±æ˜¯ä¸€ç»„æ•°æ®çš„èµ·å§‹åœ°å€ï¼Œç¬¬äºŒç»´å°±æ˜¯æŸç»„æ•°æ®ä¸­çš„æŸä¸ªå€¼ï¼Œa[][3]è¡¨è¾¾çš„æ„æ€å°±æ˜¯äºŒç»´æ•°ç»„açš„æ¯ä¸€ç»´éƒ½æ˜¯ç”±3ä¸ªå…ƒç´ ç»„æˆçš„ä¸€ç»´æ•°ç»„</li>
</ul>
</li>
<li><p>ä¸‹é¢ç¨‹åºæ®µçš„è¿è¡Œç»“æœæ˜¯ ( ) ã€‚</p>
<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> *s = <span class="string">"abcde"</span>;</span><br><span class="line">s += <span class="number">2</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, s);</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>æŒ‡é’ˆsä¿å­˜çš„æ˜¯å­—ç¬¦ä¸²çš„é¦–åœ°å€ï¼Œs+=2åï¼ŒæŒ‡å‘äº†å­—ç¬¦â€˜câ€™ï¼Œæ ¼å¼åŒ–è¾“å‡ºså°±æ˜¯å­—ç¬¦â€˜câ€™çš„åœ°å€ï¼ˆåè¿›åˆ¶å½¢å¼çš„åœ°å€ï¼Œ%pæ˜¯åå…­è¿›åˆ¶çš„åœ°å€ï¼‰</li>
</ul>
</li>
<li><p>ä¸‹é¢ä»£ç çš„æ‰§è¡Œç»“æœæ˜¯ï¼ˆï¼‰</p>
<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>{</span><br><span class="line">    <span class="keyword">char</span> *p[] = {<span class="string">"TENCENT"</span>, <span class="string">"CAMPUS"</span>, <span class="string">"RECRUITING"</span>};</span><br><span class="line">    <span class="keyword">char</span> **pp[] = {p + <span class="number">2</span>, p + <span class="number">1</span>, p};</span><br><span class="line">    <span class="keyword">char</span> ***ppp = pp;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s "</span>, **++ppp);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s"</span>, *++*++ppp);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><p><img src="https://uploadfiles.nowcoder.com/images/20180303/4129176_1520062230660_F3CCDD27D2000E3F9255A7E3E2C48800" alt="img"></p>
</li>
<li><p>ä»é¢˜å¹²å½“ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”»å‡ºè¿™æ ·çš„ä¸€ä¸ªå›¾ï¼Œè¿™æ ·å°±æ¯”è¾ƒç›´è§‚çš„çœ‹å‡ºäº†p,pp,pppéƒ½æŒ‡å‘å“ªé‡Œäº†ï¼Œå…³é”®æ˜¯æœ€åä¸¤ä¸ªprintfè¯­å¥ã€‚<br>ï¼ˆ1ï¼‰printf(â€œ%sâ€,**++ppp);å³ï¼Œpppå½“å‰æ‰€æŒ‡å‘çš„ä½ç½®ï¼Œå†å¾€ä¸‹ç§»ä¸€ä¸ªä½ç½®ï¼Œå³ppçš„ä½ç½®2ï¼Œè€Œppçš„ä½ç½®2æŒ‡å‘çš„æ˜¯pçš„ä½ç½®2ï¼Œpçš„ä½ç½®2æŒ‡å‘çš„æ˜¯CAMPUSï¼Œæ‰€ä»¥å…ˆè¾“å‡ºCAMPUS  </p>
<p>  ï¼ˆ2ï¼‰<code>printf(â€œ%sâ€,*++*++ppp);</code>è¿™ä¸ªè¯­å¥ç­‰ä»·äº <code>printf(â€œ%sâ€,*++ï¼ˆ*++ppp)ï¼‰;</code>æ‰€ä»¥æˆ‘ä»¬é¦–å…ˆçœ‹,++pppï¼Œç¬¬ä¸€ä¸ªprintfè¯­å¥ä¸­pppå·²ç»æŒ‡å‘äº†ppçš„ä½ç½®2ï¼Œæ‰€ä»¥å†å¾€ä¸‹ç§»ä¸€ä¸ªï¼ŒæŒ‡å‘äº†ppçš„ä½ç½®3ï¼Œè€Œï¼ˆ*++pppï¼‰åˆ™ä»£è¡¨ppä½ç½®3æ‰€æŒ‡å‘çš„å†…å®¹ï¼Œå³pçš„ä½ç½®1ï¼ˆppçš„ä½ç½®3æŒ‡å‘çš„æ˜¯pçš„ä½ç½®1ï¼‰ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå‰é¢å†åŠ ä¸Šä¸€ä¸ª++ï¼Œåˆ™ä»£è¡¨æŒ‡é’ˆpåœ¨ä½ç½®1çš„åŸºç¡€ä¸Šå†å¾€ä¸‹ç§»åŠ¨ï¼Œå³æŒ‡é’ˆpçš„ä½ç½®2ï¼Œè€Œpçš„ä½ç½®2æ‰€æŒ‡å‘çš„å†…å®¹æ˜¯CAMPUSï¼Œæ‰€ä»¥ç¬¬äºŒè¡Œè¾“å‡ºçš„ä¹Ÿæ˜¯CAMPUSã€‚<br>æ‰€ä»¥æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼šCAMPUS CAMPUS</p>
</li>
</ul>
</li>
<li><p>scanf()å‡½æ•°æ˜¯æ ¼å¼åŒ–è¾“å…¥å‡½æ•°ï¼Œå®ƒä»æ ‡å‡†è¾“å…¥è®¾å¤‡(é”®ç›˜ï¼‰è¯»å–è¾“å…¥çš„ä¿¡æ¯</p>
<ul>
<li>è¾“å…¥== è¯»å–ã€æ‰“å°åˆ°å±å¹•==å†™</li>
</ul>
</li>
<li><p>å…³äºCè¯­è¨€ä¸­çš„floatï¼Œä¸‹é¢å“ªç§è¯´æ³•æ­£ç¡®çš„æ˜¯ ï¼ˆï¼‰</p>
<ul>
<li><font color="blue">xçš„äºŒæ¬¡æ–¹å¤§äºç­‰äº0,å¯¹äºfloatå˜é‡xæ€»æˆç«‹</font><br>float å˜é‡åŠ æ³•æ»¡è¶³äº¤æ¢å¾‹<br>æ¡ä»¶0.9f == 0.9 çš„å€¼ä¸ºçœŸ<br>æ¡ä»¶9 == 0.9*10 çš„å€¼ä¸ºçœŸ</li>
<li>C/C++ä¸­æµ®ç‚¹æ•°ç”±ç¬¦å·ä½ã€é˜¶ç å’Œå°¾æ•°æ„æˆï¼Œå…¶äºŒè¿›åˆ¶è¡¨ç¤ºå¹¶ä¸ç›´æ¥å¯¹åº”æµ®ç‚¹æ•°çš„å¤§å°ï¼Œå› æ­¤<strong>æµ®ç‚¹æ•°ç±»å‹ä¸èƒ½è¿›è¡Œä½è¿ç®—</strong>ï¼Œå¦åˆ™ç¼–è¯‘å™¨æŠ¥é”™ï¼›æ‰€ä»¥<strong>å¦‚æœAé€‰é¡¹æ­£ç¡®ï¼Œå…¶æŒ‡çš„åº”è¯¥æ˜¯xçš„äºŒæ¬¡å¹‚ï¼›è€Œä¸æ˜¯xä¸2è¿›è¡Œé€ä½å¼‚æˆ–</strong>â€¦â€¦</li>
<li>Bä¸ä¸€å®šæ­£ç¡®ã€‚<strong>è™½ç„¶**</strong>æµ®ç‚¹æ•°æ ‡å‡†<strong>**IEEE 754</strong>æ»¡è¶³åŠ æ³•å’Œä¹˜æ³•çš„äº¤æ¢å¾‹ï¼Œä¸æ»¡è¶³åŠ æ³•ç»“åˆå¾‹ï¼Œ<strong>ä½†æ˜¯**</strong>C++æ ‡å‡†ä¸ä¿è¯<strong>**IEEE 754æ ‡å‡†çš„å®ç°</strong>ï¼Œäºæ˜¯C++ç¼–è¯‘å™¨ä¹Ÿä¸ä¿è¯æµ®ç‚¹æ•°a+bçš„ç»“æœç­‰äºb+a</li>
<li>Cã€Dé”™è¯¯ã€‚æµ®ç‚¹æ•°å­˜åœ¨è¯¯å·®ï¼Œç›´æ¥æ¯”è¾ƒå¤§å°å¾€å¾€ä¸æ˜¯é¢„æœŸçš„ç»“æœï¼›é€šå¸¸å¼•å…¥ä¸€ä¸ªæ¯”è¦æ±‚ç²¾åº¦è¿˜è¦å°å‡ ä¸ªæ•°é‡çº§çš„å®æ•°epsilonæ¥å¸®åŠ©æ¯”è¾ƒå¤§å°ã€‚åœ¨æˆ‘çš„æœºå™¨ä¸Šï¼Œç²¾åº¦å–1e-8ï¼Œ0.9f == 0.9ä¸ºå‡ï¼ˆ0.9fæ˜¯å•ç²¾åº¦æµ®ç‚¹ï¼Œç²¾åº¦æ¯”0.9ä½ï¼‰ï¼š</li>
</ul>
</li>
<li><p>externã€registerã€staticã€autoåˆ†åˆ«æ˜¯å®šä¹‰å¤–éƒ¨å˜é‡ã€å¯„å­˜å™¨å˜é‡ã€é™æ€å˜é‡ã€è‡ªåŠ¨å˜é‡<br> å…¶ä¸­ï¼Œè‡ªåŠ¨å˜é‡(<font color="red">auto</font>)å’Œå¯„å­˜å™¨å˜é‡(<font color="red">register</font>)å±äºåŠ¨æ€å­˜å‚¨ï¼Œ<font color="red">è°ƒç”¨æ—¶ä¸´æ—¶åˆ†é…å•å…ƒ</font>ï¼›è€Œé™æ€å˜é‡(static)å’Œå¤–éƒ¨å˜é‡(extern)å±äºé™æ€å­˜å‚¨ï¼Œåœ¨æ•´ä¸ªç¨‹æ—¶éƒ½å­˜åœ¨.</p>
<ul>
<li>æ•…ï¼Œä»¥ä¸‹åªæœ‰åœ¨ä½¿ç”¨æ—¶æ‰ä¸ºè¯¥ç±»å‹å˜é‡åˆ†é…å†…å­˜çš„å­˜å‚¨ç±»å‹çš„æ˜¯ï¼ˆï¼‰<ul>
<li>autoå’Œregister</li>
</ul>
</li>
</ul>
</li>
<li><p>å‡½æ•°åŸå‹ï¼šæŒ‡æ˜å‡½æ•°çš„åå­—ï¼Œè¿”å›çš„ç±»å‹ï¼Œæœ‰å‡ ä¸ªå‚æ•°ï¼Œè¿™å‡ ä¸ªå‚æ•°æ˜¯ä»€ä¹ˆç±»å‹ï¼Œ<strong>ä¸éœ€è¦å‡½æ•°ä½“</strong>ï¼Œä¹Ÿ<strong><font color="red">ä¸éœ€è¦å½¢å¼å‚æ•°çš„åå­—</font></strong>ï¼Œå…¶ä¸­ç”¨åˆ†å·ä½œä¸ºåŸå‹çš„ç»“æŸç¬¦ã€‚</p>
<p>ä¾‹å¦‚ï¼švoid fun( int );</p>
</li>
<li><p>Cè¯­è¨€ç¨‹åºèƒ½å¤Ÿåœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸‹è¿è¡Œï¼Œè¿™è¯´æ˜Cè¯­è¨€å…·æœ‰å¾ˆå¥½çš„</p>
<ul>
<li>ç§»æ¤æ€§<ul>
<li>æ‰€è°“ç§»æ¤æ€§å°±æ˜¯åœ¨æŸæ“ä½œç³»ç»Ÿä¸‹ç¼–å†™çš„ç¨‹åºèƒ½å¤Ÿåœ¨å…¶ä»–æ“ä½œç³»ç»Ÿä¸‹ç¼–è¯‘è¿è¡Œï¼Œè€Œç¨‹åºå‡ ä¹ä¸éœ€è¦è¿›è¡Œä»»ä½•ä¿®æ”¹ã€‚æ‰€ä»¥é€‰æ‹©Bã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p>å¯¹äºä¸‹é¢çš„ä»£ç ï¼Œè¯´æ³•æ­£ç¡®çš„æ˜¯____</p>
<p>char* s1 = â€œHello worldâ€;<br>char s2[] = â€œHello worldâ€;<br>s1[2] = â€˜Eâ€™;     // 1<br>s2[2] = â€˜Eâ€™;     // 2<br>*(s1 + 2) = â€˜Eâ€™;  // 3<br>*(s2 + 2) = â€˜Eâ€™;  // 4</p>
<ul>
<li>â€œHello Worldâ€åœ¨å¸¸é‡åŒºï¼Œä½†s1å­˜å‚¨åœ¨æ ˆï¼Œå¹¶ä¸”å¯ä»¥åš++è¿ç®—ï¼Œä½†*pä¸å¯æ›´æ”¹ï¼Œç›¸å½“äºconst char *p</li>
<li><strong>æŒ‡é’ˆæŒ‡å‘å­—ç¬¦ä¸²æ—¶ï¼Œå­—ç¬¦ä¸²æ˜¯å¸¸é‡ï¼Œå­˜å‚¨åœ¨å¸¸é‡åŒºï¼Œè€ŒæŒ‡é’ˆå­˜å‚¨åœ¨æ ˆåŒºï¼Œä¸èƒ½å¯¹å…¶æ“ä½œä¿®æ”¹ã€‚</strong></li>
<li>è€Œå¯¹äºs2,â€Hello worldâ€å­˜å‚¨åœ¨æ•°ç»„é‡Œï¼Œåœ¨æ ˆåŒºï¼Œæ˜¯å¯ä»¥ä¿®æ”¹çš„</li>
</ul>
</li>
<li><p>strlenå’Œstr.length()éƒ½æ˜¯æ±‚å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä½†strlen( )çš„å‚æ•°å¿…é¡»æ˜¯char*ï¼Œè€Œ str.length( )æ˜¯stringç±»å¯¹è±¡strè°ƒç”¨çš„æˆå‘˜å‡½æ•°ã€‚</p>
</li>
<li><p>%3dï¼š<font color="red">è¾“å‡º</font>æ—¶è¡¨ç¤ºè¾“å‡ºä½æ•°å°‘äºä¸‰ä½æ•°æ—¶å‰é¢è¡¥0ï¼Œ<font color="red">å¤šäºä¸‰ä½æ•°æ—¶æŒ‰å®é™…ä½æ•°è¾“å‡º</font>ã€‚<font color="red">è¾“å…¥</font>æ—¶è¡¨ç¤º<font color="red">åªè¾“å…¥ä¸‰ä½æ•°</font>ï¼Œå°‘äºä¸‰ä½æ•°ä»¥ç©ºæ ¼è¡¥é½ã€‚</p>
</li>
<li><p>äºŒè·¯å½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸ºï¼ˆï¼‰ã€‚</p>
<ul>
<li>å‡è®¾æ•°æ®åŒºåŸŸä¸º[1:n]ï¼Œå½’çš„è¿‡ç¨‹ï¼Œç¬¬ä¸€æ¬¡å°†åŒºé—´åˆ†ä¸º[1:n/2]å’Œ[n/2+1ï¼Œn]ï¼Œç¬¬äºŒæ¬¡å°†ä¸¤ä¸ªåŒºé—´åˆ†ä¸ºå››ä¸ªï¼Œæ€»å…±ä¼šè¿›è¡Œlog2(n)æ¬¡ï¼Œæ€»å…±åˆ†ä¸ºäº†log2(nï¼‰å±‚ï¼Œæ¯æ¬¡åˆ†åŒºé—´çš„æ—¶é—´å¤æ‚åº¦ä¸º1ï¼Œåˆ™æ€»å…±å½’çš„è¿‡ç¨‹æ—¶é—´å¤æ‚åº¦ä¸ºlog2(n)ï¼Œè€Œå¹¶çš„è¿‡ç¨‹ä¼šçš„å½’çš„è¿‡ç¨‹åˆ†çš„åŒºé—´è¿›è¡Œæ’åºï¼Œæ˜¯ä¸¤ä¸ªæœ‰åºæ•°ç»„åˆå¹¶çš„è¿‡ç¨‹ï¼Œæ¯ä¸€å±‚åˆå¹¶çš„æ—¶é—´å¤æ‚åº¦ä¸ºnï¼Œæœ‰log2(n)å±‚ï¼Œæ‰€ä»¥å¹¶çš„æ€»å…±å¤æ‚åº¦ä¸ºnlog2(n)ï¼Œè€Œå½’å¹¶çš„å¤æ‚åº¦ä¸ºnlog2(n)+log2(n)ï¼Œç”¨å¤§Oè¡¨ç¤ºæ³•å°±æ˜¯<font color="red">nlogn</font></li>
</ul>
</li>
<li><p>ç”¨é‚»æ¥çŸ©é˜µå­˜å‚¨æœ‰nä¸ªç»“ç‚¹(0,1,â€¦,n)å’Œeæ¡è¾¹çš„æœ‰å‘å›¾<img src="https://www.nowcoder.com/equation?tex=0%20%5Cle%20e%20%5Cle%20n(n%20-%201)" alt="img">)ã€‚åœ¨é‚»æ¥çŸ©é˜µä¸­åˆ é™¤ç»“ç‚¹<img src="https://www.nowcoder.com/equation?tex=i(0%20%5Cle%20i%20%5Cle%20n)" alt="img">çš„æ—¶é—´å¤æ‚åº¦æ˜¯ï¼ˆï¼‰</p>
<ul>
<li><p>åˆ é™¤èŠ‚ç‚¹Bæ—¶ï¼Œåœ¨é‚»æ¥çŸ©é˜µä¸­éœ€è¦æŠŠæŒ‡å‘Bçš„è¾¹å…¨éƒ¨åˆ é™¤ï¼ŒBæŒ‡å‘çš„è¾¹ä¹Ÿå…¨éƒ¨åˆ é™¤ã€‚ </p>
<p>è€Œé‚»æ¥çŸ©é˜µè¡¨ç¤ºæ³•ç”±ä¸€ä¸ªé¡¶ç‚¹è¡¨ï¼ˆä¸€ç»´æ•°ç»„ï¼‰ï¼Œä¸€ä¸ªè¾¹é›†ï¼ˆé‚»æ¥çŸ©é˜µï¼ŒäºŒç»´æ•°ç»„ï¼‰ç»„æˆã€‚ç”±é¡¶ç‚¹è¡¨æŸ¥æ‰¾iï¼Œå¤æ‚åº¦ä¸ºO(1)ï¼Œç„¶åæŸ¥æ‰¾äºŒç»´æ•°ç»„iè¡Œiåˆ—ï¼Œç½®iè¡Œiåˆ—å‡ä¸º0ï¼ˆå³åˆ é™¤ièŠ‚ç‚¹ï¼‰ï¼Œå¤æ‚åº¦ä¸º2*Oï¼ˆnï¼‰ã€‚ </p>
<p>ç»“æœä¸ºO(n)ï¼Œé€‰æ‹© Bã€‚</p>
</li>
</ul>
</li>
<li><p><strong>å›æº¯æ³•</strong><br> 1ï¼‰ï¼ˆæ±‚è§£ç›®æ ‡ï¼‰å›æº¯æ³•çš„æ±‚è§£ç›®æ ‡æ˜¯æ‰¾å‡ºè§£ç©ºé—´ä¸­æ»¡è¶³çº¦æŸæ¡ä»¶çš„ä¸€ä¸ªè§£æˆ–æ‰€æœ‰è§£ã€‚<br> 2ï¼‰ï¼ˆæœç´¢æ–¹å¼ï¼šæ·±åº¦ä¼˜å…ˆï¼‰å›æº¯*<em>\</em>æœç´¢æ•´ä¸ªè§£ç©ºé—´ï¼Œå½“ä¸æ»¡æ¡ä»¶æ—¶ï¼Œä¸¢å¼ƒï¼Œç»§ç»­æœç´¢ä¸‹ä¸€ä¸ªå„¿å­ç»“ç‚¹ï¼Œå¦‚æœæ‰€æœ‰å„¿å­ç»“ç‚¹éƒ½ä¸æ»¡è¶³ï¼Œå‘ä¸Šå›æº¯åˆ°å®ƒçš„çˆ¶èŠ‚ç‚¹ã€‚</p>
<p>   <strong>åˆ†æ”¯é™ç•Œæ³•</strong><br> 1ï¼‰ï¼ˆæ±‚è§£ç›®æ ‡ï¼‰åˆ†æ”¯é™ç•Œæ³•çš„ç›®æ ‡ä¸€èˆ¬æ˜¯åœ¨æ»¡è¶³çº¦æŸæ¡ä»¶çš„è§£ä¸­æ‰¾å‡ºåœ¨æŸç§æ„ä¹‰ä¸‹çš„æœ€ä¼˜è§£ï¼Œä¹Ÿæœ‰æ‰¾å‡ºæ»¡è¶³çº¦æŸæ¡ä»¶çš„ä¸€ä¸ªè§£ã€‚<br> 2ï¼‰ï¼ˆæœç´¢æ–¹å¼ï¼šå¹¿åº¦ä¼˜å…ˆï¼‰åˆ†æ”¯é™ç•Œæ³•ä»¥å¹¿åº¦ä¼˜å…ˆæˆ–ä»¥æœ€å°æŸè€—ä¼˜å…ˆçš„æ–¹å¼æœç´¢è§£ç©ºé—´ã€‚</p>
<ul>
<li><p>å›æº¯æ³•çš„æ±‚è§£ç›®æ ‡æ˜¯æ‰¾å‡ºTä¸­æ»¡è¶³çº¦æŸæ¡ä»¶çš„æ‰€æœ‰è§£ï¼Œè€Œåˆ†æ”¯é™ç•Œæ³•çš„æ±‚è§£ç›®æ ‡åˆ™æ˜¯æ‰¾å‡ºæ»¡è¶³çº¦æŸæ¡ä»¶çš„ä¸€ä¸ªè§£ï¼Œæˆ–æ˜¯åœ¨æ»¡è¶³çº¦æŸæ¡ä»¶çš„è§£ä¸­æ‰¾å‡ºä½¿æŸä¸€ç›®æ ‡å‡½æ•°å€¼è¾¾åˆ°æå¤§æˆ–æå°çš„è§£ï¼Œå³åœ¨æŸç§æ„ä¹‰ä¸‹çš„æœ€ä¼˜è§£ã€‚ </p>
<p>å›æº¯æ³•ä»¥æ·±åº¦ä¼˜å…ˆçš„æ–¹å¼æœç´¢è§£ç©ºé—´æ ‘Tï¼Œè€Œåˆ†æ”¯é™ç•Œæ³•åˆ™ä»¥å¹¿åº¦ä¼˜å…ˆæˆ–ä»¥æœ€å°è€—è´¹ä¼˜å…ˆçš„æ–¹å¼æœç´¢è§£ç©ºé—´æ ‘Tã€‚</p>
</li>
</ul>
</li>
<li><p>å…±ç”¨ä½“å˜é‡å¯ä»¥ä½œç»“æ„ä½“çš„æˆå‘˜<font color="blue">,ç»“æ„ä½“å˜é‡ä¹Ÿå¯ä»¥ä½œå…±ç”¨ä½“çš„æˆå‘˜</font>ã€‚</p>
<ul>
<li>æ­£ç¡®</li>
</ul>
</li>
<li><p><font color="blue">æ–‡ä»¶æŒ‡é’ˆå’Œä½ç½®æŒ‡é’ˆéƒ½æ˜¯éšç€æ–‡ä»¶çš„è¯»å†™æ“ä½œåœ¨ä¸æ–­æ”¹å˜</font></p>
<ul>
<li>é”™ï¼Œæ–‡ä»¶æŒ‡é’ˆä½ç½®ä¸å˜</li>
</ul>
</li>
<li><p>ä»»ä½•è¡¨è¾¾å¼è¯­å¥éƒ½æ˜¯è¡¨è¾¾å¼åŠ åˆ†å·ç»“å°¾</p>
<ul>
<li>æ­£ç¡®</li>
</ul>
</li>
<li><p>æ•°ç»„åä¸èƒ½ä¸å…¶ä»–å˜é‡åç›¸åŒ</p>
<ul>
<li>æ­£ç¡®</li>
</ul>
</li>
<li><p>å‡½æ•°å½¢å‚çš„<a href="https://so.csdn.net/so/search?q=å­˜å‚¨å•å…ƒ&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener">å­˜å‚¨å•å…ƒ</a>æ˜¯<font color="red">åŠ¨æ€åˆ†é…</font>çš„</p>
<ul>
<li>é”™è¯¯ï¼Œå‡½æ•°çš„å˜é‡ä¸€èˆ¬æ˜¯æ ˆåŒºï¼Œåªè¦é€€å‡ºå‡½æ•°ï¼Œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨å›æ”¶æ ˆåŒºï¼Œè€ŒåŠ¨æ€åˆ†é…åˆ†é…æ—¶åˆ†é…å †åŒºï¼Œå †åŒºåªèƒ½æ‰‹åŠ¨å›æ”¶ï¼ˆfreeå‡½æ•°ï¼‰</li>
</ul>
</li>
<li><p>Cè¯­è¨€ éšæœºæ“ä½œ<font color="red">åª</font>é€‚ç”¨äºæ–‡æœ¬æ–‡ä»¶</p>
<ul>
<li><font color="red">é”™è¯¯</font>ï¼Œéšæœºæ“ä½œæ–‡æœ¬æŒ‡çš„æ˜¯ç”¨seekå‡½æ•°é‡æ–°å®šä½æ–‡ä»¶æŒ‡é’ˆè¿›è¡Œè¯»å†™æ“ä½œï¼Œè®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ ä¹Ÿæ˜¯éšæœºçš„ï¼ŒçŸ¥é“ä¸‹æ ‡å°±å¯ä»¥ï¼Œæ‰€ä»¥è¯´éšæœºæ“ä½œä¸åªæ˜¯é’ˆå¯¹äºæ–‡ä»¶æ¥è®²ã€‚</li>
</ul>
</li>
<li><p>å…¨å±€å˜é‡æ”¾åœ¨staticé™æ€åŒºï¼Œä¸æ˜¯åœ¨æ ˆåŒºï¼›stackç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…å’Œé‡Šæ”¾,å­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼ï¼Œå±€éƒ¨å˜é‡</p>
</li>
<li><p><a href="http://www.cnblogs.com/perfy/archive/2012/09/06/2672946.html" target="_blank" rel="noopener">heap&amp;stack åŒºåˆ«</a></p>
<p>â€‹    1.heapæ˜¯å †ï¼Œstackæ˜¯æ ˆã€‚   </p>
<p>â€‹        2.stackçš„ç©ºé—´ç”±æ“ä½œç³»ç»Ÿï¼ˆä¸æ˜¯ç¼–è¯‘å™¨ï¼‰è‡ªåŠ¨é™æ€åˆ†é…å’Œé‡Šæ”¾ï¼ˆè¿›ç«™å’Œå‡ºæ ˆå¯æ§ï¼‰ï¼›heapçš„ç©ºé—´æ˜¯æ‰‹åŠ¨ç”³è¯·å’Œé‡Šæ”¾çš„ï¼Œheapå¸¸ç”¨newå…³é”®å­—æ¥åŠ¨æ€åˆ†é…ï¼ˆâ€”â€œå†…å­˜æ³„éœ²â€â€”â€”                            Memory Leak                     ï¼‰ã€‚   </p>
<p>â€‹    3.stackç©ºé—´æœ‰é™ï¼ˆç»å¸¸æœ‰æ ˆæº¢å‡ºï¼Œè€Œä¸æ˜¯å †æº¢å‡ºï¼‰ï¼Œheapçš„ç©ºé—´æ˜¯å¾ˆå¤§çš„è‡ªç”±åŒºã€‚   </p>
<p>  åœ¨Javaä¸­ï¼Œ </p>
<p>  è‹¥åªæ˜¯å£°æ˜ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™å…ˆåœ¨æ ˆå†…å­˜ä¸­ä¸ºå…¶åˆ†é…åœ°å€ç©ºé—´ï¼Œ </p>
<p>  è‹¥å†newä¸€ä¸‹ï¼Œå®ä¾‹åŒ–å®ƒï¼Œåˆ™åœ¨å †å†…å­˜ä¸­ä¸ºå…¶åˆ†é…åœ°å€ã€‚ </p>
<p>   4.ä¸¾ä¾‹ï¼š  </p>
<p>   æ•°æ®ç±»å‹ å˜é‡åï¼›è¿™æ ·å®šä¹‰çš„ä¸œè¥¿åœ¨æ ˆåŒºã€‚  </p>
<p>   å¦‚ï¼šObject a =null; åªåœ¨æ ˆå†…å­˜ä¸­åˆ†é…ç©ºé—´  </p>
<p>   new æ•°æ®ç±»å‹();æˆ–è€…malloc(é•¿åº¦);    è¿™æ ·å®šä¹‰çš„ä¸œè¥¿å°±åœ¨å †åŒº  </p>
<p>   å¦‚ï¼šObject b =new Object();    åˆ™åœ¨å †å†…å­˜ä¸­åˆ†é…ç©ºé—´</p>
</li>
<li><p>è‹¥fpå·²æ­£ç¡®å®šä¹‰å¹¶æŒ‡å‘æŸä¸ªæ–‡ä»¶ï¼Œå½“æœªé‡åˆ°è¯¥æ–‡ä»¶ç»“æŸæ ‡å¿—æ—¶å‡½æ•°feof(fp)çš„å€¼ä¸º0.</p>
<ul>
<li>æ­¤æ—¶å¹¶æœªåˆ°æ–‡ä»¶å°¾éƒ¨ï¼Œå¦åˆ™è¿”å›é0ï¼Œå› ä¸º<font color="red">æœ‰æ•°æ®æ—¶è¿”å›0</font></li>
</ul>
</li>
<li><p>æ–‡ä»¶æŒ‡é’ˆç”¨äºæŒ‡å‘æ–‡ä»¶ï¼Œæ–‡ä»¶<font color="red">åªæœ‰è¢«æ‰“å¼€å</font>æ‰æœ‰å¯¹åº”çš„æ–‡ä»¶æŒ‡é’ˆã€‚</p>
</li>
<li><p>å¦‚æœå‡½æ•°å®šä¹‰å‡ºç°åœ¨å‡½æ•°è°ƒç”¨ä¹‹å‰,å¯ä»¥ä¸å¿…åŠ å‡½æ•°åŸå‹å£°æ˜</p>
<ul>
<li>æ­£ç¡®</li>
</ul>
</li>
<li><p>è¾“å…¥æ“ä½œç§°ä¸ºå†™æ“ä½œ,å°†è¾“å…¥æµä¸­çš„ä¿¡æ¯å­˜åˆ°å†…å­˜æ—¶,ä½¿ç”¨å†™å‡½æ•°ã€‚</p>
<ul>
<li><font color="red">è¾“å…¥</font>æ˜¯æŒ‡è®¡ç®—æœºå°†æ•°æ®è¯»å–å­˜å…¥å†…å­˜çš„è¿‡ç¨‹ï¼Œå³è¿™ä¸ªè¿‡ç¨‹æ˜¯<font color="red">è¯»å…¥</font>è¿‡ç¨‹ï¼Œå³è¯»æ“ä½œï¼Œä½¿ç”¨è¯»å‡½æ•°<ul>
<li>ç±»æ¯”scanfï¼Œè®¡ç®—å°†ç”¨æˆ·è¾“å…¥çš„æ•°æ®ä»ç¼“å†²åŒºè¯»å–å‡ºæ¥å­˜å…¥å†…å­˜ï¼›printfï¼Œè®¡ç®—æœºå°†å†…å­˜ä¸­çš„æ•°æ®å†™åˆ°è¾“å‡ºè®¾å¤‡ä¸Šå³å±å¹•</li>
</ul>
</li>
</ul>
</li>
<li><p>å‡½æ•°è¿”å›å€¼çš„ç±»å‹æ˜¯ç”±åœ¨<font color="red">å®šä¹‰å‡½æ•°</font>æ—¶æ‰€æŒ‡å®šçš„å‡½æ•°ç±»å‹</p>
</li>
<li><p>æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆå˜é‡ç§°ä¸ºæ•°ç»„æŒ‡é’ˆå˜é‡ã€‚</p>
<ul>
<li><p>ä¸€ä¸ªæ•°ç»„æ˜¯ç”±<font color="red">è¿ç»­</font>çš„ä¸€å—å†…å­˜å•å…ƒç»„æˆçš„ã€‚</p>
</li>
<li><p><font color="red">æ•°ç»„å</font>å°±æ˜¯è¿™å—è¿ç»­å†…å­˜å•å…ƒçš„<font color="red">é¦–åœ°å€</font>ã€‚</p>
</li>
<li><p>ä¸€ä¸ªæ•°ç»„<font color="blue">ä¹Ÿæ˜¯ç”±å„ä¸ªæ•°ç»„å…ƒç´ ï¼ˆä¸‹æ ‡å˜é‡ï¼‰ç»„æˆ</font>çš„ã€‚</p>
</li>
<li><p>æ¯ä¸ªæ•°ç»„å…ƒç´ æŒ‰å…¶ç±»å‹ä¸åŒå ç”¨å‡ ä¸ªè¿ç»­çš„å†…å­˜å•å…ƒã€‚</p>
</li>
<li><p>ä¸€ä¸ªæŒ‡é’ˆå˜é‡<font color="blue">æ—¢å¯ä»¥æŒ‡å‘ä¸€ä¸ªæ•°ç»„ï¼Œä¹Ÿå¯ä»¥æŒ‡å‘ä¸€ä¸ªæ•°ç»„å…ƒç´ ã€‚</font></p>
<p>ä¸€èˆ¬å½¢å¼ï¼š<br>ç±»å‹è¯´æ˜ç¬¦ *æŒ‡é’ˆå˜é‡åã€‚</p>
<p>æœ‰äº†æŒ‡é’ˆå¯ä»¥ç”¨ä¸¤ç§æ–¹æ³•è®¿é—®æ•°ç»„å…ƒç´ :<br>ç¬¬ä¸€ç§æ–¹æ³•ä¸ºä¸‹æ ‡æ³•ã€‚<br>ç¬¬äºŒç§æ–¹æ³•ä¸ºæŒ‡é’ˆæ³•ã€‚</p>
</li>
</ul>
</li>
<li><p>æŒ‡é’ˆå˜é‡å¯ä»¥å­˜æ”¾æŒ‡é’ˆ(åœ°å€)ã€æ•°å€¼å’Œå­—ç¬¦</p>
<ul>
<li><font color="red">åªèƒ½å­˜å‚¨åœ°å€</font></li>
</ul>
</li>
<li><p>å†…å­˜ä¸­æ¯ä¸ªå­˜å‚¨å•å…ƒéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„åœ°å€</p>
<ul>
<li>æ­£ç¡®</li>
</ul>
</li>
<li><pre><code class="c"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span>
<span class="function"></span>{
    <span class="keyword">char</span> arr[<span class="number">2</span>][<span class="number">4</span>];
    <span class="built_in">strcpy</span> (arr[<span class="number">0</span>],<span class="string">"you"</span>);
    <span class="built_in">strcpy</span> (arr[<span class="number">1</span>],<span class="string">"me"</span>);
    arr[<span class="number">0</span>][<span class="number">3</span>]=<span class="string">'&amp;'</span>;
    <span class="built_in">printf</span>(<span class="string">"%s \n"</span>,arr);
    <span class="keyword">return</span> <span class="number">0</span>;
}
&lt;!--ï¿¼<span class="number">27</span>--&gt;

- ```C
  ioctl
  &lt;!--ï¿¼<span class="number">28</span>--&gt;

- ```C
  <span class="built_in">write</span>
  &lt;!--ï¿¼<span class="number">29</span>--&gt;</code></pre>
</li>
<li><p>mallocå‡½æ•°è¿›è¡ŒåŠ¨æ€ã€é™æ€å†…å­˜åˆ†é…æ˜¯åœ¨ä»€ä¹ˆé˜¶æ®µ?</p>
<ul>
<li><p>ç¨‹åºå ç”¨ä¸‰ç§ç±»å‹çš„å†…å­˜ï¼šé™æ€å†…å­˜ã€æ ˆå†…å­˜ã€å †å†…å­˜ï¼›<br><strong>é™æ€å†…å­˜ï¼š</strong><br>ç”¨æ¥ä¿å­˜å±€éƒ¨staticå¯¹è±¡ã€ç±»staticæ•°æ®æˆå‘˜ä»¥åŠå®šä¹‰åœ¨ä»»ä½•å‡½æ•°ä¹‹å¤–çš„å˜é‡<br> <strong>æ ˆå†…å­˜ï¼š</strong> </p>
<p>  ç”¨æ¥ä¿å­˜å®šä¹‰åœ¨å‡½æ•°å†…çš„éstaticå¯¹è±¡ã€‚  </p>
<p> åˆ†é…åœ¨é™æ€å†…å­˜æˆ–æ ˆå†…å­˜ä¸­çš„å¯¹è±¡ç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ›å»ºå’Œé”€æ¯ã€‚å¯¹äºæ ˆå¯¹è±¡ï¼Œä»…åœ¨å…¶å®šä¹‰çš„ç¨‹åºå—è¿è¡Œæ—¶æ‰å­˜åœ¨ï¼›staticå¯¹è±¡åœ¨ä½¿ç”¨ä¹‹å‰åˆ†é…ï¼Œåœ¨ç¨‹åºç»“æŸæ—¶é”€æ¯ã€‚  </p>
<p> <strong>å †å†…å­˜ï¼š</strong>  </p>
<p>  åœ¨ç¨‹åº<strong>è¿è¡Œæ—¶</strong>åˆ†é…ã€‚åŠ¨æ€å¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸç”±<strong>ç¨‹åºï¼ˆç”¨æˆ·ï¼‰</strong>æ¥æ§åˆ¶ã€‚</p>
</li>
<li><p>è£…è½½é˜¶æ®µã€æ‰§è¡Œé˜¶æ®µ</p>
</li>
</ul>
</li>
<li><p>â€œ-6.2eâ€çš„æ„æ€ï¼š</p>
<p><strong>6</strong> è¡¨ç¤ºè¾“å‡ºçš„ä½å®½ï¼Œå¦‚æœç»“æœå°äº6ä½ï¼Œåˆ™ä¸è¶³çš„éƒ¨åˆ†ä»¥ç©ºæ ¼è¡¥å……ï¼Œå¦‚æœè¶…äº6ä½åˆ™æ²¡å½±å“ï¼› </p>
<p>  <strong>.2</strong> ä¿ç•™ä¸¤ä½å°æ•° </p>
<p>  e ä»¥æŒ‡æ•°å½¢å¼è¾“å‡ºï¼Œå³10çš„næ¬¡å¹‚ï¼Œe+02å³è¡¨ç¤º10^2 </p>
<p>  - è´Ÿå·ï¼Œè¡¨ç¤ºå·¦å¯¹é½è¿˜æ˜¯å³å¯¹é½ï¼Œ2.19e+02 å 9ä½ï¼ˆä»£ç æ‰§è¡Œæµ‹è¯•å¾—åˆ°ï¼Œé€šè¿‡ä¸æ–­ä¿®æ”¹6çš„ç»“æœï¼Œç›´åˆ°æ”¹åˆ°10ï¼Œæ‰å‡ºç°äº†%6.2eè¾“å‡ºæ—¶ï¼Œå·¦ä¾§æ·»åŠ ç©ºæ ¼å ä½ï¼‰ã€‚æ‰€ä»¥ - è¡¨ç¤ºå·¦å¯¹é½ï¼Œç»“å°¾å³ä¾§è¡¥ç©ºæ ¼ï¼Œè€Œ+æƒ…å†µæ˜¯å³å¯¹é½ï¼Œå³å·¦ä¾§å¼€å¤´è¡¥ç©ºæ ¼ </p>
<p>  æ‰€ä»¥å¯¹äº218.82631è¾“å‡ºç»“æœåº”ä¸º2.19*10^2ï¼Œè½¬æ¢æˆè®¡ç®—æœºçš„ä»£ç è¾“å‡ºæ ¼å¼å³2.19e+02</p>
</li>
<li><p>å…±ç”¨ä½“ï¼š</p>
<ul>
<li>å…±ç”¨ä½“å˜é‡çš„åœ°å€å’Œå®ƒçš„å„æˆå‘˜çš„åœ°å€éƒ½æ˜¯åŒ ä¸€åœ°å€ã€‚</li>
<li><font color="red">ä¸èƒ½å¯¹å…±ç”¨ä½“å˜é‡åèµ‹å€¼ã€‚</font></li>
<li>ä¸èƒ½ä¼å›¾å¼•ç”¨å˜é‡ åæ¥å¾—åˆ°ä¸€ä¸ªå€¼ã€‚</li>
<li>ä¸èƒ½<font color="red">åœ¨å®šä¹‰å…±ç”¨ä½“å˜é‡æ—¶å¯¹å®ƒåˆå§‹åŒ–ã€‚</font></li>
<li><font color="red">ä¸èƒ½</font>ç”¨å…±ç”¨ä½“å˜é‡åä½œä¸º<font color="red">å‡½æ•°å‚æ•°</font>ã€‚ </li>
<li><font color="green">ä¸èƒ½ç”¨å‡½æ•°è¿”å›å…±ç”¨ä½“å˜é‡</font></li>
<li>å¯ä»¥å®šä¹‰å…±ç”¨ä½“æ•°ç»„ï¼Œ<font color="green">å…±ç”¨ä½“æˆå‘˜å¯ä»¥æ˜¯æ•°ç»„</font></li>
<li><font color="blue">å…±ç”¨ä½“ç±»å‹å®šä¹‰å’Œç»“æ„ä½“ç±»å‹å®šä¹‰å¯ä»¥äº’ç›¸åµŒå¥—</font></li>
<li>ä»»ä½•æ—¶é—´<font color="blue">èµ·ä½œç”¨çš„æ˜¯æœ€åä¸€ä¸ªæˆå‘˜</font>ï¼ˆä¸”åªèƒ½ä»»æ„æ—¶é—´åªæœ‰ä¸€ä¸ªæˆå‘˜èµ·ä½œç”¨ï¼‰</li>
</ul>
</li>
<li><p>C è¯­è¨€åˆ†éš”ç¬¦ï¼šé€—å·(å˜é‡å’Œè¡¨è¾¾å¼ä¹‹é—´)ã€åˆ†å·(forè¯­å¥å†…)ã€ç©ºç™½ç¬¦(å­—ç¬¦ä¸²ä¹‹é—´)ã€å†’å·ï¼ˆcase:)</p>
</li>
<li><p>å˜é‡çš„ç±»å‹åˆ†ä¸ºä¸¤ç§ï¼šå‚¨å­˜å’Œæ•°æ®</p>
<ul>
<li><p>æ‰€æœ‰çš„æ•°æ®éƒ½æœ‰ä¸¤ç§ç±»å‹ï¼Œä¸€ç§æ˜¯æ•°æ®ç±»å‹ï¼Œä¸€ç§æ˜¯å­˜å‚¨ç±»å‹ã€‚<br><strong>æ•°æ®ç±»å‹</strong>ï¼šå¦‚intï¼Œfloatç­‰<br><strong>å­˜å‚¨ç±»å‹</strong>ï¼šå››ç§å­˜å‚¨ç±»å‹çš„å˜é‡ï¼Œè‡ªåŠ¨å˜é‡ï¼ˆautoï¼‰ã€<a href="https://so.csdn.net/so/search?q=é™æ€å˜é‡&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener">é™æ€å˜é‡</a>ï¼ˆstaticï¼‰ã€å¤–éƒ¨å˜é‡ï¼ˆexternï¼‰ã€ä»¥åŠå¯„å­˜å™¨å˜é‡ï¼ˆregisterï¼‰ã€‚</p>
</li>
<li><table>
<thead>
<tr>
<th>å­˜å‚¨ç±»åˆ«</th>
<th>å­˜å‚¨æœŸ</th>
<th>ä½œç”¨åŸŸ</th>
<th>å£°æ˜æ–¹å¼</th>
</tr>
</thead>
<tbody><tr>
<td>auto</td>
<td>è‡ªåŠ¨</td>
<td>å—</td>
<td>å—å†…</td>
</tr>
<tr>
<td>register</td>
<td>è‡ªåŠ¨</td>
<td>å—</td>
<td>å—å†…,ä½¿ç”¨å…³é”®å­—register</td>
</tr>
<tr>
<td>static(å±€éƒ¨)</td>
<td>é™æ€</td>
<td>å—</td>
<td>å—å†…,ä½¿ç”¨å…³é”®å­—static</td>
</tr>
<tr>
<td>static(å…¨å±€)</td>
<td>é™æ€</td>
<td>æ–‡ä»¶å†…éƒ¨</td>
<td>æ‰€æœ‰å‡½æ•°å¤–,ä½¿ç”¨å…³é”®å­—static</td>
</tr>
<tr>
<td>extern</td>
<td>é™æ€</td>
<td>æ–‡ä»¶å¤–éƒ¨</td>
<td>æ‰€æœ‰å‡½æ•°å¤–</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
<li><p>returnåé¢æ‹¬å·é‡Œçš„è¡¨è¾¾å¼çš„å€¼å³æ˜¯æ­¤å‡½æ•°çš„å€¼ã€‚è¯·é—®è¿™å¥è¯çš„è¯´æ³•æ˜¯æ­£ç¡®çš„å—ï¼Ÿ</p>
<ul>
<li>é”™è¯¯</li>
<li>return åé¢æ‹¬å·çš„å€¼ä¸ä¸€å®šæ˜¯å‡½æ•°çš„å€¼ï¼Œè­¬å¦‚å‡½æ•°è¿”å›å€¼ä¸return ç±»å‹ä¸ä¸€è‡´éœ€è¦ç±»å‹è½¬æ¢ï¼Œè¿”å›å€¼ä¸º int ï¼Œretun 3.2 ï¼Œé‚£ä¹ˆè‚¯å®šä¼šè¿›è¡Œè½¬æ¢çš„</li>
</ul>
</li>
<li><p><code>!(x + y) + z-1 &amp;&amp; y + z/2;</code></p>
<ul>
<li>è¡¨è¾¾å¼çš„å€¼æ˜¯</li>
<li><code>!(x + y) + z-1 &amp;&amp; y + z/2å³ä¸º(( !(x + y) )+ z-1) &amp;&amp; (y + z/2)=(!7+5-1)&amp;&amp;(4+2)=(0+5-1)&amp;&amp;6=4&amp;&amp;6=1</code></li>
</ul>
</li>
<li><p>ç”¨Cè¯­è¨€ç¼–å†™çš„ä»£ç ç¨‹åºï¼ˆï¼‰</p>
<ul>
<li><pre><code>å¯ç«‹å³æ‰§è¡Œ
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></tbody></table></figure>
æ˜¯ä¸€ä¸ªæºç¨‹åº
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></tbody></table></figure>
ç»è¿‡ç¼–è¯‘å³å¯æ‰§è¡Œ
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></tbody></table></figure>
ç»è¿‡ç¼–è¯‘è§£é‡Šæ‰èƒ½æ‰§è¡Œ
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">     - 1ã€ã€&lt;font color='red'&gt;ç¼–è¯‘&lt;/font&gt;ã€‘æ˜¯æŠŠcæºç¨‹åºç¿»è¯‘æˆæ±‡ç¼–ä»£ç ï¼š*.sï¼› 2ã€ã€&lt;font color='red'&gt;æ±‡ç¼–&lt;/font&gt;ã€‘æ˜¯æŠŠæ±‡ç¼–ä»£ç ç¿»è¯‘æˆäºŒè¿›åˆ¶ç›®æ ‡ä»£ç ï¼š*.objï¼› 3ã€ã€&lt;font color='red'&gt;é“¾æ¥&lt;/font&gt;ã€‘æ˜¯æŠŠå¤šä¸ªäºŒè¿›åˆ¶ç›®æ ‡ä»£ç æ–‡ä»¶é“¾æ¥æˆä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºï¼›å› ä¸ºä¸€ä¸ªå·¥ç¨‹æŸä¸ªæ–‡ä»¶è°ƒç”¨äº†å…¶ä»–cæ–‡ä»¶çš„å‡½æ•°æˆ–å˜é‡ ä¸€ä¸ªç¨‹åºéœ€è¦ä¸Šé¢ä¸‰ä¸ªæ­¥éª¤æ‰èƒ½ç”±æºç¨‹åºå˜æˆå¯æ‰§è¡Œç¨‹åºã€‚</span><br><span class="line"></span><br><span class="line">     - Cè¯­è¨€å†™çš„ä»£ç ç¨‹åº&lt;font color='red'&gt;è‚¯å®šæ˜¯æºç¨‹åº&lt;/font&gt; å®ƒ&lt;font color='blue'&gt;ä¸èƒ½ç«‹å³æ‰§è¡Œï¼Œå¿…é¡»ç»è¿‡ç¼–è¯‘æˆå¯æ‰§è¡Œä»£ç &lt;/font&gt;</span><br><span class="line">       å¦‚æœè¿™ä¸ªæºç¨‹åºä¸­ä¸å«æœ‰mainå‡½æ•°ï¼Œç¼–è¯‘åçš„ä»£ç ä¹Ÿæ˜¯ä¸å¯æ‰§è¡Œçš„ Cè¯­è¨€ä¸æ˜¯è§£é‡Šæ‰§è¡Œçš„</span><br><span class="line"></span><br><span class="line">209. åœ¨32ä½æœºä¸Šï¼Œä¸‹é¢Cç¨‹åºçš„è¾“å‡ºç»“æœæ˜¯</span><br><span class="line"></span><br><span class="line">     ```C</span><br><span class="line">     struct MyStruct</span><br><span class="line">     {</span><br><span class="line">         int i;</span><br><span class="line">         char c;</span><br><span class="line">         struct InnerStruct</span><br><span class="line">         {</span><br><span class="line">             int i;</span><br><span class="line">             long l;</span><br><span class="line">             double d;</span><br><span class="line">             char c;</span><br><span class="line">         } innerStruct;</span><br><span class="line">     };</span><br><span class="line">     union MyUnion</span><br><span class="line">     {</span><br><span class="line">         int i;</span><br><span class="line">         char c;</span><br><span class="line">     };</span><br><span class="line">     int main()</span><br><span class="line">     {</span><br><span class="line">        printf("%d, %d", sizeof(MyStruct), sizeof(MyUnion));</span><br><span class="line">     }</span><br></pre></td></tr></tbody></table></figure></code></pre></li>
<li><p>åšé€‰æ‹©é¢˜å°±è¦æœ‰åšé€‰æ‹©é¢˜çš„æ–¹æ³•ï¼Œé™¤äº†æŒæ¡åŸºæœ¬çš„çŸ¥è¯†ã€‚ </p>
<p>å¯¹äºstructæ¥è¯´ï¼Œå¤§å°è™½ç„¶è¦æ…¢æ…¢ç´¯åŠ ï¼Œä½†æ˜¯æœ€åå¿…ç„¶ä¸ºstructé‡Œæœ€é•¿ç±»å‹çš„æ•´æ•°å€ï¼Œå³doubleä¸º8å­—èŠ‚ï¼Œåˆ™è‚¯å®šæ˜¯8çš„æ•´æ•°å€ï¼Œæ’é™¤A,Bï¼ˆä¸ç”¨æ…¢æ…¢ç´¯åŠ è®¡ç®—ï¼‰ </p>
<p>å¯¹äºUnionæ¥è¯´ï¼Œå°±ç®€å•äº†ï¼Œå¤§å°ä¸ºæœ€é•¿ç±»å‹çš„æ•´æ•°å€ï¼Œå³intä¸º4å­—èŠ‚ï¼Œåˆ™ä¸º4ï¼Œé€‰C</p>
</li>
<li><p>ç»“æ„ä½“é•¿åº¦å¹¶ä¸ä¸€å®šæ˜¯doubleçš„é•¿åº¦8çš„æ•´æ•°å€ï¼Œè€Œæ˜¯min(å­—èŠ‚å¯¹é½é•¿åº¦,8)çš„å€æ•°</p>
<p>å¦‚æœé»˜è®¤ç¼–è¯‘å™¨4å­—èŠ‚å¯¹é½ï¼Œè¿™é¢˜å°±æ˜¯28ï¼Œå¦‚æœæ˜¯8å­—èŠ‚ï¼Œå°±æ˜¯32 </p>
<p>è®¾å¯¹é½å­—èŠ‚æ•°ä¸ºn(n = 4æˆ–8ï¼ŒåŒºåˆ«äº32ä½æˆ–è€…64ä½æ“ä½œç³»ç»Ÿ),æ¯ä¸ªæˆå‘˜å†…å­˜é•¿åº¦ä¸ºLi, Max(Li)ä¸ºæœ€å¤§çš„æˆå‘˜å†…å­˜é•¿åº¦,å­—èŠ‚å¯¹é½è§„åˆ™æ˜¯: </p>
<p>\1.    ç»“æ„ä½“å¯¹è±¡çš„èµ·å§‹åœ°å€èƒ½å¤Ÿè¢«Max(Li)æ‰€æ•´é™¤; </p>
<p>\2.    ç»“æ„ä½“ä¸­æ¯ä¸ªæˆå‘˜ç›¸å¯¹äºèµ·å§‹åœ°å€çš„åç§»é‡,å³å¯¹é½å€¼åº”æ˜¯min(n,Li)çš„å€æ•°.è‹¥ä¸æ»¡è¶³å¯¹é½å€¼çš„è¦æ±‚,ç¼–è¯‘å™¨ä¼šåœ¨æˆå‘˜ä¹‹é—´å¡«å……è‹¥å¹²ä¸ªå­—èŠ‚; </p>
<p>\3.    ç»“æ„ä½“çš„æ€»é•¿åº¦å€¼åº”æ˜¯min(n,Max(Li))çš„å€æ•°,è‹¥ä¸æ»¡è¶³æ€»é•¿åº¦å€¼çš„è¦æ±‚,ç¼–è¯‘å™¨åœ¨ä¸ºæœ€åä¸€ä¸ªæˆå‘˜åˆ†é…ç©ºé—´å,ä¼šåœ¨å…¶åå¡«å……è‹¥å¹²ä¸ªå­—èŠ‚.</p>
</li>
</ul>
</li>
<li><p><strong>ä¸¤æŒ‡é’ˆå˜é‡ç›¸å‡æ‰€å¾—ä¹‹å·®æ˜¯ä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡æ•°ç»„å…ƒç´ ä¹‹é—´ç›¸å·®çš„å…ƒç´ ä¸ªæ•°</strong></p>
</li>
<li><p>fseekå‡½æ•°<font color="red">ä¸€èˆ¬</font>ç”¨äºäºŒè¿›åˆ¶æ–‡ä»¶ã€‚æ³¨æ„ä¹Ÿå¯ç”¨äºæ–‡æœ¬æ–‡ä»¶</p>
</li>
<li><p>ä¸€ä¸ªå˜é‡çš„æ•°æ®ç±»å‹è¢«å¼ºåˆ¶è½¬æ¢å,å®ƒå°†ä¿æŒè¢«å¼ºåˆ¶è½¬æ¢åçš„æ•°æ®ç±»å‹</p>
<ul>
<li>é”™è¯¯</li>
</ul>
</li>
<li><p>ä½¿ç”¨printfå‡½æ•°æ‰“å°ä¸€ä¸ªdoubleç±»å‹çš„æ•°æ®ï¼Œè¦æ±‚ï¼šè¾“å‡ºä¸º10è¿›åˆ¶ï¼Œè¾“å‡ºå·¦å¯¹é½30ä¸ªå­—ç¬¦ï¼Œ4ä½ç²¾åº¦ã€‚ä»¥ä¸‹å“ªä¸ªé€‰é¡¹æ˜¯æ­£ç¡®çš„ï¼Ÿ</p>
<ul>
<li><pre><code>%-30.4e
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></tbody></table></figure>
%4.30e
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></tbody></table></figure>
%-30.4f
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></tbody></table></figure>
%-4.30f
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">     - -ï¼š å·¦å¯¹é½</span><br><span class="line"></span><br><span class="line">       30ï¼š æœ€å°å­—æ®µå®½åº¦</span><br><span class="line"></span><br><span class="line">       .4ï¼š ç²¾ç¡®åº¦ä¿ç•™å°æ•°4ä½</span><br><span class="line"></span><br><span class="line">       fï¼š doubleç²¾åº¦æµ®ç‚¹æ•°</span><br><span class="line"></span><br><span class="line">       eï¼š ç§‘å­¦è®¡æ•°æ³•</span><br><span class="line"></span><br><span class="line">     - printfä¸­ï¼Œ&lt;font color='red'&gt;%fé€šæ€å•ç²¾åº¦å’ŒåŒç²¾åº¦&lt;/font&gt;</span><br><span class="line">       åœ¨&lt;font color='red'&gt;scanf&lt;/font&gt;ä¸­ï¼Œ%få’Œ%lfæ‰&lt;font color='red'&gt;æœ‰åŒºåˆ«&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">214. ä¸‹é¢å…³äºCè¯­è¨€ä¸­sizeof(int)è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰</span><br><span class="line"></span><br><span class="line">     - &lt;font color='red'&gt;ç¼–è¯‘æ—¶&lt;/font&gt;</span><br><span class="line">     - è¿è¡Œæ—¶</span><br><span class="line"></span><br><span class="line">215. Cè¯­è¨€ä¸­çš„ä¸€ä¸ªå˜é‡å¯ä»¥è¢«å®šä¹‰ä¸ºä¸¤ä¸ªæˆ–å¤šä¸ªä¸åŒçš„ç±»å‹ã€‚è¯·é—®è¿™å¥è¯çš„è¯´æ³•æ˜¯æ­£ç¡®çš„å—</span><br><span class="line"></span><br><span class="line">     - å¦‚æœåŒä¸€ä¸ªå˜é‡ï¼Œåˆ†åˆ«ä½œä¸ºå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ï¼Œæ ¹æ®å±€éƒ¨ä¼˜å…ˆåŸåˆ™ï¼Œæ˜¯å¯ä»¥å®šä¹‰ä¸ºä¸åŒç±»å‹çš„ã€‚</span><br><span class="line"></span><br><span class="line">216. ```C</span><br><span class="line">     struct student {</span><br><span class="line">         int num, age;</span><br><span class="line">     };</span><br><span class="line">     struct student stu[3] = {{6001, 20}, {6003, 21}, {6005, 19}};</span><br><span class="line">     struct student *p = stu;</span><br></pre></td></tr></tbody></table></figure>
</code></pre></li>
</ul>
<p>åˆ™ä¸‹é¢çš„Cè¯­è¨€è¡¨è¾¾å¼ä¸­,å€¼ä¸º6003çš„æ˜¯ï¼ˆï¼‰ ã€‚</p>
<ul>
<li><p>å¯¹äºAé€‰é¡¹ï¼š++(p-&gt;num)ã€‚è¡¨ç¤ºå–æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼(6001)ï¼Œç„¶å+1ï¼› </p>
<p>å¯¹äºBé€‰é¡¹ï¼š(p++)-&gt;numã€‚åç¼€è‡ªå¢è¿ç®—ç¬¦(++)ä¸æˆå‘˜é€‰æ‹©è¿ç®—ç¬¦(-&gt;)å¤„äºåŒä¸€ä¼˜å…ˆçº§ï¼Œä»å·¦åˆ°å³ç»“åˆï¼Œä½†æ˜¯æŒ‡é’ˆåç§»çš„æ“ä½œç›´åˆ°è¡¨è¾¾å¼ç»“æŸæ‰ä¼šè¿›è¡Œï¼Œ </p>
<p>è¿™ä¸ªè¡¨è¾¾å¼ç›¸å½“äº(p)-&gt;num;p=p+1; </p>
<p>å¯¹äºCé€‰é¡¹ï¼š<code>(*p++).numã€‚</code>åç¼€è‡ªå¢è¿ç®—ç¬¦(++)ä¼˜å…ˆçº§é«˜äºå–å€¼è¿ç®—ç¬¦(<em>)ï¼Œä½†æ˜¯++ç›´åˆ°è¡¨è¾¾å¼ç»“æŸæ‰ä¼šè¿›è¡Œï¼Œè¿™ä¸ªè¡¨è¾¾å¼ç›¸å½“äº`(</em>p).num;p=p+1;` </p>
<p>å¯¹äºDé€‰é¡¹ï¼š<code>(*++P).numã€‚</code>å‰ç¼€è‡ªå¢è¿ç®—ç¬¦(++)ä¼˜å…ˆçº§å’Œå–å€¼è¿ç®—ç¬¦(<em>)ä¸€æ ·ï¼Œå…ˆæ‰§è¡Œp=p+1æ“ä½œï¼Œç›¸å½“äº`(</em>(p+1)).num`;</p>
</li>
</ul>
</li>
<li><p>ä¸‹åˆ—å‡½æ•°æ­£ç¡®çš„æ˜¯</p>
<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">char</span> <span class="built_in">array</span>[MAX_CHAR+<span class="number">1</span>],i;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt;= MAX_CHAR;i++){</span><br><span class="line">        <span class="built_in">array</span>[i] = i;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">char</span>*<span class="title">test2</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">char</span> p[] = <span class="string">"hello world"</span>;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">char</span> *p = test2();</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">10</span>];</span><br><span class="line">    str++;</span><br><span class="line">    *str = <span class="string">'0'</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



</li>
</ol>
<pre><code>- é‡ç‚¹ä¸åœ¨äºCHAR_MAXçš„å–å€¼æ˜¯å¤šå°‘ï¼Œè€Œæ˜¯åœ¨äºiçš„å–å€¼èŒƒå›´æ˜¯å¤šå°‘ã€‚ ä¸€èˆ¬charçš„å–å€¼èŒƒå›´æ˜¯-128åˆ°127ï¼Œè€Œu char åˆ™æ˜¯0~255ï¼Œæ‰€ä»¥içš„å–å€¼èŒƒå›´æ˜¯0~255. æ‰€ä»¥å½“CHAR_MAXå¸¸é‡å¤§äº255æ—¶ï¼Œæ‰§è¡Œi++åï¼Œiä¸èƒ½è¡¨ç¤º256ä»¥ä¸Šçš„æ•°å­—ï¼Œæ‰€ä»¥å¯¼è‡´æ— é™å¾ªç¯ã€‚ ç¬¬äºŒä¸ªé—®é¢˜ï¼š é‡ç‚¹åœ¨äºå‡½æ•°ä¸­pçš„èº«ä»½ï¼Œä»–æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿˜æ˜¯æ•°ç»„åï¼›  å¦‚æœæ˜¯æŒ‡é’ˆpï¼Œåˆ™pæŒ‡å‘å­˜æ”¾å­—ç¬¦ä¸²å¸¸é‡çš„åœ°å€ï¼Œè¿”å›påˆ™æ˜¯è¿”å›å­—ç¬¦ä¸²å¸¸é‡åœ°å€å€¼ï¼Œè°ƒç”¨å‡½æ•°ç»“æŸå­—ç¬¦ä¸²å¸¸é‡ä¸ä¼šæ¶ˆå¤±ï¼ˆæ˜¯å¸¸é‡ï¼‰ã€‚æ‰€ä»¥è¿”å›å¸¸é‡çš„åœ°å€ä¸ä¼šå‡ºé”™ã€‚ å¦‚æœæ˜¯æ•°ç»„pï¼Œåˆ™å‡½æ•°ä¼šå°†å­—ç¬¦ä¸²å¸¸é‡çš„å­—ç¬¦é€ä¸ªå¤åˆ¶åˆ°pæ•°ç»„é‡Œé¢ï¼Œè¿”å›påˆ™æ˜¯è¿”å›æ•°ç»„pï¼Œä½†æ˜¯è°ƒç”¨å‡½æ•°ç»“æŸåpè¢«é”€æ¯ï¼Œé‡Œé¢çš„å…ƒç´ ä¸å­˜åœ¨äº†ã€‚ ä¾‹å­ä¸­pæ˜¯æ•°ç»„åï¼Œæ‰€ä»¥ä¼šå‡ºé”™ï¼Œpæ‰€æŒ‡çš„åœ°å€æ˜¯éšæœºå€¼ã€‚ è‹¥æ˜¯æŠŠchar p[]="hello";æ”¹æˆchar *p="hello";å°±å¯ä»¥äº†ã€‚ç¬¬ä¸‰ä¸ªé—®é¢˜ï¼š  é‡ç‚¹åœ¨äºstr++;è¿™å®é™…çš„è¯­å¥å°±æ˜¯str=str+1;è€Œstræ˜¯æ•°ç»„åï¼Œæ•°ç»„åæ˜¯å¸¸é‡ï¼Œæ‰€ä»¥ä¸èƒ½ç»™å¸¸é‡èµ‹å€¼ã€‚ï¼ˆå¯ä»¥æ‰§è¡Œstr+1ï¼Œä½†æ˜¯ä¸èƒ½str=.ï¼‰</code></pre><ol start="218">
<li><p>è¾“å‡ºæ­£ç¡®çš„æ˜¯ï¼š</p>
<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="keyword">char</span> *a = <span class="string">"Trend"</span>;</span><br><span class="line">    <span class="keyword">char</span> **b = &amp;a;</span><br><span class="line">    *b = <span class="string">"commercial"</span>;</span><br><span class="line">    <span class="keyword">char</span> *c = ++a;</span><br><span class="line">    a = <span class="string">"talents."</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%c\n"</span>,*++c);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>ä¸€å¼€å§‹aæŒ‡å‘Trendï¼ŒbæŒ‡å‘æŒ‡é’ˆaï¼Œåé¢commercialçš„å†…å®¹èµ‹ç»™äº†æŒ‡é’ˆbï¼Œç„¶åå°±æ”¹å˜äº†æŒ‡é’ˆaçš„å†…å®¹ï¼Œaå°±æŒ‡å‘äº†commercialï¼ŒæŒ‡é’ˆcæŒ‡å‘aæ‰€æŒ‡çš„ç¬¬äºŒä¸ªå­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯oï¼Œè™½ç„¶åé¢aåˆæŒ‡å‘äº†talentsï¼Œä½†æ˜¯cå·²ç»æŒ‡å‘äº†commercialï¼Œæ‰€ä»¥++cï¼Œcå°±æŒ‡å‘äº†mï¼Œ*++cå°±è¾“å‡ºmå­—ç¬¦</li>
</ul>
</li>
<li><p><font color="red">åœ¨Cä¸­ä½¿ç”¨mallocæ—¶ä¸éœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå› ä¸ºåœ¨Cä¸­ä»void*åˆ°å…¶ä»–ç±»å‹çš„æŒ‡é’ˆæ˜¯è‡ªåŠ¨éšå¼è½¬æ¢çš„ï¼›</font> </p>
<p>  åœ¨C++ä¸­ä½¿ç”¨mallocæ—¶å¿…é¡»è¦å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œä½†åœ¨c++ä¸­ä¸€èˆ¬ç”¨newè€Œä¸ç”¨mallocï¼›</p>
</li>
<li><p>int a[10]={ }; ç¼–è¯‘å™¨è‡ªåŠ¨å°†æ‰€æœ‰å…ƒç´ ç½®é›¶</p>
</li>
<li><p>å¯¹äºä»¥ä¸‹ç»“æ„å®šä¹‰ï¼Œ(*p)-&gt;str++ä¸­çš„++åŠ åœ¨ï¼ˆï¼‰</p>
<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> {</span> <span class="keyword">int</span> len; <span class="keyword">char</span> *str; } *p;</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>pæ˜¯æŒ‡é’ˆï¼Œå¯ä»¥å†™p-&gt;str,ä½†æ˜¯<code>ï¼ˆ*pï¼‰</code>åªèƒ½å†™<code>(*p).str;</code></li>
</ul>
</li>
<li><p>ç»“æ„ä½“å’Œå…±ç”¨ä½“å˜é‡éƒ½ä¸èƒ½è¿›è¡Œæ¯”è¾ƒæ“ä½œï¼Œå› ä¸ºç±»å‹ä¸ä¸€æ ·ï¼Œæ— æ³•æ¯”è¾ƒï¼Œé™¤éå¼ºåˆ¶è½¬æ¢æˆ–é‡è½½æ¯”è¾ƒè¿ç®—ç¬¦</p>
</li>
<li><p>å¦‚æœæƒ³åœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰ç»“æ„ä½“ï¼Œè€Œåœ¨å…¶ä»–åœ°æ–¹å®šä¹‰å®é™…çš„ç»“æ„ä½“å˜é‡é‚£ä¹ˆå°±å¿…é¡»ä½¿ç”¨æ ‡è®°åï¼›å¦‚æœå®šä¹‰ç»“æ„ä½“çš„åŒæ—¶å°±åˆ›å»ºè¯¥ç»“æ„ä½“å˜é‡ï¼Œåˆ™å¯ä»¥çœç•¥ç»“æ„ä½“çš„æ ‡è®°åï¼Œæ­¤æ—¶è¯¥ç»“æ„ä½“æ˜¯ä¸€æ¬¡æ€§çš„ã€</p>
</li>
<li><p>typedefä¸æ˜¯ç”¨æ¥å®šä¹‰æ–°çš„æ•°æ®ç±»å‹ï¼Œè€Œæ˜¯åˆ›å»ºæ˜“äºè®°å¿†çš„ç±»å‹åï¼Œç»™ç±»å‹å–åˆ«å</p>
</li>
<li><p>ç»“æ„æ€»æ˜¯ä»¥ä¼ å€¼çš„æ–¹å¼ä¼ é€’ç»™å‡½æ•°</p>
</li>
<li><p>ä¸ç®¡b_valä¸ºå¤šå°‘ï¼Œwhile(b_val)ç­‰ä»·äºwhile(b_valï¼=0)ï¼Œwhile(!b_val)ç­‰ä»·äºwhile(b_val==0)</p>
</li>
<li><p>åœ¨è¡Œå°¾æ”¾ä¸€ä¸ª \ ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥è¡Œå°¾çš„æ¢è¡Œç¬¦ï¼Œèµ·åˆ°ç»­è¡Œçš„ä½œç”¨ã€‚</p>
</li>
<li><p>include <code>&lt;file&gt;</code> //åœ¨æ ‡å‡†åº“åŠé»˜è®¤æœç´¢ç›®å½•ä¸­å¯»æ‰¾å°†è¦ include çš„æ–‡ä»¶</p>
<p>include â€œfileâ€ //å…ˆåœ¨å½“å‰ç›®å½•ä¸­æœç´¢æ–‡ä»¶ï¼Œç„¶åå†åˆ°é»˜è®¤æœç´¢ç›®å½•ä¸­æœå¯»ã€‚</p>
<ul>
<li>å› æ­¤æ ‡å‡†åº“å¤´æ–‡ä»¶åº”è¯¥ç”¨&lt;&gt;æ›´å¿«</li>
</ul>
</li>
<li><p>%è¦æ±‚ä¸¤è¾¹éƒ½æ˜¯æ•´æ•°ï¼Œå¦‚æœä½ éè¦ä¸€ä¸ªæ•´æ•°%å¦å¤–ä¸€ä¸ªéæ•´æ•°çš„å¯ä»¥ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢æŠŠå®ƒè½¬æ¢æˆæ•´å½¢</p>
<p>å³ä½¿åˆ†æ¯ä¸º0ï¼Œç¼–è¯‘å™¨ä¹Ÿä¸ä¼šç¼–è¯‘å‡ºé”™ï¼Œè¾“å‡ºç»“æœä¸ºinf,è¡¨ç¤ºæ— ç©·å¤§</p>
</li>
<li><p>æ‰€è°“å£°æ˜ï¼Œå°±æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨å˜é‡çš„ç±»å‹ï¼Œç¼–è¯‘å™¨å¹¶ä¸ä¸ºå…¶åˆ†é…å†…å­˜ï¼Œæ­¤å˜é‡å·²ç»å®šä¹‰è¿‡ï¼Œæ•…å£°æ˜å¯ä»¥å¤šæ¬¡è¿›è¡Œã€‚ä¾‹å¦‚ï¼Œå£°æ˜å¤–éƒ¨å˜é‡ aã€‚ </p>
<p>  extern int a; </p>
<p>   ï¼ˆ1ï¼‰å®šä¹‰åˆ›å»ºäº†å˜é‡ï¼Œå¹¶ä¸ºå…¶åˆ†é…å†…å­˜ï¼›å£°æ˜æ²¡æœ‰åˆ†é…å†…å­˜ã€‚  </p>
<p>   ï¼ˆ2ï¼‰ä¸€ä¸ªå˜é‡åœ¨ä¸€å®šçš„åŒºåŸŸå†…åªèƒ½è¢«å®šä¹‰ä¸€æ¬¡ï¼Œå´å¯ä»¥è¢«å¤šæ¬¡å£°æ˜ã€‚</p>
</li>
<li><p>è‹¥æœ‰ä»¥ä¸‹çš„å®šä¹‰:<code>int t[3][2];</code></p>
<p>t[2] èƒ½æ­£ç¡®è¡¨ç¤º t æ•°ç»„æŸå…ƒç´ çš„åœ°å€ ã€‚è¡¨è¿°æ˜¯å¦æ­£ç¡®ï¼Ÿ</p>
<ul>
<li>æ­£ç¡®</li>
</ul>
</li>
<li><p>ç¨‹åºè¡Œã€è¯­å¥ã€å‡½æ•°éƒ½æ˜¯ç”±å­—ç¬¦æ„æˆçš„ï¼Œå­—ç¬¦æ˜¯Cè¯­è¨€çš„æœ€å°å•ä½ï¼Œæœ€å°æ‰§è¡Œå•å…ƒæ˜¯å‡½æ•°ã€‚</p>
</li>
<li><p>ä»¥ä¸‹å®šä¹‰é”™è¯¯çš„æ˜¯ï¼š                                        </p>
<ul>
<li><pre><code>struct A{A  _a;};
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></tbody></table></figure>
struct A{A* _a;};
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></tbody></table></figure>
struct A{A&amp; _a;};
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></tbody></table></figure>
struct B;
struct A{B&amp; _b;};
struct B{A&amp; _a;};
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">ç­”æ¡ˆï¼šA </span><br><span class="line"></span><br><span class="line">  è§£é‡Šï¼šstructæˆå‘˜ç±»å‹ä¸å¯ä»¥æ˜¯å®ƒè‡ªå·±ã€‚</span><br></pre></td></tr></tbody></table></figure>
å› ä¸ºä¼šé€’å½’å®šä¹‰ã€‚
ç†è®ºä¸Šè¿™æ ·å¯¼è‡´ç»“æ„ä½“çš„å¤§å°ä¸èƒ½è¢«è®¡ç®—ï¼ˆæ— é™å¤§å°ï¼‰ã€‚æ‰€ä»¥ä¸èƒ½åœ¨ç»“æ„ä½“é‡Œçš„æˆå‘˜ç±»å‹æ˜¯ç»“æ„ä½“æœ¬èº«ã€‚
ä½†æ˜¯æˆå‘˜å¯ä»¥å®šä¹‰ä¸ºè¯¥ç»“æ„ä½“çš„æŒ‡é’ˆã€‚å°±åƒä½ ä¸Šé¢è¿™æ®µä»£ç ã€‚å› ä¸ºæŒ‡é’ˆçš„å¤§å°æ˜¯å·²çŸ¥çš„ï¼ˆéšç¼–è¯‘å™¨å’Œæ“ä½œç³»ç»Ÿè€Œå®šï¼‰ã€‚
æ‰€ä»¥å¯ä»¥å®šä¹‰ä¸ºè¯¥ç»“æ„ä½“çš„æŒ‡é’ˆï¼Œä½†ä¸æ˜¯è¯¥ç»“æ„ä½“ã€‚
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">234. è¡¨å¤´å¯ä»¥æ˜¯åŸå­æˆ–å­è¡¨ï¼Œè¡¨å°¾ä¸€å®šæ˜¯å­è¡¨</span><br><span class="line"></span><br><span class="line">235. æ•°ç»„é™æ€åˆ†é…å†…å­˜ï¼Œé“¾è¡¨åŠ¨æ€åˆ†é…å†…å­˜ï¼›</span><br><span class="line">      æ•°ç»„åœ¨å†…å­˜ä¸­è¿ç»­ï¼Œé“¾è¡¨ä¸è¿ç»­ï¼›ï¼ˆå¯¹äºæ•°ç»„ï¼Œå¯¹è±¡æ˜¯æ”¾åœ¨å †å†…å­˜ä¸­çš„ï¼Œå¯¹è±¡çš„å¼•ç”¨æ˜¯æ”¾åœ¨æ ˆå†…å­˜ä¸­çš„ï¼‰</span><br><span class="line">      æ•°ç»„å…ƒç´ åœ¨æ ˆåŒºï¼Œé“¾è¡¨å…ƒç´ åœ¨å †åŒºï¼›</span><br><span class="line">      æ•°ç»„åˆ©ç”¨ä¸‹æ ‡å®šä½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œé“¾è¡¨å®šä½å…ƒç´ æ—¶é—´å¤æ‚åº¦O(n)ï¼›</span><br><span class="line">      æ•°ç»„æ’å…¥æˆ–åˆ é™¤å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦O(n)ï¼Œé“¾è¡¨çš„æ—¶é—´å¤æ‚åº¦O(1)ã€‚</span><br><span class="line"></span><br><span class="line">236. ä¸€èˆ¬æƒ…å†µä¸‹,ç®—æ³•ä¸­åŸºæœ¬æ“ä½œé‡å¤æ‰§è¡Œçš„æ¬¡æ•°æ˜¯é—®é¢˜è§„æ¨¡nçš„æŸä¸ªå‡½æ•°,ç”¨T(n)è¡¨ç¤º,è‹¥æœ‰æŸä¸ªè¾…åŠ©å‡½æ•°f(n),ä½¿å¾—å½“nè¶‹è¿‘äºæ— ç©·å¤§æ—¶,Tï¼ˆn)/f(n)çš„æé™å€¼ä¸ºä¸ç­‰äºé›¶çš„å¸¸æ•°,åˆ™ç§°f(n)æ˜¯T(n)çš„åŒæ•°é‡çº§å‡½æ•°.è®°ä½œT(n)=O(f(n)),ç§°O(f(n)) ä¸ºç®—æ³•çš„æ¸è¿›æ—¶é—´å¤æ‚åº¦,ç®€ç§°æ—¶é—´å¤æ‚åº¦.æ•°å­¦è¯­è¨€è¡¨è¾¾å°±æ˜¯ï¼šå­˜åœ¨è¶³å¤Ÿå¤§çš„æ­£æ•´æ•°Mï¼Œä½¿å¾—Tï¼ˆnï¼‰â‰¤MÃ—fï¼ˆnï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">237. ä¸€ä¸ªCæºç¨‹åºä¸æ˜¯å¿…é¡»åŒ…å«ä¸€ä¸ªmain()å‡½æ•°ï¼Œè€Œæ˜¯å¿…é¡»åŒ…å«ä¸€ä¸ª**ç¨‹åºçš„å…¥å£å‡½æ•°**ï¼Œ**ç¨‹åºçš„å…¥å£å‡½æ•°ä¸ä¸€å®šæ˜¯main()å‡½æ•°**</span><br><span class="line"></span><br><span class="line">238. **1.defaulté¡¾åæ€ä¹‰æ˜¯ç¼ºçœæƒ…å†µï¼Œæ‰€æœ‰caseæ¡ä»¶ä¸ç¬¦åˆæ—¶æ‰ä¼šæ‰§è¡Œï¼›**</span><br><span class="line"></span><br><span class="line">     2.caseè¯­å¥è‹¥ä¸åŠ breakï¼Œåˆ™å½“ä¸€æ¡æ»¡è¶³æ¡ä»¶çš„caseè¯­å¥æ‰§è¡Œåï¼Œå…¶ä¸‹é¢çš„caseè¯­å¥éƒ½ä¼šæ‰§è¡Œã€‚</span><br><span class="line"></span><br><span class="line">239. å¿…é¡»åœ¨å£°æ˜ä¸­å¯¹å¸¸é‡åˆå§‹åŒ–ï¼Œå¦åˆ™è¯¥å¸¸é‡å€¼ä¸ç¡®å®šä¸”æ— æ³•ä¿®æ”¹</span><br><span class="line"></span><br><span class="line">240. æ³¨æ„æœ¬é¢˜çš„ç´¢å¼•ä¸‹æ ‡æ˜¯ä»1å¼€å§‹ æ‰€ä»¥å¾ªç¯é˜Ÿåˆ—ä¸­æœ€å¤šæœ‰nä¸ªå…ƒç´ </span><br><span class="line">      åœ¨å¾ªç¯é˜Ÿåˆ—ä¸­,å¤´æŒ‡é’ˆæŒ‡å‘é˜Ÿåˆ—å½“ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ,è€Œå°¾æŒ‡é’ˆæŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä½</span><br><span class="line"></span><br><span class="line">     â€‹    å‡è®¾å¾ªç¯é˜Ÿåˆ—çš„é˜Ÿå°¾æŒ‡é’ˆæ˜¯rearï¼Œé˜Ÿå¤´æ˜¯frontï¼Œå…¶ä¸­QueueSizeä¸ºå¾ªç¯é˜Ÿåˆ—çš„æœ€å¤§é•¿åº¦ã€‚  </span><br><span class="line"></span><br><span class="line">        (1)    å…¥é˜Ÿæ—¶é˜Ÿå°¾æŒ‡é’ˆå‰è¿›1ï¼š(rear+1)%QueueSize  </span><br><span class="line"></span><br><span class="line">        (2)    å‡ºé˜Ÿæ—¶é˜Ÿå¤´æŒ‡é’ˆå‰è¿›1ï¼š(front+1)%QueueSize  </span><br><span class="line"></span><br><span class="line">        (3)    é˜Ÿåˆ—é•¿åº¦ï¼š(rear-front+QueueSize)%QueueSize  </span><br><span class="line"></span><br><span class="line">     â€‹    ç°æœ‰ä¸€å¾ªç¯é˜Ÿåˆ—ï¼Œå…¶é˜Ÿå¤´æŒ‡é’ˆä¸ºfrontï¼Œé˜Ÿå°¾æŒ‡é’ˆä¸ºrearï¼›å¾ªç¯é˜Ÿåˆ—é•¿åº¦ä¸ºNã€‚å…¶é˜Ÿå†…æœ‰æ•ˆé•¿åº¦ä¸ºï¼Ÿ(å‡è®¾é˜Ÿå¤´ä¸å­˜æ”¾æ•°æ®)  </span><br><span class="line"></span><br><span class="line">     â€‹    ç­”æ¡ˆï¼š(rear-front+N)%N  </span><br><span class="line"></span><br><span class="line">        (4) é˜Ÿç©ºå’Œé˜Ÿæ»¡çš„æ¡ä»¶  </span><br><span class="line"></span><br><span class="line">     â€‹    ä¸ºäº†åŒºåˆ†é˜Ÿç©ºè¿˜æ˜¯å †æ»¡çš„æƒ…å†µï¼Œæœ‰å¤šç§å¤„ç†æ–¹å¼ï¼š  </span><br><span class="line"></span><br><span class="line">        æ–¹å¼1ï¼š    ç‰ºç‰²ä¸€ä¸ªå•å…ƒæ¥åŒºåˆ†é˜Ÿç©ºå’Œé˜Ÿæ»¡ï¼Œå…¥é˜Ÿæ—¶å°‘ç”¨ä¸€ä¸ªé˜Ÿåˆ—å•å…ƒï¼Œå³çº¦å®šä»¥"é˜Ÿå¤´æŒ‡é’ˆåœ¨é˜Ÿå°¾æŒ‡é’ˆçš„ä¸‹ä¸€ä½ç½®ä½œä¸ºé˜Ÿæ»¡çš„æ ‡å¿—"ã€‚  </span><br><span class="line"></span><br><span class="line">     â€‹    é˜Ÿæ»¡æ¡ä»¶ä¸ºï¼š(rear+1)%QueueSize==front  </span><br><span class="line"></span><br><span class="line">     â€‹    é˜Ÿç©ºæ¡ä»¶ä¸ºï¼šfront==rear  </span><br><span class="line"></span><br><span class="line">     â€‹    é˜Ÿåˆ—é•¿åº¦ä¸ºï¼š(rear-front++QueueSize)%QueueSize  </span><br><span class="line"></span><br><span class="line">        æ–¹å¼2ï¼š    å¢è®¾è¡¨ç¤ºé˜Ÿåˆ—å…ƒç´ ä¸ªæ•°çš„æ•°æ®æˆå‘˜sizeï¼Œæ­¤æ—¶ï¼Œé˜Ÿç©ºå’Œé˜Ÿæ»¡æ—¶éƒ½æœ‰front==rearã€‚  </span><br><span class="line"></span><br><span class="line">     â€‹    é˜Ÿæ»¡æ¡ä»¶ä¸ºï¼šsize==QueueSize  </span><br><span class="line"></span><br><span class="line">     â€‹    é˜Ÿç©ºæ¡ä»¶ä¸ºï¼šsize==0  </span><br><span class="line"></span><br><span class="line">        æ–¹å¼3ï¼š    å¢è®¾tagæ•°æ®æˆå‘˜ä»¥åŒºåˆ†é˜Ÿæ»¡è¿˜æ˜¯é˜Ÿç©º  </span><br><span class="line"></span><br><span class="line">     â€‹    tagè¡¨ç¤º0çš„æƒ…å†µä¸‹ï¼Œè‹¥å› åˆ é™¤å¯¼è‡´front==rearï¼Œåˆ™é˜Ÿç©ºï¼›  </span><br><span class="line"></span><br><span class="line">     â€‹    tagç­‰äº1çš„æƒ…å†µï¼Œè‹¥å› æ’å…¥å¯¼è‡´front==rearåˆ™é˜Ÿæ»¡</span><br><span class="line"></span><br><span class="line">241. ä¸€ä¸ªç»“æ„ä½“æŒ‡é’ˆå˜é‡è™½ç„¶å¯ä»¥ç”¨æ¥è®¿é—®ç»“æ„ä½“å˜é‡æˆ–ç»“æ„ä½“æ•°ç»„å…ƒç´ çš„æˆå‘˜ï¼Œä½†æ˜¯ï¼Œ**ç»“æ„ä½“æŒ‡é’ˆå˜é‡ä¸èƒ½æŒ‡å‘ä¸€ä¸ªæˆå‘˜**ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸å…è®¸å–ä¸€ä¸ªæˆå‘˜çš„åœ°å€æ¥èµ‹äºˆå®ƒã€‚</span><br><span class="line"></span><br><span class="line">     ```c</span><br><span class="line">     é”™è¯¯ï¼š</span><br><span class="line">     pdate = &amp;Date[1].year;		//é”™è¯¯çš„</span><br></pre></td></tr></tbody></table></figure></code></pre></li>
</ul>
</li>
<li><h2 id="é“¾è¡¨ç»ƒä¹ "><a href="#é“¾è¡¨ç»ƒä¹ " class="headerlink" title="é“¾è¡¨ç»ƒä¹ "></a>é“¾è¡¨ç»ƒä¹ </h2><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">student</span>{</span></span><br><span class="line">	<span class="keyword">int</span> num;</span><br><span class="line">	<span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">char</span> sex[<span class="number">4</span>];</span><br><span class="line">	<span class="keyword">int</span> score[<span class="number">3</span>];</span><br><span class="line">	<span class="keyword">float</span> ave;</span><br><span class="line">}student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">stuNode</span>{</span></span><br><span class="line">	student stu;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">stuNode</span> *<span class="title">next</span>;</span></span><br><span class="line">}stuNode, *stuList;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å…¥ä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯</span></span><br><span class="line"><span class="function">student <span class="title">inputAStu</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//è¾“å…¥n ä¸ªå­¦ç”Ÿä¿¡æ¯ï¼Œ è¿”å›å­¦ç”Ÿæ•°ç»„ </span></span><br><span class="line"><span class="function">student* <span class="title">inputStu</span><span class="params">(<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="comment">//è¾“å‡ºå­¦ç”Ÿä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printStu</span><span class="params">(student *stu, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="comment">//ä¸ºå­¦ç”Ÿæ•°æ®è¿›è¡ŒæŒ‰ç…§å¹³å‡åˆ†å¤§å°è¿›è¡Œé™åºæ’åºï¼ˆåˆ†åˆ«ä½¿ç”¨å†’æ³¡æ’åºã€é€‰æ‹©æ’åºã€æ’å…¥æ’åºã€å¿«é€Ÿæ’åºå®ç°ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bubbleSortStu</span><span class="params">(student *stu, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertSortStu</span><span class="params">(student *stu, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectSortStu</span><span class="params">(student *stu, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">patition</span><span class="params">(student *stu, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(student *stu,<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span>;</span><br><span class="line"><span class="comment">//åˆ›å»ºå¸¦æœ‰å¤´ç»“ç‚¹çš„é“¾è¡¨(å¤´æ’æ³•)</span></span><br><span class="line"><span class="function">stuList <span class="title">creat1</span><span class="params">(student *stu, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="comment">//åˆ›å»ºå¸¦æœ‰å¤´ç»“ç‚¹çš„é“¾è¡¨(å°¾æ’æ³•)</span></span><br><span class="line"><span class="function">stuList <span class="title">creat1_2</span><span class="params">(student *stu, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="comment">//åˆ›å»ºä¸å¸¦å¤´ç»“ç‚¹çš„é“¾è¡¨ (ç›¸å½“äºå°¾æ’æ³•)(å¯ä»¥å†™å¤´æ’æ³•ï¼Œä½†æ˜¯æ²¡å¿…è¦ï¼Œç®€å•æ¥è¯´å°±æ˜¯åˆ›å»ºå¸¦æœ‰å¤´ç»“ç‚¹çš„é“¾è¡¨ã€åŒä¸Šã€‘ï¼Œæœ€åè¿”å›çš„æ˜¯head-&gt;next)</span></span><br><span class="line"><span class="function">stuList <span class="title">creat2</span><span class="params">(student *stu, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="comment">//ç»Ÿä¸€ä½¿ç”¨ä½¿ç”¨ä¸å¸¦å¤´ç»“ç‚¹çš„éå†</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printList</span><span class="params">(stuList head)</span></span>;</span><br><span class="line"><span class="comment">//ä¸ºé“¾è¡¨æ·»åŠ ä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯(æŒ‰å¹³å‡åˆ†æœ‰åºæ’å…¥(å¸¦å¤´ç»“ç‚¹))</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addStuNode</span><span class="params">(stuList *head, student stu)</span></span>;</span><br><span class="line"><span class="comment">//é“¾è¡¨ä¸­åˆ é™¤å§“åä¸ºdelnameçš„å…¨éƒ¨å­¦ç”Ÿä¿¡æ¯,åˆ é™¤æˆåŠŸè¿”å›1ï¼Œå¦åˆ™è¿”å›0</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">delStuNode</span><span class="params">(stuList *head, <span class="keyword">char</span> *delname)</span></span>;</span><br><span class="line"><span class="comment">//å°†é“¾è¡¨ä¸­çš„å­¦ç”Ÿä¿¡æ¯é€†ç½®(å¸¦å¤´ç»“ç‚¹)ã€å¤´æ’æ³•å®ç°é€†ç½®ã€‘</span></span><br><span class="line"><span class="function">stuList <span class="title">reverseStuList</span><span class="params">(stuList head)</span></span>;</span><br><span class="line"><span class="comment">//å°†ä¸¤ä¸ªå­¦ç”Ÿæœ‰åºçš„é“¾è¡¨åˆå¹¶ï¼Œå¹¶ä¿è¯åˆå¹¶åé“¾è¡¨ä»ç„¶æœ‰åº(å¸¦å¤´ç»“ç‚¹)</span></span><br><span class="line"><span class="function">stuList <span class="title">mergeList</span><span class="params">(stuList L1, stuList L2)</span></span>;</span><br><span class="line"><span class="comment">//é“¾è¡¨ä¸­åˆ é™¤å¹³å‡åˆ†æœ€å°çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="function">stuList <span class="title">delStuMinAve</span><span class="params">(stuList head)</span></span>;</span><br><span class="line"><span class="comment">//æ‰¾åˆ°ä¸¤ä¸ªé“¾è¡¨çš„å…¬å…±å­¦ç”Ÿä¿¡æ¯ï¼ˆä»¥å§“åä¸ºåŸºå‡†ï¼‰åˆå¹¶æˆä¸€ä¸ªæ–°çš„é“¾è¡¨</span></span><br><span class="line"><span class="function">stuList <span class="title">getCommonStu</span><span class="params">(stuList L1, stuList L2)</span></span>;</span><br><span class="line"><span class="comment">//åˆ¤æ–­ä¸¤ä¸ªå­¦ç”Ÿå­¦ç”Ÿé“¾è¡¨æ˜¯å¦ç›¸äº¤</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">judgeInterSect</span><span class="params">(stuList L1, stuList L2)</span></span>;</span><br><span class="line"><span class="comment">//åˆ¤æ–­å­¦ç”Ÿé“¾è¡¨æ˜¯å¦å­˜åœ¨ç¯</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">judgeLoop</span><span class="params">(stuList head)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"please input students number: "</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	student *stu;</span><br><span class="line">	stu = inputStu(n);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"----è¾“å‡ºå­¦ç”Ÿæ•°ç»„----\n"</span>);</span><br><span class="line">	printStu(stu, n);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"----è¾“å‡ºæ’åºåå­¦ç”Ÿæ•°ç»„----\n"</span>);</span><br><span class="line">	<span class="comment">//bubbleSortStu(stu, n);</span></span><br><span class="line">	<span class="comment">//insertSortStu(stu, n);</span></span><br><span class="line">	<span class="comment">//selectSortStu(stu, n);</span></span><br><span class="line">	quickSort(stu, <span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line">	printStu(stu, n);</span><br><span class="line"></span><br><span class="line">	stuList head;</span><br><span class="line">	<span class="comment">//head = creat1(stu, n); //å¤´ç»“ç‚¹å¤´æ’æ³•æµ‹è¯•</span></span><br><span class="line">	head = creat1_2(stu, n); <span class="comment">//å¤´ç»“ç‚¹å°¾æ’æ³•æµ‹è¯•</span></span><br><span class="line"><span class="comment">//	head = creat2(stu, n); //ä¸å¸¦å¤´ç»“ç‚¹å°¾æ’æ³•æµ‹è¯•</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"----è¾“å‡ºå­¦ç”Ÿé“¾è¡¨----\n"</span>);</span><br><span class="line">	printList(head-&gt;next);</span><br><span class="line">	</span><br><span class="line"><span class="comment">//	printf("----Inputæ’å…¥å­¦ç”Ÿä¿¡æ¯---");</span></span><br><span class="line"><span class="comment">//	student e = inputAStu();</span></span><br><span class="line"><span class="comment">//	addStuNode(&amp;head, e);</span></span><br><span class="line"><span class="comment">//	printf("----è¾“å‡ºå­¦ç”Ÿé“¾è¡¨----\n");</span></span><br><span class="line"><span class="comment">//	printList(head);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//	printf("\n----Inputå¾…åˆ é™¤å­¦ç”Ÿå§“å---\n");</span></span><br><span class="line"><span class="comment">//	char delname[10];</span></span><br><span class="line"><span class="comment">//	getchar();</span></span><br><span class="line"><span class="comment">//	gets(delname);</span></span><br><span class="line"><span class="comment">//	if(delStuNode(&amp;head, delname)){</span></span><br><span class="line"><span class="comment">//		printf("delete successful!\n");</span></span><br><span class="line"><span class="comment">//	}else{</span></span><br><span class="line"><span class="comment">//		printf("no find this student!\n");</span></span><br><span class="line"><span class="comment">//	}</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//	printf("----é€†ç½®å­¦ç”Ÿé“¾è¡¨----\n");</span></span><br><span class="line"><span class="comment">//	head = reverseStuList(head);</span></span><br><span class="line"><span class="comment">//	</span></span><br><span class="line">	</span><br><span class="line"><span class="comment">//	int n2;</span></span><br><span class="line"><span class="comment">//	printf("please input students number: ");</span></span><br><span class="line"><span class="comment">//	scanf("%d", &amp;n2);</span></span><br><span class="line"><span class="comment">//	student *stu2;</span></span><br><span class="line"><span class="comment">//	stu2 = inputStu(n2);</span></span><br><span class="line"><span class="comment">//	printf("----è¾“å‡ºå­¦ç”Ÿæ•°ç»„----\n");</span></span><br><span class="line"><span class="comment">//	printStu(stu2, n2);</span></span><br><span class="line"><span class="comment">//	printf("----è¾“å‡ºæ’åºåå­¦ç”Ÿæ•°ç»„----\n");</span></span><br><span class="line"><span class="comment">//	quickSort(stu2, 0, n2 - 1);</span></span><br><span class="line"><span class="comment">//	printStu(stu2, n2);</span></span><br><span class="line"><span class="comment">//	</span></span><br><span class="line"><span class="comment">//	stuList head2;</span></span><br><span class="line"><span class="comment">//	head2 = creat1_2(stu2, n2); //å¤´ç»“ç‚¹å°¾æ’æ³•æµ‹è¯•</span></span><br><span class="line"><span class="comment">//	printf("----è¾“å‡ºå­¦ç”Ÿé“¾è¡¨----\n");</span></span><br><span class="line"><span class="comment">//	printList(head2-&gt;next);</span></span><br><span class="line"><span class="comment">//	printf("----åˆå¹¶ä¸¤ä¸ªé“¾è¡¨---\n");</span></span><br><span class="line"><span class="comment">//	stuList head3 =  mergeList(head, head2);</span></span><br><span class="line"><span class="comment">//	</span></span><br><span class="line"><span class="comment">//	printf("----è¾“å‡ºåˆå¹¶åå­¦ç”Ÿé“¾è¡¨----\n");</span></span><br><span class="line"><span class="comment">//	printList(head3-&gt;next);</span></span><br><span class="line">	</span><br><span class="line"><span class="comment">//	printf("----åˆ é™¤å¹³å‡åˆ†æœ€å°çš„èŠ‚ç‚¹---\n");</span></span><br><span class="line"><span class="comment">//	head = delStuMinAve(head);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//	int n2;</span></span><br><span class="line"><span class="comment">//	printf("please input students number: ");</span></span><br><span class="line"><span class="comment">//	scanf("%d", &amp;n2);</span></span><br><span class="line"><span class="comment">//	student *stu2;</span></span><br><span class="line"><span class="comment">//	stu2 = inputStu(n2);</span></span><br><span class="line"><span class="comment">//	printf("----è¾“å‡ºå­¦ç”Ÿæ•°ç»„----\n");</span></span><br><span class="line"><span class="comment">//	printStu(stu2, n2);</span></span><br><span class="line"><span class="comment">//	printf("----è¾“å‡ºæ’åºåå­¦ç”Ÿæ•°ç»„----\n");</span></span><br><span class="line"><span class="comment">//	quickSort(stu2, 0, n2 - 1);</span></span><br><span class="line"><span class="comment">//	printStu(stu2, n2);</span></span><br><span class="line"><span class="comment">//	</span></span><br><span class="line"><span class="comment">//	stuList head2;</span></span><br><span class="line"><span class="comment">//	head2 = creat1_2(stu2, n2); //å¤´ç»“ç‚¹å°¾æ’æ³•æµ‹è¯•</span></span><br><span class="line"><span class="comment">//	printf("----è¾“å‡ºå­¦ç”Ÿé“¾è¡¨----\n");</span></span><br><span class="line"><span class="comment">//	printList(head2-&gt;next);</span></span><br><span class="line"><span class="comment">//	printf("----æ‰¾åˆ°å…¬å…±å­¦ç”Ÿä¿¡æ¯é“¾è¡¨---\n");</span></span><br><span class="line"><span class="comment">//	stuList head3 =  getCommonStu(head, head2);</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"----è¾“å‡ºåˆ é™¤çš„åå­¦ç”Ÿé“¾è¡¨----\n"</span>);</span><br><span class="line">	printList(head-&gt;next);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å…¥ä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯</span></span><br><span class="line"><span class="function">student <span class="title">inputAStu</span><span class="params">()</span></span>{</span><br><span class="line">	student stu;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"è¯¥å­¦ç”Ÿ(ä¾æ¬¡è¾“å…¥å­¦å·ã€å§“åã€æ€§åˆ«ã€ä¸‰é—¨è¯¾æˆç»© ï¼‰ï¼š"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%s%s"</span>, &amp;stu.num, stu.name, stu.sex);</span><br><span class="line">	<span class="keyword">int</span> j, sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++){</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;stu.score[j]);</span><br><span class="line">		sum += stu.score[j];</span><br><span class="line">	}</span><br><span class="line">	stu.ave = (<span class="keyword">float</span>)sum / <span class="number">3</span>;</span><br><span class="line">	<span class="keyword">return</span> stu;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//è¾“å…¥n ä¸ªå­¦ç”Ÿä¿¡æ¯ï¼Œ è¿”å›å­¦ç”Ÿæ•°ç»„ </span></span><br><span class="line"><span class="function">student* <span class="title">inputStu</span><span class="params">(<span class="keyword">int</span> n)</span></span>{</span><br><span class="line">	student *stu = (student *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(student) * n);</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Input n students:\n"</span>); </span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++){</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"No.%d (ä¾æ¬¡è¾“å…¥å­¦å·ã€å§“åã€æ€§åˆ«ã€ä¸‰é—¨è¯¾æˆç»© ï¼‰ï¼š"</span>, ++count);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%s%s"</span>, &amp;stu[i].num, stu[i].name, stu[i].sex);</span><br><span class="line">		<span class="keyword">int</span> j, sum = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++){</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;stu[i].score[j]);</span><br><span class="line">			sum += stu[i].score[j];</span><br><span class="line">		}</span><br><span class="line">		stu[i].ave = (<span class="keyword">float</span>)sum / <span class="number">3</span>;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> stu; </span><br><span class="line">}</span><br><span class="line"><span class="comment">//è¾“å‡ºå­¦ç”Ÿä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printStu</span><span class="params">(student *stu, <span class="keyword">int</span> n)</span></span>{</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++){</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"ç¬¬%dä¸ªå­¦ç”Ÿï¼š%d  %s  %s  %d  %d  %d  %.2f\n"</span>,i + <span class="number">1</span>, stu[i].num, stu[i].name, stu[i].sex, stu[i].score[<span class="number">0</span>], stu[i].score[<span class="number">1</span>], stu[i].score[<span class="number">2</span>], stu[i].ave);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸ºå­¦ç”Ÿæ•°æ®è¿›è¡ŒæŒ‰ç…§å¹³å‡åˆ†å¤§å°è¿›è¡Œé™åºæ’åºï¼ˆåˆ†åˆ«ä½¿ç”¨å†’æ³¡æ’åºã€é€‰æ‹©æ’åºã€æ’å…¥æ’åºã€å¿«é€Ÿæ’åºå®ç°ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bubbleSortStu</span><span class="params">(student *stu, <span class="keyword">int</span> n)</span></span>{</span><br><span class="line">	student temp;</span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++){</span><br><span class="line">		<span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(j = n - <span class="number">1</span>; j &gt; i; j--){</span><br><span class="line">			<span class="keyword">if</span>(stu[j - <span class="number">1</span>].ave-stu[j].ave &lt; <span class="number">1e-6</span>){</span><br><span class="line">				temp = stu[j];</span><br><span class="line">				stu[j] = stu[j - <span class="number">1</span>];</span><br><span class="line">				stu[j - <span class="number">1</span>] = temp;</span><br><span class="line">				flag = <span class="number">1</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(flag == <span class="number">0</span>){<span class="comment">//æ­¤æ±¤æœªå‘ç”Ÿäº¤æ¢åˆ™æå‰ç»“æŸæ’åºæ²¡å› ä¸ºå·²ç»æœ‰åº</span></span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertSortStu</span><span class="params">(student *stu, <span class="keyword">int</span> n)</span></span>{</span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	student temp;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; n; i++){</span><br><span class="line">		<span class="keyword">if</span>(stu[i - <span class="number">1</span>].ave-stu[i].ave &lt; <span class="number">1e-6</span>){</span><br><span class="line">			temp = stu[i];</span><br><span class="line">			<span class="keyword">for</span>(j = i - <span class="number">1</span>; j &gt;= <span class="number">0</span> &amp;&amp; stu[j].ave-temp.ave &lt; <span class="number">1e-6</span>; j--){</span><br><span class="line">				stu[j + <span class="number">1</span>] = stu[j];</span><br><span class="line">			}</span><br><span class="line">			stu[j + <span class="number">1</span>] = temp;	</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectSortStu</span><span class="params">(student *stu, <span class="keyword">int</span> n)</span></span>{</span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	student temp; </span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++){</span><br><span class="line">		<span class="keyword">int</span> <span class="built_in">max</span> = i;</span><br><span class="line">		<span class="keyword">for</span>(j = i + <span class="number">1</span>; j &lt; n; j++){</span><br><span class="line">			<span class="keyword">if</span>(stu[<span class="built_in">max</span>].ave-stu[j].ave &lt; <span class="number">1e-6</span>){</span><br><span class="line">				<span class="built_in">max</span> = j;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">max</span> != i){</span><br><span class="line">			temp = stu[i];</span><br><span class="line">			stu[i] = stu[<span class="built_in">max</span>];</span><br><span class="line">			stu[<span class="built_in">max</span>] = temp;</span><br><span class="line">		}</span><br><span class="line">	}	</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">patition</span><span class="params">(student *stu, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span>{</span><br><span class="line">	student pivot = stu[left];</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(left &lt; right){</span><br><span class="line">		<span class="keyword">while</span>(left &lt; right &amp;&amp; stu[right].ave-pivot.ave &lt;= <span class="number">1e-6</span>) right--;</span><br><span class="line">		stu[left] = stu[right];</span><br><span class="line">		<span class="keyword">while</span>(left &lt; right &amp;&amp; stu[left].ave-pivot.ave &gt;= <span class="number">1e-6</span>) left++;</span><br><span class="line">		stu[right] = stu[left];</span><br><span class="line">	}</span><br><span class="line">	stu[left] = pivot;</span><br><span class="line">	<span class="keyword">return</span> left;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(student *stu,<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span>{</span><br><span class="line">	<span class="keyword">if</span>(left &lt; right){</span><br><span class="line">		<span class="keyword">int</span> pation = patition(stu, left, right);</span><br><span class="line">		quickSort(stu, left, pation - <span class="number">1</span>);</span><br><span class="line">		quickSort(stu, pation + <span class="number">1</span>, right);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="comment">//åˆ›å»ºå¸¦æœ‰å¤´ç»“ç‚¹çš„é“¾è¡¨(å¤´æ’æ³•)</span></span><br><span class="line"><span class="function">stuList <span class="title">creat1</span><span class="params">(student *stu, <span class="keyword">int</span> n)</span></span>{</span><br><span class="line">	stuList head = (stuNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(stuNode));</span><br><span class="line">	head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">	stuList p;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++){</span><br><span class="line">		p = (stuNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(stuNode));</span><br><span class="line">		p-&gt;stu = stu[i];</span><br><span class="line">		p-&gt;next = head-&gt;next;</span><br><span class="line">		head-&gt;next = p;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> head;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//åˆ›å»ºå¸¦æœ‰å¤´ç»“ç‚¹çš„é“¾è¡¨(å°¾æ’æ³•)</span></span><br><span class="line"><span class="function">stuList <span class="title">creat1_2</span><span class="params">(student *stu, <span class="keyword">int</span> n)</span></span>{</span><br><span class="line">	stuList head = (stuNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(stuNode));</span><br><span class="line">	stuList p, r = head;<span class="comment">//å®šä¹‰rä¸ºå°¾æŒ‡é’ˆ</span></span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++){</span><br><span class="line">		p = (stuNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(stuNode));</span><br><span class="line">		p-&gt;stu = stu[i];</span><br><span class="line">		r-&gt;next = p;</span><br><span class="line">		r = p;</span><br><span class="line">	}</span><br><span class="line">	r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">return</span> head;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºä¸å¸¦å¤´ç»“ç‚¹çš„é“¾è¡¨ (ç›¸å½“äºå°¾æ’æ³•)(å¯ä»¥å†™å¤´æ’æ³•ï¼Œä½†æ˜¯æ²¡å¿…è¦ï¼Œç®€å•æ¥è¯´å°±æ˜¯åˆ›å»ºå¸¦æœ‰å¤´ç»“ç‚¹çš„é“¾è¡¨ã€åŒä¸Šã€‘ï¼Œæœ€åè¿”å›çš„æ˜¯head-&gt;next)</span></span><br><span class="line"><span class="function">stuList <span class="title">creat2</span><span class="params">(student *stu, <span class="keyword">int</span> n)</span></span>{</span><br><span class="line">	stuList head = (stuNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(stuNode));</span><br><span class="line">	stuList p, q;</span><br><span class="line">	head = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++){</span><br><span class="line">		p = (stuNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(stuNode));</span><br><span class="line">		p-&gt;stu = stu[i];</span><br><span class="line">		<span class="keyword">if</span>(head == <span class="literal">NULL</span>){</span><br><span class="line">			head = p;</span><br><span class="line">			q = head;</span><br><span class="line">		}<span class="keyword">else</span>{</span><br><span class="line">			q-&gt;next = p;</span><br><span class="line">			q = p;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	q-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">return</span> head;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»Ÿä¸€ä½¿ç”¨ä½¿ç”¨ä¸å¸¦å¤´ç»“ç‚¹çš„éå†</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printList</span><span class="params">(stuList head)</span></span>{</span><br><span class="line">	stuList p = head;</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(p != <span class="literal">NULL</span>){</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"ç¬¬%dä¸ªèŠ‚ç‚¹ï¼š"</span>, ++i);</span><br><span class="line">		student stu = p-&gt;stu;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d  %s   %s  %d  %d  %d  %.2f\n"</span>, stu.num, stu.name, stu.sex, stu.score[<span class="number">0</span>], stu.score[<span class="number">1</span>], stu.score[<span class="number">2</span>], stu.ave);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸ºé“¾è¡¨æ·»åŠ ä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯(æŒ‰å¹³å‡åˆ†æœ‰åºæ’å…¥(å¸¦å¤´ç»“ç‚¹))</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addStuNode</span><span class="params">(stuList *head, student stu)</span></span>{</span><br><span class="line">	stuList p = *head, s = (stuList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(stuNode));</span><br><span class="line">	s-&gt;stu = stu;</span><br><span class="line">	s-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(p-&gt;next != <span class="literal">NULL</span>){</span><br><span class="line">		<span class="keyword">if</span>(p-&gt;next-&gt;stu.ave - stu.ave &lt;= <span class="number">1e-6</span>){</span><br><span class="line">			s-&gt;next = p-&gt;next;</span><br><span class="line">			p-&gt;next = s;</span><br><span class="line">			flag = <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		}</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(flag == <span class="number">0</span>){<span class="comment">//å¦‚æœå½“å‰å­¦ç”Ÿçš„æˆç»©æœ€å°ï¼Œå³éœ€è¦æ’å…¥åˆ°é“¾è¡¨æœ«å°¾</span></span><br><span class="line">		p-&gt;next = s;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="comment">//é“¾è¡¨ä¸­åˆ é™¤å§“åä¸ºdelnameçš„å…¨éƒ¨å­¦ç”Ÿä¿¡æ¯,åˆ é™¤æˆåŠŸè¿”å›1ï¼Œå¦åˆ™è¿”å›0</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">delStuNode</span><span class="params">(stuList *head, <span class="keyword">char</span> *delname)</span></span>{</span><br><span class="line">	stuList p = *head, q;</span><br><span class="line">	<span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(p-&gt;next != <span class="literal">NULL</span>){</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">strcmp</span>(p-&gt;next-&gt;stu.name, delname) == <span class="number">0</span>){</span><br><span class="line">			q = p-&gt;next;</span><br><span class="line">			p-&gt;next = p-&gt;next-&gt;next;</span><br><span class="line">			q-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">			flag = <span class="number">1</span>;</span><br><span class="line">			<span class="built_in">free</span>(q); </span><br><span class="line">		}<span class="keyword">else</span>{</span><br><span class="line">			p = p-&gt;next;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> flag;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//å°†é“¾è¡¨ä¸­çš„å­¦ç”Ÿä¿¡æ¯é€†ç½®(å¸¦å¤´ç»“ç‚¹)ã€å¤´æ’æ³•å®ç°é€†ç½®ã€‘</span></span><br><span class="line"><span class="function">stuList <span class="title">reverseStuList</span><span class="params">(stuList head)</span></span>{</span><br><span class="line">	stuList p = head-&gt;next, q;</span><br><span class="line">	head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">while</span>(p != <span class="literal">NULL</span>){</span><br><span class="line">		q = p-&gt;next; <span class="comment">//qèŠ‚ç‚¹æš‚å­˜pçš„åç»§</span></span><br><span class="line">		p-&gt;next = head-&gt;next; <span class="comment">//å¤´æ’éå†</span></span><br><span class="line">		head-&gt;next = p;</span><br><span class="line">		p = q;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> head;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//å°†ä¸¤ä¸ªå­¦ç”Ÿæœ‰åºçš„é“¾è¡¨åˆå¹¶ï¼Œå¹¶ä¿è¯åˆå¹¶åé“¾è¡¨ä»ç„¶æœ‰åº(å¸¦å¤´ç»“ç‚¹)</span></span><br><span class="line"><span class="function">stuList <span class="title">mergeList</span><span class="params">(stuList L1, stuList L2)</span></span>{</span><br><span class="line">	stuList head = (stuList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(stuNode)), p1 = L1-&gt;next, p2 = L2-&gt;next, r = head;</span><br><span class="line">	stuNode *s;</span><br><span class="line">	<span class="keyword">while</span>(p1 != <span class="literal">NULL</span> &amp;&amp; p2 != <span class="literal">NULL</span>){</span><br><span class="line">		s = (stuNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(stuNode));</span><br><span class="line">		<span class="keyword">if</span>(p1-&gt;stu.ave - p2-&gt;stu.ave &lt; <span class="number">1e-6</span>){<span class="comment">//å½’å¹¶æ€æƒ³ å¤§çš„å…ˆæ’ï¼ˆå°¾æ’æ³•ï¼‰</span></span><br><span class="line">			s-&gt;stu = p2-&gt;stu;</span><br><span class="line">			r-&gt;next = s;</span><br><span class="line">			r = s;</span><br><span class="line">			p2 = p2-&gt;next;</span><br><span class="line">		}<span class="keyword">else</span>{</span><br><span class="line">			s-&gt;stu = p1-&gt;stu;</span><br><span class="line">			r-&gt;next = s;</span><br><span class="line">			r = s;</span><br><span class="line">			p1 = p1-&gt;next;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(p1){</span><br><span class="line">		r-&gt;next = p1;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(p2){</span><br><span class="line">		r-&gt;next = p2;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> head;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//é“¾è¡¨ä¸­åˆ é™¤å¹³å‡åˆ†æœ€å°çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="function">stuList <span class="title">delStuMinAve</span><span class="params">(stuList head)</span></span>{</span><br><span class="line">	stuList L = head, p = head-&gt;next;</span><br><span class="line">	<span class="keyword">char</span> delname[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">float</span> <span class="built_in">min</span> = p-&gt;stu.ave;</span><br><span class="line">	<span class="built_in">strcpy</span>(delname, p-&gt;stu.name);</span><br><span class="line">	<span class="keyword">while</span>(p != <span class="literal">NULL</span>){</span><br><span class="line">		<span class="keyword">if</span>(p-&gt;stu.ave - <span class="built_in">min</span> &lt; <span class="number">1e-6</span>){</span><br><span class="line">			<span class="built_in">min</span> = p-&gt;stu.ave;</span><br><span class="line">			<span class="built_in">strcpy</span>(delname, p-&gt;stu.name);</span><br><span class="line">		}</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//ç›´æ¥è°ƒç”¨å‰é¢å†™å¥½çš„æ¥å£</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, delname);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(delStuNode(&amp;L, delname)){</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"æˆåŠŸ\n"</span>);</span><br><span class="line">	}<span class="keyword">else</span>{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"å¤±è´¥\n"</span>);</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> L;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//æ‰¾åˆ°ä¸¤ä¸ªé“¾è¡¨çš„å…¬å…±å­¦ç”Ÿä¿¡æ¯ï¼ˆä»¥å§“åä¸ºåŸºå‡†ï¼‰åˆå¹¶æˆä¸€ä¸ªæ–°çš„é“¾è¡¨</span></span><br><span class="line"><span class="function">stuList <span class="title">getCommonStu</span><span class="params">(stuList L1, stuList L2)</span></span>{</span><br><span class="line">	stuList head = (stuList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(stuNode)), p1 = L1-&gt;next, p2 = L2-&gt;next, r = head;</span><br><span class="line">	stuNode *s;</span><br><span class="line">	<span class="keyword">while</span>(p1 != <span class="literal">NULL</span>){</span><br><span class="line">		<span class="keyword">while</span>(p2 != <span class="literal">NULL</span>){</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">strcmp</span>(p1-&gt;stu.name, p2-&gt;stu.name) == <span class="number">0</span>){</span><br><span class="line">				s = (stuNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(stuNode));</span><br><span class="line">				s-&gt;stu = p1-&gt;stu;</span><br><span class="line">				r-&gt;next = s;</span><br><span class="line">				r = s;</span><br><span class="line">			}</span><br><span class="line">			p2 = p2-&gt;next;</span><br><span class="line">		}</span><br><span class="line">		p2 = L2-&gt;next;</span><br><span class="line">		p1 = p1-&gt;next;</span><br><span class="line">	}</span><br><span class="line">	r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> head;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//åˆ¤æ–­ä¸¤ä¸ªå­¦ç”Ÿå­¦ç”Ÿé“¾è¡¨æ˜¯å¦ç›¸äº¤</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">judgeInterSect</span><span class="params">(stuList L1, stuList L2)</span></span>{</span><br><span class="line">	stuList p1 = L1, p2 = L2;</span><br><span class="line">	<span class="keyword">while</span>(p1-&gt;next != <span class="literal">NULL</span>){</span><br><span class="line">		p1 = p1-&gt;next;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">while</span>(p2-&gt;next != <span class="literal">NULL</span>){</span><br><span class="line">		p2 = p2-&gt;next;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//å¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤ï¼Œé‚£ä¹ˆä»–ä»¬çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ä¸€å®šç›¸åŒ</span></span><br><span class="line">	<span class="keyword">return</span> p1 == p2;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//åˆ¤æ–­å­¦ç”Ÿé“¾è¡¨æ˜¯å¦å­˜åœ¨ç¯</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">judgeLoop</span><span class="params">(stuList head)</span></span>{</span><br><span class="line">	stuList p1 = head-&gt;next, p2 = head-&gt;next;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//åˆ¤æ–­æœ‰ç¯çš„é—®é¢˜ï¼Œä¸€èˆ¬ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆä¸€æ¬¡èµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆä¸€æ¬¡èµ°ä¸€æ­¥ï¼Œé‚£ä¹ˆæœ€ç»ˆ</span></span><br><span class="line">	<span class="comment">//å¦‚æœæœ‰ç¯ï¼Œé‚£ä¹ˆå¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆä¸€å®šä¼šç›¸é‡ï¼Œå¦‚æœæ— ç¯ï¼Œå¿«æŒ‡é’ˆä¸€å®šèƒ½å…ˆèµ°åˆ°NULLèŠ‚ç‚¹ï¼Œæ­¤æ—¶é€€å‡º</span></span><br><span class="line">	<span class="keyword">while</span>(p2 != <span class="literal">NULL</span>){</span><br><span class="line">		p2 = p2-&gt;next;</span><br><span class="line">		<span class="keyword">if</span>(p2 != <span class="literal">NULL</span>){</span><br><span class="line">			p2 = p2-&gt;next;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(p1 == p2){</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		}<span class="keyword">else</span>{</span><br><span class="line">			p1 = p1-&gt;next;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



</li>
</ol>
<ol start="243">
<li><h3 id="æ ˆé˜Ÿåˆ—"><a href="#æ ˆé˜Ÿåˆ—" class="headerlink" title="æ ˆé˜Ÿåˆ—"></a>æ ˆé˜Ÿåˆ—</h3><p>1ã€å †æ ˆä¸é˜Ÿåˆ—çš„åŸºæœ¬æ¦‚å¿µä¸æ“ä½œ</p>
<p>1ï¼‰ã€å †æ ˆçš„åŸºæœ¬æ¦‚å¿µä¸æ“ä½œ</p>
<pre><code>å †æ ˆï¼šåªèƒ½åœ¨è¡¨çš„ä¸€ç«¯è¿›è¡Œæ“ä½œçš„çº¿æ€§è¡¨ï¼Œä¸€èˆ¬çš„æ“ä½œå°±æ˜¯æ’å…¥å’Œåˆ é™¤ï¼Œå…è®¸æ“ä½œçš„ä¸€ç«¯ç§°ä¸ºæ ˆé¡¶ï¼Œæ ˆé¡¶å…ƒç´ ç”±æ ˆé¡¶æŒ‡é’ˆç»™å‡ºï¼Œæ²¡æœ‰å…ƒç´ æ—¶ä¸ºç©ºæ ˆ
åè¿›å…ˆå‡ºï¼Œå…ˆè¿›åå‡º
æ’å…¥ï¼ˆå…¥æ ˆï¼Œè¿›æ ˆï¼‰
åˆ é™¤ï¼ˆå‡ºæ ˆï¼Œé€€æ ˆï¼‰
åˆ¤ç©º
åˆ¤æ»¡
æ£€ç´¢å½“å‰æ ˆé¡¶å…ƒç´ 
ç‰¹æ®Šæ€§ï¼š1ã€æ“ä½œæ—¶ä¸€èˆ¬çº¿æ€§è¡¨çš„å­é›†ï¼›2ã€æ’å…¥å’Œåˆ é™¤çš„ä½ç½®å—åˆ°é™åˆ¶</code></pre></li>
</ol>
<pre><code>â€‹    
2)ã€é˜Ÿåˆ—çš„åŸºæœ¬æ¦‚å¿µä¸æ“ä½œ

    é˜Ÿåˆ—ï¼šé˜Ÿåˆ—ç®€ç§°é˜Ÿï¼Œæ˜¯ä¸€ç§åªèƒ½ç”±ä¸€ç«¯è¿›è¡Œæ’å…¥ï¼Œå¦ä¸€ç«¯è¿›è¡Œåˆ é™¤çš„çº¿æ€§è¡¨ã€‚è¿›è¡Œæ’å…¥çš„ä¸€ç«¯ç§°ä¸ºé˜Ÿå°¾ï¼Œç”¨rearè¡¨ç¤ºï¼Œåˆ é™¤çš„ä¸€ç«¯ç§°ä¸ºé˜Ÿå¤´ï¼Œç”¨frontæŒ‡é’ˆè¡¨ç¤º
    å…ˆè¿›å…ˆå‡ºï¼Œåè¿›åå‡º
    æ’å…¥ï¼ˆè¿›é˜Ÿï¼Œå…¥é˜Ÿï¼‰
    åˆ é™¤ï¼ˆå‡ºé˜Ÿï¼Œé€€é˜Ÿï¼‰
    åˆ¤ç©º
    æ£€ç´¢å½“å‰é˜Ÿå¤´å…ƒç´ 
    åˆ›å»ºç©ºé˜Ÿ
    ç‰¹æ®Šæ€§ï¼š1ã€æ“ä½œæ—¶ä¸€èˆ¬çº¿æ€§è¡¨çš„å­é›†ï¼›2ã€æ’å…¥å’Œåˆ é™¤çš„ä½ç½®å—åˆ°é™åˆ¶


â€‹    
â€‹    
2ã€å †æ ˆä¸é˜Ÿåˆ—çš„é¡ºåºå­˜å‚¨ç»“æ„ä¸é“¾å¼å­˜å‚¨ç»“æ„çš„æ„é€ åŸç†

1ï¼‰ã€å †æ ˆçš„é¡ºåºå­˜å‚¨ç»“æ„

    ä¸€ç»´æ•°ç»„SCACK[0..n-1],å®šä¹‰ä¸€ä¸ªæ•´å‹å˜é‡ç»™å‡ºæ ˆé¡¶å…ƒç´ ï¼Œä½†æ˜¯ä¸åŒäºæ•°ç»„ï¼Œæ•°ç»„æ—¶é™æ€ç»“æ„ï¼Œå †æ ˆæ˜¯åŠ¨æ€ç»“æ„

   æº¢å‡ºï¼šä¸Šæº¢ï¼šæ ˆæ»¡æ—¶è¿›è¡Œæ’å…¥æ“ä½œ top = n-1ï¼›ä¸‹æº¢ï¼šæ ˆç©ºæ—¶è¿›è¡Œåˆ é™¤æ“ä½œ  top = -1
   å®šä¹‰ï¼š

<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 1000</span></span><br><span class="line"><span class="keyword">int</span> STACK[M];</span><br><span class="line"><span class="keyword">int</span> top = <span class="number">-1</span>;  <span class="comment">//åˆå§‹çš„æ—¶å€™topä¸º-1ï¼Œè¡¨ç¤ºæ ˆç©º</span></span><br></pre></td></tr></tbody></table></figure>

2)ã€å †æ ˆçš„é“¾å¼å­˜å‚¨ç»“æ„

    ç”¨çº¿æ€§é“¾è¡¨è¡¨ç¤ºï¼Œæ ˆé¡¶æŒ‡é’ˆä¸ºNULLæ˜¯ä¸ºç©º

<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>{</span></span><br><span class="line">     <span class="keyword">int</span> data;</span><br><span class="line">     <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">link</span>;</span></span><br><span class="line">}STNode, *STLink;</span><br></pre></td></tr></tbody></table></figure>

3ï¼‰ã€é˜Ÿåˆ—çš„é¡ºåºå­˜å‚¨ç»“æ„

<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">ä¸€ç»´æ•°ç»„QUEUE[<span class="number">0.</span>.n<span class="number">-1</span>],ä¸¤ä¸ªå˜é‡frontå’ŒrearæŒ‡å‡ºé˜Ÿå¤´å’Œé˜Ÿå°¾å…ƒç´ çš„ä½ç½®ã€‚</span><br><span class="line">çº¦å®šï¼šrearæŒ‡å‡ºå®é™…é˜Ÿå°¾å…ƒç´ çš„ä½ç½®</span><br><span class="line">      frontæŒ‡å‡ºé˜Ÿå¤´å…ƒç´ çš„å‰ä¸€ä¸ªä½ç½®</span><br><span class="line">      åˆå§‹é˜Ÿåˆ—ä¸ºç©ºfront = <span class="number">-1</span> ï¼› rear = <span class="number">-1</span>ï¼› </span><br><span class="line">      åˆ¤æ–­é˜Ÿåˆ—ä¸ºç©ºçš„æ¡ä»¶ï¼šfront = rearï¼›</span><br><span class="line">      </span><br><span class="line">#define M <span class="number">1000</span></span><br><span class="line"><span class="keyword">int</span> QUEUE[M];</span><br><span class="line"><span class="keyword">int</span> front, rear;</span><br></pre></td></tr></tbody></table></figure>

4ï¼‰ã€é˜Ÿåˆ—çš„é“¾å¼å­˜å‚¨ç»“æ„

<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">ç”¨çº¿æ€§é“¾è¡¨è¡¨ç¤ºï¼ŒrearæŒ‡å‡ºé˜Ÿå°¾ï¼ŒfrontæŒ‡å‡ºé˜Ÿå¤´</span><br><span class="line">ç©ºé˜Ÿåˆ— front = <span class="literal">NULL</span>ï¼›</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> struct node{ </span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">link</span>;</span></span><br><span class="line">}QNode, *QLink;</span><br></pre></td></tr></tbody></table></figure>


3ã€åœ¨ä¸åŒå­˜å‚¨ç»“æ„ä¸Šå¯¹å †æ ˆå’Œé˜Ÿåˆ—è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œçš„ç®—æ³•è®¾è®¡

1ï¼‰ã€é¡ºåºå­˜å‚¨ç»“æ„ä¸Šå¯¹å †æ ˆè¿›è¡Œæ“ä½œ</code></pre><p>â€‹       </p>
<pre><code><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">åˆå§‹åŒ–</span><br><span class="line">     </span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">Init</span><span class="params">(<span class="keyword">int</span> &amp;top)</span></span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">       top = <span class="number">-1</span>;</span><br><span class="line">  }</span><br><span class="line">     </span><br><span class="line">  åˆ¤ç©º</span><br><span class="line">     </span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">Empty</span><span class="params">(<span class="keyword">int</span> top)</span></span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">       <span class="keyword">return</span> top == <span class="number">-1</span>;</span><br><span class="line">  }</span><br><span class="line">     </span><br><span class="line">  åˆ¤æ»¡</span><br><span class="line">     </span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">FULL</span><span class="params">(<span class="keyword">int</span> top)</span></span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">       <span class="keyword">return</span> top == M<span class="number">-1</span>;</span><br><span class="line">  }</span><br><span class="line">     </span><br><span class="line">  æ’å…¥ï¼ˆè¿›æ ˆï¼‰</span><br><span class="line">     </span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">Push</span><span class="params">(<span class="keyword">int</span> Stack[], <span class="keyword">int</span> &amp;top, <span class="keyword">int</span> element)</span></span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">       <span class="keyword">if</span>(FULL(top)</span><br><span class="line">       <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">else</span>{</span><br><span class="line">           Stack[++top] = element;</span><br><span class="line">           <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">       }</span><br><span class="line">  }</span><br><span class="line">     </span><br><span class="line">  åˆ é™¤ï¼ˆå‡ºæ ˆï¼‰</span><br><span class="line">  <span class="keyword">int</span> Pop(<span class="keyword">int</span> Stack[], <span class="keyword">int</span> &amp;top, <span class="keyword">int</span> element)</span><br><span class="line">  {</span><br><span class="line">       <span class="keyword">if</span>(Empty(top))</span><br><span class="line">           <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">else</span>{</span><br><span class="line">           element = Stack[top--];</span><br><span class="line">           <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">       }</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>

2ï¼‰ã€é“¾å¼å­˜å‚¨ä¸Šå¯¹å †æ ˆè¿›è¡Œæ“ä½œ

<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">åˆå§‹åŒ–</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Init</span><span class="params">(STLink &amp;top)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    top = <span class="literal">NULL</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">åˆ¤ç©º</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Empty</span><span class="params">(STLink top)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> top == <span class="literal">NULL</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">æ’å…¥ï¼ˆè¿›æ ˆï¼‰ä¸ç”¨åˆ¤æ»¡</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Push</span><span class="params">(STLink &amp;top, <span class="keyword">int</span> item)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    STLink p;</span><br><span class="line">    <span class="keyword">if</span>(!(p = (STLink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(STNode))))</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span>{</span><br><span class="line">        p-&gt;data = item;</span><br><span class="line">        p-&gt;link = top;</span><br><span class="line">        top = p;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">åˆ é™¤ï¼ˆå‡ºæ ˆï¼‰</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Pop</span><span class="params">(STLink &amp;top, <span class="keyword">int</span> &amp;item)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    STLink p;</span><br><span class="line">    <span class="keyword">if</span>(Empty(top))</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span>{</span><br><span class="line">        p = top;</span><br><span class="line">        item = p-&gt;data;</span><br><span class="line">        top = top-&gt;link;</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>


â€‹    
3ï¼‰ã€åœ¨é¡ºåºå­˜å‚¨ç»“æ„ä¸Šå¯¹é˜Ÿåˆ—è¿›è¡Œæ“ä½œ

    åˆå§‹åŒ–

    void Init(int &amp;front, int &amp;rear)
    {
        front = -1;
        rear = -1;
    }

    åˆ¤ç©º

    int Empty(int front, int rear)
    {
        return rear == front;
    }

    æ’å…¥ 
    int ADDQ(int Queue[], int &amp;rear, int item)
    {
        if(rear == M-1)    //å‡æº¢å‡º
            return 0;
        else{
            Queue[++rear] = item;
            return 1;
        }
    }

    åˆ é™¤ 
    int DELQ(int Queue[], int &amp;front, int rear, int &amp;item)
    {
        if(Empty(front, rear))
            return 0;
        else{
            item = Queue[--front];
            return 1;
        }
    }

    å¾ªç¯é˜Ÿåˆ—ï¼šå°†é˜Ÿåˆ—æƒ³è±¡æˆå¤´å°¾ç›¸è¿çš„è¡¨ï¼Œä½¿å¾—é˜Ÿå¤´åˆ é™¤çš„å…ƒç´ çš„ç©ºé—´èƒ½å¤Ÿå°½å¯èƒ½è¢«åˆ©ç”¨

    ç®—æ³•1ï¼šåˆ é™¤ä¹‹åå°†æ¯ä¸ªå…ƒç´ å‰ç§»ä¸€ä½ã€‚
            ç¼ºç‚¹ï¼šæµªè´¹ç©ºé—´

    ç®—æ³•2ï¼šæ±‚ä½™

    æ·»åŠ ï¼š

    int ADDQ(int Q[], int &amp;rear, int &amp;front, int item)
    {
        if((rear+1)%M == front)
            return 0;
        else{
            Q[++rear%M] = item;
            return 1;
        }
    }

    åˆ é™¤ï¼š

    int DELQ(int Q[], int &amp;front, int &amp;rear, int &amp;item)
    {
        if(front == rear)
            return 0;
        else{
            front = (front + 1)%M;
            item = Q[front];
            return 1;
        }
    }

4ï¼‰ã€åœ¨é“¾å¼å­˜å‚¨ç»“æ„ä¸Šå¯¹é˜Ÿåˆ—è¿›è¡Œæ“ä½œ

<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">åˆå§‹åŒ–</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Init</span><span class="params">(QLink front, QLink rear)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    front = <span class="literal">NULL</span>;</span><br><span class="line">    rear = <span class="literal">NULL</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">åˆ¤ç©º</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Empty</span><span class="params">(QLink front)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> fron == <span class="literal">NULL</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">æ’å…¥</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ADDQ</span><span class="params">(QLink &amp;front, QLink &amp;rear, <span class="keyword">int</span> item)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    QLink p;</span><br><span class="line">    <span class="keyword">if</span>(!(p = (QLink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(QNode))))</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span>{</span><br><span class="line">        p-&gt;data = item;</span><br><span class="line">        p-&gt;link = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">if</span>(front == <span class="literal">NULL</span>)</span><br><span class="line">            front = p;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            rear-&gt;link = p;</span><br><span class="line">        </span><br><span class="line">        rear = p;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">åˆ é™¤ </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">DELQ</span><span class="params">(QLink &amp;front, QLink &amp;rear, <span class="keyword">int</span> &amp;item)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    QLink p;</span><br><span class="line">    <span class="keyword">if</span>(Empty(front, rear))</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span>{</span><br><span class="line">        p = front;</span><br><span class="line">        front = front-&gt;link;</span><br><span class="line">        item = p-&gt;data;</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></code></pre><p>â€‹     </p>
<ol start="244">
<li></li>
</ol>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>è€ƒç ”</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>C</tag>
        <tag>è€ƒç ”</tag>
        <tag>807</tag>
      </tags>
  </entry>
  <entry>
    <title>servletåŸºç¡€</title>
    <url>/Servlet_Basics/</url>
    <content><![CDATA[<blockquote>
<p> java Servlet æ˜¯è¿è¡Œåœ¨ Web æœåŠ¡å™¨æˆ–åº”ç”¨æœåŠ¡å™¨ä¸Šçš„ç¨‹åºï¼Œå®ƒæ˜¯ä½œä¸ºæ¥è‡ª Web æµè§ˆå™¨æˆ–å…¶ä»– HTTP å®¢æˆ·ç«¯çš„è¯·æ±‚å’Œ HTTP æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“æˆ–åº”ç”¨ç¨‹åºä¹‹é—´çš„ä¸­é—´å±‚ã€‚ä½¿ç”¨ Servletï¼Œæ‚¨å¯ä»¥æ”¶é›†æ¥è‡ªç½‘é¡µè¡¨å•çš„ç”¨æˆ·è¾“å…¥ï¼Œå‘ˆç°æ¥è‡ªæ•°æ®åº“æˆ–è€…å…¶ä»–æºçš„è®°å½•ï¼Œè¿˜å¯ä»¥åŠ¨æ€åˆ›å»ºç½‘é¡µã€‚</p>
</blockquote>
<a id="more"></a>

<h2 id="ğŸŒ¸Servlet-ç®€ä»‹"><a href="#ğŸŒ¸Servlet-ç®€ä»‹" class="headerlink" title="ğŸŒ¸Servlet ç®€ä»‹"></a>ğŸŒ¸Servlet ç®€ä»‹</h2><h3 id="ğŸServlet-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ğŸServlet-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ğŸServlet æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ğŸServlet æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>java Servlet æ˜¯è¿è¡Œåœ¨ Web æœåŠ¡å™¨æˆ–åº”ç”¨æœåŠ¡å™¨ä¸Šçš„ç¨‹åºï¼Œå®ƒæ˜¯ä½œä¸ºæ¥è‡ª Web æµè§ˆå™¨æˆ–å…¶ä»– HTTP å®¢æˆ·ç«¯çš„è¯·æ±‚å’Œ HTTP æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“æˆ–åº”ç”¨ç¨‹åºä¹‹é—´çš„ä¸­é—´å±‚ã€‚</p>
<p>ä½¿ç”¨ Servletï¼Œæ‚¨å¯ä»¥æ”¶é›†æ¥è‡ªç½‘é¡µè¡¨å•çš„ç”¨æˆ·è¾“å…¥ï¼Œå‘ˆç°æ¥è‡ªæ•°æ®åº“æˆ–è€…å…¶ä»–æºçš„è®°å½•ï¼Œè¿˜å¯ä»¥åŠ¨æ€åˆ›å»ºç½‘é¡µã€‚</p>
<p>Java Servlet é€šå¸¸æƒ…å†µä¸‹ä¸ä½¿ç”¨ CGIï¼ˆCommon Gateway Interfaceï¼Œå…¬å…±ç½‘å…³æ¥å£ï¼‰å®ç°çš„ç¨‹åºå¯ä»¥è¾¾åˆ°å¼‚æ›²åŒå·¥çš„æ•ˆæœã€‚ä½†æ˜¯ç›¸æ¯”äº CGIï¼ŒServlet æœ‰ä»¥ä¸‹å‡ ç‚¹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>æ€§èƒ½æ˜æ˜¾æ›´å¥½ã€‚</li>
<li>Servlet åœ¨ Web æœåŠ¡å™¨çš„åœ°å€ç©ºé—´å†…æ‰§è¡Œã€‚è¿™æ ·å®ƒå°±æ²¡æœ‰å¿…è¦å†åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹æ¥å¤„ç†æ¯ä¸ªå®¢æˆ·ç«¯è¯·æ±‚ã€‚</li>
<li>Servlet æ˜¯ç‹¬ç«‹äºå¹³å°çš„ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ç”¨ Java ç¼–å†™çš„ã€‚</li>
<li>æœåŠ¡å™¨ä¸Šçš„ Java å®‰å…¨ç®¡ç†å™¨æ‰§è¡Œäº†ä¸€ç³»åˆ—é™åˆ¶ï¼Œä»¥ä¿æŠ¤æœåŠ¡å™¨è®¡ç®—æœºä¸Šçš„èµ„æºã€‚å› æ­¤ï¼ŒServlet æ˜¯å¯ä¿¡çš„ã€‚</li>
<li>Java ç±»åº“çš„å…¨éƒ¨åŠŸèƒ½å¯¹ Servlet æ¥è¯´éƒ½æ˜¯å¯ç”¨çš„ã€‚å®ƒå¯ä»¥é€šè¿‡ sockets å’Œ RMI æœºåˆ¶ä¸ appletsã€æ•°æ®åº“æˆ–å…¶ä»–è½¯ä»¶è¿›è¡Œäº¤äº’ã€‚</li>
</ul>
<h3 id="ğŸServlet-æ¶æ„"><a href="#ğŸServlet-æ¶æ„" class="headerlink" title="ğŸServlet æ¶æ„"></a>ğŸServlet æ¶æ„</h3><p><a href="https://imgchr.com/i/dX9zf1" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dX9zf1.png" alt="dX9zf1.png"></a></p>
<h3 id="ğŸServletåœ¨åšä»€ä¹ˆ"><a href="#ğŸServletåœ¨åšä»€ä¹ˆ" class="headerlink" title="ğŸServletåœ¨åšä»€ä¹ˆ"></a>ğŸServletåœ¨åšä»€ä¹ˆ</h3><ul>
<li>è¯»å–å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰å‘é€çš„æ˜¾å¼çš„æ•°æ®ã€‚è¿™åŒ…æ‹¬ç½‘é¡µä¸Šçš„ HTML è¡¨å•ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥æ˜¯æ¥è‡ª applet æˆ–è‡ªå®šä¹‰çš„ HTTP å®¢æˆ·ç«¯ç¨‹åºçš„è¡¨å•ã€‚</li>
<li>è¯»å–å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰å‘é€çš„éšå¼çš„ HTTP è¯·æ±‚æ•°æ®ã€‚è¿™åŒ…æ‹¬ cookiesã€åª’ä½“ç±»å‹å’Œæµè§ˆå™¨èƒ½ç†è§£çš„å‹ç¼©æ ¼å¼ç­‰ç­‰ã€‚</li>
<li>å¤„ç†æ•°æ®å¹¶ç”Ÿæˆç»“æœã€‚è¿™ä¸ªè¿‡ç¨‹å¯èƒ½éœ€è¦è®¿é—®æ•°æ®åº“ï¼Œæ‰§è¡Œ RMI æˆ– CORBA è°ƒç”¨ï¼Œè°ƒç”¨ Web æœåŠ¡ï¼Œæˆ–è€…ç›´æ¥è®¡ç®—å¾—å‡ºå¯¹åº”çš„å“åº”ã€‚</li>
<li>å‘é€æ˜¾å¼çš„æ•°æ®ï¼ˆå³æ–‡æ¡£ï¼‰åˆ°å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ã€‚è¯¥æ–‡æ¡£çš„æ ¼å¼å¯ä»¥æ˜¯å¤šç§å¤šæ ·çš„ï¼ŒåŒ…æ‹¬æ–‡æœ¬æ–‡ä»¶ï¼ˆHTML æˆ– XMLï¼‰ã€äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆGIF å›¾åƒï¼‰ã€Excel ç­‰ã€‚</li>
<li>å‘é€éšå¼çš„ HTTP å“åº”åˆ°å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ã€‚è¿™åŒ…æ‹¬å‘Šè¯‰æµè§ˆå™¨æˆ–å…¶ä»–å®¢æˆ·ç«¯è¢«è¿”å›çš„æ–‡æ¡£ç±»å‹ï¼ˆä¾‹å¦‚ HTMLï¼‰ï¼Œè®¾ç½® cookies å’Œç¼“å­˜å‚æ•°ï¼Œä»¥åŠå…¶ä»–ç±»ä¼¼çš„ä»»åŠ¡ã€‚</li>
</ul>
<hr>
<h2 id="ğŸŒ¸Servlet-åˆ›å»ºçš„ä¸‰ç§æ–¹å¼"><a href="#ğŸŒ¸Servlet-åˆ›å»ºçš„ä¸‰ç§æ–¹å¼" class="headerlink" title="ğŸŒ¸Servlet åˆ›å»ºçš„ä¸‰ç§æ–¹å¼"></a>ğŸŒ¸Servlet åˆ›å»ºçš„ä¸‰ç§æ–¹å¼</h2><h3 id="ğŸå®ç°-Servlet-æ¥å£"><a href="#ğŸå®ç°-Servlet-æ¥å£" class="headerlink" title="ğŸå®ç° Servlet æ¥å£"></a>ğŸå®ç° Servlet æ¥å£</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//Servletçš„ç”Ÿå‘½å‘¨æœŸ:ä»Servletè¢«åˆ›å»ºåˆ°Servletè¢«é”€æ¯çš„è¿‡ç¨‹</span></span><br><span class="line"><span class="comment">//ä¸€æ¬¡åˆ›å»ºï¼Œåˆ°å¤„æœåŠ¡</span></span><br><span class="line"><span class="comment">//ä¸€ä¸ªServletåªä¼šæœ‰ä¸€ä¸ªå¯¹è±¡ï¼ŒæœåŠ¡æ‰€æœ‰çš„è¯·æ±‚</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 1.å®ä¾‹åŒ–ï¼ˆä½¿ç”¨æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡ï¼‰</span></span><br><span class="line"><span class="comment"> * 2.åˆå§‹åŒ–  æ‰§è¡Œinitæ–¹æ³•</span></span><br><span class="line"><span class="comment"> * 3.æœåŠ¡     æ‰§è¡Œserviceæ–¹æ³•</span></span><br><span class="line"><span class="comment"> * 4.é”€æ¯    æ‰§è¡Œdestroyæ–¹æ³•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServletDemo1</span> <span class="keyword">implements</span> <span class="title">Servlet</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="comment">//public ServletDemo1(){}</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">//ç”Ÿå‘½å‘¨æœŸæ–¹æ³•:å½“Servletç¬¬ä¸€æ¬¡è¢«åˆ›å»ºå¯¹è±¡æ—¶æ‰§è¡Œè¯¥æ–¹æ³•,è¯¥æ–¹æ³•åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­åªæ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ServletConfig arg0)</span> <span class="keyword">throws</span> ServletException </span>{</span><br><span class="line">                System.out.println(<span class="string">"=======init========="</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”Ÿå‘½å‘¨æœŸæ–¹æ³•:å¯¹å®¢æˆ·ç«¯å“åº”çš„æ–¹æ³•,è¯¥æ–¹æ³•ä¼šè¢«æ‰§è¡Œå¤šæ¬¡ï¼Œæ¯æ¬¡è¯·æ±‚è¯¥servletéƒ½ä¼šæ‰§è¡Œè¯¥æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(ServletRequest arg0, ServletResponse arg1)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        System.out.println(<span class="string">"hehe"</span>);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”Ÿå‘½å‘¨æœŸæ–¹æ³•:å½“Servletè¢«é”€æ¯æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>{</span><br><span class="line">        System.out.println(<span class="string">"******destroy**********"</span>);</span><br><span class="line">    }</span><br><span class="line"><span class="comment">//å½“åœæ­¢tomcatæ—¶ä¹Ÿå°±é”€æ¯çš„servletã€‚</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServletConfig <span class="title">getServletConfig</span><span class="params">()</span> </span>{</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getServletInfo</span><span class="params">()</span> </span>{</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ğŸç»§æ‰¿-GenericServlet-ç±»"><a href="#ğŸç»§æ‰¿-GenericServlet-ç±»" class="headerlink" title="ğŸç»§æ‰¿ GenericServlet ç±»"></a>ğŸç»§æ‰¿ GenericServlet ç±»</h3><p>è¿™ç§æ–¹æ³•æˆ‘ä»¬æå°‘ç”¨</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServletDemo2</span> <span class="keyword">extends</span> <span class="title">GenericServlet</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(ServletRequest arg0, ServletResponse arg1)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        System.out.println(<span class="string">"heihei"</span>);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ğŸç»§æ‰¿-HttpServlet-æ–¹æ³•"><a href="#ğŸç»§æ‰¿-HttpServlet-æ–¹æ³•" class="headerlink" title="ğŸç»§æ‰¿ HttpServlet æ–¹æ³•"></a>ğŸç»§æ‰¿ HttpServlet æ–¹æ³•</h3><p><code>ç»å¸¸ç”¨</code></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServletDemo3</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        System.out.println(<span class="string">"haha"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        System.out.println(<span class="string">"ee"</span>);</span><br><span class="line">        doGet(req,resp);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸HttpServletã€GenericServlet-å’Œ-Servlet-çš„å…³ç³»"><a href="#ğŸŒ¸HttpServletã€GenericServlet-å’Œ-Servlet-çš„å…³ç³»" class="headerlink" title="ğŸŒ¸HttpServletã€GenericServlet å’Œ Servlet çš„å…³ç³»"></a>ğŸŒ¸HttpServletã€GenericServlet å’Œ Servlet çš„å…³ç³»</h2><blockquote>
<p>å¯¹äºä¸€ä¸ª Servlet ç±»ï¼Œæˆ‘ä»¬æ—¥å¸¸æœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯ç»§æ‰¿è‡ª HttpServlet ç±»ï¼Œæä¾›äº† Http ç›¸å…³çš„æ–¹æ³•ï¼ŒHttpServlet æ‰©å±•äº† GenericServlet ç±»ï¼Œè€Œ GenericServlet ç±»åˆå®ç°äº† Servlet ç±»å’Œ ServletConfig ç±»ã€‚</p>
</blockquote>
<h3 id="ğŸServlet"><a href="#ğŸServlet" class="headerlink" title="ğŸServlet"></a>ğŸServlet</h3><p>Servlet ç±»æä¾›äº†äº”ä¸ªæ–¹æ³•ï¼Œå…¶ä¸­ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•å’Œä¸¤ä¸ªæ™®é€šæ–¹æ³•ï¼Œå…³äº Servlet ç±»çš„æ–¹æ³•ï¼Œä¸å†èµ˜è¿°</p>
<h3 id="ğŸGenericServlet"><a href="#ğŸGenericServlet" class="headerlink" title="ğŸGenericServlet"></a>ğŸGenericServlet</h3><p><code>GenericServlet</code> æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®ç°äº† Servlet æ¥å£ï¼Œå¹¶ä¸”å¯¹å…¶ä¸­çš„ <code>init()</code> å’Œ <code>destroy()</code> å’Œ <code>service()</code> æä¾›äº†é»˜è®¤å®ç°ã€‚åœ¨ <code>GenericServlet</code> ä¸­ï¼Œä¸»è¦å®Œæˆäº†ä»¥ä¸‹ä»»åŠ¡ï¼š</p>
<ul>
<li>å°† init() ä¸­çš„ ServletConfig èµ‹ç»™ä¸€ä¸ªç±»çº§å˜é‡ï¼Œå¯ä»¥ç”± getServletConfig è·å¾—ï¼›</li>
<li>ä¸º Servlet æ‰€æœ‰æ–¹æ³•æä¾›é»˜è®¤å®ç°ï¼›</li>
<li>å¯ä»¥ç›´æ¥è°ƒç”¨ ServletConfig ä¸­çš„æ–¹æ³•ï¼›</li>
</ul>
<p>åŸºæœ¬çš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericServlet</span> <span class="keyword">implements</span> <span class="title">Servlet</span>,<span class="title">ServletConfig</span></span>{</span><br><span class="line"> </span><br><span class="line">   <span class="comment">//GenericServleté€šè¿‡å°†ServletConfigèµ‹ç»™ç±»çº§å˜é‡</span></span><br><span class="line">   <span class="keyword">private</span> trServletConfig servletConfig;</span><br><span class="line"> </span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ServletConfig servletConfig)</span> <span class="keyword">throws</span> ServletException </span>{</span><br><span class="line"></span><br><span class="line">      <span class="keyword">this</span>.servletConfig=servletConfig;</span><br><span class="line"></span><br><span class="line">      <span class="comment">/*è‡ªå®šä¹‰init()çš„åŸå› æ˜¯ï¼šå¦‚æœå­ç±»è¦åˆå§‹åŒ–å¿…é¡»è¦†ç›–çˆ¶ç±»çš„init() è€Œä½¿å®ƒæ— æ•ˆ è¿™æ ·</span></span><br><span class="line"><span class="comment">       this.servletConfig=servletConfigä¸èµ·ä½œç”¨ è¿™æ ·å°±ä¼šå¯¼è‡´ç©ºæŒ‡é’ˆå¼‚å¸¸ è¿™æ ·å¦‚æœå­ç±»è¦åˆå§‹åŒ–ï¼Œ</span></span><br><span class="line"><span class="comment">       å¯ä»¥ç›´æ¥è¦†ç›–ä¸å¸¦å‚æ•°çš„init()æ–¹æ³• */</span></span><br><span class="line">      <span class="keyword">this</span>.init();</span><br><span class="line">   }</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//è‡ªå®šä¹‰çš„init()æ–¹æ³•ï¼Œå¯ä»¥ç”±å­ç±»è¦†ç›–  </span></span><br><span class="line">   <span class="comment">//init()ä¸æ˜¯ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>{</span><br><span class="line">  </span><br><span class="line">   }</span><br><span class="line"> </span><br><span class="line">   <span class="comment">//å®ç°service()ç©ºæ–¹æ³•ï¼Œå¹¶ä¸”å£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œå¼ºåˆ¶å­ç±»å¿…é¡»å®ç°service()æ–¹æ³• </span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(ServletRequest request,ServletResponse response)</span> </span></span><br><span class="line"><span class="function">     <span class="keyword">throws</span> ServletException,java.io.IOException</span>{</span><br><span class="line">   }</span><br><span class="line"> </span><br><span class="line">   <span class="comment">//å®ç°ç©ºçš„destroyæ–¹æ³•</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span>{ }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å¦‚æœç»§æ‰¿è¿™ä¸ªç±»çš„è¯ï¼Œæˆ‘ä»¬å¿…é¡»é‡å†™ service() æ–¹æ³•æ¥å¯¹å¤„ç†è¯·æ±‚ã€‚</strong></p>
<h3 id="ğŸHttpServlet"><a href="#ğŸHttpServlet" class="headerlink" title="ğŸHttpServlet"></a>ğŸHttpServlet</h3><p>HttpServlet ä¹Ÿæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®ƒè¿›ä¸€æ­¥ç»§æ‰¿å¹¶å°è£…äº† GenericServletï¼Œä½¿å¾—ä½¿ç”¨æ›´åŠ ç®€å•æ–¹ä¾¿ï¼Œç”±äºæ˜¯æ‰©å±•äº† Http çš„å†…å®¹ï¼Œæ‰€ä»¥è¿˜éœ€è¦ä½¿ç”¨ <code>HttpServletRequest</code> å’Œ <code>HttpServletResponse</code>ï¼Œè¿™ä¸¤ä¸ªç±»åˆ†åˆ«æ˜¯ ServletRequest å’Œ <code>ServletResponse</code> çš„å­ç±»ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">HttpServlet</span> <span class="keyword">extends</span> <span class="title">GenericServlet</span></span>{</span><br><span class="line"> </span><br><span class="line">   <span class="comment">//HttpServletä¸­çš„service()</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest httpServletRequest,</span></span></span><br><span class="line"><span class="function"><span class="params">                       HttpServletResponse httpServletResponse)</span></span>{</span><br><span class="line">        <span class="comment">//è¯¥æ–¹æ³•é€šè¿‡httpServletRequest.getMethod()åˆ¤æ–­è¯·æ±‚ç±»å‹è°ƒç”¨doGet() doPost()</span></span><br><span class="line">   }</span><br><span class="line"> </span><br><span class="line">   <span class="comment">//å¿…é¡»å®ç°çˆ¶ç±»çš„service()æ–¹æ³•</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(ServletRequest servletRequest,ServletResponse servletResponse)</span></span>{</span><br><span class="line">      HttpServletRequest request;</span><br><span class="line">      HttpServletResponse response;</span><br><span class="line">      <span class="keyword">try</span>{</span><br><span class="line">         request=(HttpServletRequest)servletRequest;</span><br><span class="line">         response=(HttpServletResponse)servletResponse;</span><br><span class="line">      }<span class="keyword">catch</span>(ClassCastException){</span><br><span class="line">         <span class="keyword">throw</span> <span class="keyword">new</span> ServletException(<span class="string">"non-http request or response"</span>);</span><br><span class="line">      }</span><br><span class="line">      <span class="comment">//è°ƒç”¨service()æ–¹æ³•</span></span><br><span class="line">      <span class="keyword">this</span>.service(request,response);</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒHttpServlet ä¸­å¯¹åŸå§‹çš„ Servlet ä¸­çš„æ–¹æ³•éƒ½è¿›è¡Œäº†é»˜è®¤çš„æ“ä½œï¼Œä¸éœ€è¦æ˜¾å¼çš„é”€æ¯åˆå§‹åŒ–ä»¥åŠ <code>service()</code>ï¼Œåœ¨ HttpServlet ä¸­ï¼Œè‡ªå®šä¹‰äº†ä¸€ä¸ªæ–°çš„ <code>service()</code> æ–¹æ³•ï¼Œå…¶ä¸­é€šè¿‡ getMethod() æ–¹æ³•åˆ¤æ–­è¯·æ±‚çš„ç±»å‹ï¼Œä»è€Œè°ƒç”¨ <code>doGet()</code> æˆ–è€… <code>doPost()</code> å¤„ç† <code>get,post</code> è¯·æ±‚ï¼Œä½¿ç”¨è€…åªéœ€è¦ç»§æ‰¿ <code>HttpServlet</code>ï¼Œç„¶åé‡å†™ <code>doPost()</code> æˆ–è€… <code>doGet()</code> æ–¹æ³•å¤„ç†è¯·æ±‚å³å¯ã€‚</p>
<p><strong>æˆ‘ä»¬ä¸€èˆ¬éƒ½ä½¿ç”¨ç»§æ‰¿ HttpServlet çš„æ–¹å¼æ¥å®šä¹‰ä¸€ä¸ª servletã€‚</strong></p>
<hr>
<h2 id="ğŸŒ¸Servletç¯å¢ƒé…ç½®ï¼ˆEclipseï¼‰"><a href="#ğŸŒ¸Servletç¯å¢ƒé…ç½®ï¼ˆEclipseï¼‰" class="headerlink" title="ğŸŒ¸Servletç¯å¢ƒé…ç½®ï¼ˆEclipseï¼‰"></a>ğŸŒ¸Servletç¯å¢ƒé…ç½®ï¼ˆEclipseï¼‰</h2><p>ä½¿ç”¨ Eclipse æ¥æ­å»º JSP å¼€å‘ç¯å¢ƒï¼Œé¦–å…ˆæˆ‘ä»¬åˆ†åˆ«ä¸‹è½½ä¸€ä¸‹è½¯ä»¶åŒ…</p>
<ul>
<li><strong>Eclipse J2EEï¼š</strong><a href="http://www.eclipse.org/downloads/" target="_blank" rel="noopener">http://www.eclipse.org/downloads/</a></li>
<li><strong>Tomcatï¼š</strong><a href="http://tomcat.apache.org/download-70.cgi" target="_blank" rel="noopener">http://tomcat.apache.org/download-70.cgi</a></li>
</ul>
<h3 id="ğŸTomcat-ä¸‹è½½å®‰è£…"><a href="#ğŸTomcat-ä¸‹è½½å®‰è£…" class="headerlink" title="ğŸTomcat ä¸‹è½½å®‰è£…"></a>ğŸTomcat ä¸‹è½½å®‰è£…</h3><p><a href="https://imgchr.com/i/dXrmcQ" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dXrmcQ.png" alt="dXrmcQ.png"></a></p>
<p>ä¸‹è½½ä¹‹åï¼Œå°†å‹ç¼©åŒ…è§£å‹åˆ°ç›˜ï¼ˆä½ å¯ä»¥è‡ªå·±é€‰æ‹©ï¼‰ï¼š</p>
<p><a href="https://imgchr.com/i/dXrEh8" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dXrEh8.png" alt="dXrEh8.png"></a></p>
<p>æ³¨æ„ç›®å½•åä¸èƒ½æœ‰ä¸­æ–‡å’Œç©ºæ ¼ã€‚ç›®å½•ä»‹ç»å¦‚ä¸‹ï¼š</p>
<ul>
<li>binï¼šäºŒè¿›åˆ¶æ‰§è¡Œæ–‡ä»¶ã€‚é‡Œé¢æœ€å¸¸ç”¨çš„æ–‡ä»¶æ˜¯<strong>startup.bat</strong>ï¼Œå¦‚æœæ˜¯ Linux æˆ– Mac ç³»ç»Ÿå¯åŠ¨æ–‡ä»¶ä¸º <strong>startup.sh</strong>ã€‚</li>
<li>conf:é…ç½®ç›®å½•ã€‚é‡Œé¢æœ€æ ¸å¿ƒçš„æ–‡ä»¶æ˜¯<strong>server.xml</strong>ã€‚å¯ä»¥åœ¨é‡Œé¢æ”¹ç«¯å£å·ç­‰ã€‚é»˜è®¤ç«¯å£å·æ˜¯8080ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤ç«¯å£å·ä¸èƒ½è¢«å…¶ä»–åº”ç”¨ç¨‹åºå ç”¨ã€‚</li>
<li>libï¼šåº“æ–‡ä»¶ã€‚tomcatè¿è¡Œæ—¶éœ€è¦çš„jaråŒ…æ‰€åœ¨çš„ç›®å½•</li>
<li>logsï¼šæ—¥å¿—</li>
<li>tempï¼šä¸´æ—¶äº§ç”Ÿçš„æ–‡ä»¶ï¼Œå³ç¼“å­˜</li>
<li>webappsï¼šwebçš„åº”ç”¨ç¨‹åºã€‚<strong>webåº”ç”¨æ”¾ç½®åˆ°æ­¤ç›®å½•ä¸‹æµè§ˆå™¨å¯ä»¥ç›´æ¥è®¿é—®</strong></li>
<li>workï¼šç¼–è¯‘ä»¥åçš„classæ–‡ä»¶ã€‚</li>
</ul>
<p>æ¥ç€æˆ‘ä»¬å¯ä»¥åŒå‡» startup.bat å¯åŠ¨ Tomcatï¼Œå¼¹å‡ºå¦‚ä¸‹ç•Œé¢ï¼š</p>
<p><a href="https://imgchr.com/i/dXrAtf" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dXrAtf.png" alt="dXrAtf.png"></a></p>
<p>è¿™ä¸ªæ—¶å€™ï¼Œæœ¬åœ°çš„æœåŠ¡å™¨å°±å·²ç»æ­å»ºèµ·æ¥äº†ã€‚å¦‚æœæƒ³å…³é—­æœåŠ¡å™¨ï¼Œå¯ä»¥ç›´æ¥å…³é—­ä¸Šé¢çš„çª—å£ï¼Œæˆ–è€…åœ¨é‡Œé¢è¾“å…¥Ctrl+Cç¦æ­¢æœåŠ¡ã€‚</p>
<p>æ¥ç€æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <strong><a href="http://localhost:8080/" target="_blank" rel="noopener">http://localhost:8080/</a></strong>ï¼Œå¦‚æœå¼¹å‡ºå¦‚ä¸‹ç•Œé¢ï¼Œè¡¨ç¤ºtomcatå®‰è£…æˆåŠŸå¹¶ä¸”å¯åŠ¨èµ·æ¥äº†ï¼š</p>
<p><a href="https://imgchr.com/i/dXre1g" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dXre1g.png" alt="dXre1g.png"></a></p>
<p>é¦–å…ˆåœ¨apache-tomcat-9.0.37\webapps\ROOTç›®å½•ä¸­æ–°å»ºä¸€ä¸ªjspæ–‡ä»¶ï¼š</p>
<p><a href="https://imgchr.com/i/dXrZ9S" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dXrZ9S.png" alt="dXrZ9S.png"></a></p>
<p>test.jsp æ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight php"><table><tbody><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">"text/html;charset=UTF-8"</span> %&gt;</span><br><span class="line">&lt;%</span><br><span class="line">out.<span class="keyword">print</span>(<span class="string">"äº‘æ¾ˆ : https://liudufu.github.io"</span>);</span><br><span class="line">%&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>æ¥ç€åœ¨æµè§ˆå™¨ä¸­è®¿é—®åœ°å€ <strong><a href="http://localhost:8080/test.jsp" target="_blank" rel="noopener">http://localhost:8080/test.jsp</a></strong>, è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<p><a href="https://imgchr.com/i/dX6yCV" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dX6yCV.png" alt="dX6yCV.png"></a></p>
<h3 id="ğŸTomcat-å’Œ-Eclipse-ç›¸å…³è”"><a href="#ğŸTomcat-å’Œ-Eclipse-ç›¸å…³è”" class="headerlink" title="ğŸTomcat å’Œ Eclipse ç›¸å…³è”"></a>ğŸTomcat å’Œ Eclipse ç›¸å…³è”</h3><p>æ‰“å¼€Java EE ï¼Œé€‰æ‹©èœå•æ Windowsâ€“&gt;preferencesï¼ˆMac ç³»ç»Ÿä¸º Eclipseâ€“&gt;åå¥½è®¾ç½®ï¼‰ï¼Œå¼¹å‡ºå¦‚ä¸‹ç•Œé¢ï¼š</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2016/01/232111301681549.png" alt=""></p>
<p>ä¸Šå›¾ä¸­ï¼Œç‚¹å‡»â€addâ€çš„æ·»åŠ æŒ‰é’®ï¼Œå¼¹å‡ºå¦‚ä¸‹ç•Œé¢ï¼š</p>
<p><a href="https://imgchr.com/i/dXcFKg" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dXcFKg.png" alt="dXcFKg.png"></a></p>
<p>ç‚¹å‡» â€œFinishâ€ï¼Œå®Œæˆé…ç½®ã€‚</p>
<h3 id="ğŸåˆ›å»ºå®ä¾‹"><a href="#ğŸåˆ›å»ºå®ä¾‹" class="headerlink" title="ğŸåˆ›å»ºå®ä¾‹"></a>ğŸåˆ›å»ºå®ä¾‹</h3><p>é€‰æ‹© â€œFileâ€“&gt;Newâ€“&gt;Dynamic Web Projectâ€ï¼Œåˆ›å»º TomcatTest é¡¹ç›®ï¼š</p>
<p><a href="https://imgchr.com/i/dX2r4I" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dX2r4I.png" alt="dX2r4I.png"></a></p>
<p><a href="https://imgchr.com/i/dX2BEd" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dX2BEd.png" alt="dX2BEd.png"></a></p>
<p>å·¥ç¨‹æ–‡ä»¶ç»“æ„ï¼š</p>
<p><a href="https://imgchr.com/i/dX2wHH" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dX2wHH.png" alt="dX2wHH.png"></a></p>
<p>ä¸Šå›¾ä¸­å„ä¸ªç›®å½•è§£æï¼š</p>
<ul>
<li>deployment descriptorï¼šéƒ¨ç½²çš„æè¿°ã€‚</li>
<li>Web App Librariesï¼šè‡ªå·±åŠ çš„åŒ…å¯ä»¥æ”¾åœ¨é‡Œé¢ã€‚</li>
<li>buildï¼šæ”¾å…¥ç¼–è¯‘ä¹‹åçš„æ–‡ä»¶ã€‚</li>
<li>WebContent:æ”¾è¿›å†™å…¥çš„é¡µé¢ã€‚</li>
</ul>
<p>åœ¨WebContentæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªtest.jspæ–‡ä»¶ã€‚åœ¨ä¸‹å›¾ä¸­å¯ä»¥çœ‹åˆ°å®ƒçš„é»˜è®¤ä»£ç ï¼š</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>æ¥ç€æˆ‘ä»¬ä¿®æ”¹ä¸‹test.jspæ–‡ä»¶ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"</span><br><span class="line">    pageEncoding="UTF-8"%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;</span><br><span class="line">&lt;title&gt;äº‘æ¾ˆ&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    out.println("Hello World!");</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>è¿è¡Œè¯¥é¡¹ç›®:</p>
<p><a href="https://imgchr.com/i/dX2DUA" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dX2DUA.png" alt="dX2DUA.png"></a></p>
<p>æµè§ˆå™¨è®¿é—® <code>http://localhost:8080/TomcatTest/test.jsp</code>, å³å¯è¾“å‡ºæ­£å¸¸ç»“æœï¼š</p>
<p><a href="https://imgchr.com/i/dX2dDe" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dX2dDe.png" alt="dX2dDe.png"></a></p>
<h3 id="ğŸServlet-å®ä¾‹åˆ›å»º"><a href="#ğŸServlet-å®ä¾‹åˆ›å»º" class="headerlink" title="ğŸServlet å®ä¾‹åˆ›å»º"></a>ğŸServlet å®ä¾‹åˆ›å»º</h3><p>ä½¿ç”¨ä»¥ä¸Šç¯å¢ƒåˆ›å»º Servlet æ–‡ä»¶ï¼Œé€‰æ‹© â€œFileâ€“&gt;Newâ€“&gt;Servletâ€:</p>
<p><a href="https://imgchr.com/i/dX268P" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dX268P.png" alt="dX268P.png"></a></p>
<p>HelloServlet.java ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yunche.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class HelloServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/HelloServlet"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HelloServlet</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        <span class="comment">// ä½¿ç”¨ GBK è®¾ç½®ä¸­æ–‡æ­£å¸¸æ˜¾ç¤º</span></span><br><span class="line">        response.setCharacterEncoding(<span class="string">"GBK"</span>);</span><br><span class="line">        response.getWriter().write(<span class="string">"äº‘æ¾ˆï¼šhttps://liudufu.github.io"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        doGet(request, response);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åˆ›å»º /TomcatTest/WebContent/WEB-INF/web.xml æ–‡ä»¶ï¼ˆå¦‚æœæ²¡æœ‰ï¼‰ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">version</span>=<span class="string">"2.5"</span>   </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/javaee"</span>   </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span>   </span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/javaee   </span></span></span><br><span class="line"><span class="tag"><span class="string">    http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span>  </span><br><span class="line">     <span class="comment">&lt;!-- ç±»å --&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>HelloServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span>  </span><br><span class="line">    <span class="comment">&lt;!-- æ‰€åœ¨çš„åŒ… --&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.yunche.test.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>HelloServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span>  </span><br><span class="line">    <span class="comment">&lt;!-- è®¿é—®çš„ç½‘å€ --&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/HelloServlet<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>æ¥ç€é‡å¯ Tomcatï¼Œæµè§ˆå™¨è®¿é—® <code>http://localhost:8080/TomcatTest/HelloServletï¼š</code></p>
<p><a href="https://imgchr.com/i/dX2yCt" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dX2yCt.png" alt="dX2yCt.png"></a></p>
<hr>
<h2 id="ğŸŒ¸Servlet-ç”Ÿå‘½å‘¨æœŸ"><a href="#ğŸŒ¸Servlet-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ğŸŒ¸Servlet ç”Ÿå‘½å‘¨æœŸ"></a>ğŸŒ¸Servlet ç”Ÿå‘½å‘¨æœŸ</h2><p>Servlet ç”Ÿå‘½å‘¨æœŸå¯è¢«å®šä¹‰ä¸ºä»åˆ›å»ºç›´åˆ°æ¯ç­çš„æ•´ä¸ªè¿‡ç¨‹ã€‚ä»¥ä¸‹æ˜¯ Servlet éµå¾ªçš„è¿‡ç¨‹ï¼š</p>
<ul>
<li>Servlet é€šè¿‡è°ƒç”¨ <strong>init ()</strong> æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–ã€‚</li>
<li>Servlet è°ƒç”¨ <strong>service()</strong> æ–¹æ³•æ¥å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</li>
<li>Servlet é€šè¿‡è°ƒç”¨ <strong>destroy()</strong> æ–¹æ³•ç»ˆæ­¢ï¼ˆç»“æŸï¼‰ã€‚</li>
<li>æœ€åï¼ŒServlet æ˜¯ç”± JVM çš„åƒåœ¾å›æ”¶å™¨è¿›è¡Œåƒåœ¾å›æ”¶çš„ã€‚</li>
</ul>
<p>ç°åœ¨è®©æˆ‘ä»¬è¯¦ç»†è®¨è®ºç”Ÿå‘½å‘¨æœŸçš„æ–¹æ³•ã€‚</p>
<h3 id="ğŸinit-æ–¹æ³•"><a href="#ğŸinit-æ–¹æ³•" class="headerlink" title="ğŸinit() æ–¹æ³•"></a>ğŸinit() æ–¹æ³•</h3><p>init æ–¹æ³•è¢«è®¾è®¡æˆåªè°ƒç”¨ä¸€æ¬¡ã€‚å®ƒåœ¨ç¬¬ä¸€æ¬¡åˆ›å»º Servlet æ—¶è¢«è°ƒç”¨ï¼Œåœ¨åç»­æ¯æ¬¡ç”¨æˆ·è¯·æ±‚æ—¶ä¸å†è°ƒç”¨ã€‚å› æ­¤ï¼Œå®ƒæ˜¯ç”¨äºä¸€æ¬¡æ€§åˆå§‹åŒ–ï¼Œå°±åƒ Applet çš„ init æ–¹æ³•ä¸€æ ·ã€‚</p>
<p>Servlet åˆ›å»ºäºç”¨æˆ·ç¬¬ä¸€æ¬¡è°ƒç”¨å¯¹åº”äºè¯¥ Servlet çš„ URL æ—¶ï¼Œä½†æ˜¯æ‚¨ä¹Ÿå¯ä»¥æŒ‡å®š Servlet åœ¨æœåŠ¡å™¨ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶è¢«åŠ è½½ã€‚</p>
<p>å½“ç”¨æˆ·è°ƒç”¨ä¸€ä¸ª Servlet æ—¶ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ª Servlet å®ä¾‹ï¼Œæ¯ä¸€ä¸ªç”¨æˆ·è¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œé€‚å½“çš„æ—¶å€™ç§»äº¤ç»™ doGet æˆ– doPost æ–¹æ³•ã€‚init() æ–¹æ³•ç®€å•åœ°åˆ›å»ºæˆ–åŠ è½½ä¸€äº›æ•°æ®ï¼Œè¿™äº›æ•°æ®å°†è¢«ç”¨äº Servlet çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚</p>
<p>init æ–¹æ³•çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> <span class="keyword">throws</span> ServletException </span>{</span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–ä»£ç ...</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸservice-æ–¹æ³•"><a href="#ğŸservice-æ–¹æ³•" class="headerlink" title="ğŸservice() æ–¹æ³•"></a>ğŸservice() æ–¹æ³•</h3><p>service() æ–¹æ³•æ˜¯æ‰§è¡Œå®é™…ä»»åŠ¡çš„ä¸»è¦æ–¹æ³•ã€‚Servlet å®¹å™¨ï¼ˆå³ Web æœåŠ¡å™¨ï¼‰è°ƒç”¨ service() æ–¹æ³•æ¥å¤„ç†æ¥è‡ªå®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰çš„è¯·æ±‚ï¼Œå¹¶æŠŠæ ¼å¼åŒ–çš„å“åº”å†™å›ç»™å®¢æˆ·ç«¯ã€‚</p>
<p>æ¯æ¬¡æœåŠ¡å™¨æ¥æ”¶åˆ°ä¸€ä¸ª Servlet è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„çº¿ç¨‹å¹¶è°ƒç”¨æœåŠ¡ã€‚service() æ–¹æ³•æ£€æŸ¥ HTTP è¯·æ±‚ç±»å‹ï¼ˆGETã€POSTã€PUTã€DELETE ç­‰ï¼‰ï¼Œå¹¶åœ¨é€‚å½“çš„æ—¶å€™è°ƒç”¨ doGetã€doPostã€doPutï¼ŒdoDelete ç­‰æ–¹æ³•ã€‚</p>
<p>ä¸‹é¢æ˜¯è¯¥æ–¹æ³•çš„ç‰¹å¾ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">public void service(ServletRequest request, </span><br><span class="line">                    ServletResponse response) </span><br><span class="line">      throws ServletException, IOException{</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>service() æ–¹æ³•ç”±å®¹å™¨è°ƒç”¨ï¼Œservice æ–¹æ³•åœ¨é€‚å½“çš„æ—¶å€™è°ƒç”¨ doGetã€doPostã€doPutã€doDelete ç­‰æ–¹æ³•ã€‚æ‰€ä»¥ï¼Œæ‚¨ä¸ç”¨å¯¹ service() æ–¹æ³•åšä»»ä½•åŠ¨ä½œï¼Œæ‚¨åªéœ€è¦æ ¹æ®æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ç±»å‹æ¥é‡å†™ doGet() æˆ– doPost() å³å¯ã€‚</p>
<p>doGet() å’Œ doPost() æ–¹æ³•æ˜¯æ¯æ¬¡æœåŠ¡è¯·æ±‚ä¸­æœ€å¸¸ç”¨çš„æ–¹æ³•ã€‚ä¸‹é¢æ˜¯è¿™ä¸¤ç§æ–¹æ³•çš„ç‰¹</p>
<h3 id="ğŸdoGet-æ–¹æ³•"><a href="#ğŸdoGet-æ–¹æ³•" class="headerlink" title="ğŸdoGet() æ–¹æ³•"></a>ğŸdoGet() æ–¹æ³•</h3><p>GET è¯·æ±‚æ¥è‡ªäºä¸€ä¸ª URL çš„æ­£å¸¸è¯·æ±‚ï¼Œæˆ–è€…æ¥è‡ªäºä¸€ä¸ªæœªæŒ‡å®š METHOD çš„ HTML è¡¨å•ï¼Œå®ƒç”± doGet() æ–¹æ³•å¤„ç†ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                  HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">    <span class="comment">// Servlet ä»£ç </span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸdoPost-æ–¹æ³•"><a href="#ğŸdoPost-æ–¹æ³•" class="headerlink" title="ğŸdoPost() æ–¹æ³•"></a>ğŸdoPost() æ–¹æ³•</h3><p>POST è¯·æ±‚æ¥è‡ªäºä¸€ä¸ªç‰¹åˆ«æŒ‡å®šäº† METHOD ä¸º POST çš„ HTML è¡¨å•ï¼Œå®ƒç”± doPost() æ–¹æ³•å¤„ç†ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                   HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">    <span class="comment">// Servlet ä»£ç </span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸdestroy-æ–¹æ³•"><a href="#ğŸdestroy-æ–¹æ³•" class="headerlink" title="ğŸdestroy() æ–¹æ³•"></a>ğŸdestroy() æ–¹æ³•</h3><p>destroy() æ–¹æ³•åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨ Servlet ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶è¢«è°ƒç”¨ã€‚destroy() æ–¹æ³•å¯ä»¥è®©æ‚¨çš„ Servlet å…³é—­æ•°æ®åº“è¿æ¥ã€åœæ­¢åå°çº¿ç¨‹ã€æŠŠ Cookie åˆ—è¡¨æˆ–ç‚¹å‡»è®¡æ•°å™¨å†™å…¥åˆ°ç£ç›˜ï¼Œå¹¶æ‰§è¡Œå…¶ä»–ç±»ä¼¼çš„æ¸…ç†æ´»åŠ¨ã€‚</p>
<p>åœ¨è°ƒç”¨ destroy() æ–¹æ³•ä¹‹åï¼Œservlet å¯¹è±¡è¢«æ ‡è®°ä¸ºåƒåœ¾å›æ”¶ã€‚destroy æ–¹æ³•å®šä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>{</span><br><span class="line">  <span class="comment">// ç»ˆæ­¢åŒ–ä»£ç ...</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸæ¶æ„å›¾"><a href="#ğŸæ¶æ„å›¾" class="headerlink" title="ğŸæ¶æ„å›¾"></a>ğŸæ¶æ„å›¾</h3><p>ä¸‹å›¾æ˜¾ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„ Servlet ç”Ÿå‘½å‘¨æœŸæ–¹æ¡ˆã€‚</p>
<ul>
<li>ç¬¬ä¸€ä¸ªåˆ°è¾¾æœåŠ¡å™¨çš„ HTTP è¯·æ±‚è¢«å§”æ´¾åˆ° Servlet å®¹å™¨ã€‚</li>
<li>Servlet å®¹å™¨åœ¨è°ƒç”¨ service() æ–¹æ³•ä¹‹å‰åŠ è½½ Servletã€‚</li>
<li>ç„¶å Servlet å®¹å™¨å¤„ç†ç”±å¤šä¸ªçº¿ç¨‹äº§ç”Ÿçš„å¤šä¸ªè¯·æ±‚ï¼Œæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œä¸€ä¸ªå•ä¸€çš„ Servlet å®ä¾‹çš„ service() æ–¹æ³•ã€‚</li>
</ul>
<p><a href="https://imgchr.com/i/dxHFxg" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/09/01/dxHFxg.png" alt="dxHFxg.png"></a></p>
<hr>
<h2 id="ğŸŒ¸Servlet-å®ä¾‹"><a href="#ğŸŒ¸Servlet-å®ä¾‹" class="headerlink" title="ğŸŒ¸Servlet å®ä¾‹"></a>ğŸŒ¸Servlet å®ä¾‹</h2><p>Servlet æ˜¯æœåŠ¡ HTTP è¯·æ±‚å¹¶å®ç° <strong>javax.servlet.Servlet</strong> æ¥å£çš„ Java ç±»ã€‚Web åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜é€šå¸¸ç¼–å†™ Servlet æ¥æ‰©å±• javax.servlet.http.HttpServletï¼Œå¹¶å®ç° Servlet æ¥å£çš„æŠ½è±¡ç±»ä¸“é—¨ç”¨æ¥å¤„ç† HTTP è¯·æ±‚ã€‚</p>
<h3 id="ğŸHello-World-ç¤ºä¾‹ä»£ç "><a href="#ğŸHello-World-ç¤ºä¾‹ä»£ç " class="headerlink" title="ğŸHello World ç¤ºä¾‹ä»£ç "></a>ğŸHello World ç¤ºä¾‹ä»£ç </h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥å¿…éœ€çš„ java åº“</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰©å±• HttpServlet ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">private</span> String message;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> <span class="keyword">throws</span> ServletException</span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">      <span class="comment">// æ‰§è¡Œå¿…éœ€çš„åˆå§‹åŒ–</span></span><br><span class="line">      message = <span class="string">"Hello World"</span>;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                    HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">      <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">      response.setContentType(<span class="string">"text/html"</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// å®é™…çš„é€»è¾‘æ˜¯åœ¨è¿™é‡Œ</span></span><br><span class="line">      PrintWriter out = response.getWriter();</span><br><span class="line">      out.println(<span class="string">"&lt;h1&gt;"</span> + message + <span class="string">"&lt;/h1&gt;"</span>);</span><br><span class="line">  }</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">      <span class="comment">// ä»€ä¹ˆä¹Ÿä¸åš</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ğŸServletéƒ¨ç½²"><a href="#ğŸServletéƒ¨ç½²" class="headerlink" title="ğŸServletéƒ¨ç½²"></a>ğŸServletéƒ¨ç½²</h3><p>WEB-INF/ çš„ <strong>web.xml</strong> æ–‡ä»¶ä¸­åˆ›å»ºä»¥ä¸‹æ¡ç›®</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span>      </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>HelloWorld<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>HelloWorld<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>HelloWorld<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/HelloWorld<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>å¯åŠ¨ tomcat æœåŠ¡å™¨ï¼Œæœ€ååœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥ <strong><a href="http://localhost:8080/HelloWorld" target="_blank" rel="noopener">http://localhost:8080/HelloWorld</a></strong>ã€‚å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæ‚¨ä¼šçœ‹åˆ°ä¸‹é¢çš„ç»“æœï¼š</p>
<p><a href="https://imgchr.com/i/dxO6c8" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/09/01/dxO6c8.png" alt="dxO6c8.png"></a></p>
<h3 id="ğŸåè®°"><a href="#ğŸåè®°" class="headerlink" title="ğŸåè®°"></a>ğŸåè®°</h3><p>destory æ–¹æ³•è¢«è°ƒç”¨åï¼Œservlet è¢«é”€æ¯ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ç«‹å³è¢«å›æ”¶ï¼Œå†æ¬¡è¯·æ±‚æ—¶ï¼Œå¹¶æ²¡æœ‰é‡æ–°åˆå§‹åŒ–ã€‚</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> String message;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> <span class="keyword">throws</span> ServletException </span>{</span><br><span class="line">    message = <span class="string">"Hello World , Nect To Meet You: "</span> + System.currentTimeMillis();</span><br><span class="line">    System.out.println(<span class="string">"servletåˆå§‹åŒ–â€¦â€¦"</span>);</span><br><span class="line">    <span class="keyword">super</span>.init();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">    response.setContentType(<span class="string">"text/html"</span>);</span><br><span class="line">    PrintWriter writer = response.getWriter();</span><br><span class="line">    writer.write(<span class="string">"&lt;h1&gt;"</span> + message + <span class="string">"&lt;/h1&gt;"</span>);</span><br><span class="line">    destroy();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">    <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">    <span class="keyword">super</span>.doPost(req, resp);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>{</span><br><span class="line">    System.out.println(<span class="string">"servleté”€æ¯ï¼"</span>);</span><br><span class="line">    <span class="keyword">super</span>.destroy();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æ§åˆ¶å°æ‰“å°ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">servletåˆå§‹åŒ–â€¦â€¦</span><br><span class="line">servleté”€æ¯ï¼</span><br><span class="line">2017-7-6 19:48:52 org.apache.catalina.core.StandardContext reload</span><br><span class="line">ä¿¡æ¯: Reloading Context with name [/myServlet] has started</span><br><span class="line">servleté”€æ¯ï¼</span><br><span class="line">2017-7-6 19:48:52 org.apache.catalina.core.StandardContext reload</span><br><span class="line">ä¿¡æ¯: Reloading Context with name [/myServlet] is completed</span><br><span class="line">servletåˆå§‹åŒ–â€¦â€¦</span><br><span class="line">servleté”€æ¯ï¼</span><br><span class="line">servleté”€æ¯ï¼</span><br><span class="line">servleté”€æ¯ï¼</span><br><span class="line">servleté”€æ¯ï¼</span><br><span class="line">servleté”€æ¯ï¼</span><br><span class="line">servleté”€æ¯ï¼</span><br><span class="line">servleté”€æ¯ï¼</span><br></pre></td></tr></tbody></table></figure>

<p><strong>servlet æµè§ˆå™¨è®¿é—®è·¯å¾„é…ç½®æœ‰ä¸ªå°é—®é¢˜ï¼š</strong></p>
<p>1ã€java ç±»é‡Œçš„æ³¨è§£ â€”â€” @WebServlet(â€œ/HelloServletâ€) å¯¹åº”æµè§ˆå™¨è·¯å¾„ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">http://localhost:8080/TomcatTest/HelloServlet</span><br></pre></td></tr></tbody></table></figure>

<p>2ã€é…ç½®æ–‡ä»¶ï¼ˆweb.xmlï¼‰é‡Œå¯¹åº”çš„æµè§ˆå™¨è®¿é—®è·¯å¾„ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">http://localhost:8080/TomcatTest/TomcatTest/HelloServlet</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸¤ç§é…ä¸€ä¸ªå°±å¥½äº†ï¼Œä¸ç„¶è·¯å¾„é‡åçš„è¯åè€Œä¼šè®©tomcatå¯åŠ¨ä¸äº†ã€‚</p>
<p>ä¾‹å¦‚è¿™æ ·å°±å¯åŠ¨ä¸äº†ï¼š</p>
<p>ä¿®æ”¹ web.xml :</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">&lt;url-pattern&gt;/HelloServlet&lt;/url-pattern&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>ä¿®æ”¹åï¼Œweb.xml å’Œ java ç±»çš„æ³¨è§£ï¼Œå¯¹åº”è·¯å¾„éƒ½æ˜¯ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">http://localhost:8080/TomcatTest/HelloServlet</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å¯¼è‡´</strong></p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">å‘½åçš„ servlet[HelloServlet]å’Œ [com.runoob.test.HelloServlet] éƒ½è¢«æ˜ å°„åˆ° URL æ¨¡å¼ [/ HelloServlet] è¿™æ˜¯ä¸å…è®¸çš„ã€‚</span><br></pre></td></tr></tbody></table></figure>

<p><strong>è§£å†³åŠæ³•ï¼š</strong></p>
<p>å°†<strong>æ³¨è§£å»æ‰</strong>æˆ–è€…<strong>ä¿ç•™æ³¨è§£è¿›å…¥web.xmlå°†æ˜ å°„åˆ é™¤</strong>æ—¢å¯ä»¥ã€‚</p>
<hr>
<h2 id="ğŸŒ¸Servlet-è¡¨å•æ•°æ®"><a href="#ğŸŒ¸Servlet-è¡¨å•æ•°æ®" class="headerlink" title="ğŸŒ¸Servlet è¡¨å•æ•°æ®"></a>ğŸŒ¸Servlet è¡¨å•æ•°æ®</h2><p>å¾ˆå¤šæƒ…å†µä¸‹ï¼Œéœ€è¦ä¼ é€’ä¸€äº›ä¿¡æ¯ï¼Œä»æµè§ˆå™¨åˆ° Web æœåŠ¡å™¨ï¼Œæœ€ç»ˆåˆ°åå°ç¨‹åºã€‚æµè§ˆå™¨ä½¿ç”¨ä¸¤ç§æ–¹æ³•å¯å°†è¿™äº›ä¿¡æ¯ä¼ é€’åˆ° Web æœåŠ¡å™¨ï¼Œåˆ†åˆ«ä¸º GET æ–¹æ³•å’Œ POST æ–¹æ³•ã€‚</p>
<h3 id="ğŸGET-æ–¹æ³•"><a href="#ğŸGET-æ–¹æ³•" class="headerlink" title="ğŸGET æ–¹æ³•"></a>ğŸGET æ–¹æ³•</h3><p>GET æ–¹æ³•å‘é¡µé¢è¯·æ±‚å‘é€å·²ç¼–ç çš„ç”¨æˆ·ä¿¡æ¯ã€‚é¡µé¢å’Œå·²ç¼–ç çš„ä¿¡æ¯ä¸­é—´ç”¨ ? å­—ç¬¦åˆ†éš”ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">http://www.test.com/hello?key1=value1&amp;key2=value2</span><br></pre></td></tr></tbody></table></figure>

<p>GET æ–¹æ³•æ˜¯é»˜è®¤çš„ä»æµè§ˆå™¨å‘ Web æœåŠ¡å™¨ä¼ é€’ä¿¡æ¯çš„æ–¹æ³•ï¼Œå®ƒä¼šäº§ç”Ÿä¸€ä¸ªå¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼Œå‡ºç°åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­ã€‚å¦‚æœæ‚¨è¦å‘æœåŠ¡å™¨ä¼ é€’çš„æ˜¯å¯†ç æˆ–å…¶ä»–çš„æ•æ„Ÿä¿¡æ¯ï¼Œè¯·ä¸è¦ä½¿ç”¨ GET æ–¹æ³•ã€‚GET æ–¹æ³•æœ‰å¤§å°é™åˆ¶ï¼šè¯·æ±‚å­—ç¬¦ä¸²ä¸­æœ€å¤šåªèƒ½æœ‰ 1024 ä¸ªå­—ç¬¦ã€‚</p>
<p>è¿™äº›ä¿¡æ¯ä½¿ç”¨ QUERY_STRING å¤´ä¼ é€’ï¼Œå¹¶å¯ä»¥é€šè¿‡ QUERY_STRING ç¯å¢ƒå˜é‡è®¿é—®ï¼ŒServlet ä½¿ç”¨ <strong>doGet()</strong> æ–¹æ³•å¤„ç†è¿™ç§ç±»å‹çš„è¯·æ±‚ã€‚</p>
<h3 id="ğŸPOST-æ–¹æ³•"><a href="#ğŸPOST-æ–¹æ³•" class="headerlink" title="ğŸPOST æ–¹æ³•"></a>ğŸPOST æ–¹æ³•</h3><p>å¦ä¸€ä¸ªå‘åå°ç¨‹åºä¼ é€’ä¿¡æ¯çš„æ¯”è¾ƒå¯é çš„æ–¹æ³•æ˜¯ POST æ–¹æ³•ã€‚POST æ–¹æ³•æ‰“åŒ…ä¿¡æ¯çš„æ–¹å¼ä¸ GET æ–¹æ³•åŸºæœ¬ç›¸åŒï¼Œä½†æ˜¯ POST æ–¹æ³•ä¸æ˜¯æŠŠä¿¡æ¯ä½œä¸º URL ä¸­ ? å­—ç¬¦åçš„æ–‡æœ¬å­—ç¬¦ä¸²è¿›è¡Œå‘é€ï¼Œè€Œæ˜¯æŠŠè¿™äº›ä¿¡æ¯ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„æ¶ˆæ¯ã€‚æ¶ˆæ¯ä»¥æ ‡å‡†è¾“å‡ºçš„å½¢å¼ä¼ åˆ°åå°ç¨‹åºï¼Œæ‚¨å¯ä»¥è§£æå’Œä½¿ç”¨è¿™äº›æ ‡å‡†è¾“å‡ºã€‚Servlet ä½¿ç”¨ doPost() æ–¹æ³•å¤„ç†è¿™ç§ç±»å‹çš„è¯·æ±‚ã€‚</p>
<h3 id="ğŸä½¿ç”¨-Servlet-è¯»å–è¡¨å•æ•°æ®"><a href="#ğŸä½¿ç”¨-Servlet-è¯»å–è¡¨å•æ•°æ®" class="headerlink" title="ğŸä½¿ç”¨ Servlet è¯»å–è¡¨å•æ•°æ®"></a>ğŸä½¿ç”¨ Servlet è¯»å–è¡¨å•æ•°æ®</h3><p>Servlet å¤„ç†è¡¨å•æ•°æ®ï¼Œè¿™äº›æ•°æ®ä¼šæ ¹æ®ä¸åŒçš„æƒ…å†µä½¿ç”¨ä¸åŒçš„æ–¹æ³•è‡ªåŠ¨è§£æï¼š</p>
<ul>
<li><strong>getParameter()ï¼š</strong>æ‚¨å¯ä»¥è°ƒç”¨ request.getParameter() æ–¹æ³•æ¥è·å–è¡¨å•å‚æ•°çš„å€¼ã€‚</li>
<li><strong>getParameterValues()ï¼š</strong>å¦‚æœå‚æ•°å‡ºç°ä¸€æ¬¡ä»¥ä¸Šï¼Œåˆ™è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¹¶è¿”å›å¤šä¸ªå€¼ï¼Œä¾‹å¦‚å¤é€‰æ¡†ã€‚</li>
<li><strong>getParameterNames()ï¼š</strong>å¦‚æœæ‚¨æƒ³è¦å¾—åˆ°å½“å‰è¯·æ±‚ä¸­çš„æ‰€æœ‰å‚æ•°çš„å®Œæ•´åˆ—è¡¨ï¼Œåˆ™è°ƒç”¨è¯¥æ–¹æ³•ã€‚</li>
</ul>
<h3 id="ğŸä½¿ç”¨-URL-çš„-GET-æ–¹æ³•å®ä¾‹"><a href="#ğŸä½¿ç”¨-URL-çš„-GET-æ–¹æ³•å®ä¾‹" class="headerlink" title="ğŸä½¿ç”¨ URL çš„ GET æ–¹æ³•å®ä¾‹"></a>ğŸä½¿ç”¨ URL çš„ GET æ–¹æ³•å®ä¾‹</h3><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ URLï¼Œå°†ä½¿ç”¨ GET æ–¹æ³•å‘ HelloForm ç¨‹åºä¼ é€’ä¸¤ä¸ªå€¼ã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">http://localhost:8080/TomcatTest/HelloForm?name=äº‘æ¾ˆ&amp;url=https://liudufu.github.io</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢æ˜¯å¤„ç† Web æµè§ˆå™¨è¾“å…¥çš„ <strong>HelloForm.java</strong> Servlet ç¨‹åºã€‚æˆ‘ä»¬å°†ä½¿ç”¨ <strong>getParameter()</strong> æ–¹æ³•ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°è®¿é—®ä¼ é€’çš„ä¿¡æ¯</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.runoob.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class HelloForm</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/HelloForm"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloForm</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HelloForm</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line"></span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        String title = <span class="string">"ä½¿ç”¨ GET æ–¹æ³•è¯»å–è¡¨å•æ•°æ®"</span>;</span><br><span class="line">        <span class="comment">// å¤„ç†ä¸­æ–‡</span></span><br><span class="line">        String name =<span class="keyword">new</span> String(request.getParameter(<span class="string">"name"</span>).getBytes(<span class="string">"UTF-8"</span>),<span class="string">"UTF-8"</span>);</span><br><span class="line">        String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">        out.println(docType +</span><br><span class="line">            <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;ul&gt;\n"</span> +</span><br><span class="line">            <span class="string">"  &lt;li&gt;&lt;b&gt;ç«™ç‚¹å&lt;/b&gt;ï¼š"</span></span><br><span class="line">            + name + <span class="string">"\n"</span> +</span><br><span class="line">            <span class="string">"  &lt;li&gt;&lt;b&gt;ç½‘å€&lt;/b&gt;ï¼š"</span></span><br><span class="line">            + request.getParameter(<span class="string">"url"</span>) + <span class="string">"\n"</span> +</span><br><span class="line">            <span class="string">"&lt;/ul&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤„ç† POST æ–¹æ³•è¯·æ±‚çš„æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        doGet(request, response);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç„¶åæˆ‘ä»¬åœ¨ <strong>web.xml</strong> æ–‡ä»¶ä¸­åˆ›å»ºä»¥ä¸‹æ¡ç›®ï¼š</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>HelloForm<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.runoob.test.HelloForm<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>HelloForm<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/HelloForm<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>



<p>ç°åœ¨åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥<code>http://localhost:8080/TomcatTest/HelloForm?name=äº‘æ¾ˆ&amp;url=https://liudufu.github.io</code>ï¼Œå¹¶åœ¨è§¦å‘ä¸Šè¿°å‘½ä»¤ä¹‹å‰ç¡®ä¿å·²ç»å¯åŠ¨ Tomcat æœåŠ¡å™¨ã€‚å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæ‚¨ä¼šå¾—åˆ°ä¸‹é¢çš„ç»“æœï¼š</p>
<p><a href="https://imgchr.com/i/wpxUXt" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/09/02/wpxUXt.png" alt="wpxUXt.png"></a></p>
<h3 id="ğŸä½¿ç”¨è¡¨å•çš„-GET-æ–¹æ³•å®ä¾‹"><a href="#ğŸä½¿ç”¨è¡¨å•çš„-GET-æ–¹æ³•å®ä¾‹" class="headerlink" title="ğŸä½¿ç”¨è¡¨å•çš„ GET æ–¹æ³•å®ä¾‹"></a>ğŸä½¿ç”¨è¡¨å•çš„ GET æ–¹æ³•å®ä¾‹</h3><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„å®ä¾‹ï¼Œä½¿ç”¨ HTML è¡¨å•å’Œæäº¤æŒ‰é’®ä¼ é€’ä¸¤ä¸ªå€¼ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ç›¸åŒçš„ Servlet HelloForm æ¥å¤„ç†è¾“å…¥ã€‚</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>èœé¸Ÿæ•™ç¨‹(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"HelloForm"</span> <span class="attr">method</span>=<span class="string">"GET"</span>&gt;</span></span><br><span class="line">ç½‘å€åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">ç½‘å€ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"url"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"æäº¤"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¿å­˜è¿™ä¸ª HTML åˆ° hello.html æ–‡ä»¶ä¸­ï¼Œç›®å½•ç»“æ„åœ¨WebContentä¸‹</p>
<p>å°è¯•è¾“å…¥ç½‘å€åå’Œç½‘å€ï¼Œç„¶åç‚¹å‡»â€æäº¤â€æŒ‰é’®ï¼Œ</p>
<p><a href="https://imgchr.com/i/wpxYpd" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/09/02/wpxYpd.png" alt="wpxYpd.png"></a></p>
<p><a href="https://imgchr.com/i/wpxt1A" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/09/02/wpxt1A.png" alt="wpxt1A.png"></a></p>
<h3 id="ğŸä½¿ç”¨è¡¨å•çš„-POST-æ–¹æ³•å®ä¾‹"><a href="#ğŸä½¿ç”¨è¡¨å•çš„-POST-æ–¹æ³•å®ä¾‹" class="headerlink" title="ğŸä½¿ç”¨è¡¨å•çš„ POST æ–¹æ³•å®ä¾‹"></a>ğŸä½¿ç”¨è¡¨å•çš„ POST æ–¹æ³•å®ä¾‹</h3><p>è®©æˆ‘ä»¬å¯¹ä¸Šé¢çš„ Servlet åšå°å°çš„ä¿®æ”¹ï¼Œä»¥ä¾¿å®ƒå¯ä»¥å¤„ç† GET å’Œ POST æ–¹æ³•ã€‚ä¸‹é¢çš„ <strong>HelloForm.java</strong> Servlet ç¨‹åºä½¿ç”¨ GET å’Œ POST æ–¹æ³•å¤„ç†ç”± Web æµè§ˆå™¨ç»™å‡ºçš„è¾“å…¥ã€‚</p>
<p>æ³¨æ„ï¼šå¦‚æœè¡¨å•æäº¤çš„æ•°æ®ä¸­æœ‰ä¸­æ–‡æ•°æ®åˆ™éœ€è¦è½¬ç ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">String name =<span class="keyword">new</span> String(request.getParameter(<span class="string">"name"</span>).getBytes(<span class="string">"ISO8859-1"</span>),<span class="string">"UTF-8"</span>);</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class HelloForm</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/HelloForm"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloForm</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HelloForm</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line"></span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        String title = <span class="string">"ä½¿ç”¨ POST æ–¹æ³•è¯»å–è¡¨å•æ•°æ®"</span>;</span><br><span class="line">        <span class="comment">// å¤„ç†ä¸­æ–‡</span></span><br><span class="line">        String name =<span class="keyword">new</span> String(request.getParameter(<span class="string">"name"</span>).getBytes(<span class="string">"ISO8859-1"</span>),<span class="string">"UTF-8"</span>);</span><br><span class="line">        String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">        out.println(docType +</span><br><span class="line">            <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;ul&gt;\n"</span> +</span><br><span class="line">            <span class="string">"  &lt;li&gt;&lt;b&gt;ç«™ç‚¹å&lt;/b&gt;ï¼š"</span></span><br><span class="line">            + name + <span class="string">"\n"</span> +</span><br><span class="line">            <span class="string">"  &lt;li&gt;&lt;b&gt;ç½‘å€&lt;/b&gt;ï¼š"</span></span><br><span class="line">            + request.getParameter(<span class="string">"url"</span>) + <span class="string">"\n"</span> +</span><br><span class="line">            <span class="string">"&lt;/ul&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤„ç† POST æ–¹æ³•è¯·æ±‚çš„æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        doGet(request, response);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨ï¼Œç¼–è¯‘éƒ¨ç½²ä¸Šè¿°çš„ Servletï¼Œå¹¶ä½¿ç”¨å¸¦æœ‰ POST æ–¹æ³•çš„ hello.html è¿›è¡Œæµ‹è¯•ï¼Œå¦‚ä¸‹æ‰€ç¤º</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>äº‘æ¾ˆ(liudufu.github.io)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"HelloForm"</span> <span class="attr">method</span>=<span class="string">"GET"</span>&gt;</span></span><br><span class="line">ç½‘å€åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">ç½‘å€ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"url"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"æäº¤"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>è¡¨å•çš„å®é™…è¾“å‡ºä¸getå›¾ç›¸åŒ</p>
<h3 id="ğŸå°†å¤é€‰æ¡†æ•°æ®ä¼ é€’åˆ°-Servlet-ç¨‹åº"><a href="#ğŸå°†å¤é€‰æ¡†æ•°æ®ä¼ é€’åˆ°-Servlet-ç¨‹åº" class="headerlink" title="ğŸå°†å¤é€‰æ¡†æ•°æ®ä¼ é€’åˆ° Servlet ç¨‹åº"></a>ğŸå°†å¤é€‰æ¡†æ•°æ®ä¼ é€’åˆ° Servlet ç¨‹åº</h3><p>å½“éœ€è¦é€‰æ‹©ä¸€ä¸ªä»¥ä¸Šçš„é€‰é¡¹æ—¶ï¼Œåˆ™ä½¿ç”¨å¤é€‰æ¡†ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ª HTML ä»£ç å®ä¾‹ checkbox.htmlï¼Œä¸€ä¸ªå¸¦æœ‰ä¸¤ä¸ªå¤é€‰æ¡†çš„è¡¨å•ã€‚</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>äº‘æ¾ˆ(liudufu.github.io)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"CheckBox"</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"runoob"</span> <span class="attr">checked</span>=<span class="string">"checked"</span> /&gt;</span> äº‘æ¾ˆ</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"google"</span>  /&gt;</span> Google</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"taobao"</span> <span class="attr">checked</span>=<span class="string">"checked"</span> /&gt;</span> æ·˜å®</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"é€‰æ‹©ç«™ç‚¹"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢æ˜¯ CheckBox.java Servlet ç¨‹åºï¼Œå¤„ç† Web æµè§ˆå™¨ç»™å‡ºçš„å¤é€‰æ¡†è¾“å…¥ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class CheckBox</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/CheckBox"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CheckBox</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line"></span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        String title = <span class="string">"è¯»å–å¤é€‰æ¡†æ•°æ®"</span>;</span><br><span class="line">        String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">            out.println(docType +</span><br><span class="line">                <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;ul&gt;\n"</span> +</span><br><span class="line">                <span class="string">"  &lt;li&gt;&lt;b&gt;äº‘æ¾ˆæ ‡è¯†ï¼š&lt;/b&gt;: "</span></span><br><span class="line">                + request.getParameter(<span class="string">"runoob"</span>) + <span class="string">"\n"</span> +</span><br><span class="line">                <span class="string">"  &lt;li&gt;&lt;b&gt;Google æ ‡è¯†ï¼š&lt;/b&gt;: "</span></span><br><span class="line">                + request.getParameter(<span class="string">"google"</span>) + <span class="string">"\n"</span> +</span><br><span class="line">                <span class="string">"  &lt;li&gt;&lt;b&gt;æ·˜å®æ ‡è¯†ï¼š&lt;/b&gt;: "</span></span><br><span class="line">                + request.getParameter(<span class="string">"taobao"</span>) + <span class="string">"\n"</span> +</span><br><span class="line">                <span class="string">"&lt;/ul&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤„ç† POST æ–¹æ³•è¯·æ±‚çš„æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        doGet(request, response);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è®¾ç½®å¯¹åº”çš„ web.xmlï¼š</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>CheckBox<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.runoob.test.CheckBox<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>CheckBox<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/CheckBox<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„å®ä¾‹å°†æ˜¾ç¤ºä¸‹é¢çš„ç»“æœï¼š</p>
<p><a href="https://imgchr.com/i/wpxGfH" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/09/02/wpxGfH.png" alt="wpxGfH.png"></a></p>
<p><a href="https://imgchr.com/i/wpxN6I" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/09/02/wpxN6I.png" alt="wpxN6I.png"></a></p>
<h3 id="ğŸè¯»å–æ‰€æœ‰çš„è¡¨å•å‚æ•°"><a href="#ğŸè¯»å–æ‰€æœ‰çš„è¡¨å•å‚æ•°" class="headerlink" title="ğŸè¯»å–æ‰€æœ‰çš„è¡¨å•å‚æ•°"></a>ğŸè¯»å–æ‰€æœ‰çš„è¡¨å•å‚æ•°</h3><p>ä»¥ä¸‹æ˜¯é€šç”¨çš„å®ä¾‹ï¼Œä½¿ç”¨ HttpServletRequest çš„ <strong>getParameterNames()</strong> æ–¹æ³•è¯»å–æ‰€æœ‰å¯ç”¨çš„è¡¨å•å‚æ•°ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæšä¸¾ï¼Œå…¶ä¸­åŒ…å«æœªæŒ‡å®šé¡ºåºçš„å‚æ•°åã€‚</p>
<p>ä¸€æ—¦æˆ‘ä»¬æœ‰ä¸€ä¸ªæšä¸¾ï¼Œæˆ‘ä»¬å¯ä»¥ä»¥æ ‡å‡†æ–¹å¼å¾ªç¯æšä¸¾ï¼Œä½¿ç”¨ <em>hasMoreElements()</em> æ–¹æ³•æ¥ç¡®å®šä½•æ—¶åœæ­¢ï¼Œä½¿ç”¨ <em>nextElement()</em> æ–¹æ³•æ¥è·å–æ¯ä¸ªå‚æ•°çš„åç§°ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class ReadParams</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/ReadParams"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReadParams</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ReadParams</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        String title = <span class="string">"è¯»å–æ‰€æœ‰çš„è¡¨å•æ•°æ®"</span>;</span><br><span class="line">        String docType =</span><br><span class="line">            <span class="string">"&lt;!doctype html public \"-//w3c//dtd html 4.0 "</span> +</span><br><span class="line">            <span class="string">"transitional//en\"&gt;\n"</span>;</span><br><span class="line">            out.println(docType +</span><br><span class="line">            <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;table width=\"100%\" border=\"1\" align=\"center\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;tr bgcolor=\"#949494\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;th&gt;å‚æ•°åç§°&lt;/th&gt;&lt;th&gt;å‚æ•°å€¼&lt;/th&gt;\n"</span>+</span><br><span class="line">            <span class="string">"&lt;/tr&gt;\n"</span>);</span><br><span class="line"></span><br><span class="line">        Enumeration paramNames = request.getParameterNames();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(paramNames.hasMoreElements()) {</span><br><span class="line">            String paramName = (String)paramNames.nextElement();</span><br><span class="line">            out.print(<span class="string">"&lt;tr&gt;&lt;td&gt;"</span> + paramName + <span class="string">"&lt;/td&gt;\n"</span>);</span><br><span class="line">            String[] paramValues =</span><br><span class="line">            request.getParameterValues(paramName);</span><br><span class="line">            <span class="comment">// è¯»å–å•ä¸ªå€¼çš„æ•°æ®</span></span><br><span class="line">            <span class="keyword">if</span> (paramValues.length == <span class="number">1</span>) {</span><br><span class="line">                String paramValue = paramValues[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">if</span> (paramValue.length() == <span class="number">0</span>)</span><br><span class="line">                    out.println(<span class="string">"&lt;td&gt;&lt;i&gt;æ²¡æœ‰å€¼&lt;/i&gt;&lt;/td&gt;"</span>);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    out.println(<span class="string">"&lt;td&gt;"</span> + paramValue + <span class="string">"&lt;/td&gt;"</span>);</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                <span class="comment">// è¯»å–å¤šä¸ªå€¼çš„æ•°æ®</span></span><br><span class="line">                out.println(<span class="string">"&lt;td&gt;&lt;ul&gt;"</span>);</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i &lt; paramValues.length; i++) {</span><br><span class="line">                out.println(<span class="string">"&lt;li&gt;"</span> + paramValues[i]);</span><br><span class="line">            }</span><br><span class="line">                out.println(<span class="string">"&lt;/ul&gt;&lt;/td&gt;"</span>);</span><br><span class="line">            }</span><br><span class="line">            out.print(<span class="string">"&lt;/tr&gt;"</span>);</span><br><span class="line">        }</span><br><span class="line">        out.println(<span class="string">"\n&lt;/table&gt;\n&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        doGet(request, response);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨ï¼Œé€šè¿‡ä¸‹é¢çš„è¡¨å•å°è¯•ä¸Šé¢çš„ Servletï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>äº‘æ¾ˆ(liudufu.github.io)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"ReadParams"</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"maths"</span> <span class="attr">checked</span>=<span class="string">"checked"</span> /&gt;</span> æ•°å­¦</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"physics"</span>  /&gt;</span> ç‰©ç†</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"chemistry"</span> <span class="attr">checked</span>=<span class="string">"checked"</span> /&gt;</span> åŒ–å­¦</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"é€‰æ‹©å­¦ç§‘"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>è®¾ç½®ç›¸åº”çš„ web.xml:</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ReadParams<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.runoob.test.ReadParams<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ReadParams<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/ReadParams<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨ä½¿ç”¨ä¸Šé¢çš„è¡¨å•è°ƒç”¨ Servletï¼Œå°†äº§ç”Ÿä»¥ä¸‹ç»“æœï¼š</p>
<p><a href="https://imgchr.com/i/wpxw0f" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/09/02/wpxw0f.png" alt="wpxw0f.png"></a><br><a href="https://imgchr.com/i/wpx078" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/09/02/wpx078.png" alt="wpx078.png"></a></p>
<h2 id="ğŸŒ¸Servlet-å®¢æˆ·ç«¯-HTTP-è¯·æ±‚"><a href="#ğŸŒ¸Servlet-å®¢æˆ·ç«¯-HTTP-è¯·æ±‚" class="headerlink" title="ğŸŒ¸Servlet å®¢æˆ·ç«¯ HTTP è¯·æ±‚"></a>ğŸŒ¸Servlet å®¢æˆ·ç«¯ HTTP è¯·æ±‚</h2><p>å½“æµè§ˆå™¨è¯·æ±‚ç½‘é¡µæ—¶ï¼Œå®ƒä¼šå‘ Web æœåŠ¡å™¨å‘é€ç‰¹å®šä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯ä¸èƒ½è¢«ç›´æ¥è¯»å–ï¼Œå› ä¸ºè¿™äº›ä¿¡æ¯æ˜¯ä½œä¸º HTTP è¯·æ±‚çš„å¤´çš„ä¸€éƒ¨åˆ†è¿›è¡Œä¼ è¾“çš„ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æ¥è‡ªäºæµè§ˆå™¨ç«¯çš„é‡è¦å¤´ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥åœ¨ Web ç¼–ç¨‹ä¸­é¢‘ç¹ä½¿ç”¨ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å¤´ä¿¡æ¯</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Accept</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŒ‡å®šæµè§ˆå™¨æˆ–å…¶ä»–å®¢æˆ·ç«¯å¯ä»¥å¤„ç†çš„ MIME ç±»å‹ã€‚å€¼ <strong>image/png</strong> æˆ– <strong>image/jpeg</strong> æ˜¯æœ€å¸¸è§çš„ä¸¤ç§å¯èƒ½å€¼ã€‚</td>
</tr>
<tr>
<td align="left">Accept-Charset</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŒ‡å®šæµè§ˆå™¨å¯ä»¥ç”¨æ¥æ˜¾ç¤ºä¿¡æ¯çš„å­—ç¬¦é›†ã€‚ä¾‹å¦‚ ISO-8859-1ã€‚</td>
</tr>
<tr>
<td align="left">Accept-Encoding</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŒ‡å®šæµè§ˆå™¨çŸ¥é“å¦‚ä½•å¤„ç†çš„ç¼–ç ç±»å‹ã€‚å€¼ <strong>gzip</strong> æˆ– <strong>compress</strong> æ˜¯æœ€å¸¸è§çš„ä¸¤ç§å¯èƒ½å€¼ã€‚</td>
</tr>
<tr>
<td align="left">Accept-Language</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŒ‡å®šå®¢æˆ·ç«¯çš„é¦–é€‰è¯­è¨€ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒServlet ä¼šäº§ç”Ÿå¤šç§è¯­è¨€çš„ç»“æœã€‚ä¾‹å¦‚ï¼Œenã€en-usã€ru ç­‰ã€‚</td>
</tr>
<tr>
<td align="left">Authorization</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯ç”¨äºå®¢æˆ·ç«¯åœ¨è®¿é—®å—å¯†ç ä¿æŠ¤çš„ç½‘é¡µæ—¶è¯†åˆ«è‡ªå·±çš„èº«ä»½ã€‚</td>
</tr>
<tr>
<td align="left">Connection</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŒ‡ç¤ºå®¢æˆ·ç«¯æ˜¯å¦å¯ä»¥å¤„ç†æŒä¹… HTTP è¿æ¥ã€‚æŒä¹…è¿æ¥å…è®¸å®¢æˆ·ç«¯æˆ–å…¶ä»–æµè§ˆå™¨é€šè¿‡å•ä¸ªè¯·æ±‚æ¥æ£€ç´¢å¤šä¸ªæ–‡ä»¶ã€‚å€¼ <strong>Keep-Alive</strong> æ„å‘³ç€ä½¿ç”¨äº†æŒç»­è¿æ¥ã€‚</td>
</tr>
<tr>
<td align="left">Content-Length</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯åªé€‚ç”¨äº POST è¯·æ±‚ï¼Œå¹¶ç»™å‡º POST æ•°æ®çš„å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚</td>
</tr>
<tr>
<td align="left">Cookie</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŠŠä¹‹å‰å‘é€åˆ°æµè§ˆå™¨çš„ cookies è¿”å›åˆ°æœåŠ¡å™¨ã€‚</td>
</tr>
<tr>
<td align="left">Host</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŒ‡å®šåŸå§‹çš„ URL ä¸­çš„ä¸»æœºå’Œç«¯å£ã€‚</td>
</tr>
<tr>
<td align="left">If-Modified-Since</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯è¡¨ç¤ºåªæœ‰å½“é¡µé¢åœ¨æŒ‡å®šçš„æ—¥æœŸåå·²æ›´æ”¹æ—¶ï¼Œå®¢æˆ·ç«¯æƒ³è¦çš„é¡µé¢ã€‚å¦‚æœæ²¡æœ‰æ–°çš„ç»“æœå¯ä»¥ä½¿ç”¨ï¼ŒæœåŠ¡å™¨ä¼šå‘é€ä¸€ä¸ª 304 ä»£ç ï¼Œè¡¨ç¤º <strong>Not Modified</strong> å¤´ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td align="left">If-Unmodified-Since</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æ˜¯ If-Modified-Since çš„å¯¹ç«‹é¢ï¼Œå®ƒæŒ‡å®šåªæœ‰å½“æ–‡æ¡£æ—©äºæŒ‡å®šæ—¥æœŸæ—¶ï¼Œæ“ä½œæ‰ä¼šæˆåŠŸã€‚</td>
</tr>
<tr>
<td align="left">Referer</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŒ‡ç¤ºæ‰€æŒ‡å‘çš„ Web é¡µçš„ URLã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨åœ¨ç½‘é¡µ 1ï¼Œç‚¹å‡»ä¸€ä¸ªé“¾æ¥åˆ°ç½‘é¡µ 2ï¼Œå½“æµè§ˆå™¨è¯·æ±‚ç½‘é¡µ 2 æ—¶ï¼Œç½‘é¡µ 1 çš„ URL å°±ä¼šåŒ…å«åœ¨ Referer å¤´ä¿¡æ¯ä¸­ã€‚</td>
</tr>
<tr>
<td align="left">User-Agent</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯è¯†åˆ«å‘å‡ºè¯·æ±‚çš„æµè§ˆå™¨æˆ–å…¶ä»–å®¢æˆ·ç«¯ï¼Œå¹¶å¯ä»¥å‘ä¸åŒç±»å‹çš„æµè§ˆå™¨è¿”å›ä¸åŒçš„å†…å®¹ã€‚</td>
</tr>
</tbody></table>
<h3 id="ğŸè¯»å–-HTTP-å¤´çš„æ–¹æ³•"><a href="#ğŸè¯»å–-HTTP-å¤´çš„æ–¹æ³•" class="headerlink" title="ğŸè¯»å– HTTP å¤´çš„æ–¹æ³•"></a>ğŸè¯»å– HTTP å¤´çš„æ–¹æ³•</h3><p>ä¸‹é¢çš„æ–¹æ³•å¯ç”¨åœ¨ Servlet ç¨‹åºä¸­è¯»å– HTTP å¤´ã€‚è¿™äº›æ–¹æ³•é€šè¿‡ <em>HttpServletRequest</em> å¯¹è±¡å¯ç”¨ã€‚</p>
<table>
<thead>
<tr>
<th align="left">åºå·</th>
<th align="left">æ–¹æ³• &amp; æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>Cookie[] getCookies()</strong> è¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å®¢æˆ·ç«¯å‘é€è¯¥è¯·æ±‚çš„æ‰€æœ‰çš„ Cookie å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>Enumeration getAttributeNames()</strong> è¿”å›ä¸€ä¸ªæšä¸¾ï¼ŒåŒ…å«æä¾›ç»™è¯¥è¯·æ±‚å¯ç”¨çš„å±æ€§åç§°ã€‚</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>Enumeration getHeaderNames()</strong> è¿”å›ä¸€ä¸ªæšä¸¾ï¼ŒåŒ…å«åœ¨è¯¥è¯·æ±‚ä¸­åŒ…å«çš„æ‰€æœ‰çš„å¤´åã€‚</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><strong>Enumeration getParameterNames()</strong> è¿”å›ä¸€ä¸ª String å¯¹è±¡çš„æšä¸¾ï¼ŒåŒ…å«åœ¨è¯¥è¯·æ±‚ä¸­åŒ…å«çš„å‚æ•°çš„åç§°ã€‚</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left"><strong>HttpSession getSession()</strong> è¿”å›ä¸è¯¥è¯·æ±‚å…³è”çš„å½“å‰ session ä¼šè¯ï¼Œæˆ–è€…å¦‚æœè¯·æ±‚æ²¡æœ‰ session ä¼šè¯ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªã€‚</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left"><strong>HttpSession getSession(boolean create)</strong> è¿”å›ä¸è¯¥è¯·æ±‚å…³è”çš„å½“å‰ HttpSessionï¼Œæˆ–è€…å¦‚æœæ²¡æœ‰å½“å‰ä¼šè¯ï¼Œä¸”åˆ›å»ºæ˜¯çœŸçš„ï¼Œåˆ™è¿”å›ä¸€ä¸ªæ–°çš„ session ä¼šè¯ã€‚</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left"><strong>Locale getLocale()</strong> åŸºäº Accept-Language å¤´ï¼Œè¿”å›å®¢æˆ·ç«¯æ¥å—å†…å®¹çš„é¦–é€‰çš„åŒºåŸŸè®¾ç½®ã€‚</td>
</tr>
<tr>
<td align="left">8</td>
<td align="left"><strong>Object getAttribute(String name)</strong> ä»¥å¯¹è±¡å½¢å¼è¿”å›å·²å‘½åå±æ€§çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰ç»™å®šåç§°çš„å±æ€§å­˜åœ¨ï¼Œåˆ™è¿”å› nullã€‚</td>
</tr>
<tr>
<td align="left">9</td>
<td align="left"><strong>ServletInputStream getInputStream()</strong> ä½¿ç”¨ ServletInputStreamï¼Œä»¥äºŒè¿›åˆ¶æ•°æ®å½¢å¼æ£€ç´¢è¯·æ±‚çš„ä¸»ä½“ã€‚</td>
</tr>
<tr>
<td align="left">10</td>
<td align="left"><strong>String getAuthType()</strong> è¿”å›ç”¨äºä¿æŠ¤ Servlet çš„èº«ä»½éªŒè¯æ–¹æ¡ˆçš„åç§°ï¼Œä¾‹å¦‚ï¼Œâ€BASICâ€ æˆ– â€œSSLâ€ï¼Œå¦‚æœJSPæ²¡æœ‰å—åˆ°ä¿æŠ¤åˆ™è¿”å› nullã€‚</td>
</tr>
<tr>
<td align="left">11</td>
<td align="left"><strong>String getCharacterEncoding()</strong> è¿”å›è¯·æ±‚ä¸»ä½“ä¸­ä½¿ç”¨çš„å­—ç¬¦ç¼–ç çš„åç§°ã€‚</td>
</tr>
<tr>
<td align="left">12</td>
<td align="left"><strong>String getContentType()</strong> è¿”å›è¯·æ±‚ä¸»ä½“çš„ MIME ç±»å‹ï¼Œå¦‚æœä¸çŸ¥é“ç±»å‹åˆ™è¿”å› nullã€‚</td>
</tr>
<tr>
<td align="left">13</td>
<td align="left"><strong>String getContextPath()</strong> è¿”å›æŒ‡ç¤ºè¯·æ±‚ä¸Šä¸‹æ–‡çš„è¯·æ±‚ URI éƒ¨åˆ†ã€‚</td>
</tr>
<tr>
<td align="left">14</td>
<td align="left"><strong>String getHeader(String name)</strong> ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›æŒ‡å®šçš„è¯·æ±‚å¤´çš„å€¼ã€‚</td>
</tr>
<tr>
<td align="left">15</td>
<td align="left"><strong>String getMethod()</strong> è¿”å›è¯·æ±‚çš„ HTTP æ–¹æ³•çš„åç§°ï¼Œä¾‹å¦‚ï¼ŒGETã€POST æˆ– PUTã€‚</td>
</tr>
<tr>
<td align="left">16</td>
<td align="left"><strong>String getParameter(String name)</strong> ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›è¯·æ±‚å‚æ•°çš„å€¼ï¼Œæˆ–è€…å¦‚æœå‚æ•°ä¸å­˜åœ¨åˆ™è¿”å› nullã€‚</td>
</tr>
<tr>
<td align="left">17</td>
<td align="left"><strong>String getPathInfo()</strong> å½“è¯·æ±‚å‘å‡ºæ—¶ï¼Œè¿”å›ä¸å®¢æˆ·ç«¯å‘é€çš„ URL ç›¸å…³çš„ä»»ä½•é¢å¤–çš„è·¯å¾„ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td align="left">18</td>
<td align="left"><strong>String getProtocol()</strong> è¿”å›è¯·æ±‚åè®®çš„åç§°å’Œç‰ˆæœ¬ã€‚</td>
</tr>
<tr>
<td align="left">19</td>
<td align="left"><strong>String getQueryString()</strong> è¿”å›åŒ…å«åœ¨è·¯å¾„åçš„è¯·æ±‚ URL ä¸­çš„æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td align="left">20</td>
<td align="left"><strong>String getRemoteAddr()</strong> è¿”å›å‘é€è¯·æ±‚çš„å®¢æˆ·ç«¯çš„äº’è”ç½‘åè®®ï¼ˆIPï¼‰åœ°å€ã€‚</td>
</tr>
<tr>
<td align="left">21</td>
<td align="left"><strong>String getRemoteHost()</strong> è¿”å›å‘é€è¯·æ±‚çš„å®¢æˆ·ç«¯çš„å®Œå…¨é™å®šåç§°ã€‚</td>
</tr>
<tr>
<td align="left">22</td>
<td align="left"><strong>String getRemoteUser()</strong> å¦‚æœç”¨æˆ·å·²é€šè¿‡èº«ä»½éªŒè¯ï¼Œåˆ™è¿”å›å‘å‡ºè¯·æ±‚çš„ç™»å½•ç”¨æˆ·ï¼Œæˆ–è€…å¦‚æœç”¨æˆ·æœªé€šè¿‡èº«ä»½éªŒè¯ï¼Œåˆ™è¿”å› nullã€‚</td>
</tr>
<tr>
<td align="left">23</td>
<td align="left"><strong>String getRequestURI()</strong> ä»åè®®åç§°ç›´åˆ° HTTP è¯·æ±‚çš„ç¬¬ä¸€è¡Œçš„æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­ï¼Œè¿”å›è¯¥è¯·æ±‚çš„ URL çš„ä¸€éƒ¨åˆ†ã€‚</td>
</tr>
<tr>
<td align="left">24</td>
<td align="left"><strong>String getRequestedSessionId()</strong> è¿”å›ç”±å®¢æˆ·ç«¯æŒ‡å®šçš„ session ä¼šè¯ IDã€‚</td>
</tr>
<tr>
<td align="left">25</td>
<td align="left"><strong>String getServletPath()</strong> è¿”å›è°ƒç”¨ JSP çš„è¯·æ±‚çš„ URL çš„ä¸€éƒ¨åˆ†ã€‚</td>
</tr>
<tr>
<td align="left">26</td>
<td align="left"><strong>String[] getParameterValues(String name)</strong> è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡çš„æ•°ç»„ï¼ŒåŒ…å«æ‰€æœ‰ç»™å®šçš„è¯·æ±‚å‚æ•°çš„å€¼ï¼Œå¦‚æœå‚æ•°ä¸å­˜åœ¨åˆ™è¿”å› nullã€‚</td>
</tr>
<tr>
<td align="left">27</td>
<td align="left"><strong>boolean isSecure()</strong> è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºè¯·æ±‚æ˜¯å¦ä½¿ç”¨å®‰å…¨é€šé“ï¼Œå¦‚ HTTPSã€‚</td>
</tr>
<tr>
<td align="left">28</td>
<td align="left"><strong>int getContentLength()</strong> ä»¥å­—èŠ‚ä¸ºå•ä½è¿”å›è¯·æ±‚ä¸»ä½“çš„é•¿åº¦ï¼Œå¹¶æä¾›è¾“å…¥æµï¼Œæˆ–è€…å¦‚æœé•¿åº¦æœªçŸ¥åˆ™è¿”å› -1ã€‚</td>
</tr>
<tr>
<td align="left">29</td>
<td align="left"><strong>int getIntHeader(String name)</strong> è¿”å›æŒ‡å®šçš„è¯·æ±‚å¤´çš„å€¼ä¸ºä¸€ä¸ª int å€¼ã€‚</td>
</tr>
<tr>
<td align="left">30</td>
<td align="left"><strong>int getServerPort()</strong> è¿”å›æ¥æ”¶åˆ°è¿™ä¸ªè¯·æ±‚çš„ç«¯å£å·ã€‚</td>
</tr>
<tr>
<td align="left">31</td>
<td align="left"><strong>int getParameterMap()</strong> å°†å‚æ•°å°è£…æˆ Map ç±»å‹ã€‚</td>
</tr>
</tbody></table>
<h3 id="ğŸHTTP-Header-è¯·æ±‚å®ä¾‹"><a href="#ğŸHTTP-Header-è¯·æ±‚å®ä¾‹" class="headerlink" title="ğŸHTTP Header è¯·æ±‚å®ä¾‹"></a>ğŸHTTP Header è¯·æ±‚å®ä¾‹</h3><p>ä¸‹é¢çš„å®ä¾‹ä½¿ç”¨ HttpServletRequest çš„ <strong>getHeaderNames()</strong> æ–¹æ³•è¯»å– HTTP å¤´ä¿¡æ¯ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæšä¸¾ï¼ŒåŒ…å«ä¸å½“å‰çš„ HTTP è¯·æ±‚ç›¸å…³çš„å¤´ä¿¡æ¯ã€‚</p>
<p>ä¸€æ—¦æˆ‘ä»¬æœ‰ä¸€ä¸ªæšä¸¾ï¼Œæˆ‘ä»¬å¯ä»¥ä»¥æ ‡å‡†æ–¹å¼å¾ªç¯æšä¸¾ï¼Œä½¿ç”¨ <em>hasMoreElements()</em> æ–¹æ³•æ¥ç¡®å®šä½•æ—¶åœæ­¢ï¼Œä½¿ç”¨ <em>nextElement()</em> æ–¹æ³•æ¥è·å–æ¯ä¸ªå‚æ•°çš„åç§°ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥å¿…éœ€çš„ java åº“</span></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/DisplayHeader"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰©å±• HttpServlet ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DisplayHeader</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤„ç† GET æ–¹æ³•è¯·æ±‚çš„æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line"></span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        String title = <span class="string">"HTTP Header è¯·æ±‚å®ä¾‹ - äº‘æ¾ˆå®ä¾‹"</span>;</span><br><span class="line">        String docType =</span><br><span class="line">            <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">            out.println(docType +</span><br><span class="line">            <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span>+</span><br><span class="line">            <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;table width=\"100%\" border=\"1\" align=\"center\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;tr bgcolor=\"#949494\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;th&gt;Header åç§°&lt;/th&gt;&lt;th&gt;Header å€¼&lt;/th&gt;\n"</span>+</span><br><span class="line">            <span class="string">"&lt;/tr&gt;\n"</span>);</span><br><span class="line"></span><br><span class="line">        Enumeration headerNames = request.getHeaderNames();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(headerNames.hasMoreElements()) {</span><br><span class="line">            String paramName = (String)headerNames.nextElement();</span><br><span class="line">            out.print(<span class="string">"&lt;tr&gt;&lt;td&gt;"</span> + paramName + <span class="string">"&lt;/td&gt;\n"</span>);</span><br><span class="line">            String paramValue = request.getHeader(paramName);</span><br><span class="line">            out.println(<span class="string">"&lt;td&gt; "</span> + paramValue + <span class="string">"&lt;/td&gt;&lt;/tr&gt;\n"</span>);</span><br><span class="line">        }</span><br><span class="line">        out.println(<span class="string">"&lt;/table&gt;\n&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// å¤„ç† POST æ–¹æ³•è¯·æ±‚çš„æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        doGet(request, response);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šæµ‹è¯•å®ä¾‹æ˜¯ä½äº TomcatTest é¡¹ç›®ä¸‹ï¼Œå¯¹åº”çš„ web.xml é…ç½®ä¸ºï¼š</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span>  </span><br><span class="line">    <span class="comment">&lt;!-- ç±»å --&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>DisplayHeader<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span>  </span><br><span class="line">    <span class="comment">&lt;!-- æ‰€åœ¨çš„åŒ… --&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.runoob.test.DisplayHeader<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>DisplayHeader<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span>  </span><br><span class="line">    <span class="comment">&lt;!-- è®¿é—®çš„ç½‘å€ --&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/DisplayHeader<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨ï¼Œè°ƒç”¨ä¸Šé¢çš„ Servletï¼Œè®¿é—® <strong><a href="http://localhost:8080/TomcatTest/DisplayHeader" target="_blank" rel="noopener">http://localhost:8080/TomcatTest/DisplayHeader</a></strong> ä¼šäº§ç”Ÿä»¥ä¸‹ç»“æœï¼š</p>
<p><a href="https://imgchr.com/i/wPao0e" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/09/03/wPao0e.png" alt="wPao0e.png"></a></p>
<h2 id="ğŸŒ¸Servlet-æœåŠ¡å™¨-HTTP-å“åº”"><a href="#ğŸŒ¸Servlet-æœåŠ¡å™¨-HTTP-å“åº”" class="headerlink" title="ğŸŒ¸Servlet æœåŠ¡å™¨ HTTP å“åº”"></a>ğŸŒ¸Servlet æœåŠ¡å™¨ HTTP å“åº”</h2><p>æ­£å¦‚å‰é¢çš„ç« èŠ‚ä¸­è®¨è®ºçš„é‚£æ ·ï¼Œå½“ä¸€ä¸ª Web æœåŠ¡å™¨å“åº”ä¸€ä¸ª HTTP è¯·æ±‚æ—¶ï¼Œå“åº”é€šå¸¸åŒ…æ‹¬ä¸€ä¸ªçŠ¶æ€è¡Œã€ä¸€äº›å“åº”æŠ¥å¤´ã€ä¸€ä¸ªç©ºè¡Œå’Œæ–‡æ¡£ã€‚ä¸€ä¸ªå…¸å‹çš„å“åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Content-Type: text/html</span><br><span class="line">Header2: ...</span><br><span class="line">...</span><br><span class="line">HeaderN: ...</span><br><span class="line">  (Blank Line)</span><br><span class="line"><span class="meta">&lt;!doctype ...&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span>...<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>çŠ¶æ€è¡ŒåŒ…æ‹¬ HTTP ç‰ˆæœ¬ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º HTTP/1.1ï¼‰ã€ä¸€ä¸ªçŠ¶æ€ç ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º 200ï¼‰å’Œä¸€ä¸ªå¯¹åº”äºçŠ¶æ€ç çš„çŸ­æ¶ˆæ¯ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º OKï¼‰ã€‚</p>
<p>ä¸‹è¡¨æ€»ç»“äº†ä» Web æœåŠ¡å™¨ç«¯è¿”å›åˆ°æµè§ˆå™¨çš„æœ€æœ‰ç”¨çš„ HTTP 1.1 å“åº”æŠ¥å¤´ï¼Œæ‚¨ä¼šåœ¨ Web ç¼–ç¨‹ä¸­é¢‘ç¹åœ°ä½¿ç”¨å®ƒä»¬ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å¤´ä¿¡æ¯</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Allow</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŒ‡å®šæœåŠ¡å™¨æ”¯æŒçš„è¯·æ±‚æ–¹æ³•ï¼ˆGETã€POST ç­‰ï¼‰ã€‚</td>
</tr>
<tr>
<td align="left">Cache-Control</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŒ‡å®šå“åº”æ–‡æ¡£åœ¨ä½•ç§æƒ…å†µä¸‹å¯ä»¥å®‰å…¨åœ°ç¼“å­˜ã€‚å¯èƒ½çš„å€¼æœ‰ï¼š<strong>publicã€private</strong> æˆ– <strong>no-cache</strong> ç­‰ã€‚Public æ„å‘³ç€æ–‡æ¡£æ˜¯å¯ç¼“å­˜ï¼ŒPrivate æ„å‘³ç€æ–‡æ¡£æ˜¯å•ä¸ªç”¨æˆ·ç§ç”¨æ–‡æ¡£ï¼Œä¸”åªèƒ½å­˜å‚¨åœ¨ç§æœ‰ï¼ˆéå…±äº«ï¼‰ç¼“å­˜ä¸­ï¼Œno-cache æ„å‘³ç€æ–‡æ¡£ä¸åº”è¢«ç¼“å­˜ã€‚</td>
</tr>
<tr>
<td align="left">Connection</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŒ‡ç¤ºæµè§ˆå™¨æ˜¯å¦ä½¿ç”¨æŒä¹… HTTP è¿æ¥ã€‚å€¼ <strong>close</strong> æŒ‡ç¤ºæµè§ˆå™¨ä¸ä½¿ç”¨æŒä¹… HTTP è¿æ¥ï¼Œå€¼ <strong>keep-alive</strong> æ„å‘³ç€ä½¿ç”¨æŒä¹…è¿æ¥ã€‚</td>
</tr>
<tr>
<td align="left">Content-Disposition</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯å¯ä»¥è®©æ‚¨è¯·æ±‚æµè§ˆå™¨è¦æ±‚ç”¨æˆ·ä»¥ç»™å®šåç§°çš„æ–‡ä»¶æŠŠå“åº”ä¿å­˜åˆ°ç£ç›˜ã€‚</td>
</tr>
<tr>
<td align="left">Content-Encoding</td>
<td align="left">åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œè¿™ä¸ªå¤´ä¿¡æ¯æŒ‡å®šé¡µé¢çš„ç¼–ç æ–¹å¼ã€‚</td>
</tr>
<tr>
<td align="left">Content-Language</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯è¡¨ç¤ºæ–‡æ¡£ç¼–å†™æ‰€ä½¿ç”¨çš„è¯­è¨€ã€‚ä¾‹å¦‚ï¼Œenã€en-usã€ru ç­‰ã€‚</td>
</tr>
<tr>
<td align="left">Content-Length</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŒ‡ç¤ºå“åº”ä¸­çš„å­—èŠ‚æ•°ã€‚åªæœ‰å½“æµè§ˆå™¨ä½¿ç”¨æŒä¹…ï¼ˆkeep-aliveï¼‰HTTP è¿æ¥æ—¶æ‰éœ€è¦è¿™äº›ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td align="left">Content-Type</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æä¾›äº†å“åº”æ–‡æ¡£çš„ MIMEï¼ˆMultipurpose Internet Mail Extensionï¼‰ç±»å‹ã€‚</td>
</tr>
<tr>
<td align="left">Expires</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŒ‡å®šå†…å®¹è¿‡æœŸçš„æ—¶é—´ï¼Œåœ¨è¿™ä¹‹åå†…å®¹ä¸å†è¢«ç¼“å­˜ã€‚</td>
</tr>
<tr>
<td align="left">Last-Modified</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŒ‡ç¤ºæ–‡æ¡£çš„æœ€åä¿®æ”¹æ—¶é—´ã€‚ç„¶åï¼Œå®¢æˆ·ç«¯å¯ä»¥ç¼“å­˜æ–‡ä»¶ï¼Œå¹¶åœ¨ä»¥åçš„è¯·æ±‚ä¸­é€šè¿‡ <strong>If-Modified-Since</strong> è¯·æ±‚å¤´ä¿¡æ¯æä¾›ä¸€ä¸ªæ—¥æœŸã€‚</td>
</tr>
<tr>
<td align="left">Location</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯åº”è¢«åŒ…å«åœ¨æ‰€æœ‰çš„å¸¦æœ‰çŠ¶æ€ç çš„å“åº”ä¸­ã€‚åœ¨ 300s å†…ï¼Œè¿™ä¼šé€šçŸ¥æµè§ˆå™¨æ–‡æ¡£çš„åœ°å€ã€‚æµè§ˆå™¨ä¼šè‡ªåŠ¨é‡æ–°è¿æ¥åˆ°è¿™ä¸ªä½ç½®ï¼Œå¹¶è·å–æ–°çš„æ–‡æ¡£ã€‚</td>
</tr>
<tr>
<td align="left">Refresh</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŒ‡å®šæµè§ˆå™¨åº”è¯¥å¦‚ä½•å°½å¿«è¯·æ±‚æ›´æ–°çš„é¡µé¢ã€‚æ‚¨å¯ä»¥æŒ‡å®šé¡µé¢åˆ·æ–°çš„ç§’æ•°ã€‚</td>
</tr>
<tr>
<td align="left">Retry-After</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯å¯ä»¥ä¸ 503ï¼ˆService Unavailable æœåŠ¡ä¸å¯ç”¨ï¼‰å“åº”é…åˆä½¿ç”¨ï¼Œè¿™ä¼šå‘Šè¯‰å®¢æˆ·ç«¯å¤šä¹…å°±å¯ä»¥é‡å¤å®ƒçš„è¯·æ±‚ã€‚</td>
</tr>
<tr>
<td align="left">Set-Cookie</td>
<td align="left">è¿™ä¸ªå¤´ä¿¡æ¯æŒ‡å®šä¸€ä¸ªä¸é¡µé¢å…³è”çš„ cookieã€‚</td>
</tr>
</tbody></table>
<h3 id="ğŸè®¾ç½®-HTTP-å“åº”æŠ¥å¤´çš„æ–¹æ³•"><a href="#ğŸè®¾ç½®-HTTP-å“åº”æŠ¥å¤´çš„æ–¹æ³•" class="headerlink" title="ğŸè®¾ç½® HTTP å“åº”æŠ¥å¤´çš„æ–¹æ³•"></a>ğŸè®¾ç½® HTTP å“åº”æŠ¥å¤´çš„æ–¹æ³•</h3><p>ä¸‹é¢çš„æ–¹æ³•å¯ç”¨äºåœ¨ Servlet ç¨‹åºä¸­è®¾ç½® HTTP å“åº”æŠ¥å¤´ã€‚è¿™äº›æ–¹æ³•é€šè¿‡ <em>HttpServletResponse</em> å¯¹è±¡å¯ç”¨ã€‚</p>
<table>
<thead>
<tr>
<th align="left">åºå·</th>
<th align="left">æ–¹æ³• &amp; æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>String encodeRedirectURL(String url)</strong> ä¸º sendRedirect æ–¹æ³•ä¸­ä½¿ç”¨çš„æŒ‡å®šçš„ URL è¿›è¡Œç¼–ç ï¼Œæˆ–è€…å¦‚æœç¼–ç ä¸æ˜¯å¿…éœ€çš„ï¼Œåˆ™è¿”å› URL æœªæ”¹å˜ã€‚</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>String encodeURL(String url)</strong> å¯¹åŒ…å« session ä¼šè¯ ID çš„æŒ‡å®š URL è¿›è¡Œç¼–ç ï¼Œæˆ–è€…å¦‚æœç¼–ç ä¸æ˜¯å¿…éœ€çš„ï¼Œåˆ™è¿”å› URL æœªæ”¹å˜ã€‚</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>boolean containsHeader(String name)</strong> è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºæ˜¯å¦å·²ç»è®¾ç½®å·²å‘½åçš„å“åº”æŠ¥å¤´ã€‚</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><strong>boolean isCommitted()</strong> è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºå“åº”æ˜¯å¦å·²ç»æäº¤ã€‚</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left"><strong>void addCookie(Cookie cookie)</strong> æŠŠæŒ‡å®šçš„ cookie æ·»åŠ åˆ°å“åº”ã€‚</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left"><strong>void addDateHeader(String name, long date)</strong> æ·»åŠ ä¸€ä¸ªå¸¦æœ‰ç»™å®šçš„åç§°å’Œæ—¥æœŸå€¼çš„å“åº”æŠ¥å¤´ã€‚</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left"><strong>void addHeader(String name, String value)</strong> æ·»åŠ ä¸€ä¸ªå¸¦æœ‰ç»™å®šçš„åç§°å’Œå€¼çš„å“åº”æŠ¥å¤´ã€‚</td>
</tr>
<tr>
<td align="left">8</td>
<td align="left"><strong>void addIntHeader(String name, int value)</strong> æ·»åŠ ä¸€ä¸ªå¸¦æœ‰ç»™å®šçš„åç§°å’Œæ•´æ•°å€¼çš„å“åº”æŠ¥å¤´ã€‚</td>
</tr>
<tr>
<td align="left">9</td>
<td align="left"><strong>void flushBuffer()</strong> å¼ºåˆ¶ä»»ä½•åœ¨ç¼“å†²åŒºä¸­çš„å†…å®¹è¢«å†™å…¥åˆ°å®¢æˆ·ç«¯ã€‚</td>
</tr>
<tr>
<td align="left">10</td>
<td align="left"><strong>void reset()</strong> æ¸…é™¤ç¼“å†²åŒºä¸­å­˜åœ¨çš„ä»»ä½•æ•°æ®ï¼ŒåŒ…æ‹¬çŠ¶æ€ç å’Œå¤´ã€‚</td>
</tr>
<tr>
<td align="left">11</td>
<td align="left"><strong>void resetBuffer()</strong> æ¸…é™¤å“åº”ä¸­åŸºç¡€ç¼“å†²åŒºçš„å†…å®¹ï¼Œä¸æ¸…é™¤çŠ¶æ€ç å’Œå¤´ã€‚</td>
</tr>
<tr>
<td align="left">12</td>
<td align="left"><strong>void sendError(int sc)</strong> ä½¿ç”¨æŒ‡å®šçš„çŠ¶æ€ç å‘é€é”™è¯¯å“åº”åˆ°å®¢æˆ·ç«¯ï¼Œå¹¶æ¸…é™¤ç¼“å†²åŒºã€‚</td>
</tr>
<tr>
<td align="left">13</td>
<td align="left"><strong>void sendError(int sc, String msg)</strong> ä½¿ç”¨æŒ‡å®šçš„çŠ¶æ€å‘é€é”™è¯¯å“åº”åˆ°å®¢æˆ·ç«¯ã€‚</td>
</tr>
<tr>
<td align="left">14</td>
<td align="left"><strong>void sendRedirect(String location)</strong> ä½¿ç”¨æŒ‡å®šçš„é‡å®šå‘ä½ç½® URL å‘é€ä¸´æ—¶é‡å®šå‘å“åº”åˆ°å®¢æˆ·ç«¯ã€‚</td>
</tr>
<tr>
<td align="left">15</td>
<td align="left"><strong>void setBufferSize(int size)</strong> ä¸ºå“åº”ä¸»ä½“è®¾ç½®é¦–é€‰çš„ç¼“å†²åŒºå¤§å°ã€‚</td>
</tr>
<tr>
<td align="left">16</td>
<td align="left"><strong>void setCharacterEncoding(String charset)</strong> è®¾ç½®è¢«å‘é€åˆ°å®¢æˆ·ç«¯çš„å“åº”çš„å­—ç¬¦ç¼–ç ï¼ˆMIME å­—ç¬¦é›†ï¼‰ä¾‹å¦‚ï¼ŒUTF-8ã€‚</td>
</tr>
<tr>
<td align="left">17</td>
<td align="left"><strong>void setContentLength(int len)</strong> è®¾ç½®åœ¨ HTTP Servlet å“åº”ä¸­çš„å†…å®¹ä¸»ä½“çš„é•¿åº¦ï¼Œè¯¥æ–¹æ³•è®¾ç½® HTTP Content-Length å¤´ã€‚</td>
</tr>
<tr>
<td align="left">18</td>
<td align="left"><strong>void setContentType(String type)</strong> å¦‚æœå“åº”è¿˜æœªè¢«æäº¤ï¼Œè®¾ç½®è¢«å‘é€åˆ°å®¢æˆ·ç«¯çš„å“åº”çš„å†…å®¹ç±»å‹ã€‚</td>
</tr>
<tr>
<td align="left">19</td>
<td align="left"><strong>void setDateHeader(String name, long date)</strong> è®¾ç½®ä¸€ä¸ªå¸¦æœ‰ç»™å®šçš„åç§°å’Œæ—¥æœŸå€¼çš„å“åº”æŠ¥å¤´ã€‚</td>
</tr>
<tr>
<td align="left">20</td>
<td align="left"><strong>void setHeader(String name, String value)</strong> è®¾ç½®ä¸€ä¸ªå¸¦æœ‰ç»™å®šçš„åç§°å’Œå€¼çš„å“åº”æŠ¥å¤´ã€‚</td>
</tr>
<tr>
<td align="left">21</td>
<td align="left"><strong>void setIntHeader(String name, int value)</strong> è®¾ç½®ä¸€ä¸ªå¸¦æœ‰ç»™å®šçš„åç§°å’Œæ•´æ•°å€¼çš„å“åº”æŠ¥å¤´ã€‚</td>
</tr>
<tr>
<td align="left">22</td>
<td align="left"><strong>void setLocale(Locale loc)</strong> å¦‚æœå“åº”è¿˜æœªè¢«æäº¤ï¼Œè®¾ç½®å“åº”çš„åŒºåŸŸã€‚</td>
</tr>
<tr>
<td align="left">23</td>
<td align="left"><strong>void setStatus(int sc)</strong> ä¸ºè¯¥å“åº”è®¾ç½®çŠ¶æ€ç ã€‚</td>
</tr>
</tbody></table>
<h3 id="ğŸHTTP-Header-å“åº”å®ä¾‹"><a href="#ğŸHTTP-Header-å“åº”å®ä¾‹" class="headerlink" title="ğŸHTTP Header å“åº”å®ä¾‹"></a>ğŸHTTP Header å“åº”å®ä¾‹</h3><p>æ‚¨å·²ç»åœ¨å‰é¢çš„å®ä¾‹ä¸­çœ‹åˆ° setContentType() æ–¹æ³•ï¼Œä¸‹é¢çš„å®ä¾‹ä¹Ÿä½¿ç”¨äº†åŒæ ·çš„æ–¹æ³•ï¼Œæ­¤å¤–ï¼Œæˆ‘ä»¬ä¼šç”¨ <strong>setIntHeader()</strong> æ–¹æ³•æ¥è®¾ç½® <strong>Refresh</strong> å¤´ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥å¿…éœ€çš„ java åº“</span></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/Refresh"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰©å±• HttpServlet ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Refresh</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤„ç† GET æ–¹æ³•è¯·æ±‚çš„æ–¹æ³•</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                        HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">                <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">      </span>{</span><br><span class="line">          <span class="comment">// è®¾ç½®åˆ·æ–°è‡ªåŠ¨åŠ è½½æ—¶é—´ä¸º 5 ç§’</span></span><br><span class="line">          response.setIntHeader(<span class="string">"Refresh"</span>, <span class="number">5</span>);</span><br><span class="line">          <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">          response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">         </span><br><span class="line">          <span class="comment">//ä½¿ç”¨é»˜è®¤æ—¶åŒºå’Œè¯­è¨€ç¯å¢ƒè·å¾—ä¸€ä¸ªæ—¥å†  </span></span><br><span class="line">          Calendar cale = Calendar.getInstance();  </span><br><span class="line">          <span class="comment">//å°†Calendarç±»å‹è½¬æ¢æˆDateç±»å‹  </span></span><br><span class="line">          Date tasktime=cale.getTime();  </span><br><span class="line">          <span class="comment">//è®¾ç½®æ—¥æœŸè¾“å‡ºçš„æ ¼å¼  </span></span><br><span class="line">          SimpleDateFormat df=<span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>);  </span><br><span class="line">          <span class="comment">//æ ¼å¼åŒ–è¾“å‡º  </span></span><br><span class="line">          String nowTime = df.format(tasktime);</span><br><span class="line">          PrintWriter out = response.getWriter();</span><br><span class="line">          String title = <span class="string">"è‡ªåŠ¨åˆ·æ–° Header è®¾ç½® - äº‘æ¾ˆå®ä¾‹"</span>;</span><br><span class="line">          String docType =</span><br><span class="line">          <span class="string">"&lt;!DOCTYPE html&gt;\n"</span>;</span><br><span class="line">          out.println(docType +</span><br><span class="line">            <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span>+</span><br><span class="line">            <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;p&gt;å½“å‰æ—¶é—´æ˜¯ï¼š"</span> + nowTime + <span class="string">"&lt;/p&gt;\n"</span>);</span><br><span class="line">      }</span><br><span class="line">      <span class="comment">// å¤„ç† POST æ–¹æ³•è¯·æ±‚çš„æ–¹æ³•</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                         HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">          <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">         doGet(request, response);</span><br><span class="line">      }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šæµ‹è¯•å®ä¾‹æ˜¯ä½äº TomcatTest é¡¹ç›®ä¸‹ï¼Œå¯¹åº”çš„ web.xml é…ç½®ä¸ºï¼š</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span>  </span><br><span class="line">     <span class="comment">&lt;!-- ç±»å --&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>Refresh<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span>  </span><br><span class="line">    <span class="comment">&lt;!-- æ‰€åœ¨çš„åŒ… --&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.runoob.test.Refresh<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>Refresh<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span>  </span><br><span class="line">    <span class="comment">&lt;!-- è®¿é—®çš„ç½‘å€ --&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/Refresh<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨ï¼Œè°ƒç”¨ä¸Šé¢çš„ Servletï¼Œæ¯éš” 5 ç§’ä¼šæ˜¾ç¤ºå½“å‰ç³»ç»Ÿæ—¶é—´ã€‚åªè¦è¿è¡Œ Servlet å¹¶ç¨ç­‰ç‰‡åˆ»ï¼Œå³å¯çœ‹åˆ°å¦‚ä¸‹çš„ç»“æœï¼š</p>
<p><a href="https://imgchr.com/i/wPwqQP" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/09/03/wPwqQP.png" alt="wPwqQP.png"></a></p>
<h2 id="ğŸŒ¸Servlet-HTTP-çŠ¶æ€ç "><a href="#ğŸŒ¸Servlet-HTTP-çŠ¶æ€ç " class="headerlink" title="ğŸŒ¸Servlet HTTP çŠ¶æ€ç "></a>ğŸŒ¸Servlet HTTP çŠ¶æ€ç </h2><p>HTTP è¯·æ±‚å’Œ HTTP å“åº”æ¶ˆæ¯çš„æ ¼å¼æ˜¯ç±»ä¼¼çš„ï¼Œç»“æ„å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆå§‹çŠ¶æ€è¡Œ + å›è½¦æ¢è¡Œç¬¦ï¼ˆå›è½¦+æ¢è¡Œï¼‰</li>
<li>é›¶ä¸ªæˆ–å¤šä¸ªæ ‡é¢˜è¡Œ+å›è½¦æ¢è¡Œç¬¦</li>
<li>ä¸€ä¸ªç©ºç™½è¡Œï¼Œå³å›è½¦æ¢è¡Œç¬¦</li>
<li>ä¸€ä¸ªå¯é€‰çš„æ¶ˆæ¯ä¸»ä½“ï¼Œæ¯”å¦‚æ–‡ä»¶ã€æŸ¥è¯¢æ•°æ®æˆ–æŸ¥è¯¢è¾“å‡º</li>
</ul>
<p>ä¾‹å¦‚ï¼ŒæœåŠ¡å™¨çš„å“åº”å¤´å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Content-Type: text/html</span><br><span class="line">Header2: ...</span><br><span class="line">...</span><br><span class="line">HeaderN: ...</span><br><span class="line">  (Blank Line)</span><br><span class="line"><span class="meta">&lt;!doctype ...&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span>...<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>çŠ¶æ€è¡ŒåŒ…æ‹¬ HTTP ç‰ˆæœ¬ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º HTTP/1.1ï¼‰ã€ä¸€ä¸ªçŠ¶æ€ç ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º 200ï¼‰å’Œä¸€ä¸ªå¯¹åº”äºçŠ¶æ€ç çš„çŸ­æ¶ˆæ¯ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º OKï¼‰ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å¯èƒ½ä» Web æœåŠ¡å™¨è¿”å›çš„ HTTP çŠ¶æ€ç å’Œç›¸å…³çš„ä¿¡æ¯åˆ—è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th align="left">ä»£ç </th>
<th align="left">æ¶ˆæ¯</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">100</td>
<td align="left">Continue</td>
<td align="left">åªæœ‰è¯·æ±‚çš„ä¸€éƒ¨åˆ†å·²ç»è¢«æœåŠ¡å™¨æ¥æ”¶ï¼Œä½†åªè¦å®ƒæ²¡æœ‰è¢«æ‹’ç»ï¼Œå®¢æˆ·ç«¯åº”ç»§ç»­è¯¥è¯·æ±‚ã€‚</td>
</tr>
<tr>
<td align="left">101</td>
<td align="left">Switching Protocols</td>
<td align="left">æœåŠ¡å™¨åˆ‡æ¢åè®®ã€‚</td>
</tr>
<tr>
<td align="left">200</td>
<td align="left">OK</td>
<td align="left">è¯·æ±‚æˆåŠŸã€‚</td>
</tr>
<tr>
<td align="left">201</td>
<td align="left">Created</td>
<td align="left">è¯¥è¯·æ±‚æ˜¯å®Œæ•´çš„ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„èµ„æºã€‚</td>
</tr>
<tr>
<td align="left">202</td>
<td align="left">Accepted</td>
<td align="left">è¯¥è¯·æ±‚è¢«æ¥å—å¤„ç†ï¼Œä½†æ˜¯è¯¥å¤„ç†æ˜¯ä¸å®Œæ•´çš„ã€‚</td>
</tr>
<tr>
<td align="left">203</td>
<td align="left">Non-authoritative Information</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">204</td>
<td align="left">No Content</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">205</td>
<td align="left">Reset Content</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">206</td>
<td align="left">Partial Content</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">300</td>
<td align="left">Multiple Choices</td>
<td align="left">é“¾æ¥åˆ—è¡¨ã€‚ç”¨æˆ·å¯ä»¥é€‰æ‹©ä¸€ä¸ªé“¾æ¥ï¼Œè¿›å…¥åˆ°è¯¥ä½ç½®ã€‚æœ€å¤šäº”ä¸ªåœ°å€ã€‚</td>
</tr>
<tr>
<td align="left">301</td>
<td align="left">Moved Permanently</td>
<td align="left">æ‰€è¯·æ±‚çš„é¡µé¢å·²ç»è½¬ç§»åˆ°ä¸€ä¸ªæ–°çš„ URLã€‚</td>
</tr>
<tr>
<td align="left">302</td>
<td align="left">Found</td>
<td align="left">æ‰€è¯·æ±‚çš„é¡µé¢å·²ç»ä¸´æ—¶è½¬ç§»åˆ°ä¸€ä¸ªæ–°çš„ URLã€‚</td>
</tr>
<tr>
<td align="left">303</td>
<td align="left">See Other</td>
<td align="left">æ‰€è¯·æ±‚çš„é¡µé¢å¯ä»¥åœ¨å¦ä¸€ä¸ªä¸åŒçš„ URL ä¸‹è¢«æ‰¾åˆ°ã€‚</td>
</tr>
<tr>
<td align="left">304</td>
<td align="left">Not Modified</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">305</td>
<td align="left">Use Proxy</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">306</td>
<td align="left"><em>Unused</em></td>
<td align="left">åœ¨ä»¥å‰çš„ç‰ˆæœ¬ä¸­ä½¿ç”¨è¯¥ä»£ç ã€‚ç°åœ¨å·²ä¸å†ä½¿ç”¨å®ƒï¼Œä½†ä»£ç ä»è¢«ä¿ç•™ã€‚</td>
</tr>
<tr>
<td align="left">307</td>
<td align="left">Temporary Redirect</td>
<td align="left">æ‰€è¯·æ±‚çš„é¡µé¢å·²ç»ä¸´æ—¶è½¬ç§»åˆ°ä¸€ä¸ªæ–°çš„ URLã€‚</td>
</tr>
<tr>
<td align="left">400</td>
<td align="left">Bad Request</td>
<td align="left">æœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚ã€‚</td>
</tr>
<tr>
<td align="left">401</td>
<td align="left">Unauthorized</td>
<td align="left">æ‰€è¯·æ±‚çš„é¡µé¢éœ€è¦ç”¨æˆ·åå’Œå¯†ç ã€‚</td>
</tr>
<tr>
<td align="left">402</td>
<td align="left">Payment Required</td>
<td align="left"><em>æ‚¨è¿˜ä¸èƒ½ä½¿ç”¨è¯¥ä»£ç ã€‚</em></td>
</tr>
<tr>
<td align="left">403</td>
<td align="left">Forbidden</td>
<td align="left">ç¦æ­¢è®¿é—®æ‰€è¯·æ±‚çš„é¡µé¢ã€‚</td>
</tr>
<tr>
<td align="left">404</td>
<td align="left">Not Found</td>
<td align="left">æœåŠ¡å™¨æ— æ³•æ‰¾åˆ°æ‰€è¯·æ±‚çš„é¡µé¢ã€‚.</td>
</tr>
<tr>
<td align="left">405</td>
<td align="left">Method Not Allowed</td>
<td align="left">åœ¨è¯·æ±‚ä¸­æŒ‡å®šçš„æ–¹æ³•æ˜¯ä¸å…è®¸çš„ã€‚</td>
</tr>
<tr>
<td align="left">406</td>
<td align="left">Not Acceptable</td>
<td align="left">æœåŠ¡å™¨åªç”Ÿæˆä¸€ä¸ªä¸è¢«å®¢æˆ·ç«¯æ¥å—çš„å“åº”ã€‚</td>
</tr>
<tr>
<td align="left">407</td>
<td align="left">Proxy Authentication Required</td>
<td align="left">åœ¨è¯·æ±‚é€è¾¾ä¹‹å‰ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨ä»£ç†æœåŠ¡å™¨çš„éªŒè¯ã€‚</td>
</tr>
<tr>
<td align="left">408</td>
<td align="left">Request Timeout</td>
<td align="left">è¯·æ±‚éœ€è¦çš„æ—¶é—´æ¯”æœåŠ¡å™¨èƒ½å¤Ÿç­‰å¾…çš„æ—¶é—´é•¿ï¼Œè¶…æ—¶ã€‚</td>
</tr>
<tr>
<td align="left">409</td>
<td align="left">Conflict</td>
<td align="left">è¯·æ±‚å› ä¸ºå†²çªæ— æ³•å®Œæˆã€‚</td>
</tr>
<tr>
<td align="left">410</td>
<td align="left">Gone</td>
<td align="left">æ‰€è¯·æ±‚çš„é¡µé¢ä¸å†å¯ç”¨ã€‚</td>
</tr>
<tr>
<td align="left">411</td>
<td align="left">Length Required</td>
<td align="left">â€œContent-Lengthâ€ æœªå®šä¹‰ã€‚æœåŠ¡å™¨æ— æ³•å¤„ç†å®¢æˆ·ç«¯å‘é€çš„ä¸å¸¦ Content-Length çš„è¯·æ±‚ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td align="left">412</td>
<td align="left">Precondition Failed</td>
<td align="left">è¯·æ±‚ä¸­ç»™å‡ºçš„å…ˆå†³æ¡ä»¶è¢«æœåŠ¡å™¨è¯„ä¼°ä¸º falseã€‚</td>
</tr>
<tr>
<td align="left">413</td>
<td align="left">Request Entity Too Large</td>
<td align="left">æœåŠ¡å™¨ä¸æ¥å—è¯¥è¯·æ±‚ï¼Œå› ä¸ºè¯·æ±‚å®ä½“è¿‡å¤§ã€‚</td>
</tr>
<tr>
<td align="left">414</td>
<td align="left">Request-url Too Long</td>
<td align="left">æœåŠ¡å™¨ä¸æ¥å—è¯¥è¯·æ±‚ï¼Œå› ä¸º URL å¤ªé•¿ã€‚å½“æ‚¨è½¬æ¢ä¸€ä¸ª â€œpostâ€ è¯·æ±‚ä¸ºä¸€ä¸ªå¸¦æœ‰é•¿çš„æŸ¥è¯¢ä¿¡æ¯çš„ â€œgetâ€ è¯·æ±‚æ—¶å‘ç”Ÿã€‚</td>
</tr>
<tr>
<td align="left">415</td>
<td align="left">Unsupported Media Type</td>
<td align="left">æœåŠ¡å™¨ä¸æ¥å—è¯¥è¯·æ±‚ï¼Œå› ä¸ºåª’ä½“ç±»å‹ä¸è¢«æ”¯æŒã€‚</td>
</tr>
<tr>
<td align="left">417</td>
<td align="left">Expectation Failed</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">500</td>
<td align="left">Internal Server Error</td>
<td align="left">æœªå®Œæˆçš„è¯·æ±‚ã€‚æœåŠ¡å™¨é‡åˆ°äº†ä¸€ä¸ªæ„å¤–çš„æƒ…å†µã€‚</td>
</tr>
<tr>
<td align="left">501</td>
<td align="left">Not Implemented</td>
<td align="left">æœªå®Œæˆçš„è¯·æ±‚ã€‚æœåŠ¡å™¨ä¸æ”¯æŒæ‰€éœ€çš„åŠŸèƒ½ã€‚</td>
</tr>
<tr>
<td align="left">502</td>
<td align="left">Bad Gateway</td>
<td align="left">æœªå®Œæˆçš„è¯·æ±‚ã€‚æœåŠ¡å™¨ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº”ã€‚</td>
</tr>
<tr>
<td align="left">503</td>
<td align="left">Service Unavailable</td>
<td align="left">æœªå®Œæˆçš„è¯·æ±‚ã€‚æœåŠ¡å™¨æš‚æ—¶è¶…è½½æˆ–æ­»æœºã€‚</td>
</tr>
<tr>
<td align="left">504</td>
<td align="left">Gateway Timeout</td>
<td align="left">ç½‘å…³è¶…æ—¶ã€‚</td>
</tr>
<tr>
<td align="left">505</td>
<td align="left">HTTP Version Not Supported</td>
<td align="left">æœåŠ¡å™¨ä¸æ”¯æŒâ€HTTPåè®®â€ç‰ˆæœ¬ã€‚### ğŸHTTP è¯·æ±‚å’Œ HTTP å“åº”æ¶ˆæ¯çš„æ ¼å¼æ˜¯ç±»ä¼¼çš„ï¼Œç»“æ„å¦‚ä¸‹ï¼š</td>
</tr>
</tbody></table>
<h3 id="ğŸè®¾ç½®-HTTP-çŠ¶æ€ä»£ç çš„æ–¹æ³•"><a href="#ğŸè®¾ç½®-HTTP-çŠ¶æ€ä»£ç çš„æ–¹æ³•" class="headerlink" title="ğŸè®¾ç½® HTTP çŠ¶æ€ä»£ç çš„æ–¹æ³•"></a>ğŸè®¾ç½® HTTP çŠ¶æ€ä»£ç çš„æ–¹æ³•</h3><p>ä¸‹é¢çš„æ–¹æ³•å¯ç”¨äºåœ¨ Servlet ç¨‹åºä¸­è®¾ç½® HTTP çŠ¶æ€ç ã€‚è¿™äº›æ–¹æ³•é€šè¿‡ <em>HttpServletResponse</em> å¯¹è±¡å¯ç”¨ã€‚</p>
<table>
<thead>
<tr>
<th align="left">åºå·</th>
<th align="left">æ–¹æ³• &amp; æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>public void setStatus ( int statusCode )</strong> è¯¥æ–¹æ³•è®¾ç½®ä¸€ä¸ªä»»æ„çš„çŠ¶æ€ç ã€‚setStatus æ–¹æ³•æ¥å—ä¸€ä¸ª intï¼ˆçŠ¶æ€ç ï¼‰ä½œä¸ºå‚æ•°ã€‚å¦‚æœæ‚¨çš„å“åº”åŒ…å«äº†ä¸€ä¸ªç‰¹æ®Šçš„çŠ¶æ€ç å’Œæ–‡æ¡£ï¼Œè¯·ç¡®ä¿åœ¨ä½¿ç”¨ <em>PrintWriter</em> å®é™…è¿”å›ä»»ä½•å†…å®¹ä¹‹å‰è°ƒç”¨ setStatusã€‚</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>public void sendRedirect(String url)</strong> è¯¥æ–¹æ³•ç”Ÿæˆä¸€ä¸ª 302 å“åº”ï¼Œè¿åŒä¸€ä¸ªå¸¦æœ‰æ–°æ–‡æ¡£ URL çš„ <em>Location</em> å¤´ã€‚</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>public void sendError(int code, String message)</strong> è¯¥æ–¹æ³•å‘é€ä¸€ä¸ªçŠ¶æ€ç ï¼ˆé€šå¸¸ä¸º 404ï¼‰ï¼Œè¿åŒä¸€ä¸ªåœ¨ HTML æ–‡æ¡£å†…éƒ¨è‡ªåŠ¨æ ¼å¼åŒ–å¹¶å‘é€åˆ°å®¢æˆ·ç«¯çš„çŸ­æ¶ˆæ¯ã€‚</td>
</tr>
</tbody></table>
<h3 id="ğŸHTTP-çŠ¶æ€ç å®ä¾‹"><a href="#ğŸHTTP-çŠ¶æ€ç å®ä¾‹" class="headerlink" title="ğŸHTTP çŠ¶æ€ç å®ä¾‹"></a>ğŸHTTP çŠ¶æ€ç å®ä¾‹</h3><p>ä¸‹é¢çš„ä¾‹å­æŠŠ 407 é”™è¯¯ä»£ç å‘é€åˆ°å®¢æˆ·ç«¯æµè§ˆå™¨ï¼Œæµè§ˆå™¨ä¼šæ˜¾ç¤º â€œNeed authentication!!!â€ æ¶ˆæ¯ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥å¿…éœ€çš„ java åº“</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/showError"</span>)</span><br><span class="line"><span class="comment">// æ‰©å±• HttpServlet ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">showError</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// å¤„ç† GET æ–¹æ³•è¯·æ±‚çš„æ–¹æ³•</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                    HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">      <span class="comment">// è®¾ç½®é”™è¯¯ä»£ç å’ŒåŸå› </span></span><br><span class="line">      response.sendError(<span class="number">407</span>, <span class="string">"Need authentication!!!"</span> );</span><br><span class="line">  }</span><br><span class="line">  <span class="comment">// å¤„ç† POST æ–¹æ³•è¯·æ±‚çš„æ–¹æ³•</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                     HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">      <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">     doGet(request, response);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨ï¼Œè°ƒç”¨ä¸Šé¢çš„ Servlet å°†æ˜¾ç¤ºä»¥ä¸‹ç»“æœï¼š</p>
<p><a href="https://imgchr.com/i/wPro0f" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/09/03/wPro0f.png" alt="wPro0f.png"></a></p>
<hr>
<h2 id="ğŸŒ¸Servlet-ç¼–å†™è¿‡æ»¤å™¨"><a href="#ğŸŒ¸Servlet-ç¼–å†™è¿‡æ»¤å™¨" class="headerlink" title="ğŸŒ¸Servlet ç¼–å†™è¿‡æ»¤å™¨"></a>ğŸŒ¸Servlet ç¼–å†™è¿‡æ»¤å™¨</h2><p>Servlet è¿‡æ»¤å™¨å¯ä»¥åŠ¨æ€åœ°æ‹¦æˆªè¯·æ±‚å’Œå“åº”ï¼Œä»¥å˜æ¢æˆ–ä½¿ç”¨åŒ…å«åœ¨è¯·æ±‚æˆ–å“åº”ä¸­çš„ä¿¡æ¯ã€‚</p>
<p>å¯ä»¥å°†ä¸€ä¸ªæˆ–å¤šä¸ª Servlet è¿‡æ»¤å™¨é™„åŠ åˆ°ä¸€ä¸ª Servlet æˆ–ä¸€ç»„ Servletã€‚Servlet è¿‡æ»¤å™¨ä¹Ÿå¯ä»¥é™„åŠ åˆ° JavaServer Pages (JSP) æ–‡ä»¶å’Œ HTML é¡µé¢ã€‚è°ƒç”¨ Servlet å‰è°ƒç”¨æ‰€æœ‰é™„åŠ çš„ Servlet è¿‡æ»¤å™¨ã€‚</p>
<p>Servlet è¿‡æ»¤å™¨æ˜¯å¯ç”¨äº Servlet ç¼–ç¨‹çš„ Java ç±»ï¼Œå¯ä»¥å®ç°ä»¥ä¸‹ç›®çš„ï¼š</p>
<ul>
<li>åœ¨å®¢æˆ·ç«¯çš„è¯·æ±‚è®¿é—®åç«¯èµ„æºä¹‹å‰ï¼Œæ‹¦æˆªè¿™äº›è¯·æ±‚ã€‚</li>
<li>åœ¨æœåŠ¡å™¨çš„å“åº”å‘é€å›å®¢æˆ·ç«¯ä¹‹å‰ï¼Œå¤„ç†è¿™äº›å“åº”ã€‚</li>
</ul>
<p>æ ¹æ®è§„èŒƒå»ºè®®çš„å„ç§ç±»å‹çš„è¿‡æ»¤å™¨ï¼š</p>
<ul>
<li>èº«ä»½éªŒè¯è¿‡æ»¤å™¨ï¼ˆAuthentication Filtersï¼‰ã€‚</li>
<li>æ•°æ®å‹ç¼©è¿‡æ»¤å™¨ï¼ˆData compression Filtersï¼‰ã€‚</li>
<li>åŠ å¯†è¿‡æ»¤å™¨ï¼ˆEncryption Filtersï¼‰ã€‚</li>
<li>è§¦å‘èµ„æºè®¿é—®äº‹ä»¶è¿‡æ»¤å™¨ã€‚</li>
<li>å›¾åƒè½¬æ¢è¿‡æ»¤å™¨ï¼ˆImage Conversion Filtersï¼‰ã€‚</li>
<li>æ—¥å¿—è®°å½•å’Œå®¡æ ¸è¿‡æ»¤å™¨ï¼ˆLogging and Auditing Filtersï¼‰ã€‚</li>
<li>MIME-TYPE é“¾è¿‡æ»¤å™¨ï¼ˆMIME-TYPE Chain Filtersï¼‰ã€‚</li>
<li>æ ‡è®°åŒ–è¿‡æ»¤å™¨ï¼ˆTokenizing Filtersï¼‰ã€‚</li>
<li>XSL/T è¿‡æ»¤å™¨ï¼ˆXSL/T Filtersï¼‰ï¼Œè½¬æ¢ XML å†…å®¹ã€‚</li>
</ul>
<p>è¿‡æ»¤å™¨é€šè¿‡ Web éƒ¨ç½²æè¿°ç¬¦ï¼ˆweb.xmlï¼‰ä¸­çš„ XML æ ‡ç­¾æ¥å£°æ˜ï¼Œç„¶åæ˜ å°„åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºçš„éƒ¨ç½²æè¿°ç¬¦ä¸­çš„ Servlet åç§°æˆ– URL æ¨¡å¼ã€‚</p>
<p>å½“ Web å®¹å™¨å¯åŠ¨ Web åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šä¸ºæ‚¨åœ¨éƒ¨ç½²æè¿°ç¬¦ä¸­å£°æ˜çš„æ¯ä¸€ä¸ªè¿‡æ»¤å™¨åˆ›å»ºä¸€ä¸ªå®ä¾‹ã€‚</p>
<p>Filterçš„æ‰§è¡Œé¡ºåºä¸åœ¨web.xmlé…ç½®æ–‡ä»¶ä¸­çš„é…ç½®é¡ºåºä¸€è‡´ï¼Œä¸€èˆ¬æŠŠFilteré…ç½®åœ¨æ‰€æœ‰çš„Servletä¹‹å‰ã€‚</p>
<h3 id="ğŸServlet-è¿‡æ»¤å™¨æ–¹æ³•"><a href="#ğŸServlet-è¿‡æ»¤å™¨æ–¹æ³•" class="headerlink" title="ğŸServlet è¿‡æ»¤å™¨æ–¹æ³•"></a>ğŸServlet è¿‡æ»¤å™¨æ–¹æ³•</h3><p>è¿‡æ»¤å™¨æ˜¯ä¸€ä¸ªå®ç°äº† javax.servlet.Filter æ¥å£çš„ Java ç±»ã€‚javax.servlet.Filter æ¥å£å®šä¹‰äº†ä¸‰ä¸ªæ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th align="left">åºå·</th>
<th align="left">æ–¹æ³• &amp; æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>public void doFilter (ServletRequest, ServletResponse, FilterChain)</strong> è¯¥æ–¹æ³•å®Œæˆå®é™…çš„è¿‡æ»¤æ“ä½œï¼Œå½“å®¢æˆ·ç«¯è¯·æ±‚æ–¹æ³•ä¸è¿‡æ»¤å™¨è®¾ç½®åŒ¹é…çš„URLæ—¶ï¼ŒServletå®¹å™¨å°†å…ˆè°ƒç”¨è¿‡æ»¤å™¨çš„doFilteræ–¹æ³•ã€‚FilterChainç”¨æˆ·è®¿é—®åç»­è¿‡æ»¤å™¨ã€‚</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>public void init(FilterConfig filterConfig)</strong> web åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œweb æœåŠ¡å™¨å°†åˆ›å»ºFilter çš„å®ä¾‹å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å…¶initæ–¹æ³•ï¼Œè¯»å–web.xmlé…ç½®ï¼Œå®Œæˆå¯¹è±¡çš„åˆå§‹åŒ–åŠŸèƒ½ï¼Œä»è€Œä¸ºåç»­çš„ç”¨æˆ·è¯·æ±‚ä½œå¥½æ‹¦æˆªçš„å‡†å¤‡å·¥ä½œï¼ˆfilterå¯¹è±¡åªä¼šåˆ›å»ºä¸€æ¬¡ï¼Œinitæ–¹æ³•ä¹Ÿåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼‰ã€‚å¼€å‘äººå‘˜é€šè¿‡initæ–¹æ³•çš„å‚æ•°ï¼Œå¯è·å¾—ä»£è¡¨å½“å‰filteré…ç½®ä¿¡æ¯çš„FilterConfigå¯¹è±¡ã€‚</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>public void destroy()</strong> Servletå®¹å™¨åœ¨é”€æ¯è¿‡æ»¤å™¨å®ä¾‹å‰è°ƒç”¨è¯¥æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­é‡Šæ”¾Servletè¿‡æ»¤å™¨å ç”¨çš„èµ„æºã€‚</td>
</tr>
</tbody></table>
<h3 id="ğŸFilterConfig-ä½¿ç”¨"><a href="#ğŸFilterConfig-ä½¿ç”¨" class="headerlink" title="ğŸFilterConfig ä½¿ç”¨"></a>ğŸFilterConfig ä½¿ç”¨</h3><p>Filter çš„ init æ–¹æ³•ä¸­æä¾›äº†ä¸€ä¸ª FilterConfig å¯¹è±¡ã€‚</p>
<p>å¦‚ web.xml æ–‡ä»¶é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">&lt;filter&gt;</span><br><span class="line">    &lt;filter-name&gt;LogFilter&lt;/filter-name&gt;</span><br><span class="line">    &lt;filter-<span class="class"><span class="keyword">class</span>&gt;<span class="title">com</span>.<span class="title">runoob</span>.<span class="title">test</span>.<span class="title">LogFilter</span>&lt;/<span class="title">filter</span>-<span class="title">class</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">init</span>-<span class="title">param</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">param</span>-<span class="title">name</span>&gt;<span class="title">Site</span>&lt;/<span class="title">param</span>-<span class="title">name</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">param</span>-<span class="title">value</span>&gt;äº‘æ¾ˆ&lt;/<span class="title">param</span>-<span class="title">value</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">init</span>-<span class="title">param</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">filter</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>



<p>åœ¨ init æ–¹æ³•ä½¿ç”¨ FilterConfig å¯¹è±¡è·å–å‚æ•°ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title">init</span><span class="params">(FilterConfig config)</span> <span class="keyword">throws</span> ServletException </span>{</span><br><span class="line">    <span class="comment">// è·å–åˆå§‹åŒ–å‚æ•°</span></span><br><span class="line">    String site = config.getInitParameter(<span class="string">"Site"</span>); </span><br><span class="line">    <span class="comment">// è¾“å‡ºåˆå§‹åŒ–å‚æ•°</span></span><br><span class="line">    System.out.println(<span class="string">"ç½‘ç«™åç§°: "</span> + site); </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸServlet-è¿‡æ»¤å™¨å®ä¾‹"><a href="#ğŸServlet-è¿‡æ»¤å™¨å®ä¾‹" class="headerlink" title="ğŸServlet è¿‡æ»¤å™¨å®ä¾‹"></a>ğŸServlet è¿‡æ»¤å™¨å®ä¾‹</h3><p>ä»¥ä¸‹æ˜¯ Servlet è¿‡æ»¤å™¨çš„å®ä¾‹ï¼Œå°†è¾“å‡ºç½‘ç«™åç§°å’Œåœ°å€ã€‚æœ¬å®ä¾‹è®©æ‚¨å¯¹ Servlet è¿‡æ»¤å™¨æœ‰åŸºæœ¬çš„äº†è§£ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ¦‚å¿µç¼–å†™æ›´å¤æ‚çš„è¿‡æ»¤å™¨åº”ç”¨ç¨‹åºï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.Filter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.FilterChain;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.FilterConfig;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title">init</span><span class="params">(FilterConfig config)</span> <span class="keyword">throws</span> ServletException </span>{</span><br><span class="line">        <span class="comment">// è·å–åˆå§‹åŒ–å‚æ•°</span></span><br><span class="line">        String site = config.getInitParameter(<span class="string">"Site"</span>); </span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¾“å‡ºåˆå§‹åŒ–å‚æ•°</span></span><br><span class="line">        System.out.println(<span class="string">"ç½‘ç«™åç§°: "</span> + site); </span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="keyword">throws</span> java.io.IOException, ServletException </span>{</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¾“å‡ºç«™ç‚¹åç§°</span></span><br><span class="line">        System.out.println(<span class="string">"ç«™ç‚¹ç½‘å€ï¼šhttp://liudufu.github.io"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æŠŠè¯·æ±‚ä¼ å›è¿‡æ»¤é“¾</span></span><br><span class="line">        chain.doFilter(request,response);</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">( )</span></span>{</span><br><span class="line">        <span class="comment">/* åœ¨ Filter å®ä¾‹è¢« Web å®¹å™¨ä»æœåŠ¡ç§»é™¤ä¹‹å‰è°ƒç”¨ */</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™è¾¹ä½¿ç”¨å‰æ–‡æåˆ°çš„ DisplayHeader.java ä¸ºä¾‹å­ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.runoob.test;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¼å…¥å¿…éœ€çš„ java åº“</span></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SuppressWarnings</span>(<span class="string">"serial"</span>)</span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/DisplayHeader"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰©å±• HttpServlet ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DisplayHeader</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤„ç† GET æ–¹æ³•è¯·æ±‚çš„æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line"></span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        String title = <span class="string">"HTTP Header è¯·æ±‚å®ä¾‹ - äº‘æ¾ˆå®ä¾‹"</span>;</span><br><span class="line">        String docType =</span><br><span class="line">            <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">            out.println(docType +</span><br><span class="line">            <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span>+</span><br><span class="line">            <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;table width=\"100%\" border=\"1\" align=\"center\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;tr bgcolor=\"#949494\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;th&gt;Header åç§°&lt;/th&gt;&lt;th&gt;Header å€¼&lt;/th&gt;\n"</span>+</span><br><span class="line">            <span class="string">"&lt;/tr&gt;\n"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="meta">@SuppressWarnings</span>(<span class="string">"rawtypes"</span>)</span><br><span class="line">		Enumeration headerNames = request.getHeaderNames();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(headerNames.hasMoreElements()) {</span><br><span class="line">            String paramName = (String)headerNames.nextElement();</span><br><span class="line">            out.print(<span class="string">"&lt;tr&gt;&lt;td&gt;"</span> + paramName + <span class="string">"&lt;/td&gt;\n"</span>);</span><br><span class="line">            String paramValue = request.getHeader(paramName);</span><br><span class="line">            out.println(<span class="string">"&lt;td&gt; "</span> + paramValue + <span class="string">"&lt;/td&gt;&lt;/tr&gt;\n"</span>);</span><br><span class="line">        }</span><br><span class="line">        out.println(<span class="string">"&lt;/table&gt;\n&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// å¤„ç† POST æ–¹æ³•è¯·æ±‚çš„æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        doGet(request, response);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸWeb-xml-ä¸­çš„-Servlet-è¿‡æ»¤å™¨æ˜ å°„ï¼ˆServlet-Filter-Mappingï¼‰"><a href="#ğŸWeb-xml-ä¸­çš„-Servlet-è¿‡æ»¤å™¨æ˜ å°„ï¼ˆServlet-Filter-Mappingï¼‰" class="headerlink" title="ğŸWeb.xml ä¸­çš„ Servlet è¿‡æ»¤å™¨æ˜ å°„ï¼ˆServlet Filter Mappingï¼‰"></a>ğŸWeb.xml ä¸­çš„ Servlet è¿‡æ»¤å™¨æ˜ å°„ï¼ˆServlet Filter Mappingï¼‰</h3><p>å®šä¹‰è¿‡æ»¤å™¨ï¼Œç„¶åæ˜ å°„åˆ°ä¸€ä¸ª URL æˆ– Servletï¼Œè¿™ä¸å®šä¹‰ Servletï¼Œç„¶åæ˜ å°„åˆ°ä¸€ä¸ª URL æ¨¡å¼æ–¹å¼å¤§è‡´ç›¸åŒã€‚åœ¨éƒ¨ç½²æè¿°ç¬¦æ–‡ä»¶ <strong>web.xml</strong> ä¸­ä¸º filter æ ‡ç­¾åˆ›å»ºä¸‹é¢çš„æ¡ç›®ï¼š</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>LogFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.runoob.test.LogFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>Site<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>äº‘æ¾ˆ<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>LogFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span>  </span><br><span class="line">  <span class="comment">&lt;!-- ç±»å --&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>DisplayHeader<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span>  </span><br><span class="line">  <span class="comment">&lt;!-- æ‰€åœ¨çš„åŒ… --&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.runoob.test.DisplayHeader<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>DisplayHeader<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span>  </span><br><span class="line">  <span class="comment">&lt;!-- è®¿é—®çš„ç½‘å€ --&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/DisplayHeader<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šè¿°è¿‡æ»¤å™¨é€‚ç”¨äºæ‰€æœ‰çš„ Servletï¼Œå› ä¸ºæˆ‘ä»¬åœ¨é…ç½®ä¸­æŒ‡å®š <strong>/*</strong> ã€‚å¦‚æœæ‚¨åªæƒ³åœ¨å°‘æ•°çš„ Servlet ä¸Šåº”ç”¨è¿‡æ»¤å™¨ï¼Œæ‚¨å¯ä»¥æŒ‡å®šä¸€ä¸ªç‰¹å®šçš„ Servlet è·¯å¾„ã€‚</p>
<p>ç°åœ¨è¯•ç€ä»¥å¸¸ç”¨çš„æ–¹å¼è°ƒç”¨ä»»ä½• Servletï¼Œæ‚¨å°†ä¼šçœ‹åˆ°åœ¨ Web æœåŠ¡å™¨ä¸­ç”Ÿæˆçš„æ—¥å¿—ã€‚æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ Log4J è®°å½•å™¨æ¥æŠŠä¸Šé¢çš„æ—¥å¿—è®°å½•åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬è®¿é—®è¿™ä¸ªå®ä¾‹åœ°å€ <strong><a href="http://localhost:8080/TomcatTest/DisplayHeader" target="_blank" rel="noopener">http://localhost:8080/TomcatTest/DisplayHeader</a></strong>, ç„¶ååœ¨æ§åˆ¶å°çœ‹ä¸‹è¾“å‡ºå†…å®¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><a href="https://imgchr.com/i/0UGZTg" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/10/06/0UGZTg.png" alt="0UGZTg.png"></a></p>
<h3 id="ğŸä½¿ç”¨å¤šä¸ªè¿‡æ»¤å™¨"><a href="#ğŸä½¿ç”¨å¤šä¸ªè¿‡æ»¤å™¨" class="headerlink" title="ğŸä½¿ç”¨å¤šä¸ªè¿‡æ»¤å™¨"></a>ğŸä½¿ç”¨å¤šä¸ªè¿‡æ»¤å™¨</h3><p>Web åº”ç”¨ç¨‹åºå¯ä»¥æ ¹æ®ç‰¹å®šçš„ç›®çš„å®šä¹‰è‹¥å¹²ä¸ªä¸åŒçš„è¿‡æ»¤å™¨ã€‚å‡è®¾æ‚¨å®šä¹‰äº†ä¸¤ä¸ªè¿‡æ»¤å™¨ <em>AuthenFilter</em> å’Œ <em>LogFilter</em>ã€‚æ‚¨éœ€è¦åˆ›å»ºä¸€ä¸ªå¦‚ä¸‹æ‰€è¿°çš„ä¸åŒçš„æ˜ å°„ï¼Œå…¶ä½™çš„å¤„ç†ä¸ä¸Šè¿°æ‰€è®²è§£çš„å¤§è‡´ç›¸åŒï¼š</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>LogFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.runoob.test.LogFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>test-param<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>Initialization Paramter<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>AuthenFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.runoob.test.AuthenFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>test-param<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>Initialization Paramter<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>LogFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>AuthenFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸè¿‡æ»¤å™¨çš„åº”ç”¨é¡ºåº"><a href="#ğŸè¿‡æ»¤å™¨çš„åº”ç”¨é¡ºåº" class="headerlink" title="ğŸè¿‡æ»¤å™¨çš„åº”ç”¨é¡ºåº"></a>ğŸè¿‡æ»¤å™¨çš„åº”ç”¨é¡ºåº</h3><p>web.xml ä¸­çš„ filter-mapping å…ƒç´ çš„é¡ºåºå†³å®šäº† Web å®¹å™¨åº”ç”¨è¿‡æ»¤å™¨åˆ° Servlet çš„é¡ºåºã€‚è‹¥è¦åè½¬è¿‡æ»¤å™¨çš„é¡ºåºï¼Œæ‚¨åªéœ€è¦åœ¨ web.xml æ–‡ä»¶ä¸­åè½¬ filter-mapping å…ƒç´ å³å¯ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸Šé¢çš„å®ä¾‹å°†å…ˆåº”ç”¨ LogFilterï¼Œç„¶åå†åº”ç”¨ AuthenFilterï¼Œä½†æ˜¯ä¸‹é¢çš„å®ä¾‹å°†é¢ å€’è¿™ä¸ªé¡ºåºï¼š</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>AuthenFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>LogFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="ğŸweb-xmlé…ç½®å„èŠ‚ç‚¹è¯´æ˜"><a href="#ğŸweb-xmlé…ç½®å„èŠ‚ç‚¹è¯´æ˜" class="headerlink" title="ğŸweb.xmlé…ç½®å„èŠ‚ç‚¹è¯´æ˜"></a>ğŸweb.xmlé…ç½®å„èŠ‚ç‚¹è¯´æ˜</h3><ul>
<li><code>&lt;filter&gt;</code>æŒ‡å®šä¸€ä¸ªè¿‡æ»¤å™¨ã€‚<ul>
<li><code>&lt;filter-name&gt;</code>ç”¨äºä¸ºè¿‡æ»¤å™¨æŒ‡å®šä¸€ä¸ªåå­—ï¼Œè¯¥å…ƒç´ çš„å†…å®¹ä¸èƒ½ä¸ºç©ºã€‚</li>
<li><code>&lt;filter-class&gt;</code>å…ƒç´ ç”¨äºæŒ‡å®šè¿‡æ»¤å™¨çš„å®Œæ•´çš„é™å®šç±»åã€‚</li>
<li><code>&lt;init-param&gt;</code>å…ƒç´ ç”¨äºä¸ºè¿‡æ»¤å™¨æŒ‡å®šåˆå§‹åŒ–å‚æ•°ï¼Œå®ƒçš„å­å…ƒç´ <code>&lt;param-name&gt;</code>æŒ‡å®šå‚æ•°çš„åå­—ï¼Œ<code>&lt;param-value&gt;</code>æŒ‡å®šå‚æ•°çš„å€¼ã€‚</li>
<li>åœ¨è¿‡æ»¤å™¨ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>FilterConfig</code>æ¥å£å¯¹è±¡æ¥è®¿é—®åˆå§‹åŒ–å‚æ•°ã€‚</li>
</ul>
</li>
<li><code>&lt;filter-mapping&gt;</code>å…ƒç´ ç”¨äºè®¾ç½®ä¸€ä¸ª Filter æ‰€è´Ÿè´£æ‹¦æˆªçš„èµ„æºã€‚ä¸€ä¸ªFilteræ‹¦æˆªçš„èµ„æºå¯é€šè¿‡ä¸¤ç§æ–¹å¼æ¥æŒ‡å®šï¼šServlet åç§°å’Œèµ„æºè®¿é—®çš„è¯·æ±‚è·¯å¾„<ul>
<li><code>&lt;filter-name&gt;</code>å­å…ƒç´ ç”¨äºè®¾ç½®filterçš„æ³¨å†Œåç§°ã€‚è¯¥å€¼å¿…é¡»æ˜¯åœ¨<code>&lt;filter&gt;</code>å…ƒç´ ä¸­å£°æ˜è¿‡çš„è¿‡æ»¤å™¨çš„åå­—</li>
<li><code>&lt;url-pattern&gt;</code>è®¾ç½® filter æ‰€æ‹¦æˆªçš„è¯·æ±‚è·¯å¾„(è¿‡æ»¤å™¨å…³è”çš„URLæ ·å¼)</li>
</ul>
</li>
<li><code>&lt;servlet-name&gt;</code>æŒ‡å®šè¿‡æ»¤å™¨æ‰€æ‹¦æˆªçš„Servletåç§°ã€‚</li>
<li><code>&lt;dispatcher&gt;</code>æŒ‡å®šè¿‡æ»¤å™¨æ‰€æ‹¦æˆªçš„èµ„æºè¢« Servlet å®¹å™¨è°ƒç”¨çš„æ–¹å¼ï¼Œå¯ä»¥æ˜¯<code>REQUEST</code>,<code>INCLUDE</code>,<code>FORWARD</code>å’Œ<code>ERROR</code>ä¹‹ä¸€ï¼Œé»˜è®¤<code>REQUEST</code>ã€‚ç”¨æˆ·å¯ä»¥è®¾ç½®å¤šä¸ª<code>&lt;dispatcher&gt;</code>å­å…ƒç´ ç”¨æ¥æŒ‡å®š Filter å¯¹èµ„æºçš„å¤šç§è°ƒç”¨æ–¹å¼è¿›è¡Œæ‹¦æˆªã€‚</li>
<li><code>&lt;dispatcher&gt;</code>å­å…ƒç´ å¯ä»¥è®¾ç½®çš„å€¼åŠå…¶æ„ä¹‰<ul>
<li><code>REQUEST</code>ï¼šå½“ç”¨æˆ·ç›´æ¥è®¿é—®é¡µé¢æ—¶ï¼ŒWebå®¹å™¨å°†ä¼šè°ƒç”¨è¿‡æ»¤å™¨ã€‚å¦‚æœç›®æ ‡èµ„æºæ˜¯é€šè¿‡<code>RequestDispatcher</code>çš„include()æˆ–forward()æ–¹æ³•è®¿é—®æ—¶ï¼Œé‚£ä¹ˆè¯¥è¿‡æ»¤å™¨å°±ä¸ä¼šè¢«è°ƒç”¨ã€‚</li>
<li><code>INCLUDE</code>ï¼šå¦‚æœç›®æ ‡èµ„æºæ˜¯é€šè¿‡RequestDispatcherçš„include()æ–¹æ³•è®¿é—®æ—¶ï¼Œé‚£ä¹ˆè¯¥è¿‡æ»¤å™¨å°†è¢«è°ƒç”¨ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¯¥è¿‡æ»¤å™¨ä¸ä¼šè¢«è°ƒç”¨ã€‚</li>
<li><code>FORWARD</code>ï¼šå¦‚æœç›®æ ‡èµ„æºæ˜¯é€šè¿‡RequestDispatcherçš„forward()æ–¹æ³•è®¿é—®æ—¶ï¼Œé‚£ä¹ˆè¯¥è¿‡æ»¤å™¨å°†è¢«è°ƒç”¨ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¯¥è¿‡æ»¤å™¨ä¸ä¼šè¢«è°ƒç”¨ã€‚</li>
<li><code>ERROR</code>ï¼šå¦‚æœç›®æ ‡èµ„æºæ˜¯é€šè¿‡å£°æ˜å¼å¼‚å¸¸å¤„ç†æœºåˆ¶è°ƒç”¨æ—¶ï¼Œé‚£ä¹ˆè¯¥è¿‡æ»¤å™¨å°†è¢«è°ƒç”¨ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿‡æ»¤å™¨ä¸ä¼šè¢«è°ƒç”¨ã€‚</li>
</ul>
</li>
</ul>
<h2 id="ğŸŒ¸Servlet-å¼‚å¸¸å¤„ç†"><a href="#ğŸŒ¸Servlet-å¼‚å¸¸å¤„ç†" class="headerlink" title="ğŸŒ¸Servlet å¼‚å¸¸å¤„ç†"></a>ğŸŒ¸Servlet å¼‚å¸¸å¤„ç†</h2><p>å½“ä¸€ä¸ª Servlet æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸æ—¶ï¼ŒWeb å®¹å™¨åœ¨ä½¿ç”¨äº† exception-type å…ƒç´ çš„ <strong>web.xml</strong> ä¸­æœç´¢ä¸æŠ›å‡ºå¼‚å¸¸ç±»å‹ç›¸åŒ¹é…çš„é…ç½®ã€‚</p>
<p>æ‚¨å¿…é¡»åœ¨ web.xml ä¸­ä½¿ç”¨ <strong>error-page</strong> å…ƒç´ æ¥æŒ‡å®šå¯¹ç‰¹å®š<strong>å¼‚å¸¸</strong> æˆ– HTTP <strong>çŠ¶æ€ç </strong> ä½œå‡ºç›¸åº”çš„ Servlet è°ƒç”¨ã€‚</p>
<h3 id="ğŸweb-xml-é…ç½®"><a href="#ğŸweb-xml-é…ç½®" class="headerlink" title="ğŸweb.xml é…ç½®"></a>ğŸweb.xml é…ç½®</h3><p>å‡è®¾ï¼Œæœ‰ä¸€ä¸ª <em>ErrorHandler</em> çš„ Servlet åœ¨ä»»ä½•å·²å®šä¹‰çš„å¼‚å¸¸æˆ–é”™è¯¯å‡ºç°æ—¶è¢«è°ƒç”¨ã€‚ä»¥ä¸‹å°†æ˜¯åœ¨ web.xml ä¸­åˆ›å»ºçš„é¡¹ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">&lt;!-- servlet å®šä¹‰ --&gt;</span><br><span class="line">&lt;servlet&gt;</span><br><span class="line">        &lt;servlet-name&gt;ErrorHandler&lt;/servlet-name&gt;</span><br><span class="line">        &lt;servlet-<span class="class"><span class="keyword">class</span>&gt;<span class="title">ErrorHandler</span>&lt;/<span class="title">servlet</span>-<span class="title">class</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">servlet</span>&gt;</span></span><br><span class="line"><span class="class">&lt;!-- <span class="title">servlet</span> æ˜ å°„ --&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">servlet</span>-<span class="title">mapping</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">servlet</span>-<span class="title">name</span>&gt;<span class="title">ErrorHandler</span>&lt;/<span class="title">servlet</span>-<span class="title">name</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">url</span>-<span class="title">pattern</span>&gt;/<span class="title">ErrorHandler</span>&lt;/<span class="title">url</span>-<span class="title">pattern</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">servlet</span>-<span class="title">mapping</span>&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&lt;!-- <span class="title">error</span>-<span class="title">code</span> ç›¸å…³çš„é”™è¯¯é¡µé¢ --&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">error</span>-<span class="title">page</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">error</span>-<span class="title">code</span>&gt;404&lt;/<span class="title">error</span>-<span class="title">code</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">location</span>&gt;/<span class="title">ErrorHandler</span>&lt;/<span class="title">location</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">error</span>-<span class="title">page</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">error</span>-<span class="title">page</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">error</span>-<span class="title">code</span>&gt;403&lt;/<span class="title">error</span>-<span class="title">code</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">location</span>&gt;/<span class="title">ErrorHandler</span>&lt;/<span class="title">location</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">error</span>-<span class="title">page</span>&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&lt;!-- <span class="title">exception</span>-<span class="title">type</span> ç›¸å…³çš„é”™è¯¯é¡µé¢ --&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">error</span>-<span class="title">page</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">exception</span>-<span class="title">type</span>&gt;</span></span><br><span class="line"><span class="class">          <span class="title">javax</span>.<span class="title">servlet</span>.<span class="title">ServletException</span></span></span><br><span class="line"><span class="class">    &lt;/<span class="title">exception</span>-<span class="title">type</span> &gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">location</span>&gt;/<span class="title">ErrorHandler</span>&lt;/<span class="title">location</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">error</span>-<span class="title">page</span>&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&lt;<span class="title">error</span>-<span class="title">page</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">exception</span>-<span class="title">type</span>&gt;<span class="title">java</span>.<span class="title">io</span>.<span class="title">IOException</span>&lt;/<span class="title">exception</span>-<span class="title">type</span> &gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">location</span>&gt;/<span class="title">ErrorHandler</span>&lt;/<span class="title">location</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">error</span>-<span class="title">page</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæ‚¨æƒ³å¯¹æ‰€æœ‰çš„å¼‚å¸¸æœ‰ä¸€ä¸ªé€šç”¨çš„é”™è¯¯å¤„ç†ç¨‹åºï¼Œé‚£ä¹ˆåº”è¯¥å®šä¹‰ä¸‹é¢çš„ error-pageï¼Œè€Œä¸æ˜¯ä¸ºæ¯ä¸ªå¼‚å¸¸å®šä¹‰å•ç‹¬çš„ error-page å…ƒç´ ï¼š</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">error-page</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exception-type</span>&gt;</span>java.lang.Throwable<span class="tag">&lt;/<span class="name">exception-type</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">location</span>&gt;</span>/ErrorHandler<span class="tag">&lt;/<span class="name">location</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸‹æ˜¯å…³äºä¸Šé¢çš„ web.xml å¼‚å¸¸å¤„ç†è¦æ³¨æ„çš„ç‚¹ï¼š</p>
<ul>
<li>Servlet ErrorHandler ä¸å…¶ä»–çš„ Servlet çš„å®šä¹‰æ–¹å¼ä¸€æ ·ï¼Œä¸”åœ¨ web.xml ä¸­è¿›è¡Œé…ç½®ã€‚</li>
<li>å¦‚æœæœ‰é”™è¯¯çŠ¶æ€ä»£ç å‡ºç°ï¼Œä¸ç®¡ä¸º 404ï¼ˆNot Found æœªæ‰¾åˆ°ï¼‰æˆ– 403ï¼ˆForbidden ç¦æ­¢ï¼‰ï¼Œåˆ™ä¼šè°ƒç”¨ ErrorHandler çš„ Servletã€‚</li>
<li>å¦‚æœ Web åº”ç”¨ç¨‹åºæŠ›å‡º <em>ServletException</em> æˆ– <em>IOException</em>ï¼Œé‚£ä¹ˆ Web å®¹å™¨ä¼šè°ƒç”¨ ErrorHandler çš„ Servletã€‚</li>
<li>æ‚¨å¯ä»¥å®šä¹‰ä¸åŒçš„é”™è¯¯å¤„ç†ç¨‹åºæ¥å¤„ç†ä¸åŒç±»å‹çš„é”™è¯¯æˆ–å¼‚å¸¸ã€‚ä¸Šé¢çš„å®ä¾‹æ˜¯éå¸¸é€šç”¨çš„ï¼Œå¸Œæœ›æ‚¨èƒ½é€šè¿‡å®ä¾‹ç†è§£åŸºæœ¬çš„æ¦‚å¿µã€‚</li>
</ul>
<h3 id="ğŸè¯·æ±‚å±æ€§-é”™è¯¯-å¼‚å¸¸"><a href="#ğŸè¯·æ±‚å±æ€§-é”™è¯¯-å¼‚å¸¸" class="headerlink" title="ğŸè¯·æ±‚å±æ€§ - é”™è¯¯/å¼‚å¸¸"></a>ğŸè¯·æ±‚å±æ€§ - é”™è¯¯/å¼‚å¸¸</h3><p>ä»¥ä¸‹æ˜¯é”™è¯¯å¤„ç†çš„ Servlet å¯ä»¥è®¿é—®çš„è¯·æ±‚å±æ€§åˆ—è¡¨ï¼Œç”¨æ¥åˆ†æé”™è¯¯/å¼‚å¸¸çš„æ€§è´¨ã€‚</p>
<table>
<thead>
<tr>
<th align="left">åºå·</th>
<th align="left">å±æ€§ &amp; æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>javax.servlet.error.status_code</strong> è¯¥å±æ€§ç»™å‡ºçŠ¶æ€ç ï¼ŒçŠ¶æ€ç å¯è¢«å­˜å‚¨ï¼Œå¹¶åœ¨å­˜å‚¨ä¸º java.lang.Integer æ•°æ®ç±»å‹åå¯è¢«åˆ†æã€‚</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>javax.servlet.error.exception_type</strong> è¯¥å±æ€§ç»™å‡ºå¼‚å¸¸ç±»å‹çš„ä¿¡æ¯ï¼Œå¼‚å¸¸ç±»å‹å¯è¢«å­˜å‚¨ï¼Œå¹¶åœ¨å­˜å‚¨ä¸º java.lang.Class æ•°æ®ç±»å‹åå¯è¢«åˆ†æã€‚</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>javax.servlet.error.message</strong> è¯¥å±æ€§ç»™å‡ºç¡®åˆ‡é”™è¯¯æ¶ˆæ¯çš„ä¿¡æ¯ï¼Œä¿¡æ¯å¯è¢«å­˜å‚¨ï¼Œå¹¶åœ¨å­˜å‚¨ä¸º java.lang.String æ•°æ®ç±»å‹åå¯è¢«åˆ†æã€‚</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><strong>javax.servlet.error.request_uri</strong> è¯¥å±æ€§ç»™å‡ºæœ‰å…³ URL è°ƒç”¨ Servlet çš„ä¿¡æ¯ï¼Œä¿¡æ¯å¯è¢«å­˜å‚¨ï¼Œå¹¶åœ¨å­˜å‚¨ä¸º java.lang.String æ•°æ®ç±»å‹åå¯è¢«åˆ†æã€‚</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left"><strong>javax.servlet.error.exception</strong> è¯¥å±æ€§ç»™å‡ºå¼‚å¸¸äº§ç”Ÿçš„ä¿¡æ¯ï¼Œä¿¡æ¯å¯è¢«å­˜å‚¨ï¼Œå¹¶åœ¨å­˜å‚¨ä¸º java.lang.Throwable æ•°æ®ç±»å‹åå¯è¢«åˆ†æã€‚</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left"><strong>javax.servlet.error.servlet_name</strong> è¯¥å±æ€§ç»™å‡º Servlet çš„åç§°ï¼Œåç§°å¯è¢«å­˜å‚¨ï¼Œå¹¶åœ¨å­˜å‚¨ä¸º java.lang.String æ•°æ®ç±»å‹åå¯è¢«åˆ†æã€‚</td>
</tr>
</tbody></table>
<h3 id="ğŸServlet-é”™è¯¯å¤„ç†ç¨‹åºå®ä¾‹"><a href="#ğŸServlet-é”™è¯¯å¤„ç†ç¨‹åºå®ä¾‹" class="headerlink" title="ğŸServlet é”™è¯¯å¤„ç†ç¨‹åºå®ä¾‹"></a>ğŸServlet é”™è¯¯å¤„ç†ç¨‹åºå®ä¾‹</h3><p>ä»¥ä¸‹æ˜¯ Servlet å®ä¾‹ï¼Œå°†åº”å¯¹ä»»ä½•æ‚¨æ‰€å®šä¹‰çš„é”™è¯¯æˆ–å¼‚å¸¸å‘ç”Ÿæ—¶çš„é”™è¯¯å¤„ç†ç¨‹åºã€‚</p>
<p>æœ¬å®ä¾‹è®©æ‚¨å¯¹ Servlet ä¸­çš„å¼‚å¸¸å¤„ç†æœ‰åŸºæœ¬çš„äº†è§£ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ¦‚å¿µç¼–å†™æ›´å¤æ‚çš„å¼‚å¸¸å¤„ç†åº”ç”¨ç¨‹åºï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.runoob.test;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¼å…¥å¿…éœ€çš„ java åº“</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"><span class="comment">//import java.util.*;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰©å±• HttpServlet ç±»</span></span><br><span class="line"><span class="meta">@SuppressWarnings</span>(<span class="string">"serial"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ErrorHandler</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¤„ç† GET æ–¹æ³•è¯·æ±‚çš„æ–¹æ³•</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">      Throwable throwable = (Throwable)</span><br><span class="line">      request.getAttribute(<span class="string">"javax.servlet.error.exception"</span>);</span><br><span class="line">      Integer statusCode = (Integer)</span><br><span class="line">      request.getAttribute(<span class="string">"javax.servlet.error.status_code"</span>);</span><br><span class="line">      String servletName = (String)</span><br><span class="line">      request.getAttribute(<span class="string">"javax.servlet.error.servlet_name"</span>);</span><br><span class="line">      <span class="keyword">if</span> (servletName == <span class="keyword">null</span>){</span><br><span class="line">          servletName = <span class="string">"Unknown"</span>;</span><br><span class="line">      }</span><br><span class="line">      String requestUri = (String)</span><br><span class="line">      request.getAttribute(<span class="string">"javax.servlet.error.request_uri"</span>);</span><br><span class="line">      <span class="keyword">if</span> (requestUri == <span class="keyword">null</span>){</span><br><span class="line">          requestUri = <span class="string">"Unknown"</span>;</span><br><span class="line">      }</span><br><span class="line">      <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">      response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">  </span><br><span class="line">      PrintWriter out = response.getWriter();</span><br><span class="line">      String title = <span class="string">"äº‘æ¾ˆError/Exception ä¿¡æ¯"</span>;</span><br><span class="line">     </span><br><span class="line">      String docType = <span class="string">"&lt;!DOCTYPE html&gt;\n"</span>;</span><br><span class="line">      out.println(docType +</span><br><span class="line">          <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">           <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">           <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span>);</span><br><span class="line">         out.println(<span class="string">"&lt;h1&gt;äº‘æ¾ˆå¼‚å¸¸ä¿¡æ¯å®ä¾‹æ¼”ç¤º&lt;/h1&gt;"</span>);</span><br><span class="line">         <span class="keyword">if</span> (throwable == <span class="keyword">null</span> &amp;&amp; statusCode == <span class="keyword">null</span>){</span><br><span class="line">            out.println(<span class="string">"&lt;h2&gt;é”™è¯¯ä¿¡æ¯ä¸¢å¤±&lt;/h2&gt;"</span>);</span><br><span class="line">            out.println(<span class="string">"è¯·è¿”å› &lt;a href=\""</span> + </span><br><span class="line">          response.encodeURL(<span class="string">"http://localhost:8080/"</span>) + </span><br><span class="line">              <span class="string">"\"&gt;ä¸»é¡µ&lt;/a&gt;ã€‚"</span>);</span><br><span class="line">         }<span class="keyword">else</span> <span class="keyword">if</span> (statusCode != <span class="keyword">null</span>) {</span><br><span class="line">            out.println(<span class="string">"é”™è¯¯ä»£ç  : "</span> + statusCode);</span><br><span class="line">      }<span class="keyword">else</span>{</span><br><span class="line">             out.println(<span class="string">"&lt;h2&gt;é”™è¯¯ä¿¡æ¯&lt;/h2&gt;"</span>);</span><br><span class="line">            out.println(<span class="string">"Servlet Name : "</span> + servletName + </span><br><span class="line">                            <span class="string">"&lt;/br&gt;&lt;/br&gt;"</span>);</span><br><span class="line">            out.println(<span class="string">"å¼‚å¸¸ç±»å‹ : "</span> + </span><br><span class="line">                            throwable.getClass( ).getName( ) + </span><br><span class="line">                            <span class="string">"&lt;/br&gt;&lt;/br&gt;"</span>);</span><br><span class="line">            out.println(<span class="string">"è¯·æ±‚ URI: "</span> + requestUri + </span><br><span class="line">                            <span class="string">"&lt;br&gt;&lt;br&gt;"</span>);</span><br><span class="line">            out.println(<span class="string">"å¼‚å¸¸ä¿¡æ¯: "</span> + </span><br><span class="line">                                throwable.getMessage( ));</span><br><span class="line">         }</span><br><span class="line">         out.println(<span class="string">"&lt;/body&gt;"</span>);</span><br><span class="line">         out.println(<span class="string">"&lt;/html&gt;"</span>);</span><br><span class="line">  }</span><br><span class="line">  <span class="comment">// å¤„ç† POST æ–¹æ³•è¯·æ±‚çš„æ–¹æ³•</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                    HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">     <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">      doGet(request, response);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥é€šå¸¸çš„æ–¹å¼ç¼–è¯‘ <strong>ErrorHandler.java</strong>ï¼ŒæŠŠæ‚¨çš„ç±»æ–‡ä»¶æ”¾å…¥<tomcat-installation-directory>/webapps/ROOT/WEB-INF/classes ä¸­ã€‚</tomcat-installation-directory></p>
<p>è®©æˆ‘ä»¬åœ¨ web.xml æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®æ¥å¤„ç†å¼‚å¸¸ï¼š</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ErrorHandler<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.runoob.test.ErrorHandler<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- servlet mappings --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ErrorHandler<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/ErrorHandler<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">error-page</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">error-code</span>&gt;</span>404<span class="tag">&lt;/<span class="name">error-code</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">location</span>&gt;</span>/TomcatTest/ErrorHandler<span class="tag">&lt;/<span class="name">location</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">error-page</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exception-type</span>&gt;</span>java.lang.Throwable<span class="tag">&lt;/<span class="name">exception-type</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">location</span>&gt;</span>/ErrorHandler<span class="tag">&lt;/<span class="name">location</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨ï¼Œå°è¯•ä½¿ç”¨ä¸€ä¸ªä¼šäº§ç”Ÿå¼‚å¸¸çš„ Servletï¼Œæˆ–è€…è¾“å…¥ä¸€ä¸ªé”™è¯¯çš„ URLï¼Œè¿™å°†è§¦å‘ Web å®¹å™¨è°ƒç”¨ <strong>ErrorHandler</strong> çš„ Servletï¼Œå¹¶æ˜¾ç¤ºé€‚å½“çš„æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨è¾“å…¥äº†ä¸€ä¸ªé”™è¯¯çš„ URLï¼ˆå¦‚ï¼š<a href="http://localhost:8080/TomcatTest/UnKonwPageï¼‰ï¼Œé‚£ä¹ˆå®ƒå°†æ˜¾ç¤ºä¸‹é¢çš„ç»“æœï¼š" target="_blank" rel="noopener">http://localhost:8080/TomcatTest/UnKonwPageï¼‰ï¼Œé‚£ä¹ˆå®ƒå°†æ˜¾ç¤ºä¸‹é¢çš„ç»“æœï¼š</a></p>
<p><a href="https://imgchr.com/i/0UNCE8" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/10/06/0UNCE8.png" alt="0UNCE8.png"></a></p>
<hr>
<h2 id="ğŸŒ¸Servlet-Cookie-å¤„ç†"><a href="#ğŸŒ¸Servlet-Cookie-å¤„ç†" class="headerlink" title="ğŸŒ¸Servlet  Cookie å¤„ç†"></a>ğŸŒ¸Servlet  Cookie å¤„ç†</h2><p>Cookie æ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯è®¡ç®—æœºä¸Šçš„æ–‡æœ¬æ–‡ä»¶ï¼Œå¹¶ä¿ç•™äº†å„ç§è·Ÿè¸ªä¿¡æ¯ã€‚Java Servlet æ˜¾ç„¶æ”¯æŒ HTTP Cookieã€‚</p>
<p>è¯†åˆ«è¿”å›ç”¨æˆ·åŒ…æ‹¬ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>æœåŠ¡å™¨è„šæœ¬å‘æµè§ˆå™¨å‘é€ä¸€ç»„ Cookieã€‚ä¾‹å¦‚ï¼šå§“åã€å¹´é¾„æˆ–è¯†åˆ«å·ç ç­‰ã€‚</li>
<li>æµè§ˆå™¨å°†è¿™äº›ä¿¡æ¯å­˜å‚¨åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šï¼Œä»¥å¤‡å°†æ¥ä½¿ç”¨ã€‚</li>
<li>å½“ä¸‹ä¸€æ¬¡æµè§ˆå™¨å‘ Web æœåŠ¡å™¨å‘é€ä»»ä½•è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šæŠŠè¿™äº› Cookie ä¿¡æ¯å‘é€åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å°†ä½¿ç”¨è¿™äº›ä¿¡æ¯æ¥è¯†åˆ«ç”¨æˆ·ã€‚</li>
</ul>
<p>æœ¬ç« å°†å‘æ‚¨è®²è§£å¦‚ä½•è®¾ç½®æˆ–é‡ç½® Cookieï¼Œå¦‚ä½•è®¿é—®å®ƒä»¬ï¼Œä»¥åŠå¦‚ä½•å°†å®ƒä»¬åˆ é™¤ã€‚</p>
<p>Servlet Cookie å¤„ç†éœ€è¦å¯¹ä¸­æ–‡è¿›è¡Œç¼–ç ä¸è§£ç ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">String   str   =   java.net.URLEncoder.encode(<span class="string">"ä¸­æ–‡"</span>ï¼Œ<span class="string">"UTF-8"</span>);            <span class="comment">//ç¼–ç </span></span><br><span class="line">String   str   =   java.net.URLDecoder.decode(<span class="string">"ç¼–ç åçš„å­—ç¬¦ä¸²"</span>,<span class="string">"UTF-8"</span>);   <span class="comment">// è§£ç </span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸCookie-å‰–æ"><a href="#ğŸCookie-å‰–æ" class="headerlink" title="ğŸCookie å‰–æ"></a>ğŸCookie å‰–æ</h3><p>Cookie é€šå¸¸è®¾ç½®åœ¨ HTTP å¤´ä¿¡æ¯ä¸­ï¼ˆè™½ç„¶ JavaScript ä¹Ÿå¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸Šè®¾ç½®ä¸€ä¸ª Cookieï¼‰ã€‚è®¾ç½® Cookie çš„ Servlet ä¼šå‘é€å¦‚ä¸‹çš„å¤´ä¿¡æ¯ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">200</span> OK</span><br><span class="line">Date: Fri, <span class="number">04</span> Feb <span class="number">2000</span> <span class="number">21</span>:<span class="number">03</span>:<span class="number">38</span> GMT</span><br><span class="line">Server: Apache/<span class="number">1.3</span><span class="number">.9</span> (UNIX) PHP/<span class="number">4.0</span>b3</span><br><span class="line">Set-Cookie: name=xyz; expires=Friday, <span class="number">04</span>-Feb-<span class="number">07</span> <span class="number">22</span>:<span class="number">03</span>:<span class="number">38</span> GMT; </span><br><span class="line">                 path=/; domain=runoob.com</span><br><span class="line">Connection: close</span><br><span class="line">Content-Type: text/html</span><br></pre></td></tr></tbody></table></figure>

<p>æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼ŒSet-Cookie å¤´åŒ…å«äº†ä¸€ä¸ªåç§°å€¼å¯¹ã€ä¸€ä¸ª GMT æ—¥æœŸã€ä¸€ä¸ªè·¯å¾„å’Œä¸€ä¸ªåŸŸã€‚åç§°å’Œå€¼ä¼šè¢« URL ç¼–ç ã€‚expires å­—æ®µæ˜¯ä¸€ä¸ªæŒ‡ä»¤ï¼Œå‘Šè¯‰æµè§ˆå™¨åœ¨ç»™å®šçš„æ—¶é—´å’Œæ—¥æœŸä¹‹åâ€å¿˜è®°â€è¯¥ Cookieã€‚</p>
<p>å¦‚æœæµè§ˆå™¨è¢«é…ç½®ä¸ºå­˜å‚¨ Cookieï¼Œå®ƒå°†ä¼šä¿ç•™æ­¤ä¿¡æ¯ç›´åˆ°åˆ°æœŸæ—¥æœŸã€‚å¦‚æœç”¨æˆ·çš„æµè§ˆå™¨æŒ‡å‘ä»»ä½•åŒ¹é…è¯¥ Cookie çš„è·¯å¾„å’ŒåŸŸçš„é¡µé¢ï¼Œå®ƒä¼šé‡æ–°å‘é€ Cookie åˆ°æœåŠ¡å™¨ã€‚æµè§ˆå™¨çš„å¤´ä¿¡æ¯å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="code"><pre><span class="line">GET / HTTP/<span class="number">1.0</span></span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">User-Agent: Mozilla/<span class="number">4.6</span> (X11; I; Linux <span class="number">2.2</span><span class="number">.6</span><span class="number">-15</span>apmac ppc)</span><br><span class="line">Host: zink.demon.co.uk:<span class="number">1126</span></span><br><span class="line">Accept: image/gif, *<span class="comment">/*</span></span><br><span class="line"><span class="comment">Accept-Encoding: gzip</span></span><br><span class="line"><span class="comment">Accept-Language: en</span></span><br><span class="line"><span class="comment">Accept-Charset: iso-8859-1,*,utf-8</span></span><br><span class="line"><span class="comment">Cookie: name=xyz</span></span><br></pre></td></tr></tbody></table></figure>

<p>Servlet å°±èƒ½å¤Ÿé€šè¿‡è¯·æ±‚æ–¹æ³• <em>request.getCookies()</em> è®¿é—® Cookieï¼Œè¯¥æ–¹æ³•å°†è¿”å›ä¸€ä¸ª <em>Cookie</em> å¯¹è±¡çš„æ•°ç»„ã€‚</p>
<h3 id="ğŸServlet-Cookie-æ–¹æ³•"><a href="#ğŸServlet-Cookie-æ–¹æ³•" class="headerlink" title="ğŸServlet Cookie æ–¹æ³•"></a>ğŸServlet Cookie æ–¹æ³•</h3><p>ä»¥ä¸‹æ˜¯åœ¨ Servlet ä¸­æ“ä½œ Cookie æ—¶å¯ä½¿ç”¨çš„æœ‰ç”¨çš„æ–¹æ³•åˆ—è¡¨ã€‚</p>
<table>
<thead>
<tr>
<th align="left">åºå·</th>
<th align="left">æ–¹æ³• &amp; æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>public void setDomain(String pattern)</strong> è¯¥æ–¹æ³•è®¾ç½® cookie é€‚ç”¨çš„åŸŸï¼Œä¾‹å¦‚ runoob.comã€‚</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>public String getDomain()</strong> è¯¥æ–¹æ³•è·å– cookie é€‚ç”¨çš„åŸŸï¼Œä¾‹å¦‚ runoob.comã€‚</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>public void setMaxAge(int expiry)</strong> è¯¥æ–¹æ³•è®¾ç½® cookie è¿‡æœŸçš„æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚å¦‚æœä¸è¿™æ ·è®¾ç½®ï¼Œcookie åªä¼šåœ¨å½“å‰ session ä¼šè¯ä¸­æŒç»­æœ‰æ•ˆã€‚</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><strong>public int getMaxAge()</strong> è¯¥æ–¹æ³•è¿”å› cookie çš„æœ€å¤§ç”Ÿå­˜å‘¨æœŸï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œ-1 è¡¨ç¤º cookie å°†æŒç»­ä¸‹å»ï¼Œç›´åˆ°æµè§ˆå™¨å…³é—­ã€‚</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left"><strong>public String getName()</strong> è¯¥æ–¹æ³•è¿”å› cookie çš„åç§°ã€‚åç§°åœ¨åˆ›å»ºåä¸èƒ½æ”¹å˜ã€‚</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left"><strong>public void setValue(String newValue)</strong> è¯¥æ–¹æ³•è®¾ç½®ä¸ cookie å…³è”çš„å€¼ã€‚</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left"><strong>public String getValue()</strong> è¯¥æ–¹æ³•è·å–ä¸ cookie å…³è”çš„å€¼ã€‚</td>
</tr>
<tr>
<td align="left">8</td>
<td align="left"><strong>public void setPath(String uri)</strong> è¯¥æ–¹æ³•è®¾ç½® cookie é€‚ç”¨çš„è·¯å¾„ã€‚å¦‚æœæ‚¨ä¸æŒ‡å®šè·¯å¾„ï¼Œä¸å½“å‰é¡µé¢ç›¸åŒç›®å½•ä¸‹çš„ï¼ˆåŒ…æ‹¬å­ç›®å½•ä¸‹çš„ï¼‰æ‰€æœ‰ URL éƒ½ä¼šè¿”å› cookieã€‚</td>
</tr>
<tr>
<td align="left">9</td>
<td align="left"><strong>public String getPath()</strong> è¯¥æ–¹æ³•è·å– cookie é€‚ç”¨çš„è·¯å¾„ã€‚</td>
</tr>
<tr>
<td align="left">10</td>
<td align="left"><strong>public void setSecure(boolean flag)</strong> è¯¥æ–¹æ³•è®¾ç½®å¸ƒå°”å€¼ï¼Œè¡¨ç¤º cookie æ˜¯å¦åº”è¯¥åªåœ¨åŠ å¯†çš„ï¼ˆå³ SSLï¼‰è¿æ¥ä¸Šå‘é€ã€‚</td>
</tr>
<tr>
<td align="left">11</td>
<td align="left"><strong>public void setComment(String purpose)</strong> è®¾ç½®cookieçš„æ³¨é‡Šã€‚è¯¥æ³¨é‡Šåœ¨æµè§ˆå™¨å‘ç”¨æˆ·å‘ˆç° cookie æ—¶éå¸¸æœ‰ç”¨ã€‚</td>
</tr>
<tr>
<td align="left">12</td>
<td align="left"><strong>public String getComment()</strong> è·å– cookie çš„æ³¨é‡Šï¼Œå¦‚æœ cookie æ²¡æœ‰æ³¨é‡Šåˆ™è¿”å› nullã€‚</td>
</tr>
</tbody></table>
<h3 id="ğŸé€šè¿‡-Servlet-è®¾ç½®-Cookie"><a href="#ğŸé€šè¿‡-Servlet-è®¾ç½®-Cookie" class="headerlink" title="ğŸé€šè¿‡ Servlet è®¾ç½® Cookie"></a>ğŸé€šè¿‡ Servlet è®¾ç½® Cookie</h3><p>é€šè¿‡ Servlet è®¾ç½® Cookie åŒ…æ‹¬ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<p><strong>(1) åˆ›å»ºä¸€ä¸ª Cookie å¯¹è±¡ï¼š</strong>æ‚¨å¯ä»¥è°ƒç”¨å¸¦æœ‰ cookie åç§°å’Œ cookie å€¼çš„ Cookie æ„é€ å‡½æ•°ï¼Œcookie åç§°å’Œ cookie å€¼éƒ½æ˜¯å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">"key"</span>,<span class="string">"value"</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>è¯·è®°ä½ï¼Œæ— è®ºæ˜¯åå­—è¿˜æ˜¯å€¼ï¼Œéƒ½ä¸åº”è¯¥åŒ…å«ç©ºæ ¼æˆ–ä»¥ä¸‹ä»»ä½•å­—ç¬¦ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">[ ] ( ) = , <span class="string">" / ? @ : ;</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>(2) è®¾ç½®æœ€å¤§ç”Ÿå­˜å‘¨æœŸï¼š</strong>æ‚¨å¯ä»¥ä½¿ç”¨ setMaxAge æ–¹æ³•æ¥æŒ‡å®š cookie èƒ½å¤Ÿä¿æŒæœ‰æ•ˆçš„æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚ä¸‹é¢å°†è®¾ç½®ä¸€ä¸ªæœ€é•¿æœ‰æ•ˆæœŸä¸º 24 å°æ—¶çš„ cookieã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">cookie.setMaxAge(<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>);</span><br></pre></td></tr></tbody></table></figure>

<p><strong>(3) å‘é€ Cookie åˆ° HTTP å“åº”å¤´ï¼š</strong>æ‚¨å¯ä»¥ä½¿ç”¨ <strong>response.addCookie</strong> æ¥æ·»åŠ  HTTP å“åº”å¤´ä¸­çš„ Cookieï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">response.addCookie(cookie);</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ğŸå®ä¾‹"><a href="#ğŸå®ä¾‹" class="headerlink" title="ğŸå®ä¾‹"></a>ğŸå®ä¾‹</h3><p>è®©æˆ‘ä»¬ä¿®æ”¹æˆ‘ä»¬çš„ <a href="">è¡¨å•æ•°æ®å®ä¾‹</a>ï¼Œä¸ºåå­—å’Œå§“æ°è®¾ç½® Cookieã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.URLEncoder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class HelloServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/HelloForm"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloForm</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HelloForm</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="comment">// ä¸ºåå­—å’Œå§“æ°åˆ›å»º Cookie      </span></span><br><span class="line">        Cookie name = <span class="keyword">new</span> Cookie(<span class="string">"name"</span>,</span><br><span class="line">                URLEncoder.encode(request.getParameter(<span class="string">"name"</span>), <span class="string">"UTF-8"</span>)); <span class="comment">// ä¸­æ–‡è½¬ç </span></span><br><span class="line">        Cookie url = <span class="keyword">new</span> Cookie(<span class="string">"url"</span>,</span><br><span class="line">                      request.getParameter(<span class="string">"url"</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¸ºä¸¤ä¸ª Cookie è®¾ç½®è¿‡æœŸæ—¥æœŸä¸º 24 å°æ—¶å</span></span><br><span class="line">        name.setMaxAge(<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>); </span><br><span class="line">        url.setMaxAge(<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>); </span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åœ¨å“åº”å¤´ä¸­æ·»åŠ ä¸¤ä¸ª Cookie</span></span><br><span class="line">        response.addCookie( name );</span><br><span class="line">        response.addCookie( url );</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">        </span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        String title = <span class="string">"è®¾ç½® Cookie å®ä¾‹"</span>;</span><br><span class="line">        String docType = <span class="string">"&lt;!DOCTYPE html&gt;\n"</span>;</span><br><span class="line">        out.println(docType +</span><br><span class="line">                <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;ul&gt;\n"</span> +</span><br><span class="line">                <span class="string">"  &lt;li&gt;&lt;b&gt;ç«™ç‚¹åï¼š&lt;/b&gt;ï¼š"</span></span><br><span class="line">                + request.getParameter(<span class="string">"name"</span>) + <span class="string">"\n&lt;/li&gt;"</span> +</span><br><span class="line">                <span class="string">"  &lt;li&gt;&lt;b&gt;ç«™ç‚¹ URLï¼š&lt;/b&gt;ï¼š"</span></span><br><span class="line">                + request.getParameter(<span class="string">"url"</span>) + <span class="string">"\n&lt;/li&gt;"</span> +</span><br><span class="line">                <span class="string">"&lt;/ul&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        doGet(request, response);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç¼–è¯‘ä¸Šé¢çš„ Servlet <strong>HelloForm</strong>ï¼Œå¹¶åœ¨ web.xml æ–‡ä»¶ä¸­åˆ›å»ºé€‚å½“çš„æ¡ç›®:</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span> </span><br><span class="line">    <span class="comment">&lt;!-- ç±»å --&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>HelloForm<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ‰€åœ¨çš„åŒ… --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.runoob.test.HelloForm<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>HelloForm<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è®¿é—®çš„ç½‘å€ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/HelloForm<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>æœ€åå°è¯•ä¸‹é¢çš„ HTML é¡µé¢æ¥è°ƒç”¨ Servletã€‚</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>äº‘æ¾ˆ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/TomcatTest/HelloForm"</span> <span class="attr">method</span>=<span class="string">"GET"</span>&gt;</span></span><br><span class="line">ç«™ç‚¹å ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">ç«™ç‚¹ URLï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"url"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"æäº¤"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¿å­˜ä¸Šé¢çš„ HTML å†…å®¹åˆ°æ–‡ä»¶ /TomcatTest/test.html ä¸­ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬è®¿é—®<a href="http://localhost:8080/TomcatTest/test.htmlï¼Œå¦‚ä¸‹ï¼š" target="_blank" rel="noopener">http://localhost:8080/TomcatTest/test.htmlï¼Œå¦‚ä¸‹ï¼š</a></p>
<p><img src="https://s1.ax1x.com/2020/10/08/007Dl8.png" alt="007Dl8.png"></p>
<p><img src="https://s1.ax1x.com/2020/10/08/007WYq.png" alt="007WYq.png"></p>
<h3 id="ğŸé€šè¿‡-Servlet-è¯»å–-Cookie"><a href="#ğŸé€šè¿‡-Servlet-è¯»å–-Cookie" class="headerlink" title="ğŸé€šè¿‡ Servlet è¯»å– Cookie"></a>ğŸé€šè¿‡ Servlet è¯»å– Cookie</h3><p>è¦è¯»å– Cookieï¼Œæ‚¨éœ€è¦é€šè¿‡è°ƒç”¨ <em>HttpServletRequest</em> çš„ <strong>getCookies( )</strong> æ–¹æ³•åˆ›å»ºä¸€ä¸ª <em>javax.servlet.http.Cookie</em> å¯¹è±¡çš„æ•°ç»„ã€‚ç„¶åå¾ªç¯éå†æ•°ç»„ï¼Œå¹¶ä½¿ç”¨ getName() å’Œ getValue() æ–¹æ³•æ¥è®¿é—®æ¯ä¸ª cookie å’Œå…³è”çš„å€¼ã€‚</p>
<h4 id="ğŸ‚-å®ä¾‹"><a href="#ğŸ‚-å®ä¾‹" class="headerlink" title="ğŸ‚ å®ä¾‹"></a>ğŸ‚ å®ä¾‹</h4><p>è®©æˆ‘ä»¬è¯»å–ä¸Šé¢çš„å®ä¾‹ä¸­è®¾ç½®çš„ Cookie</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.runoob.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.URLDecoder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class ReadCookies</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/ReadCookies"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReadCookies</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ReadCookies</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        Cookie cookie = <span class="keyword">null</span>;</span><br><span class="line">        Cookie[] cookies = <span class="keyword">null</span>;</span><br><span class="line">        <span class="comment">// è·å–ä¸è¯¥åŸŸç›¸å…³çš„ Cookie çš„æ•°ç»„</span></span><br><span class="line">        cookies = request.getCookies();</span><br><span class="line">         </span><br><span class="line">         <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">         response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">    </span><br><span class="line">         PrintWriter out = response.getWriter();</span><br><span class="line">         String title = <span class="string">"Delete Cookie Example"</span>;</span><br><span class="line">         String docType = <span class="string">"&lt;!DOCTYPE html&gt;\n"</span>;</span><br><span class="line">         out.println(docType +</span><br><span class="line">                   <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">                   <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">                   <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> );</span><br><span class="line">          <span class="keyword">if</span>( cookies != <span class="keyword">null</span> ){</span><br><span class="line">            out.println(<span class="string">"&lt;h2&gt;Cookie åç§°å’Œå€¼&lt;/h2&gt;"</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cookies.length; i++){</span><br><span class="line">               cookie = cookies[i];</span><br><span class="line">               <span class="keyword">if</span>((cookie.getName( )).compareTo(<span class="string">"name"</span>) == <span class="number">0</span> ){</span><br><span class="line">                    cookie.setMaxAge(<span class="number">0</span>);</span><br><span class="line">                    response.addCookie(cookie);</span><br><span class="line">                    out.print(<span class="string">"å·²åˆ é™¤çš„ cookieï¼š"</span> + </span><br><span class="line">                                 cookie.getName( ) + <span class="string">"&lt;br/&gt;"</span>);</span><br><span class="line">               }</span><br><span class="line">               out.print(<span class="string">"åç§°ï¼š"</span> + cookie.getName( ) + <span class="string">"ï¼Œ"</span>);</span><br><span class="line">               out.print(<span class="string">"å€¼ï¼š"</span> +  URLDecoder.decode(cookie.getValue(), <span class="string">"utf-8"</span>) +<span class="string">" &lt;br/&gt;"</span>);</span><br><span class="line">            }</span><br><span class="line">         }<span class="keyword">else</span>{</span><br><span class="line">             out.println(</span><br><span class="line">               <span class="string">"&lt;h2 class=\"tutheader\"&gt;No Cookie founds&lt;/h2&gt;"</span>);</span><br><span class="line">         }</span><br><span class="line">         out.println(<span class="string">"&lt;/body&gt;"</span>);</span><br><span class="line">         out.println(<span class="string">"&lt;/html&gt;"</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        doGet(request, response);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸé€šè¿‡-Servlet-åˆ é™¤-Cookie"><a href="#ğŸé€šè¿‡-Servlet-åˆ é™¤-Cookie" class="headerlink" title="ğŸé€šè¿‡ Servlet åˆ é™¤ Cookie"></a>ğŸé€šè¿‡ Servlet åˆ é™¤ Cookie</h3><p>åˆ é™¤ Cookie æ˜¯éå¸¸ç®€å•çš„ã€‚å¦‚æœæ‚¨æƒ³åˆ é™¤ä¸€ä¸ª cookieï¼Œé‚£ä¹ˆæ‚¨åªéœ€è¦æŒ‰ç…§ä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤è¿›è¡Œï¼š</p>
<ul>
<li>è¯»å–ä¸€ä¸ªç°æœ‰çš„ cookieï¼Œå¹¶æŠŠå®ƒå­˜å‚¨åœ¨ Cookie å¯¹è±¡ä¸­ã€‚</li>
<li>ä½¿ç”¨ <strong>setMaxAge()</strong> æ–¹æ³•è®¾ç½® cookie çš„å¹´é¾„ä¸ºé›¶ï¼Œæ¥åˆ é™¤ç°æœ‰çš„ cookieã€‚</li>
<li>æŠŠè¿™ä¸ª cookie æ·»åŠ åˆ°å“åº”å¤´ã€‚</li>
</ul>
<h4 id="ğŸ‚å®ä¾‹"><a href="#ğŸ‚å®ä¾‹" class="headerlink" title="ğŸ‚å®ä¾‹"></a>ğŸ‚å®ä¾‹</h4><p>ä¸‹é¢çš„ä¾‹å­å°†åˆ é™¤ç°æœ‰çš„åä¸º â€œurlâ€ çš„ cookieï¼Œå½“æ‚¨ä¸‹æ¬¡è¿è¡Œ ReadCookies çš„ Servlet æ—¶ï¼Œå®ƒä¼šè¿”å› url ä¸º nullã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.runoob.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class DeleteCookies</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/DeleteCookies"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeleteCookies</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DeleteCookies</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        Cookie cookie = <span class="keyword">null</span>;</span><br><span class="line">        Cookie[] cookies = <span class="keyword">null</span>;</span><br><span class="line">        <span class="comment">// è·å–ä¸è¯¥åŸŸç›¸å…³çš„ Cookie çš„æ•°ç»„</span></span><br><span class="line">        cookies = request.getCookies();</span><br><span class="line">        </span><br><span class="line">            <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">   </span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        String title = <span class="string">"åˆ é™¤ Cookie å®ä¾‹"</span>;</span><br><span class="line">        String docType = <span class="string">"&lt;!DOCTYPE html&gt;\n"</span>;</span><br><span class="line">        out.println(docType +</span><br><span class="line">                  <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">                  <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">                  <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> );</span><br><span class="line">         <span class="keyword">if</span>( cookies != <span class="keyword">null</span> ){</span><br><span class="line">           out.println(<span class="string">"&lt;h2&gt;Cookie åç§°å’Œå€¼&lt;/h2&gt;"</span>);</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cookies.length; i++){</span><br><span class="line">              cookie = cookies[i];</span><br><span class="line">              <span class="keyword">if</span>((cookie.getName( )).compareTo(<span class="string">"url"</span>) == <span class="number">0</span> ){</span><br><span class="line">                   cookie.setMaxAge(<span class="number">0</span>);</span><br><span class="line">                   response.addCookie(cookie);</span><br><span class="line">                   out.print(<span class="string">"å·²åˆ é™¤çš„ cookieï¼š"</span> + </span><br><span class="line">                                cookie.getName( ) + <span class="string">"&lt;br/&gt;"</span>);</span><br><span class="line">              }</span><br><span class="line">              out.print(<span class="string">"åç§°ï¼š"</span> + cookie.getName( ) + <span class="string">"ï¼Œ"</span>);</span><br><span class="line">              out.print(<span class="string">"å€¼ï¼š"</span> + cookie.getValue( )+<span class="string">" &lt;br/&gt;"</span>);</span><br><span class="line">           }</span><br><span class="line">        }<span class="keyword">else</span>{</span><br><span class="line">            out.println(</span><br><span class="line">              <span class="string">"&lt;h2 class=\"tutheader\"&gt;No Cookie founds&lt;/h2&gt;"</span>);</span><br><span class="line">        }</span><br><span class="line">        out.println(<span class="string">"&lt;/body&gt;"</span>);</span><br><span class="line">        out.println(<span class="string">"&lt;/html&gt;"</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        doGet(request, response);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸Servlet-Session-è·Ÿè¸ª"><a href="#ğŸŒ¸Servlet-Session-è·Ÿè¸ª" class="headerlink" title="ğŸŒ¸Servlet Session è·Ÿè¸ª"></a>ğŸŒ¸Servlet Session è·Ÿè¸ª</h2><p>HTTP æ˜¯ä¸€ç§â€æ— çŠ¶æ€â€åè®®ï¼Œè¿™æ„å‘³ç€æ¯æ¬¡å®¢æˆ·ç«¯æ£€ç´¢ç½‘é¡µæ—¶ï¼Œå®¢æˆ·ç«¯æ‰“å¼€ä¸€ä¸ªå•ç‹¬çš„è¿æ¥åˆ° Web æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¼šè‡ªåŠ¨ä¸ä¿ç•™ä¹‹å‰å®¢æˆ·ç«¯è¯·æ±‚çš„ä»»ä½•è®°å½•ã€‚</p>
<p>ä½†æ˜¯ä»ç„¶æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼æ¥ç»´æŒ Web å®¢æˆ·ç«¯å’Œ Web æœåŠ¡å™¨ä¹‹é—´çš„ session ä¼šè¯ï¼š</p>
<h3 id="ğŸCookies"><a href="#ğŸCookies" class="headerlink" title="ğŸCookies"></a>ğŸCookies</h3><p>ä¸€ä¸ª Web æœåŠ¡å™¨å¯ä»¥åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ session ä¼šè¯ ID ä½œä¸ºæ¯ä¸ª Web å®¢æˆ·ç«¯çš„ cookieï¼Œå¯¹äºå®¢æˆ·ç«¯çš„åç»­è¯·æ±‚å¯ä»¥ä½¿ç”¨æ¥æ”¶åˆ°çš„ cookie æ¥è¯†åˆ«ã€‚</p>
<p>è¿™å¯èƒ½ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ–¹æ³•ï¼Œå› ä¸ºå¾ˆå¤šæµè§ˆå™¨ä¸æ”¯æŒ cookieï¼Œæ‰€ä»¥æˆ‘ä»¬å»ºè®®ä¸è¦ä½¿ç”¨è¿™ç§æ–¹å¼æ¥ç»´æŒ session ä¼šè¯ã€‚</p>
<h3 id="ğŸéšè—çš„è¡¨å•å­—æ®µ"><a href="#ğŸéšè—çš„è¡¨å•å­—æ®µ" class="headerlink" title="ğŸéšè—çš„è¡¨å•å­—æ®µ"></a>ğŸéšè—çš„è¡¨å•å­—æ®µ</h3><h3 id="ğŸServletä¸€ä¸ª-Web-æœåŠ¡å™¨å¯ä»¥å‘é€ä¸€ä¸ªéšè—çš„-HTML-è¡¨å•å­—æ®µï¼Œä»¥åŠä¸€ä¸ªå”¯ä¸€çš„-session-ä¼šè¯-IDï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š"><a href="#ğŸServletä¸€ä¸ª-Web-æœåŠ¡å™¨å¯ä»¥å‘é€ä¸€ä¸ªéšè—çš„-HTML-è¡¨å•å­—æ®µï¼Œä»¥åŠä¸€ä¸ªå”¯ä¸€çš„-session-ä¼šè¯-IDï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š" class="headerlink" title="ğŸServletä¸€ä¸ª Web æœåŠ¡å™¨å¯ä»¥å‘é€ä¸€ä¸ªéšè—çš„ HTML è¡¨å•å­—æ®µï¼Œä»¥åŠä¸€ä¸ªå”¯ä¸€çš„ session ä¼šè¯ IDï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š"></a>ğŸServletä¸€ä¸ª Web æœåŠ¡å™¨å¯ä»¥å‘é€ä¸€ä¸ªéšè—çš„ HTML è¡¨å•å­—æ®µï¼Œä»¥åŠä¸€ä¸ªå”¯ä¸€çš„ session ä¼šè¯ IDï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</h3><figure class="highlight javascript"><table><tbody><tr><td class="code"><pre><span class="line">&lt;input type=<span class="string">"hidden"</span> name=<span class="string">"sessionid"</span> value=<span class="string">"12345"</span>&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>è¯¥æ¡ç›®æ„å‘³ç€ï¼Œå½“è¡¨å•è¢«æäº¤æ—¶ï¼ŒæŒ‡å®šçš„åç§°å’Œå€¼ä¼šè¢«è‡ªåŠ¨åŒ…å«åœ¨ GET æˆ– POST æ•°æ®ä¸­ã€‚æ¯æ¬¡å½“ Web æµè§ˆå™¨å‘é€å›è¯·æ±‚æ—¶ï¼Œsession_id å€¼å¯ä»¥ç”¨äºä¿æŒä¸åŒçš„ Web æµè§ˆå™¨çš„è·Ÿè¸ªã€‚</p>
<p>è¿™å¯èƒ½æ˜¯ä¸€ç§ä¿æŒ session ä¼šè¯è·Ÿè¸ªçš„æœ‰æ•ˆæ–¹å¼ï¼Œä½†æ˜¯ç‚¹å‡»å¸¸è§„çš„è¶…æ–‡æœ¬é“¾æ¥ï¼ˆ<a href...="">ï¼‰ä¸ä¼šå¯¼è‡´è¡¨å•æäº¤ï¼Œå› æ­¤éšè—çš„è¡¨å•å­—æ®µä¹Ÿä¸æ”¯æŒå¸¸è§„çš„ session ä¼šè¯è·Ÿè¸ªã€‚</a></p><a href...="">
</a><h3 id="ğŸURL-é‡å†™"><a href...=""></a><a href="#ğŸURL-é‡å†™" class="headerlink" title="ğŸURL é‡å†™"></a>ğŸURL é‡å†™</h3><p>æ‚¨å¯ä»¥åœ¨æ¯ä¸ª URL æœ«å°¾è¿½åŠ ä¸€äº›é¢å¤–çš„æ•°æ®æ¥æ ‡è¯† session ä¼šè¯ï¼ŒæœåŠ¡å™¨ä¼šæŠŠè¯¥ session ä¼šè¯æ ‡è¯†ç¬¦ä¸å·²å­˜å‚¨çš„æœ‰å…³ session ä¼šè¯çš„æ•°æ®ç›¸å…³è”ã€‚</p>
<p>ä¾‹å¦‚ï¼Œhttp://w3cschool.cc/file.htm;sessionid=12345ï¼Œsession ä¼šè¯æ ‡è¯†ç¬¦è¢«é™„åŠ ä¸º sessionid=12345ï¼Œæ ‡è¯†ç¬¦å¯è¢« Web æœåŠ¡å™¨è®¿é—®ä»¥è¯†åˆ«å®¢æˆ·ç«¯ã€‚</p>
<p>URL é‡å†™æ˜¯ä¸€ç§æ›´å¥½çš„ç»´æŒ session ä¼šè¯çš„æ–¹å¼ï¼Œå®ƒåœ¨æµè§ˆå™¨ä¸æ”¯æŒ cookie æ—¶èƒ½å¤Ÿå¾ˆå¥½åœ°å·¥ä½œï¼Œä½†æ˜¯å®ƒçš„ç¼ºç‚¹æ˜¯ä¼šåŠ¨æ€ç”Ÿæˆæ¯ä¸ª URL æ¥ä¸ºé¡µé¢åˆ†é…ä¸€ä¸ª session ä¼šè¯ IDï¼Œå³ä½¿æ˜¯åœ¨å¾ˆç®€å•çš„é™æ€ HTML é¡µé¢ä¸­ä¹Ÿä¼šå¦‚æ­¤ã€‚</p>
<h3 id="ğŸHttpSession-å¯¹è±¡"><a href="#ğŸHttpSession-å¯¹è±¡" class="headerlink" title="ğŸHttpSession å¯¹è±¡"></a>ğŸHttpSession å¯¹è±¡</h3><p>é™¤äº†ä¸Šè¿°çš„ä¸‰ç§æ–¹å¼ï¼ŒServlet è¿˜æä¾›äº† HttpSession æ¥å£ï¼Œè¯¥æ¥å£æä¾›äº†ä¸€ç§è·¨å¤šä¸ªé¡µé¢è¯·æ±‚æˆ–è®¿é—®ç½‘ç«™æ—¶è¯†åˆ«ç”¨æˆ·ä»¥åŠå­˜å‚¨æœ‰å…³ç”¨æˆ·ä¿¡æ¯çš„æ–¹å¼ã€‚</p>
<p>Servlet å®¹å™¨ä½¿ç”¨è¿™ä¸ªæ¥å£æ¥åˆ›å»ºä¸€ä¸ª HTTP å®¢æˆ·ç«¯å’Œ HTTP æœåŠ¡å™¨ä¹‹é—´çš„ session ä¼šè¯ã€‚ä¼šè¯æŒç»­ä¸€ä¸ªæŒ‡å®šçš„æ—¶é—´æ®µï¼Œè·¨å¤šä¸ªè¿æ¥æˆ–é¡µé¢è¯·æ±‚ã€‚</p>
<p>æ‚¨ä¼šé€šè¿‡è°ƒç”¨ HttpServletRequest çš„å…¬å…±æ–¹æ³• <strong>getSession()</strong> æ¥è·å– HttpSession å¯¹è±¡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">HttpSession session = request.getSession();</span><br></pre></td></tr></tbody></table></figure>

<p>ä½ éœ€è¦åœ¨å‘å®¢æˆ·ç«¯å‘é€ä»»ä½•æ–‡æ¡£å†…å®¹ä¹‹å‰è°ƒç”¨ <em>request.getSession()</em>ã€‚ä¸‹é¢æ€»ç»“äº† HttpSession å¯¹è±¡ä¸­å¯ç”¨çš„å‡ ä¸ªé‡è¦çš„æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th align="left">åºå·</th>
<th align="left">æ–¹æ³• &amp; æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>public Object getAttribute(String name)</strong> è¯¥æ–¹æ³•è¿”å›åœ¨è¯¥ session ä¼šè¯ä¸­å…·æœ‰æŒ‡å®šåç§°çš„å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šåç§°çš„å¯¹è±¡ï¼Œåˆ™è¿”å› nullã€‚</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>public Enumeration getAttributeNames()</strong> è¯¥æ–¹æ³•è¿”å› String å¯¹è±¡çš„æšä¸¾ï¼ŒString å¯¹è±¡åŒ…å«æ‰€æœ‰ç»‘å®šåˆ°è¯¥ session ä¼šè¯çš„å¯¹è±¡çš„åç§°ã€‚</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>public long getCreationTime()</strong> è¯¥æ–¹æ³•è¿”å›è¯¥ session ä¼šè¯è¢«åˆ›å»ºçš„æ—¶é—´ï¼Œè‡ªæ ¼æ—å°¼æ²»æ ‡å‡†æ—¶é—´ 1970 å¹´ 1 æœˆ 1 æ—¥åˆå¤œç®—èµ·ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ã€‚</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><strong>public String getId()</strong> è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«åˆ†é…ç»™è¯¥ session ä¼šè¯çš„å”¯ä¸€æ ‡è¯†ç¬¦çš„å­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left"><strong>public long getLastAccessedTime()</strong> è¯¥æ–¹æ³•è¿”å›å®¢æˆ·ç«¯æœ€åä¸€æ¬¡å‘é€ä¸è¯¥ session ä¼šè¯ç›¸å…³çš„è¯·æ±‚çš„æ—¶é—´è‡ªæ ¼æ—å°¼æ²»æ ‡å‡†æ—¶é—´ 1970 å¹´ 1 æœˆ 1 æ—¥åˆå¤œç®—èµ·ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ã€‚</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left"><strong>public int getMaxInactiveInterval()</strong> è¯¥æ–¹æ³•è¿”å› Servlet å®¹å™¨åœ¨å®¢æˆ·ç«¯è®¿é—®æ—¶ä¿æŒ session ä¼šè¯æ‰“å¼€çš„æœ€å¤§æ—¶é—´é—´éš”ï¼Œä»¥ç§’ä¸ºå•ä½ã€‚</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left"><strong>public void invalidate()</strong> è¯¥æ–¹æ³•æŒ‡ç¤ºè¯¥ session ä¼šè¯æ— æ•ˆï¼Œå¹¶è§£é™¤ç»‘å®šåˆ°å®ƒä¸Šé¢çš„ä»»ä½•å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td align="left">8</td>
<td align="left"><strong>public boolean isNew()</strong> å¦‚æœå®¢æˆ·ç«¯è¿˜ä¸çŸ¥é“è¯¥ session ä¼šè¯ï¼Œæˆ–è€…å¦‚æœå®¢æˆ·é€‰æ‹©ä¸å‚å…¥è¯¥ session ä¼šè¯ï¼Œåˆ™è¯¥æ–¹æ³•è¿”å› trueã€‚</td>
</tr>
<tr>
<td align="left">9</td>
<td align="left"><strong>public void removeAttribute(String name)</strong> è¯¥æ–¹æ³•å°†ä»è¯¥ session ä¼šè¯ç§»é™¤æŒ‡å®šåç§°çš„å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td align="left">10</td>
<td align="left"><strong>public void setAttribute(String name, Object value)</strong>  è¯¥æ–¹æ³•ä½¿ç”¨æŒ‡å®šçš„åç§°ç»‘å®šä¸€ä¸ªå¯¹è±¡åˆ°è¯¥ session ä¼šè¯ã€‚</td>
</tr>
<tr>
<td align="left">11</td>
<td align="left"><strong>public void setMaxInactiveInterval(int interval)</strong> è¯¥æ–¹æ³•åœ¨ Servlet å®¹å™¨æŒ‡ç¤ºè¯¥ session ä¼šè¯æ— æ•ˆä¹‹å‰ï¼ŒæŒ‡å®šå®¢æˆ·ç«¯è¯·æ±‚ä¹‹é—´çš„æ—¶é—´ï¼Œä»¥ç§’ä¸ºå•ä½ã€‚</td>
</tr>
</tbody></table>
<h3 id="ğŸSession-è·Ÿè¸ªå®ä¾‹"><a href="#ğŸSession-è·Ÿè¸ªå®ä¾‹" class="headerlink" title="ğŸSession è·Ÿè¸ªå®ä¾‹"></a>ğŸSession è·Ÿè¸ªå®ä¾‹</h3><p>æœ¬å®ä¾‹è¯´æ˜äº†å¦‚ä½•ä½¿ç”¨ HttpSession å¯¹è±¡è·å– session ä¼šè¯åˆ›å»ºæ—¶é—´å’Œæœ€åè®¿é—®æ—¶é—´ã€‚å¦‚æœä¸å­˜åœ¨ session ä¼šè¯ï¼Œæˆ‘ä»¬å°†é€šè¿‡è¯·æ±‚åˆ›å»ºä¸€ä¸ªæ–°çš„ session ä¼šè¯ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class SessionTrack</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/SessionTrack"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SessionTrack</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="comment">// å¦‚æœä¸å­˜åœ¨ session ä¼šè¯ï¼Œåˆ™åˆ›å»ºä¸€ä¸ª session å¯¹è±¡</span></span><br><span class="line">        HttpSession session = request.getSession(<span class="keyword">true</span>);</span><br><span class="line">        <span class="comment">// è·å– session åˆ›å»ºæ—¶é—´</span></span><br><span class="line">        Date createTime = <span class="keyword">new</span> Date(session.getCreationTime());</span><br><span class="line">        <span class="comment">// è·å–è¯¥ç½‘é¡µçš„æœ€åä¸€æ¬¡è®¿é—®æ—¶é—´</span></span><br><span class="line">        Date lastAccessTime = <span class="keyword">new</span> Date(session.getLastAccessedTime());</span><br><span class="line">         </span><br><span class="line">        <span class="comment">//è®¾ç½®æ—¥æœŸè¾“å‡ºçš„æ ¼å¼  </span></span><br><span class="line">        SimpleDateFormat df=<span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>);  </span><br><span class="line">    </span><br><span class="line">        String title = <span class="string">"Servlet Session å®ä¾‹ - äº‘æ¾ˆ"</span>;</span><br><span class="line">        Integer visitCount = <span class="keyword">new</span> Integer(<span class="number">0</span>);</span><br><span class="line">        String visitCountKey = <span class="keyword">new</span> String(<span class="string">"visitCount"</span>);</span><br><span class="line">        String userIDKey = <span class="keyword">new</span> String(<span class="string">"userID"</span>);</span><br><span class="line">        String userID = <span class="keyword">new</span> String(<span class="string">"Runoob"</span>);</span><br><span class="line">        <span class="keyword">if</span>(session.getAttribute(visitCountKey) == <span class="keyword">null</span>) {</span><br><span class="line">            session.setAttribute(visitCountKey, <span class="keyword">new</span> Integer(<span class="number">0</span>));</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">        <span class="comment">// æ£€æŸ¥ç½‘é¡µä¸Šæ˜¯å¦æœ‰æ–°çš„è®¿é—®è€…</span></span><br><span class="line">        <span class="keyword">if</span> (session.isNew()){</span><br><span class="line">            title = <span class="string">"Servlet Session å®ä¾‹ - äº‘æ¾ˆ"</span>;</span><br><span class="line">             session.setAttribute(userIDKey, userID);</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">             visitCount = (Integer)session.getAttribute(visitCountKey);</span><br><span class="line">             visitCount = visitCount + <span class="number">1</span>;</span><br><span class="line">             userID = (String)session.getAttribute(userIDKey);</span><br><span class="line">        }</span><br><span class="line">        session.setAttribute(visitCountKey,  visitCount);</span><br><span class="line">    </span><br><span class="line">        <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">    </span><br><span class="line">        String docType = <span class="string">"&lt;!DOCTYPE html&gt;\n"</span>;</span><br><span class="line">        out.println(docType +</span><br><span class="line">                <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">                 <span class="string">"&lt;h2 align=\"center\"&gt;Session ä¿¡æ¯&lt;/h2&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;table border=\"1\" align=\"center\"&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;tr bgcolor=\"#949494\"&gt;\n"</span> +</span><br><span class="line">                <span class="string">"  &lt;th&gt;Session ä¿¡æ¯&lt;/th&gt;&lt;th&gt;å€¼&lt;/th&gt;&lt;/tr&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;tr&gt;\n"</span> +</span><br><span class="line">                <span class="string">"  &lt;td&gt;id&lt;/td&gt;\n"</span> +</span><br><span class="line">                <span class="string">"  &lt;td&gt;"</span> + session.getId() + <span class="string">"&lt;/td&gt;&lt;/tr&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;tr&gt;\n"</span> +</span><br><span class="line">                <span class="string">"  &lt;td&gt;åˆ›å»ºæ—¶é—´&lt;/td&gt;\n"</span> +</span><br><span class="line">                <span class="string">"  &lt;td&gt;"</span> +  df.format(createTime) + </span><br><span class="line">                <span class="string">"  &lt;/td&gt;&lt;/tr&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;tr&gt;\n"</span> +</span><br><span class="line">                <span class="string">"  &lt;td&gt;æœ€åè®¿é—®æ—¶é—´&lt;/td&gt;\n"</span> +</span><br><span class="line">                <span class="string">"  &lt;td&gt;"</span> + df.format(lastAccessTime) + </span><br><span class="line">                <span class="string">"  &lt;/td&gt;&lt;/tr&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;tr&gt;\n"</span> +</span><br><span class="line">                <span class="string">"  &lt;td&gt;ç”¨æˆ· ID&lt;/td&gt;\n"</span> +</span><br><span class="line">                <span class="string">"  &lt;td&gt;"</span> + userID + </span><br><span class="line">                <span class="string">"  &lt;/td&gt;&lt;/tr&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;tr&gt;\n"</span> +</span><br><span class="line">                <span class="string">"  &lt;td&gt;è®¿é—®ç»Ÿè®¡ï¼š&lt;/td&gt;\n"</span> +</span><br><span class="line">                <span class="string">"  &lt;td&gt;"</span> + visitCount + <span class="string">"&lt;/td&gt;&lt;/tr&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;/table&gt;\n"</span> +</span><br><span class="line">                <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>); </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç¼–è¯‘ä¸Šé¢çš„ Servlet <strong>SessionTrack</strong>ï¼Œå¹¶åœ¨ web.xml æ–‡ä»¶ä¸­åˆ›å»ºé€‚å½“çš„æ¡ç›®ã€‚</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span> </span><br><span class="line">    <span class="comment">&lt;!-- ç±»å --&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SessionTrack<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ‰€åœ¨çš„åŒ… --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.runoob.test.SessionTrack<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SessionTrack<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è®¿é—®çš„ç½‘å€ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/SessionTrack<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ <em>http://localhost:8080/TomcatTest/SessionTrack</em>ï¼Œå½“æ‚¨ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶å°†æ˜¾ç¤ºå¦‚ä¸‹ç»“æœï¼š</p>
<p><a href="https://imgchr.com/i/0rsYND" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/10/09/0rsYND.png" alt="0rsYND.png"></a></p>
<p>å†æ¬¡å°è¯•è¿è¡Œç›¸åŒçš„ Servletï¼Œå®ƒå°†æ˜¾ç¤ºå¦‚ä¸‹ç»“æœ</p>
<p><a href="https://imgchr.com/i/0rsBut" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/10/09/0rsBut.png" alt="0rsBut.png"></a></p>
<h3 id="ğŸåˆ é™¤-Session-ä¼šè¯æ•°æ®"><a href="#ğŸåˆ é™¤-Session-ä¼šè¯æ•°æ®" class="headerlink" title="ğŸåˆ é™¤ Session ä¼šè¯æ•°æ®"></a>ğŸåˆ é™¤ Session ä¼šè¯æ•°æ®</h3><p>å½“æ‚¨å®Œæˆäº†ä¸€ä¸ªç”¨æˆ·çš„ session ä¼šè¯æ•°æ®ï¼Œæ‚¨æœ‰ä»¥ä¸‹å‡ ç§é€‰æ‹©ï¼š</p>
<ul>
<li><strong>ç§»é™¤ä¸€ä¸ªç‰¹å®šçš„å±æ€§ï¼š</strong>æ‚¨å¯ä»¥è°ƒç”¨ <em>public void removeAttribute(String name)</em> æ–¹æ³•æ¥åˆ é™¤ä¸ç‰¹å®šçš„é”®ç›¸å…³è”çš„å€¼ã€‚</li>
<li><strong>åˆ é™¤æ•´ä¸ª session ä¼šè¯ï¼š</strong>æ‚¨å¯ä»¥è°ƒç”¨ <em>public void invalidate()</em> æ–¹æ³•æ¥ä¸¢å¼ƒæ•´ä¸ª session ä¼šè¯ã€‚</li>
<li><strong>è®¾ç½® session ä¼šè¯è¿‡æœŸæ—¶é—´ï¼š</strong>æ‚¨å¯ä»¥è°ƒç”¨ <em>public void setMaxInactiveInterval(int interval)</em> æ–¹æ³•æ¥å•ç‹¬è®¾ç½® session ä¼šè¯è¶…æ—¶ã€‚</li>
<li><strong>æ³¨é”€ç”¨æˆ·ï¼š</strong>å¦‚æœä½¿ç”¨çš„æ˜¯æ”¯æŒ servlet 2.4 çš„æœåŠ¡å™¨ï¼Œæ‚¨å¯ä»¥è°ƒç”¨ <strong>logout</strong> æ¥æ³¨é”€ Web æœåŠ¡å™¨çš„å®¢æˆ·ç«¯ï¼Œå¹¶æŠŠå±äºæ‰€æœ‰ç”¨æˆ·çš„æ‰€æœ‰ session ä¼šè¯è®¾ç½®ä¸ºæ— æ•ˆã€‚</li>
<li><strong>web.xml é…ç½®ï¼š</strong>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ Tomcatï¼Œé™¤äº†ä¸Šè¿°æ–¹æ³•ï¼Œæ‚¨è¿˜å¯ä»¥åœ¨ web.xml æ–‡ä»¶ä¸­é…ç½® session ä¼šè¯è¶…æ—¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</li>
</ul>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>15<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢å®ä¾‹ä¸­çš„è¶…æ—¶æ—¶é—´æ˜¯ä»¥åˆ†é’Ÿä¸ºå•ä½ï¼Œå°†è¦†ç›– Tomcat ä¸­é»˜è®¤çš„ 30 åˆ†é’Ÿè¶…æ—¶æ—¶é—´ã€‚</p>
<p>åœ¨ä¸€ä¸ª Servlet ä¸­çš„ getMaxInactiveInterval() æ–¹æ³•ä¼šè¿”å› session ä¼šè¯çš„è¶…æ—¶æ—¶é—´ï¼Œä»¥ç§’ä¸ºå•ä½ã€‚æ‰€ä»¥ï¼Œå¦‚æœåœ¨ web.xml ä¸­é…ç½® session ä¼šè¯è¶…æ—¶æ—¶é—´ä¸º 15 åˆ†é’Ÿï¼Œé‚£ä¹ˆ getMaxInactiveInterval() ä¼šè¿”å› 900ã€‚</p>
<h2 id="ğŸŒ¸Servletæ•°æ®åº“è®¿é—®"><a href="#ğŸŒ¸Servletæ•°æ®åº“è®¿é—®" class="headerlink" title="ğŸŒ¸Servletæ•°æ®åº“è®¿é—®"></a>ğŸŒ¸Servletæ•°æ®åº“è®¿é—®</h2><blockquote>
<p>åœ¨ java é¡¹ç›®ä¸­ï¼Œåªéœ€è¦åœ¨ Eclipse ä¸­å¼•å…¥ mysql-connector-java-5.1.39-bin.jar å°±å¯ä»¥è¿è¡Œjavaé¡¹ç›®ã€‚</p>
<p>ä½†æ˜¯åœ¨ Eclipse web é¡¹ç›®ä¸­ï¼Œå½“æ‰§è¡Œ Class.forName(â€œcom.mysql.jdbc.Driverâ€);æ—¶ ä¸ä¼šå»æŸ¥æ‰¾é©±åŠ¨çš„ã€‚æ‰€ä»¥æœ¬å®ä¾‹ä¸­æˆ‘ä»¬éœ€è¦æŠŠ mysql-connector-java-5.1.39-bin.jar æ‹·è´åˆ° tomcat ä¸‹ lib ç›®å½•ã€‚</p>
</blockquote>
<h3 id="ğŸåˆ›å»ºæµ‹è¯•æ•°æ®"><a href="#ğŸåˆ›å»ºæµ‹è¯•æ•°æ®" class="headerlink" title="ğŸåˆ›å»ºæµ‹è¯•æ•°æ®"></a>ğŸåˆ›å»ºæµ‹è¯•æ•°æ®</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨ MySQL ä¸­åˆ›å»º RUNOOB æ•°æ®åº“ï¼Œå¹¶åˆ›å»º websites æ•°æ®è¡¨ï¼Œè¡¨ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`websites`</span> (</span><br><span class="line">  <span class="string">`id`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  <span class="string">`name`</span> <span class="built_in">char</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">''</span> <span class="keyword">COMMENT</span> <span class="string">'ç«™ç‚¹åç§°'</span>,</span><br><span class="line">  <span class="string">`url`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">''</span>,</span><br><span class="line">  <span class="string">`alexa`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">'0'</span> <span class="keyword">COMMENT</span> <span class="string">'Alexa æ’å'</span>,</span><br><span class="line">  <span class="string">`country`</span> <span class="built_in">char</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">''</span> <span class="keyword">COMMENT</span> <span class="string">'å›½å®¶'</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">10</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br></pre></td></tr></tbody></table></figure>

<p>æ’å…¥ä¸€äº›æ•°æ®ï¼š</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`websites`</span> <span class="keyword">VALUES</span> (<span class="string">'1'</span>, <span class="string">'Google'</span>, <span class="string">'https://www.google.cm/'</span>, <span class="string">'1'</span>, <span class="string">'USA'</span>), (<span class="string">'2'</span>, <span class="string">'æ·˜å®'</span>, <span class="string">'https://www.taobao.com/'</span>, <span class="string">'13'</span>, <span class="string">'CN'</span>), (<span class="string">'3'</span>, <span class="string">'èœé¸Ÿæ•™ç¨‹'</span>, <span class="string">'http://www.runoob.com'</span>, <span class="string">'5892'</span>, <span class="string">''</span>), (<span class="string">'4'</span>, <span class="string">'å¾®åš'</span>, <span class="string">'http://weibo.com/'</span>, <span class="string">'20'</span>, <span class="string">'CN'</span>), (<span class="string">'5'</span>, <span class="string">'Facebook'</span>, <span class="string">'https://www.facebook.com/'</span>, <span class="string">'3'</span>, <span class="string">'USA'</span>);</span><br></pre></td></tr></tbody></table></figure>





<h3 id="ğŸè®¿é—®æ•°æ®åº“"><a href="#ğŸè®¿é—®æ•°æ®åº“" class="headerlink" title="ğŸè®¿é—®æ•°æ®åº“"></a>ğŸè®¿é—®æ•°æ®åº“</h3><p>ä¸‹é¢çš„å®ä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Servlet è®¿é—® RUNOOB æ•°æ®åº“ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class DatabaseAccess</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/DatabaseAccess"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DatabaseAccess</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">    <span class="comment">// JDBC é©±åŠ¨ååŠæ•°æ®åº“ URL</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String JDBC_DRIVER = <span class="string">"com.mysql.jdbc.Driver"</span>;  </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String DB_URL = <span class="string">"jdbc:mysql://localhost:3306/RUNOOB"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ•°æ®åº“çš„ç”¨æˆ·åä¸å¯†ç ï¼Œéœ€è¦æ ¹æ®è‡ªå·±çš„è®¾ç½®</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String USER = <span class="string">"root"</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> String PASS = <span class="string">"123456"</span>; </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DatabaseAccess</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        Connection conn = <span class="keyword">null</span>;</span><br><span class="line">        Statement stmt = <span class="keyword">null</span>;</span><br><span class="line">        <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        String title = <span class="string">"Servlet Mysql æµ‹è¯• - èœé¸Ÿæ•™ç¨‹"</span>;</span><br><span class="line">        String docType = <span class="string">"&lt;!DOCTYPE html&gt;\n"</span>;</span><br><span class="line">        out.println(docType +</span><br><span class="line">        <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">        <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">        <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">        <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span>);</span><br><span class="line">        <span class="keyword">try</span>{</span><br><span class="line">            <span class="comment">// æ³¨å†Œ JDBC é©±åŠ¨å™¨</span></span><br><span class="line">            Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// æ‰“å¼€ä¸€ä¸ªè¿æ¥</span></span><br><span class="line">            conn = DriverManager.getConnection(DB_URL,USER,PASS);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ‰§è¡Œ SQL æŸ¥è¯¢</span></span><br><span class="line">            stmt = conn.createStatement();</span><br><span class="line">            String sql;</span><br><span class="line">            sql = <span class="string">"SELECT id, name, url FROM websites"</span>;</span><br><span class="line">            ResultSet rs = stmt.executeQuery(sql);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å±•å¼€ç»“æœé›†æ•°æ®åº“</span></span><br><span class="line">            <span class="keyword">while</span>(rs.next()){</span><br><span class="line">                <span class="comment">// é€šè¿‡å­—æ®µæ£€ç´¢</span></span><br><span class="line">                <span class="keyword">int</span> id  = rs.getInt(<span class="string">"id"</span>);</span><br><span class="line">                String name = rs.getString(<span class="string">"name"</span>);</span><br><span class="line">                String url = rs.getString(<span class="string">"url"</span>);</span><br><span class="line">    </span><br><span class="line">                <span class="comment">// è¾“å‡ºæ•°æ®</span></span><br><span class="line">                out.println(<span class="string">"ID: "</span> + id);</span><br><span class="line">                out.println(<span class="string">", ç«™ç‚¹åç§°: "</span> + name);</span><br><span class="line">                out.println(<span class="string">", ç«™ç‚¹ URL: "</span> + url);</span><br><span class="line">                out.println(<span class="string">"&lt;br /&gt;"</span>);</span><br><span class="line">            }</span><br><span class="line">            out.println(<span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å®Œæˆåå…³é—­</span></span><br><span class="line">            rs.close();</span><br><span class="line">            stmt.close();</span><br><span class="line">            conn.close();</span><br><span class="line">        } <span class="keyword">catch</span>(SQLException se) {</span><br><span class="line">            <span class="comment">// å¤„ç† JDBC é”™è¯¯</span></span><br><span class="line">            se.printStackTrace();</span><br><span class="line">        } <span class="keyword">catch</span>(Exception e) {</span><br><span class="line">            <span class="comment">// å¤„ç† Class.forName é”™è¯¯</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }<span class="keyword">finally</span>{</span><br><span class="line">            <span class="comment">// æœ€åæ˜¯ç”¨äºå…³é—­èµ„æºçš„å—</span></span><br><span class="line">            <span class="keyword">try</span>{</span><br><span class="line">                <span class="keyword">if</span>(stmt!=<span class="keyword">null</span>)</span><br><span class="line">                stmt.close();</span><br><span class="line">            }<span class="keyword">catch</span>(SQLException se2){</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">try</span>{</span><br><span class="line">                <span class="keyword">if</span>(conn!=<span class="keyword">null</span>)</span><br><span class="line">                conn.close();</span><br><span class="line">            }<span class="keyword">catch</span>(SQLException se){</span><br><span class="line">                se.printStackTrace();</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">       </span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        doGet(request, response);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨è®©æˆ‘ä»¬æ¥ç¼–è¯‘ä¸Šé¢çš„ Servletï¼Œå¹¶åœ¨ web.xml æ–‡ä»¶ä¸­åˆ›å»ºä»¥ä¸‹æ¡ç›®ï¼š</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>DatabaseAccess<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.runoob.test.DatabaseAccess<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>DatabaseAccess<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/DatabaseAccess<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸç¬”è®°"><a href="#ğŸç¬”è®°" class="headerlink" title="ğŸç¬”è®°"></a>ğŸç¬”è®°</h3><p>è¿›è¡Œæ•°æ®åº“æ’å…¥æ“ä½œçš„æ—¶å€™ä½¿ç”¨ PreparedStatement æ›´å¥½ï¼Œå¥½å¤„å¦‚ä¸‹ï¼š</p>
<ul>
<li>1.PreparedStatementå¯ä»¥å†™åŠ¨æ€å‚æ•°åŒ–çš„æŸ¥è¯¢ï¼›</li>
<li>2.PreparedStatementæ¯” Statement æ›´å¿«ï¼›</li>
<li>3.PreparedStatementå¯ä»¥é˜²æ­¢SQLæ³¨å…¥å¼æ”»å‡»</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//ç¼–å†™é¢„å¤„ç† SQL è¯­å¥</span></span><br><span class="line">String sql= <span class="string">"INSERT INTO websites1 VALUES(?,?,?,?,?)"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®ä¾‹åŒ– PreparedStatement</span></span><br><span class="line">ps = conn.prepareStatement(sql);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¼ å…¥å‚æ•°ï¼Œè¿™é‡Œçš„å‚æ•°æ¥è‡ªäºä¸€ä¸ªå¸¦æœ‰è¡¨å•çš„jspæ–‡ä»¶ï¼Œå¾ˆå®¹æ˜“å®ç°</span></span><br><span class="line">ps.setString(<span class="number">1</span>, request.getParameter(<span class="string">"id"</span>));</span><br><span class="line">ps.setString(<span class="number">2</span>, request.getParameter(<span class="string">"name"</span>));</span><br><span class="line">ps.setString(<span class="number">3</span>, request.getParameter(<span class="string">"url"</span>));</span><br><span class="line">ps.setString(<span class="number">4</span>, request.getParameter(<span class="string">"alexa"</span>));</span><br><span class="line">ps.setString(<span class="number">5</span>, request.getParameter(<span class="string">"country"</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰§è¡Œæ•°æ®åº“æ›´æ–°æ“ä½œï¼Œä¸éœ€è¦SQLè¯­å¥</span></span><br><span class="line">ps.executeUpdate();</span><br><span class="line">sql = <span class="string">"SELECT id, name, url FROM websites1"</span>;</span><br><span class="line">ps = conn.prepareStatement(sql);</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–æŸ¥è¯¢ç»“æœ</span></span><br><span class="line">ResultSet rs = ps.executeQuery();</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸæ³¨æ„"><a href="#ğŸæ³¨æ„" class="headerlink" title="ğŸæ³¨æ„"></a>ğŸæ³¨æ„</h3><p>ç”±äºæ›´æ–°çš„ MySQL8.0ï¼Œæ‰€ä»¥æœ¬ç½‘ç«™æä¾›çš„ jar åŒ…ï¼š<strong>mysql-connector-java-5.1.39-bin.jar</strong> å°±ä¸èƒ½ç”¨äº†ï¼Œè¿æ¥æ—¶ä¼šæŠ¥ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ªå¼‚å¸¸ã€‚</p>
<p>éœ€è¦é‡æ–°ä¸‹è½½ï¼Œä¸‹è½½åœ°å€ <a href="https://dev.mysql.com/downloads/file/?id=484819ï¼Œæš‚æ—¶æˆ‘ä¸‹è½½åˆ°çš„æ˜¯" target="_blank" rel="noopener">https://dev.mysql.com/downloads/file/?id=484819ï¼Œæš‚æ—¶æˆ‘ä¸‹è½½åˆ°çš„æ˜¯</a> <strong>mysql-connector-java-8.0.15</strong> æ›¿æ¢è¿™ä¸ª jar åŒ…åï¼Œåˆå‡ºç°å¼‚å¸¸ <strong>java.sql.SQLException: The server time zone value</strong>ï¼Œåªéœ€åœ¨æ•°æ®åº“åœ°å€åè¾¹æ·»åŠ  <strong>serverTimezone=UTC</strong> å³å¯ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">DB_URL = <span class="string">"jdbc:mysql://localhost:3306/servlet_db?serverTimezone=UTC"</span>;</span><br></pre></td></tr></tbody></table></figure>

<p>è¿˜æœ‰æ³¨å†Œ jdbc çš„é©±åŠ¨ä¹Ÿæ¢äº†ã€‚</p>
<p>æ³¨å†Œ JDBC é©±åŠ¨å™¨ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">Class.forName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸Servlet-æ–‡ä»¶ä¸Šä¼ "><a href="#ğŸŒ¸Servlet-æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="ğŸŒ¸Servlet æ–‡ä»¶ä¸Šä¼ "></a>ğŸŒ¸Servlet æ–‡ä»¶ä¸Šä¼ </h2><p>Servlet å¯ä»¥ä¸ HTML form æ ‡ç­¾ä¸€èµ·ä½¿ç”¨ï¼Œæ¥å…è®¸ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨ã€‚ä¸Šä¼ çš„æ–‡ä»¶å¯ä»¥æ˜¯æ–‡æœ¬æ–‡ä»¶æˆ–å›¾åƒæ–‡ä»¶æˆ–ä»»ä½•æ–‡æ¡£ã€‚</p>
<p>æœ¬æ–‡ä½¿ç”¨åˆ°çš„æ–‡ä»¶æœ‰ï¼š</p>
<ul>
<li>upload.jsp : æ–‡ä»¶ä¸Šä¼ è¡¨å•ã€‚</li>
<li>message.jsp : ä¸Šä¼ æˆåŠŸåè·³è½¬é¡µé¢ã€‚</li>
<li>UploadServlet.java : ä¸Šä¼ å¤„ç† Servletã€‚</li>
<li>éœ€è¦å¼•å…¥çš„ jar æ–‡ä»¶ï¼šcommons-fileupload-1.4ã€commons-io-2.8.jarã€‚</li>
<li><em>Servlet3.0 å·²ç»å†…ç½®äº†æ–‡ä»¶ä¸Šä¼ è¿™ä¸€ç‰¹æ€§ï¼Œå¼€å‘è€…ä¸å†éœ€è¦å°† Commons FileUpload ç»„ä»¶å¯¼å…¥åˆ°å·¥ç¨‹ä¸­å»ã€‚</em></li>
</ul>
<h3 id="ğŸåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ è¡¨å•"><a href="#ğŸåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ è¡¨å•" class="headerlink" title="ğŸåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ è¡¨å•"></a>ğŸåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ è¡¨å•</h3><p>ä¸‹é¢çš„ HTML ä»£ç åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ è¡¨å•ã€‚ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p>
<ul>
<li>è¡¨å• <strong>method</strong> å±æ€§åº”è¯¥è®¾ç½®ä¸º <strong>POST</strong> æ–¹æ³•ï¼Œä¸èƒ½ä½¿ç”¨ GET æ–¹æ³•ã€‚</li>
<li>è¡¨å• <strong>enctype</strong> å±æ€§åº”è¯¥è®¾ç½®ä¸º <strong>multipart/form-data</strong>.</li>
<li>è¡¨å• <strong>action</strong> å±æ€§åº”è¯¥è®¾ç½®ä¸ºåœ¨åç«¯æœåŠ¡å™¨ä¸Šå¤„ç†æ–‡ä»¶ä¸Šä¼ çš„ Servlet æ–‡ä»¶ã€‚ä¸‹é¢çš„å®ä¾‹ä½¿ç”¨äº† <strong>UploadServlet</strong> Servlet æ¥ä¸Šä¼ æ–‡ä»¶ã€‚</li>
<li>ä¸Šä¼ å•ä¸ªæ–‡ä»¶ï¼Œæ‚¨åº”è¯¥ä½¿ç”¨å•ä¸ªå¸¦æœ‰å±æ€§ type=â€fileâ€ çš„ &lt;input â€¦/&gt; æ ‡ç­¾ã€‚ä¸ºäº†å…è®¸å¤šä¸ªæ–‡ä»¶ä¸Šä¼ ï¼Œè¯·åŒ…å«å¤šä¸ª name å±æ€§å€¼ä¸åŒçš„ input æ ‡ç­¾ã€‚è¾“å…¥æ ‡ç­¾å…·æœ‰ä¸åŒçš„åç§°å±æ€§çš„å€¼ã€‚æµè§ˆå™¨ä¼šä¸ºæ¯ä¸ª input æ ‡ç­¾å…³è”ä¸€ä¸ªæµè§ˆæŒ‰é’®ã€‚</li>
</ul>
<p>upload.jsp æ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;æ–‡ä»¶ä¸Šä¼ å®ä¾‹ - äº‘æ¾ˆ&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;æ–‡ä»¶ä¸Šä¼ å®ä¾‹ - äº‘æ¾ˆ&lt;/h1&gt;</span><br><span class="line">&lt;form method=<span class="string">"post"</span> action=<span class="string">"/TomcatTest/UploadServlet"</span> enctype=<span class="string">"multipart/form-data"</span>&gt;</span><br><span class="line">    é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶:</span><br><span class="line">    &lt;input type=<span class="string">"file"</span> name=<span class="string">"uploadFile"</span> /&gt;</span><br><span class="line">    &lt;br/&gt;&lt;br/&gt;</span><br><span class="line">    &lt;input type=<span class="string">"submit"</span> value=<span class="string">"ä¸Šä¼ "</span> /&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ğŸç¼–å†™åå°-Servlet"><a href="#ğŸç¼–å†™åå°-Servlet" class="headerlink" title="ğŸç¼–å†™åå° Servlet"></a>ğŸç¼–å†™åå° Servlet</h3><p>ä»¥ä¸‹æ˜¯ UploadServlet çš„æºä»£ç ï¼ŒåŒäºå¤„ç†æ–‡ä»¶ä¸Šä¼ ï¼Œåœ¨è¿™ä¹‹å‰æˆ‘ä»¬å…ˆç¡®ä¿ä¾èµ–åŒ…å·²ç»å¼•å…¥åˆ°é¡¹ç›®çš„ WEB-INF/lib ç›®å½•ä¸‹ï¼š</p>
<ul>
<li>ä¸‹é¢çš„å®ä¾‹ä¾èµ–äº FileUploadï¼Œæ‰€ä»¥ä¸€å®šè¦ç¡®ä¿åœ¨æ‚¨çš„ classpath ä¸­æœ‰æœ€æ–°ç‰ˆæœ¬çš„ <strong>commons-fileupload.x.x.jar</strong>æ–‡ä»¶ã€‚å¯ä»¥ä» <a href="http://commons.apache.org/proper/commons-fileupload/" target="_blank" rel="noopener">http://commons.apache.org/proper/commons-fileupload/</a> ä¸‹è½½ã€‚</li>
<li>FileUpload ä¾èµ–äº Commons IOï¼Œæ‰€ä»¥ä¸€å®šè¦ç¡®ä¿åœ¨æ‚¨çš„ classpath ä¸­æœ‰æœ€æ–°ç‰ˆæœ¬çš„ <strong>commons-io-x.x.jar</strong> æ–‡ä»¶ã€‚å¯ä»¥ä» <a href="http://commons.apache.org/proper/commons-io/" target="_blank" rel="noopener">http://commons.apache.org/proper/commons-io/</a> ä¸‹è½½ã€‚</li>
</ul>
<p>UploadServlet çš„æºä»£ç  å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.runoob.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.apache.commons.fileupload.FileItem;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.fileupload.disk.DiskFileItemFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.fileupload.servlet.ServletFileUpload;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class UploadServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/UploadServlet"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UploadServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">// ä¸Šä¼ æ–‡ä»¶å­˜å‚¨ç›®å½•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String UPLOAD_DIRECTORY = <span class="string">"upload"</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// ä¸Šä¼ é…ç½®</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MEMORY_THRESHOLD   = <span class="number">1024</span> * <span class="number">1024</span> * <span class="number">3</span>;  <span class="comment">// 3MB</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAX_FILE_SIZE      = <span class="number">1024</span> * <span class="number">1024</span> * <span class="number">40</span>; <span class="comment">// 40MB</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAX_REQUEST_SIZE   = <span class="number">1024</span> * <span class="number">1024</span> * <span class="number">50</span>; <span class="comment">// 50MB</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸Šä¼ æ•°æ®åŠä¿å­˜æ–‡ä»¶</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">        HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        <span class="comment">// æ£€æµ‹æ˜¯å¦ä¸ºå¤šåª’ä½“ä¸Šä¼ </span></span><br><span class="line">        <span class="keyword">if</span> (!ServletFileUpload.isMultipartContent(request)) {</span><br><span class="line">            <span class="comment">// å¦‚æœä¸æ˜¯åˆ™åœæ­¢</span></span><br><span class="line">            PrintWriter writer = response.getWriter();</span><br><span class="line">            writer.println(<span class="string">"Error: è¡¨å•å¿…é¡»åŒ…å« enctype=multipart/form-data"</span>);</span><br><span class="line">            writer.flush();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line"> </span><br><span class="line">        <span class="comment">// é…ç½®ä¸Šä¼ å‚æ•°</span></span><br><span class="line">        DiskFileItemFactory factory = <span class="keyword">new</span> DiskFileItemFactory();</span><br><span class="line">        <span class="comment">// è®¾ç½®å†…å­˜ä¸´ç•Œå€¼ - è¶…è¿‡åå°†äº§ç”Ÿä¸´æ—¶æ–‡ä»¶å¹¶å­˜å‚¨äºä¸´æ—¶ç›®å½•ä¸­</span></span><br><span class="line">        factory.setSizeThreshold(MEMORY_THRESHOLD);</span><br><span class="line">        <span class="comment">// è®¾ç½®ä¸´æ—¶å­˜å‚¨ç›®å½•</span></span><br><span class="line">        factory.setRepository(<span class="keyword">new</span> File(System.getProperty(<span class="string">"java.io.tmpdir"</span>)));</span><br><span class="line"> </span><br><span class="line">        ServletFileUpload upload = <span class="keyword">new</span> ServletFileUpload(factory);</span><br><span class="line">         </span><br><span class="line">        <span class="comment">// è®¾ç½®æœ€å¤§æ–‡ä»¶ä¸Šä¼ å€¼</span></span><br><span class="line">        upload.setFileSizeMax(MAX_FILE_SIZE);</span><br><span class="line">         </span><br><span class="line">        <span class="comment">// è®¾ç½®æœ€å¤§è¯·æ±‚å€¼ (åŒ…å«æ–‡ä»¶å’Œè¡¨å•æ•°æ®)</span></span><br><span class="line">        upload.setSizeMax(MAX_REQUEST_SIZE);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸­æ–‡å¤„ç†</span></span><br><span class="line">        upload.setHeaderEncoding(<span class="string">"UTF-8"</span>); </span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ„é€ ä¸´æ—¶è·¯å¾„æ¥å­˜å‚¨ä¸Šä¼ çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="comment">// è¿™ä¸ªè·¯å¾„ç›¸å¯¹å½“å‰åº”ç”¨çš„ç›®å½•</span></span><br><span class="line">        String uploadPath = request.getServletContext().getRealPath(<span class="string">"./"</span>) + File.separator + UPLOAD_DIRECTORY;</span><br><span class="line">       </span><br><span class="line">         </span><br><span class="line">        <span class="comment">// å¦‚æœç›®å½•ä¸å­˜åœ¨åˆ™åˆ›å»º</span></span><br><span class="line">        File uploadDir = <span class="keyword">new</span> File(uploadPath);</span><br><span class="line">        <span class="keyword">if</span> (!uploadDir.exists()) {</span><br><span class="line">            uploadDir.mkdir();</span><br><span class="line">        }</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="comment">// è§£æè¯·æ±‚çš„å†…å®¹æå–æ–‡ä»¶æ•°æ®</span></span><br><span class="line">            <span class="meta">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">            List&lt;FileItem&gt; formItems = upload.parseRequest(request);</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">if</span> (formItems != <span class="keyword">null</span> &amp;&amp; formItems.size() &gt; <span class="number">0</span>) {</span><br><span class="line">                <span class="comment">// è¿­ä»£è¡¨å•æ•°æ®</span></span><br><span class="line">                <span class="keyword">for</span> (FileItem item : formItems) {</span><br><span class="line">                    <span class="comment">// å¤„ç†ä¸åœ¨è¡¨å•ä¸­çš„å­—æ®µ</span></span><br><span class="line">                    <span class="keyword">if</span> (!item.isFormField()) {</span><br><span class="line">                        String fileName = <span class="keyword">new</span> File(item.getName()).getName();</span><br><span class="line">                        String filePath = uploadPath + File.separator + fileName;</span><br><span class="line">                        File storeFile = <span class="keyword">new</span> File(filePath);</span><br><span class="line">                        <span class="comment">// åœ¨æ§åˆ¶å°è¾“å‡ºæ–‡ä»¶çš„ä¸Šä¼ è·¯å¾„</span></span><br><span class="line">                        System.out.println(filePath);</span><br><span class="line">                        <span class="comment">// ä¿å­˜æ–‡ä»¶åˆ°ç¡¬ç›˜</span></span><br><span class="line">                        item.write(storeFile);</span><br><span class="line">                        request.setAttribute(<span class="string">"message"</span>,</span><br><span class="line">                            <span class="string">"æ–‡ä»¶ä¸Šä¼ æˆåŠŸ!"</span>);</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">catch</span> (Exception ex) {</span><br><span class="line">            request.setAttribute(<span class="string">"message"</span>,</span><br><span class="line">                    <span class="string">"é”™è¯¯ä¿¡æ¯: "</span> + ex.getMessage());</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// è·³è½¬åˆ° message.jsp</span></span><br><span class="line">        request.getServletContext().getRequestDispatcher(<span class="string">"/message.jsp"</span>).forward(</span><br><span class="line">                request, response);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>message.jsp æ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;æ–‡ä»¶ä¸Šä¼ ç»“æœ&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;center&gt;</span><br><span class="line">        &lt;h2&gt;${message}&lt;/h2&gt;</span><br><span class="line">    &lt;/center&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ğŸç¼–è¯‘å’Œè¿è¡Œ-Servlet"><a href="#ğŸç¼–è¯‘å’Œè¿è¡Œ-Servlet" class="headerlink" title="ğŸç¼–è¯‘å’Œè¿è¡Œ Servlet"></a>ğŸç¼–è¯‘å’Œè¿è¡Œ Servlet</h3><p>ç¼–è¯‘ä¸Šé¢çš„ Servlet UploadServletï¼Œå¹¶åœ¨ web.xml æ–‡ä»¶ä¸­åˆ›å»ºæ‰€éœ€çš„æ¡ç›®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">version</span>=<span class="string">"2.5"</span>   </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/javaee"</span>   </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span>   </span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/javaee   </span></span></span><br><span class="line"><span class="tag"><span class="string">    http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span>  </span><br><span class="line">     <span class="comment">&lt;!-- ç±»å --&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>UploadServlet<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>UploadServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span>  </span><br><span class="line">    <span class="comment">&lt;!-- æ‰€åœ¨çš„åŒ… --&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.runoob.test.UploadServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>UploadServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span>  </span><br><span class="line">    <span class="comment">&lt;!-- è®¿é—®çš„ç½‘å€ --&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/UploadServlet<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸Servlet-å¤„ç†æ—¥æœŸ"><a href="#ğŸŒ¸Servlet-å¤„ç†æ—¥æœŸ" class="headerlink" title="ğŸŒ¸Servlet å¤„ç†æ—¥æœŸ"></a>ğŸŒ¸Servlet å¤„ç†æ—¥æœŸ</h2><p>Date ç±»æ”¯æŒä¸¤ä¸ªæ„é€ å‡½æ•°ã€‚ç¬¬ä¸€ä¸ªæ„é€ å‡½æ•°åˆå§‹åŒ–å½“å‰æ—¥æœŸå’Œæ—¶é—´çš„å¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">Date( )</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢çš„æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°ç­‰äº 1970 å¹´ 1 æœˆ 1 æ—¥åˆå¤œä»¥æ¥ç»è¿‡çš„æ¯«ç§’æ•°ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">Date(<span class="keyword">long</span> millisec)</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸€æ—¦æ‚¨æœ‰ä¸€ä¸ªå¯ç”¨çš„ Date å¯¹è±¡ï¼Œæ‚¨å¯ä»¥è°ƒç”¨ä¸‹åˆ—ä»»æ„æ”¯æŒçš„æ–¹æ³•æ¥ä½¿ç”¨æ—¥æœŸï¼š</p>
<table>
<thead>
<tr>
<th align="left">åºå·</th>
<th align="left">æ–¹æ³• &amp; æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>boolean after(Date date)</strong> å¦‚æœè°ƒç”¨çš„ Date å¯¹è±¡ä¸­åŒ…å«çš„æ—¥æœŸåœ¨ date æŒ‡å®šçš„æ—¥æœŸä¹‹åï¼Œåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>boolean before(Date date)</strong> å¦‚æœè°ƒç”¨çš„ Date å¯¹è±¡ä¸­åŒ…å«çš„æ—¥æœŸåœ¨ date æŒ‡å®šçš„æ—¥æœŸä¹‹å‰ï¼Œåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>Object clone( )</strong> é‡å¤è°ƒç”¨ Date å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><strong>int compareTo(Date date)</strong> æŠŠè°ƒç”¨å¯¹è±¡çš„å€¼ä¸ date çš„å€¼è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœä¸¤ä¸ªå€¼æ˜¯ç›¸ç­‰çš„ï¼Œåˆ™è¿”å› 0ã€‚å¦‚æœè°ƒç”¨å¯¹è±¡åœ¨ date ä¹‹å‰ï¼Œåˆ™è¿”å›ä¸€ä¸ªè´Ÿå€¼ã€‚å¦‚æœè°ƒç”¨å¯¹è±¡åœ¨ date ä¹‹åï¼Œåˆ™è¿”å›ä¸€ä¸ªæ­£å€¼ã€‚</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left"><strong>int compareTo(Object obj)</strong> å¦‚æœ obj æ˜¯ Date ç±»ï¼Œåˆ™æ“ä½œç­‰åŒäº compareTo(Date)ã€‚å¦åˆ™ï¼Œå®ƒä¼šæŠ›å‡ºä¸€ä¸ª ClassCastExceptionã€‚</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left"><strong>boolean equals(Object date)</strong> å¦‚æœè°ƒç”¨çš„ Date å¯¹è±¡ä¸­åŒ…å«çš„æ—¶é—´å’Œæ—¥æœŸä¸ date æŒ‡å®šçš„ç›¸åŒï¼Œåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left"><strong>long getTime( )</strong> è¿”å› 1970 å¹´ 1 æœˆ 1 æ—¥ä»¥æ¥ç»è¿‡çš„æ¯«ç§’æ•°ã€‚</td>
</tr>
<tr>
<td align="left">8</td>
<td align="left"><strong>int hashCode( )</strong> ä¸ºè°ƒç”¨å¯¹è±¡è¿”å›å“ˆå¸Œä»£ç ã€‚</td>
</tr>
<tr>
<td align="left">9</td>
<td align="left"><strong>void setTime(long time)</strong> è®¾ç½® time æŒ‡å®šçš„æ—¶é—´å’Œæ—¥æœŸï¼Œè¿™è¡¨ç¤ºä» 1970 å¹´ 1 æœˆ 1 æ—¥åˆå¤œä»¥æ¥ç»è¿‡çš„æ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚</td>
</tr>
<tr>
<td align="left">10</td>
<td align="left"><strong>String toString( )</strong> è½¬æ¢è°ƒç”¨çš„ Date å¯¹è±¡ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ç»“æœã€‚</td>
</tr>
</tbody></table>
<h3 id="ğŸè·å–å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´"><a href="#ğŸè·å–å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´" class="headerlink" title="ğŸè·å–å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´"></a>ğŸè·å–å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.runoob.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class CurrentDate</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/CurrentDate"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CurrentDate</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CurrentDate</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line"></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">          String title = <span class="string">"æ˜¾ç¤ºå½“å‰çš„æ—¥æœŸå’Œæ—¶é—´"</span>;</span><br><span class="line">        Date date = <span class="keyword">new</span> Date();</span><br><span class="line">        String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">          out.println(docType +</span><br><span class="line">            <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;h2 align=\"center\"&gt;"</span> + date.toString() + <span class="string">"&lt;/h2&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>CurrentDate<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.runoob.test.CurrentDate<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>CurrentDate<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/CurrentDate<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>



<h3 id="ğŸæ—¥æœŸæ¯”è¾ƒ"><a href="#ğŸæ—¥æœŸæ¯”è¾ƒ" class="headerlink" title="ğŸæ—¥æœŸæ¯”è¾ƒ"></a>ğŸæ—¥æœŸæ¯”è¾ƒ</h3><ul>
<li>å¯ä»¥ä½¿ç”¨ getTime() æ¥è·å–ä¸¤ä¸ªå¯¹è±¡è‡ª 1970 å¹´ 1 æœˆ 1 æ—¥åˆå¤œä»¥æ¥ç»è¿‡çš„æ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ï¼Œç„¶åå¯¹è¿™ä¸¤ä¸ªå€¼è¿›è¡Œæ¯”è¾ƒã€‚</li>
<li>å¯ä»¥ä½¿ç”¨æ–¹æ³• before( )ã€after( ) å’Œ equals( )ã€‚ç”±äºä¸€ä¸ªæœˆé‡Œ 12 å·åœ¨ 18 å·ä¹‹å‰ï¼Œä¾‹å¦‚ï¼Œnew Date(99, 2, 12).before(new Date (99, 2, 18)) è¿”å› trueã€‚</li>
<li>å¯ä»¥ä½¿ç”¨ compareTo( ) æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”± Comparable æ¥å£å®šä¹‰ï¼Œç”± Date å®ç°ã€‚</li>
</ul>
<h3 id="ğŸä½¿ç”¨-SimpleDateFormat-æ ¼å¼åŒ–æ—¥æœŸ"><a href="#ğŸä½¿ç”¨-SimpleDateFormat-æ ¼å¼åŒ–æ—¥æœŸ" class="headerlink" title="ğŸä½¿ç”¨ SimpleDateFormat æ ¼å¼åŒ–æ—¥æœŸ"></a>ğŸä½¿ç”¨ SimpleDateFormat æ ¼å¼åŒ–æ—¥æœŸ</h3><p>SimpleDateFormat æ˜¯ä¸€ä¸ªä»¥è¯­è¨€ç¯å¢ƒæ•æ„Ÿçš„æ–¹å¼æ¥æ ¼å¼åŒ–å’Œè§£ææ—¥æœŸçš„å…·ä½“ç±»ã€‚ SimpleDateFormat å…è®¸æ‚¨é€‰æ‹©ä»»ä½•ç”¨æˆ·å®šä¹‰çš„æ—¥æœŸæ—¶é—´æ ¼å¼åŒ–çš„æ¨¡å¼ã€‚</p>
<p>è®©æˆ‘ä»¬ä¿®æ”¹ä¸Šé¢çš„å®ä¾‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.runoob.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class CurrentDate</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/CurrentDate"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CurrentDate</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CurrentDate</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line"></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">        </span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        String title = <span class="string">"æ˜¾ç¤ºå½“å‰çš„æ—¥æœŸå’Œæ—¶é—´"</span>;</span><br><span class="line">        Date dNow = <span class="keyword">new</span> Date( );</span><br><span class="line">        SimpleDateFormat ft = </span><br><span class="line">                <span class="keyword">new</span> SimpleDateFormat (<span class="string">"yyyy.MM.dd  hh:mm:ss E a "</span>);</span><br><span class="line">        String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">        out.println(docType +</span><br><span class="line">            <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;h2 align=\"center\"&gt;"</span> + ft.format(dNow) + <span class="string">"&lt;/h2&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸç®€å•çš„æ—¥æœŸæ ¼å¼çš„æ ¼å¼ä»£ç "><a href="#ğŸç®€å•çš„æ—¥æœŸæ ¼å¼çš„æ ¼å¼ä»£ç " class="headerlink" title="ğŸç®€å•çš„æ—¥æœŸæ ¼å¼çš„æ ¼å¼ä»£ç "></a>ğŸç®€å•çš„æ—¥æœŸæ ¼å¼çš„æ ¼å¼ä»£ç </h3><p>ä½¿ç”¨äº‹ä»¶æ¨¡å¼å­—ç¬¦ä¸²æ¥æŒ‡å®šæ—¶é—´æ ¼å¼ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰çš„ ASCII å­—æ¯è¢«ä¿ç•™ä¸ºæ¨¡å¼å­—æ¯ï¼Œè¿™äº›å­—æ¯å®šä¹‰å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å­—ç¬¦</th>
<th align="left">æè¿°</th>
<th align="left">å®ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td align="left">G</td>
<td align="left">Era æŒ‡ç¤ºå™¨</td>
<td align="left">AD</td>
</tr>
<tr>
<td align="left">y</td>
<td align="left">å››ä½æ•°è¡¨ç¤ºçš„å¹´</td>
<td align="left">2001</td>
</tr>
<tr>
<td align="left">M</td>
<td align="left">ä¸€å¹´ä¸­çš„æœˆ</td>
<td align="left">July æˆ– 07</td>
</tr>
<tr>
<td align="left">d</td>
<td align="left">ä¸€æœˆä¸­çš„ç¬¬å‡ å¤©</td>
<td align="left">10</td>
</tr>
<tr>
<td align="left">h</td>
<td align="left">å¸¦æœ‰ A.M./P.M. çš„å°æ—¶ï¼ˆ1~12ï¼‰</td>
<td align="left">12</td>
</tr>
<tr>
<td align="left">H</td>
<td align="left">ä¸€å¤©ä¸­çš„ç¬¬å‡ å°æ—¶ï¼ˆ0~23ï¼‰</td>
<td align="left">22</td>
</tr>
<tr>
<td align="left">m</td>
<td align="left">ä¸€å°æ—¶ä¸­çš„ç¬¬å‡ åˆ†</td>
<td align="left">30</td>
</tr>
<tr>
<td align="left">s</td>
<td align="left">ä¸€åˆ†ä¸­çš„ç¬¬å‡ ç§’</td>
<td align="left">55</td>
</tr>
<tr>
<td align="left">S</td>
<td align="left">æ¯«ç§’</td>
<td align="left">234</td>
</tr>
<tr>
<td align="left">E</td>
<td align="left">ä¸€å‘¨ä¸­çš„æ˜ŸæœŸå‡ </td>
<td align="left">Tuesday</td>
</tr>
<tr>
<td align="left">D</td>
<td align="left">ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©</td>
<td align="left">360</td>
</tr>
<tr>
<td align="left">F</td>
<td align="left">æ‰€åœ¨çš„å‘¨æ˜¯è¿™ä¸ªæœˆçš„ç¬¬å‡ å‘¨</td>
<td align="left">2 (second Wed. in July)</td>
</tr>
<tr>
<td align="left">w</td>
<td align="left">ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨</td>
<td align="left">40</td>
</tr>
<tr>
<td align="left">W</td>
<td align="left">ä¸€æœˆä¸­çš„ç¬¬å‡ å‘¨</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">a</td>
<td align="left">A.M./P.M. æ ‡è®°</td>
<td align="left">PM</td>
</tr>
<tr>
<td align="left">k</td>
<td align="left">ä¸€å¤©ä¸­çš„ç¬¬å‡ å°æ—¶ï¼ˆ1~24ï¼‰</td>
<td align="left">24</td>
</tr>
<tr>
<td align="left">K</td>
<td align="left">å¸¦æœ‰ A.M./P.M. çš„å°æ—¶ï¼ˆ0~11ï¼‰</td>
<td align="left">10</td>
</tr>
<tr>
<td align="left">z</td>
<td align="left">æ—¶åŒº</td>
<td align="left">Eastern Standard Time</td>
</tr>
<tr>
<td align="left">â€˜</td>
<td align="left">Escape for text</td>
<td align="left">Delimiter</td>
</tr>
<tr>
<td align="left">â€œ</td>
<td align="left">å•å¼•å·</td>
<td align="left">`</td>
</tr>
</tbody></table>
<h2 id="ğŸŒ¸"><a href="#ğŸŒ¸" class="headerlink" title="ğŸŒ¸"></a>ğŸŒ¸</h2><p>å½“æ–‡æ¡£ç§»åŠ¨åˆ°æ–°çš„ä½ç½®ï¼Œæˆ‘ä»¬éœ€è¦å‘å®¢æˆ·ç«¯å‘é€è¿™ä¸ªæ–°ä½ç½®æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°ç½‘é¡µé‡å®šå‘ã€‚å½“ç„¶ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸ºäº†è´Ÿè½½å‡è¡¡ï¼Œæˆ–è€…åªæ˜¯ä¸ºäº†ç®€å•çš„éšæœºï¼Œè¿™äº›æƒ…å†µéƒ½æœ‰å¯èƒ½ç”¨åˆ°ç½‘é¡µé‡å®šå‘ã€‚</p>
<p>é‡å®šå‘è¯·æ±‚åˆ°å¦ä¸€ä¸ªç½‘é¡µçš„æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨ response å¯¹è±¡çš„ sendRedirect() æ–¹æ³•ã€‚ä¸‹é¢æ˜¯è¯¥æ–¹æ³•çš„å®šä¹‰ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> HttpServletResponse.sendRedirect(String location)</span><br><span class="line"><span class="keyword">throws</span> IOException</span><br></pre></td></tr></tbody></table></figure>

<p>è¯¥æ–¹æ³•æŠŠå“åº”è¿åŒçŠ¶æ€ç å’Œæ–°çš„ç½‘é¡µä½ç½®å‘é€å›æµè§ˆå™¨ã€‚æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡æŠŠ setStatus() å’Œ setHeader() æ–¹æ³•ä¸€èµ·ä½¿ç”¨æ¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">....</span><br><span class="line">String site = <span class="string">"http://www.runoob.com"</span> ;</span><br><span class="line">response.setStatus(response.SC_MOVED_TEMPORARILY);</span><br><span class="line">response.setHeader(<span class="string">"Location"</span>, site); </span><br><span class="line">....</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸå®ä¾‹-1"><a href="#ğŸå®ä¾‹-1" class="headerlink" title="ğŸå®ä¾‹"></a>ğŸå®ä¾‹</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.runoob.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class PageRedirect</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings</span>(<span class="string">"serial"</span>)</span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/PageRedirect"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PageRedirect</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>{</span><br><span class="line">    </span><br><span class="line">  <span class="meta">@SuppressWarnings</span>(<span class="string">"static-access"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                    HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">      <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">      response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// è¦é‡å®šå‘çš„æ–°ä½ç½®</span></span><br><span class="line">      String site = <span class="keyword">new</span> String(<span class="string">"http://liudufu.gihub.io"</span>);</span><br><span class="line"></span><br><span class="line">      response.setStatus(response.SC_MOVED_TEMPORARILY);</span><br><span class="line">      response.setHeader(<span class="string">"Location"</span>, site);    </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>PageRedirect<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>PageRedirect<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>PageRedirect<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/PageRedirect<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨é€šè¿‡è®¿é—® URL <a href="http://localhost:8080/PageRedirect" target="_blank" rel="noopener">http://localhost:8080/PageRedirect</a> æ¥è°ƒç”¨è¿™ä¸ª Servlet</p>
<h2 id="ğŸŒ¸Servlet-ç‚¹å‡»è®¡æ•°å™¨"><a href="#ğŸŒ¸Servlet-ç‚¹å‡»è®¡æ•°å™¨" class="headerlink" title="ğŸŒ¸Servlet ç‚¹å‡»è®¡æ•°å™¨"></a>ğŸŒ¸Servlet ç‚¹å‡»è®¡æ•°å™¨</h2><p>å¾ˆå¤šæ—¶å€™ï¼Œæ‚¨å¯èƒ½æœ‰å…´è¶£çŸ¥é“ç½‘ç«™çš„æŸä¸ªç‰¹å®šé¡µé¢ä¸Šçš„æ€»ç‚¹å‡»é‡ã€‚ä½¿ç”¨ Servlet æ¥è®¡ç®—è¿™äº›ç‚¹å‡»é‡æ˜¯éå¸¸ç®€å•çš„ï¼Œå› ä¸ºä¸€ä¸ª Servlet çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ç”±å®ƒè¿è¡Œæ‰€åœ¨çš„å®¹å™¨æ§åˆ¶çš„ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å®ç°ä¸€ä¸ªç®€å•çš„åŸºäº Servlet ç”Ÿå‘½å‘¨æœŸçš„ç½‘é¡µç‚¹å‡»è®¡æ•°å™¨éœ€è¦é‡‡å–çš„æ­¥éª¤ï¼š</p>
<ul>
<li>åœ¨ init() æ–¹æ³•ä¸­åˆå§‹åŒ–ä¸€ä¸ªå…¨å±€å˜é‡ã€‚</li>
<li>æ¯æ¬¡è°ƒç”¨ doGet() æˆ– doPost() æ–¹æ³•æ—¶ï¼Œéƒ½å¢åŠ å…¨å±€å˜é‡ã€‚</li>
<li>å¦‚æœéœ€è¦ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°æ®åº“è¡¨æ¥å­˜å‚¨å…¨å±€å˜é‡çš„å€¼åœ¨ destroy() ä¸­ã€‚åœ¨ä¸‹æ¬¡åˆå§‹åŒ– Servlet æ—¶ï¼Œè¯¥å€¼å¯åœ¨ init() æ–¹æ³•å†…è¢«è¯»å–ã€‚è¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ã€‚</li>
<li>å¦‚æœæ‚¨åªæƒ³å¯¹ä¸€ä¸ª session ä¼šè¯è®¡æ•°ä¸€æ¬¡é¡µé¢ç‚¹å‡»ï¼Œé‚£ä¹ˆè¯·ä½¿ç”¨ isNew() æ–¹æ³•æ¥æ£€æŸ¥è¯¥ session ä¼šè¯æ˜¯å¦å·²ç‚¹å‡»è¿‡ç›¸åŒé¡µé¢ã€‚è¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ã€‚</li>
<li>æ‚¨å¯ä»¥é€šè¿‡æ˜¾ç¤ºå…¨å±€è®¡æ•°å™¨çš„å€¼ï¼Œæ¥åœ¨ç½‘ç«™ä¸Šå±•ç¤ºé¡µé¢çš„æ€»ç‚¹å‡»é‡ã€‚è¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ã€‚</li>
</ul>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å‡è®¾ Web å®¹å™¨å°†æ— æ³•é‡æ–°å¯åŠ¨ã€‚å¦‚æœæ˜¯é‡æ–°å¯åŠ¨æˆ– Servlet è¢«é”€æ¯ï¼Œè®¡æ•°å™¨å°†è¢«é‡ç½®ã€‚</p>
<h3 id="ğŸå®ä¾‹-2"><a href="#ğŸå®ä¾‹-2" class="headerlink" title="ğŸå®ä¾‹"></a>ğŸå®ä¾‹</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.runoob.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class PageHitCounter</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/PageHitCounter"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PageHitCounter</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> hitCount; </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>{ </span><br><span class="line">        <span class="comment">// é‡ç½®ç‚¹å‡»è®¡æ•°å™¨</span></span><br><span class="line">        hitCount = <span class="number">0</span>;</span><br><span class="line">    } </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line"></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">        <span class="comment">// å¢åŠ  hitCount </span></span><br><span class="line">        hitCount++; </span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        String title = <span class="string">"æ€»ç‚¹å‡»é‡"</span>;</span><br><span class="line">        String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">        out.println(docType +</span><br><span class="line">            <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;h2 align=\"center\"&gt;"</span> + hitCount + <span class="string">"&lt;/h2&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>{ </span><br><span class="line">        <span class="comment">// è¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ï¼Œä½†æ˜¯å¦‚æœéœ€è¦ï¼Œæ‚¨å¯ä»¥æŠŠ hitCount çš„å€¼å†™å…¥åˆ°æ•°æ®åº“</span></span><br><span class="line">    } </span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>PageHitCounter<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.runoob.test.PageHitCounter<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>PageHitCounter<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/PageHitCounter<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸç½‘ç«™ç‚¹å‡»è®¡æ•°å™¨"><a href="#ğŸç½‘ç«™ç‚¹å‡»è®¡æ•°å™¨" class="headerlink" title="ğŸç½‘ç«™ç‚¹å‡»è®¡æ•°å™¨"></a>ğŸç½‘ç«™ç‚¹å‡»è®¡æ•°å™¨</h3><p>å¾ˆå¤šæ—¶å€™ï¼Œæ‚¨å¯èƒ½æœ‰å…´è¶£çŸ¥é“æ•´ä¸ªç½‘ç«™çš„æ€»ç‚¹å‡»é‡ã€‚åœ¨ Servlet ä¸­ï¼Œè¿™ä¹Ÿæ˜¯éå¸¸ç®€å•çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿‡æ»¤å™¨åšåˆ°è¿™ä¸€ç‚¹ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å®ç°ä¸€ä¸ªç®€å•çš„åŸºäºè¿‡æ»¤å™¨ç”Ÿå‘½å‘¨æœŸçš„ç½‘ç«™ç‚¹å‡»è®¡æ•°å™¨éœ€è¦é‡‡å–çš„æ­¥éª¤ï¼š</p>
<ul>
<li>åœ¨è¿‡æ»¤å™¨çš„ init() æ–¹æ³•ä¸­åˆå§‹åŒ–ä¸€ä¸ªå…¨å±€å˜é‡ã€‚</li>
<li>æ¯æ¬¡è°ƒç”¨ doFilter æ–¹æ³•æ—¶ï¼Œéƒ½å¢åŠ å…¨å±€å˜é‡ã€‚</li>
<li>å¦‚æœéœ€è¦ï¼Œæ‚¨å¯ä»¥åœ¨è¿‡æ»¤å™¨çš„ destroy() ä¸­ä½¿ç”¨ä¸€ä¸ªæ•°æ®åº“è¡¨æ¥å­˜å‚¨å…¨å±€å˜é‡çš„å€¼ã€‚åœ¨ä¸‹æ¬¡åˆå§‹åŒ–è¿‡æ»¤å™¨æ—¶ï¼Œè¯¥å€¼å¯åœ¨ init() æ–¹æ³•å†…è¢«è¯»å–, è¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ã€‚</li>
</ul>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å‡è®¾ Web å®¹å™¨å°†æ— æ³•é‡æ–°å¯åŠ¨ã€‚å¦‚æœæ˜¯é‡æ–°å¯åŠ¨æˆ– Servlet è¢«é”€æ¯ï¼Œç‚¹å‡»è®¡æ•°å™¨å°†è¢«é‡ç½®ã€‚</p>
<h3 id="ğŸå®ä¾‹-3"><a href="#ğŸå®ä¾‹-3" class="headerlink" title="ğŸå®ä¾‹"></a>ğŸå®ä¾‹</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥å¿…éœ€çš„ java åº“</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SiteHitCounter</span> <span class="keyword">implements</span> <span class="title">Filter</span></span>{</span><br><span class="line">    </span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> hitCount; </span><br><span class="line">               </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title">init</span><span class="params">(FilterConfig config)</span> </span></span><br><span class="line"><span class="function">                    <span class="keyword">throws</span> ServletException</span>{</span><br><span class="line">     <span class="comment">// é‡ç½®ç‚¹å‡»è®¡æ•°å™¨</span></span><br><span class="line">     hitCount = <span class="number">0</span>;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title">doFilter</span><span class="params">(ServletRequest request, </span></span></span><br><span class="line"><span class="function"><span class="params">              ServletResponse response,</span></span></span><br><span class="line"><span class="function"><span class="params">              FilterChain chain)</span> </span></span><br><span class="line"><span class="function">              <span class="keyword">throws</span> java.io.IOException, ServletException </span>{</span><br><span class="line"></span><br><span class="line">      <span class="comment">// æŠŠè®¡æ•°å™¨çš„å€¼å¢åŠ  1</span></span><br><span class="line">      hitCount++;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// è¾“å‡ºè®¡æ•°å™¨</span></span><br><span class="line">      System.out.println(<span class="string">"ç½‘ç«™è®¿é—®ç»Ÿè®¡ï¼š"</span>+ hitCount );</span><br><span class="line"></span><br><span class="line">      <span class="comment">// æŠŠè¯·æ±‚ä¼ å›åˆ°è¿‡æ»¤å™¨é“¾</span></span><br><span class="line">      chain.doFilter(request,response);</span><br><span class="line">  }</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">  </span>{ </span><br><span class="line">      <span class="comment">// è¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ï¼Œä½†æ˜¯å¦‚æœéœ€è¦ï¼Œæ‚¨å¯ä»¥æŠŠ hitCount çš„å€¼å†™å…¥åˆ°æ•°æ®åº“</span></span><br><span class="line">  } </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>SiteHitCounter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>SiteHitCounter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>SiteHitCounter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨è®¿é—®ç½‘ç«™çš„ä»»æ„é¡µé¢ï¼Œæ¯”å¦‚ <a href="http://localhost:8080/ã€‚è¿™å°†ä¼šåœ¨æ¯æ¬¡ä»»æ„é¡µé¢è¢«ç‚¹å‡»æ—¶ï¼ŒæŠŠè®¡æ•°å™¨çš„å€¼å¢åŠ " target="_blank" rel="noopener">http://localhost:8080/ã€‚è¿™å°†ä¼šåœ¨æ¯æ¬¡ä»»æ„é¡µé¢è¢«ç‚¹å‡»æ—¶ï¼ŒæŠŠè®¡æ•°å™¨çš„å€¼å¢åŠ </a> 1ï¼Œå®ƒä¼šåœ¨æ—¥å¿—ä¸­æ˜¾ç¤ºä»¥ä¸‹æ¶ˆæ¯ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">ç½‘ç«™è®¿é—®ç»Ÿè®¡ï¼š 1</span><br><span class="line">ç½‘ç«™è®¿é—®ç»Ÿè®¡ï¼š 2</span><br><span class="line">ç½‘ç«™è®¿é—®ç»Ÿè®¡ï¼š 3</span><br><span class="line">ç½‘ç«™è®¿é—®ç»Ÿè®¡ï¼š 4</span><br><span class="line">ç½‘ç«™è®¿é—®ç»Ÿè®¡ï¼š 5</span><br><span class="line">..................</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸Servlet-è‡ªåŠ¨åˆ·æ–°é¡µé¢"><a href="#ğŸŒ¸Servlet-è‡ªåŠ¨åˆ·æ–°é¡µé¢" class="headerlink" title="ğŸŒ¸Servlet è‡ªåŠ¨åˆ·æ–°é¡µé¢"></a>ğŸŒ¸Servlet è‡ªåŠ¨åˆ·æ–°é¡µé¢</h2><p>å‡è®¾æœ‰ä¸€ä¸ªç½‘é¡µï¼Œå®ƒæ˜¯æ˜¾ç¤ºç°åœºæ¯”èµ›æˆç»©æˆ–è‚¡ç¥¨å¸‚åœºçŠ¶å†µæˆ–è´§å¸å…‘æ¢ç‡ã€‚å¯¹äºæ‰€æœ‰è¿™äº›ç±»å‹çš„é¡µé¢ï¼Œæ‚¨éœ€è¦å®šæœŸåˆ·æ–°ç½‘é¡µã€‚</p>
<p>Java Servlet æä¾›äº†ä¸€ä¸ªæœºåˆ¶ï¼Œä½¿å¾—ç½‘é¡µä¼šåœ¨ç»™å®šçš„æ—¶é—´é—´éš”è‡ªåŠ¨åˆ·æ–°ã€‚</p>
<p>åˆ·æ–°ç½‘é¡µçš„æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨å“åº”å¯¹è±¡çš„æ–¹æ³• <strong>setIntHeader()</strong>ã€‚ä»¥ä¸‹æ˜¯è¿™ç§æ–¹æ³•çš„å®šä¹‰ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">public void setIntHeader(String header, int headerValue)</span><br></pre></td></tr></tbody></table></figure>

<p>æ­¤æ–¹æ³•æŠŠå¤´ä¿¡æ¯ â€œRefreshâ€ è¿åŒä¸€ä¸ªè¡¨ç¤ºæ—¶é—´é—´éš”çš„æ•´æ•°å€¼ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰å‘é€å›æµè§ˆå™¨ã€‚</p>
<h3 id="ğŸè‡ªåŠ¨åˆ·æ–°é¡µé¢å®ä¾‹"><a href="#ğŸè‡ªåŠ¨åˆ·æ–°é¡µé¢å®ä¾‹" class="headerlink" title="ğŸè‡ªåŠ¨åˆ·æ–°é¡µé¢å®ä¾‹"></a>ğŸè‡ªåŠ¨åˆ·æ–°é¡µé¢å®ä¾‹</h3><p>æœ¬å®ä¾‹æ¼”ç¤ºäº† Servlet å¦‚ä½•ä½¿ç”¨ <strong>setIntHeader()</strong> æ–¹æ³•æ¥è®¾ç½® <strong>Refresh</strong> å¤´ä¿¡æ¯ï¼Œä»è€Œå®ç°è‡ªåŠ¨åˆ·æ–°é¡µé¢ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.runoob.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.GregorianCalendar;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class Refresh</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/Refresh"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Refresh</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¾ç½®åˆ·æ–°è‡ªåŠ¨åŠ è½½çš„äº‹ä»¶é—´éš”ä¸º 5 ç§’</span></span><br><span class="line">        response.setIntHeader(<span class="string">"Refresh"</span>, <span class="number">5</span>);</span><br><span class="line">     </span><br><span class="line">        <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">     </span><br><span class="line">        <span class="comment">// è·å–å½“å‰çš„æ—¶é—´</span></span><br><span class="line">        Calendar calendar = <span class="keyword">new</span> GregorianCalendar();</span><br><span class="line">        String am_pm;</span><br><span class="line">        <span class="keyword">int</span> hour = calendar.get(Calendar.HOUR);</span><br><span class="line">        <span class="keyword">int</span> minute = calendar.get(Calendar.MINUTE);</span><br><span class="line">        <span class="keyword">int</span> second = calendar.get(Calendar.SECOND);</span><br><span class="line">        <span class="keyword">if</span>(calendar.get(Calendar.AM_PM) == <span class="number">0</span>)</span><br><span class="line">            am_pm = <span class="string">"AM"</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            am_pm = <span class="string">"PM"</span>;</span><br><span class="line">     </span><br><span class="line">        String CT = hour+<span class="string">":"</span>+ minute +<span class="string">":"</span>+ second +<span class="string">" "</span>+ am_pm;</span><br><span class="line">        </span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        String title = <span class="string">"ä½¿ç”¨ Servlet è‡ªåŠ¨åˆ·æ–°é¡µé¢"</span>;</span><br><span class="line">        String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">        out.println(docType +</span><br><span class="line">            <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span>+</span><br><span class="line">            <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">            <span class="string">"&lt;p&gt;å½“å‰æ—¶é—´æ˜¯ï¼š"</span> + CT + <span class="string">"&lt;/p&gt;\n"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>Refresh<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.runoob.test.Refresh<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>Refresh<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/TomcatTest/Refresh<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸Servlet-å‘é€ç”µå­é‚®ä»¶"><a href="#ğŸŒ¸Servlet-å‘é€ç”µå­é‚®ä»¶" class="headerlink" title="ğŸŒ¸Servlet å‘é€ç”µå­é‚®ä»¶"></a>ğŸŒ¸Servlet å‘é€ç”µå­é‚®ä»¶</h2><p>ä½¿ç”¨ Servlet å‘é€ä¸€å°ç”µå­é‚®ä»¶æ˜¯å¾ˆç®€å•çš„ï¼Œä½†é¦–å…ˆæ‚¨å¿…é¡»åœ¨æ‚¨çš„è®¡ç®—æœºä¸Šå®‰è£… <strong>JavaMail API</strong> å’Œ <strong>Java Activation Frameworkï¼‰JAFï¼‰</strong>ã€‚</p>
<ul>
<li>æ‚¨å¯ä»¥ä» Java ç½‘ç«™ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ <a href="http://www.oracle.com/technetwork/java/javamail/index.html" target="_blank" rel="noopener">JavaMail</a>ï¼Œæ‰“å¼€ç½‘é¡µå³ä¾§æœ‰ä¸ª <strong>Downloads</strong> é“¾æ¥ï¼Œç‚¹å‡»å®ƒä¸‹è½½ã€‚</li>
<li>æ‚¨å¯ä»¥ä» Java ç½‘ç«™ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ <a href="http://www.oracle.com/technetwork/articles/java/index-135046.html" target="_blank" rel="noopener">JAFï¼ˆï¼‰</a>ã€‚</li>
</ul>
<p>ä¸‹è½½å¹¶è§£å‹ç¼©è¿™äº›æ–‡ä»¶ï¼Œåœ¨æ–°åˆ›å»ºçš„é¡¶å±‚ç›®å½•ä¸­ï¼Œæ‚¨ä¼šå‘ç°è¿™ä¸¤ä¸ªåº”ç”¨ç¨‹åºçš„ä¸€äº› jar æ–‡ä»¶ã€‚æ‚¨éœ€è¦æŠŠ <strong>mail.jar</strong> å’Œ <strong>activation.jar</strong> æ–‡ä»¶æ·»åŠ åˆ°æ‚¨çš„ CLASSPATH ä¸­ã€‚</p>
<h3 id="ğŸå‘é€ä¸€å°ç®€å•çš„ç”µå­é‚®ä»¶"><a href="#ğŸå‘é€ä¸€å°ç®€å•çš„ç”µå­é‚®ä»¶" class="headerlink" title="ğŸå‘é€ä¸€å°ç®€å•çš„ç”µå­é‚®ä»¶"></a>ğŸå‘é€ä¸€å°ç®€å•çš„ç”µå­é‚®ä»¶</h3><p>ä¸‹é¢çš„å®ä¾‹å°†ä»æ‚¨çš„è®¡ç®—æœºä¸Šå‘é€ä¸€å°ç®€å•çš„ç”µå­é‚®ä»¶ã€‚è¿™é‡Œå‡è®¾æ‚¨çš„<strong>æœ¬åœ°ä¸»æœº</strong>å·²è¿æ¥åˆ°äº’è”ç½‘ï¼Œå¹¶æ”¯æŒå‘é€ç”µå­é‚®ä»¶ã€‚åŒæ—¶ç¡®ä¿ Java Email API åŒ…å’Œ JAF åŒ…çš„æ‰€æœ‰çš„ jar æ–‡ä»¶åœ¨ CLASSPATH ä¸­éƒ½æ˜¯å¯ç”¨çš„ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// æ–‡ä»¶å SendEmail.java</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"><span class="keyword">import</span> javax.mail.*;</span><br><span class="line"><span class="keyword">import</span> javax.mail.internet.*;</span><br><span class="line"><span class="keyword">import</span> javax.activation.*;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SendEmail</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>{</span><br><span class="line">    </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                    HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">      <span class="comment">// æ”¶ä»¶äººçš„ç”µå­é‚®ä»¶ ID</span></span><br><span class="line">      String to = <span class="string">"abcd@gmail.com"</span>;</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// å‘ä»¶äººçš„ç”µå­é‚®ä»¶ ID</span></span><br><span class="line">      String from = <span class="string">"web@gmail.com"</span>;</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// å‡è®¾æ‚¨æ˜¯ä»æœ¬åœ°ä¸»æœºå‘é€ç”µå­é‚®ä»¶</span></span><br><span class="line">      String host = <span class="string">"localhost"</span>;</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// è·å–ç³»ç»Ÿçš„å±æ€§</span></span><br><span class="line">      Properties properties = System.getProperties();</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// è®¾ç½®é‚®ä»¶æœåŠ¡å™¨</span></span><br><span class="line">      properties.setProperty(<span class="string">"mail.smtp.host"</span>, host);</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// è·å–é»˜è®¤çš„ Session å¯¹è±¡</span></span><br><span class="line">      Session session = Session.getDefaultInstance(properties);</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">      response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">      PrintWriter out = response.getWriter();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">try</span>{</span><br><span class="line">         <span class="comment">// åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„ MimeMessage å¯¹è±¡</span></span><br><span class="line">         MimeMessage message = <span class="keyword">new</span> MimeMessage(session);</span><br><span class="line">         <span class="comment">// è®¾ç½® From: header field of the header.</span></span><br><span class="line">         message.setFrom(<span class="keyword">new</span> InternetAddress(from));</span><br><span class="line">         <span class="comment">// è®¾ç½® To: header field of the header.</span></span><br><span class="line">         message.addRecipient(Message.RecipientType.TO,</span><br><span class="line">                                  <span class="keyword">new</span> InternetAddress(to));</span><br><span class="line">         <span class="comment">// è®¾ç½® Subject: header field</span></span><br><span class="line">         message.setSubject(<span class="string">"This is the Subject Line!"</span>);</span><br><span class="line">         <span class="comment">// ç°åœ¨è®¾ç½®å®é™…æ¶ˆæ¯</span></span><br><span class="line">         message.setText(<span class="string">"This is actual message"</span>);</span><br><span class="line">         <span class="comment">// å‘é€æ¶ˆæ¯</span></span><br><span class="line">         Transport.send(message);</span><br><span class="line">         String title = <span class="string">"å‘é€ç”µå­é‚®ä»¶"</span>;</span><br><span class="line">         String res = <span class="string">"æˆåŠŸå‘é€æ¶ˆæ¯..."</span>;</span><br><span class="line">         String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">         out.println(docType +</span><br><span class="line">         <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">         <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">         <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">         <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">         <span class="string">"&lt;p align=\"center\"&gt;"</span> + res + <span class="string">"&lt;/p&gt;\n"</span> +</span><br><span class="line">         <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">      }<span class="keyword">catch</span> (MessagingException mex) {</span><br><span class="line">         mex.printStackTrace();</span><br><span class="line">      }</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SendEmail<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>SendEmail<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"> <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SendEmail<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/SendEmail<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨é€šè¿‡è®¿é—® URL <a href="http://localhost:8080/SendEmail" target="_blank" rel="noopener">http://localhost:8080/SendEmail</a> æ¥è°ƒç”¨è¿™ä¸ª Servletã€‚è¿™å°†ä¼šå‘é€ä¸€å°ç”µå­é‚®ä»¶åˆ°ç»™å®šçš„ç”µå­é‚®ä»¶ ID <em><a href="mailto:abcd@gmail.com">abcd@gmail.com</a></em>ï¼Œå¹¶å°†æ˜¾ç¤ºä¸‹é¢æ‰€ç¤ºçš„å“åº”ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">å‘é€ç”µå­é‚®ä»¶</span><br><span class="line">æˆåŠŸå‘é€æ¶ˆæ¯...</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæ‚¨æƒ³è¦å‘é€ä¸€å°ç”µå­é‚®ä»¶ç»™å¤šä¸ªæ”¶ä»¶äººï¼Œé‚£ä¹ˆè¯·ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•æ¥æŒ‡å®šå¤šä¸ªç”µå­é‚®ä»¶ IDï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addRecipients</span><span class="params">(Message.RecipientType type, </span></span></span><br><span class="line"><span class="function"><span class="params">                   Address[] addresses)</span></span></span><br><span class="line"><span class="function"><span class="keyword">throws</span> MessagingException</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢æ˜¯å¯¹å‚æ•°çš„æè¿°ï¼š</p>
<ul>
<li><strong>typeï¼š</strong>è¿™å°†è¢«è®¾ç½®ä¸º TOã€CC æˆ– BCCã€‚åœ¨è¿™é‡Œï¼ŒCC ä»£è¡¨æŠ„é€ï¼ŒBCC ä»£è¡¨å¯†ä»¶æŠ„é€ã€‚ä¾‹å¦‚ <em>Message.RecipientType.TO</em>ã€‚</li>
<li><strong>addressesï¼š</strong>è¿™æ˜¯ç”µå­é‚®ä»¶ ID çš„æ•°ç»„ã€‚å½“æŒ‡å®šç”µå­é‚®ä»¶ ID æ—¶ï¼Œæ‚¨éœ€è¦ä½¿ç”¨ InternetAddress() æ–¹æ³•ã€‚</li>
</ul>
<h3 id="ğŸå‘é€ä¸€å°-HTML-ç”µå­é‚®ä»¶"><a href="#ğŸå‘é€ä¸€å°-HTML-ç”µå­é‚®ä»¶" class="headerlink" title="ğŸå‘é€ä¸€å° HTML ç”µå­é‚®ä»¶"></a>ğŸå‘é€ä¸€å° HTML ç”µå­é‚®ä»¶</h3><p>ä¸‹é¢çš„å®ä¾‹å°†ä»æ‚¨çš„è®¡ç®—æœºä¸Šå‘é€ä¸€å° HTML æ ¼å¼çš„ç”µå­é‚®ä»¶ã€‚è¿™é‡Œå‡è®¾æ‚¨çš„<strong>æœ¬åœ°ä¸»æœº</strong>å·²è¿æ¥åˆ°äº’è”ç½‘ï¼Œå¹¶æ”¯æŒå‘é€ç”µå­é‚®ä»¶ã€‚åŒæ—¶ç¡®ä¿ Java Email API åŒ…å’Œ JAF åŒ…çš„æ‰€æœ‰çš„ jar æ–‡ä»¶åœ¨ CLASSPATH ä¸­éƒ½æ˜¯å¯ç”¨çš„ã€‚</p>
<p>æœ¬å®ä¾‹ä¸ä¸Šä¸€ä¸ªå®ä¾‹å¾ˆç±»ä¼¼ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ setContent() æ–¹æ³•æ¥è®¾ç½®ç¬¬äºŒä¸ªå‚æ•°ä¸º â€œtext/htmlâ€ çš„å†…å®¹ï¼Œè¯¥å‚æ•°ç”¨æ¥æŒ‡å®š HTML å†…å®¹æ˜¯åŒ…å«åœ¨æ¶ˆæ¯ä¸­çš„ã€‚</p>
<p>ä½¿ç”¨è¿™ä¸ªå®ä¾‹ï¼Œæ‚¨å¯ä»¥å‘é€å†…å®¹å¤§å°ä¸é™çš„ HTML å†…å®¹ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// æ–‡ä»¶å SendEmail.java</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"><span class="keyword">import</span> javax.mail.*;</span><br><span class="line"><span class="keyword">import</span> javax.mail.internet.*;</span><br><span class="line"><span class="keyword">import</span> javax.activation.*;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SendEmail</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>{</span><br><span class="line">    </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                    HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">      <span class="comment">// æ”¶ä»¶äººçš„ç”µå­é‚®ä»¶ ID</span></span><br><span class="line">      String to = <span class="string">"abcd@gmail.com"</span>;</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// å‘ä»¶äººçš„ç”µå­é‚®ä»¶ ID</span></span><br><span class="line">      String from = <span class="string">"web@gmail.com"</span>;</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// å‡è®¾æ‚¨æ˜¯ä»æœ¬åœ°ä¸»æœºå‘é€ç”µå­é‚®ä»¶</span></span><br><span class="line">      String host = <span class="string">"localhost"</span>;</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// è·å–ç³»ç»Ÿçš„å±æ€§</span></span><br><span class="line">      Properties properties = System.getProperties();</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// è®¾ç½®é‚®ä»¶æœåŠ¡å™¨</span></span><br><span class="line">      properties.setProperty(<span class="string">"mail.smtp.host"</span>, host);</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// è·å–é»˜è®¤çš„ Session å¯¹è±¡</span></span><br><span class="line">      Session session = Session.getDefaultInstance(properties);</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">      response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">      PrintWriter out = response.getWriter();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">try</span>{</span><br><span class="line">         <span class="comment">// åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„ MimeMessage å¯¹è±¡</span></span><br><span class="line">         MimeMessage message = <span class="keyword">new</span> MimeMessage(session);</span><br><span class="line">         <span class="comment">// è®¾ç½® From: header field of the header.</span></span><br><span class="line">         message.setFrom(<span class="keyword">new</span> InternetAddress(from));</span><br><span class="line">         <span class="comment">// è®¾ç½® To: header field of the header.</span></span><br><span class="line">         message.addRecipient(Message.RecipientType.TO,</span><br><span class="line">                                  <span class="keyword">new</span> InternetAddress(to));</span><br><span class="line">         <span class="comment">// è®¾ç½® Subject: header field</span></span><br><span class="line">         message.setSubject(<span class="string">"This is the Subject Line!"</span>);</span><br><span class="line"></span><br><span class="line">         <span class="comment">// è®¾ç½®å®é™…çš„ HTML æ¶ˆæ¯ï¼Œå†…å®¹å¤§å°ä¸é™</span></span><br><span class="line">         message.setContent(<span class="string">"&lt;h1&gt;This is actual message&lt;/h1&gt;"</span>,</span><br><span class="line">                            <span class="string">"text/html"</span> );</span><br><span class="line">         <span class="comment">// å‘é€æ¶ˆæ¯</span></span><br><span class="line">         Transport.send(message);</span><br><span class="line">         String title = <span class="string">"å‘é€ç”µå­é‚®ä»¶"</span>;</span><br><span class="line">         String res = <span class="string">"æˆåŠŸå‘é€æ¶ˆæ¯..."</span>;</span><br><span class="line">         String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">         out.println(docType +</span><br><span class="line">         <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">         <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">         <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">         <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">         <span class="string">"&lt;p align=\"center\"&gt;"</span> + res + <span class="string">"&lt;/p&gt;\n"</span> +</span><br><span class="line">         <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">      }<span class="keyword">catch</span> (MessagingException mex) {</span><br><span class="line">         mex.printStackTrace();</span><br><span class="line">      }</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç¼–è¯‘å¹¶è¿è¡Œä¸Šé¢çš„ Servlet ï¼Œåœ¨ç»™å®šçš„ç”µå­é‚®ä»¶ ID ä¸Šå‘é€ HTML æ¶ˆæ¯ã€‚</p>
<h3 id="ğŸåœ¨ç”µå­é‚®ä»¶ä¸­å‘é€é™„ä»¶"><a href="#ğŸåœ¨ç”µå­é‚®ä»¶ä¸­å‘é€é™„ä»¶" class="headerlink" title="ğŸåœ¨ç”µå­é‚®ä»¶ä¸­å‘é€é™„ä»¶"></a>ğŸåœ¨ç”µå­é‚®ä»¶ä¸­å‘é€é™„ä»¶</h3><p>ä¸‹é¢çš„å®ä¾‹å°†ä»æ‚¨çš„è®¡ç®—æœºä¸Šå‘é€ä¸€å°å¸¦æœ‰é™„ä»¶çš„ç”µå­é‚®ä»¶ã€‚è¿™é‡Œå‡è®¾æ‚¨çš„<strong>æœ¬åœ°ä¸»æœº</strong>å·²è¿æ¥åˆ°äº’è”ç½‘ï¼Œå¹¶æ”¯æŒå‘é€ç”µå­é‚®ä»¶ã€‚åŒæ—¶ç¡®ä¿ Java Email API åŒ…å’Œ JAF åŒ…çš„æ‰€æœ‰çš„ jar æ–‡ä»¶åœ¨ CLASSPATH ä¸­éƒ½æ˜¯å¯ç”¨çš„ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// æ–‡ä»¶å SendEmail.java</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"><span class="keyword">import</span> javax.mail.*;</span><br><span class="line"><span class="keyword">import</span> javax.mail.internet.*;</span><br><span class="line"><span class="keyword">import</span> javax.activation.*;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SendEmail</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>{</span><br><span class="line">    </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                    HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">      <span class="comment">// æ”¶ä»¶äººçš„ç”µå­é‚®ä»¶ ID</span></span><br><span class="line">      String to = <span class="string">"abcd@gmail.com"</span>;</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// å‘ä»¶äººçš„ç”µå­é‚®ä»¶ ID</span></span><br><span class="line">      String from = <span class="string">"web@gmail.com"</span>;</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// å‡è®¾æ‚¨æ˜¯ä»æœ¬åœ°ä¸»æœºå‘é€ç”µå­é‚®ä»¶</span></span><br><span class="line">      String host = <span class="string">"localhost"</span>;</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// è·å–ç³»ç»Ÿçš„å±æ€§</span></span><br><span class="line">      Properties properties = System.getProperties();</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// è®¾ç½®é‚®ä»¶æœåŠ¡å™¨</span></span><br><span class="line">      properties.setProperty(<span class="string">"mail.smtp.host"</span>, host);</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// è·å–é»˜è®¤çš„ Session å¯¹è±¡</span></span><br><span class="line">      Session session = Session.getDefaultInstance(properties);</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">      response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">      PrintWriter out = response.getWriter();</span><br><span class="line"></span><br><span class="line">       <span class="keyword">try</span>{</span><br><span class="line">         <span class="comment">// åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„ MimeMessage å¯¹è±¡</span></span><br><span class="line">         MimeMessage message = <span class="keyword">new</span> MimeMessage(session);</span><br><span class="line"> </span><br><span class="line">         <span class="comment">// è®¾ç½® From: header field of the header.</span></span><br><span class="line">         message.setFrom(<span class="keyword">new</span> InternetAddress(from));</span><br><span class="line"> </span><br><span class="line">         <span class="comment">// è®¾ç½® To: header field of the header.</span></span><br><span class="line">         message.addRecipient(Message.RecipientType.TO,</span><br><span class="line">                                  <span class="keyword">new</span> InternetAddress(to));</span><br><span class="line"> </span><br><span class="line">         <span class="comment">// è®¾ç½® Subject: header field</span></span><br><span class="line">         message.setSubject(<span class="string">"This is the Subject Line!"</span>);</span><br><span class="line"> </span><br><span class="line">         <span class="comment">// åˆ›å»ºæ¶ˆæ¯éƒ¨åˆ† </span></span><br><span class="line">         BodyPart messageBodyPart = <span class="keyword">new</span> MimeBodyPart();</span><br><span class="line"> </span><br><span class="line">         <span class="comment">// å¡«å†™æ¶ˆæ¯</span></span><br><span class="line">         messageBodyPart.setText(<span class="string">"This is message body"</span>);</span><br><span class="line">         </span><br><span class="line">         <span class="comment">// åˆ›å»ºä¸€ä¸ªå¤šéƒ¨åˆ†æ¶ˆæ¯</span></span><br><span class="line">         Multipart multipart = <span class="keyword">new</span> MimeMultipart();</span><br><span class="line"> </span><br><span class="line">         <span class="comment">// è®¾ç½®æ–‡æœ¬æ¶ˆæ¯éƒ¨åˆ†</span></span><br><span class="line">         multipart.addBodyPart(messageBodyPart);</span><br><span class="line"> </span><br><span class="line">         <span class="comment">// ç¬¬äºŒéƒ¨åˆ†æ˜¯é™„ä»¶</span></span><br><span class="line">         messageBodyPart = <span class="keyword">new</span> MimeBodyPart();</span><br><span class="line">         String filename = <span class="string">"file.txt"</span>;</span><br><span class="line">         DataSource source = <span class="keyword">new</span> FileDataSource(filename);</span><br><span class="line">         messageBodyPart.setDataHandler(<span class="keyword">new</span> DataHandler(source));</span><br><span class="line">         messageBodyPart.setFileName(filename);</span><br><span class="line">         multipart.addBodyPart(messageBodyPart);</span><br><span class="line"> </span><br><span class="line">         <span class="comment">// å‘é€å®Œæ•´çš„æ¶ˆæ¯éƒ¨åˆ†</span></span><br><span class="line">         message.setContent(multipart );</span><br><span class="line"> </span><br><span class="line">         <span class="comment">// å‘é€æ¶ˆæ¯</span></span><br><span class="line">         Transport.send(message);</span><br><span class="line">         String title = <span class="string">"å‘é€ç”µå­é‚®ä»¶"</span>;</span><br><span class="line">         String res = <span class="string">"æˆåŠŸå‘é€ç”µå­é‚®ä»¶..."</span>;</span><br><span class="line">         String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">         out.println(docType +</span><br><span class="line">         <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">         <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">         <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">         <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">         <span class="string">"&lt;p align=\"center\"&gt;"</span> + res + <span class="string">"&lt;/p&gt;\n"</span> +</span><br><span class="line">         <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">      }<span class="keyword">catch</span> (MessagingException mex) {</span><br><span class="line">         mex.printStackTrace();</span><br><span class="line">      }</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç¼–è¯‘å¹¶è¿è¡Œä¸Šé¢çš„ Servlet ï¼Œåœ¨ç»™å®šçš„ç”µå­é‚®ä»¶ ID ä¸Šå‘é€å¸¦æœ‰æ–‡ä»¶é™„ä»¶çš„æ¶ˆæ¯ã€‚</p>
<h3 id="ğŸç”¨æˆ·èº«ä»½è®¤è¯éƒ¨åˆ†"><a href="#ğŸç”¨æˆ·èº«ä»½è®¤è¯éƒ¨åˆ†" class="headerlink" title="ğŸç”¨æˆ·èº«ä»½è®¤è¯éƒ¨åˆ†"></a>ğŸç”¨æˆ·èº«ä»½è®¤è¯éƒ¨åˆ†</h3><p>å¦‚æœéœ€è¦å‘ç”µå­é‚®ä»¶æœåŠ¡å™¨æä¾›ç”¨æˆ· ID å’Œå¯†ç è¿›è¡Œèº«ä»½è®¤è¯ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥è®¾ç½®å¦‚ä¸‹å±æ€§ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">props.setProperty(<span class="string">"mail.user"</span>, <span class="string">"myuser"</span>);</span><br><span class="line">props.setProperty(<span class="string">"mail.password"</span>, <span class="string">"mypwd"</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>ç”µå­é‚®ä»¶å‘é€æœºåˆ¶çš„å…¶ä½™éƒ¨åˆ†ä¸ä¸Šé¢è®²è§£çš„ä¿æŒä¸€è‡´ã€‚</p>
<h2 id="ğŸŒ¸ServletåŒ…"><a href="#ğŸŒ¸ServletåŒ…" class="headerlink" title="ğŸŒ¸ServletåŒ…"></a>ğŸŒ¸ServletåŒ…</h2><p>æ¶‰åŠåˆ° WEB-INF å­ç›®å½•çš„ Web åº”ç”¨ç¨‹åºç»“æ„æ˜¯æ‰€æœ‰çš„ Java web åº”ç”¨ç¨‹åºçš„æ ‡å‡†ï¼Œå¹¶ç”± Servlet API è§„èŒƒæŒ‡å®šã€‚ç»™å®šä¸€ä¸ªé¡¶çº§ç›®å½•å myappï¼Œç›®å½•ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">/myapp</span><br><span class="line">    /images</span><br><span class="line">    /WEB-INF</span><br><span class="line">        /classes</span><br><span class="line">        /lib</span><br></pre></td></tr></tbody></table></figure>

<p>WEB-INF å­ç›®å½•ä¸­åŒ…å«åº”ç”¨ç¨‹åºçš„éƒ¨ç½²æè¿°ç¬¦ï¼Œåä¸º web.xmlã€‚æ‰€æœ‰çš„ HTML æ–‡ä»¶éƒ½ä½äºé¡¶çº§ç›®å½• <em>myapp</em> ä¸‹ã€‚å¯¹äº admin ç”¨æˆ·ï¼Œæ‚¨ä¼šå‘ç° ROOT ç›®å½•æ˜¯ myApp çš„çˆ¶ç›®å½•ã€‚</p>
<h3 id="ğŸåˆ›å»ºåŒ…ä¸­çš„-Servlet"><a href="#ğŸåˆ›å»ºåŒ…ä¸­çš„-Servlet" class="headerlink" title="ğŸåˆ›å»ºåŒ…ä¸­çš„ Servlet"></a>ğŸåˆ›å»ºåŒ…ä¸­çš„ Servlet</h3><p>WEB-INF/classes ç›®å½•åŒ…å«äº†æ‰€æœ‰çš„ Servlet ç±»å’Œå…¶ä»–ç±»æ–‡ä»¶ï¼Œç±»æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ç»“æ„ä¸ä»–ä»¬çš„åŒ…åç§°åŒ¹é…ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ªå®Œå…¨åˆæ ¼çš„ç±»åç§° <strong>com.myorg.MyServlet</strong>ï¼Œé‚£ä¹ˆè¿™ä¸ª Servlet ç±»å¿…é¡»ä½äºä»¥ä¸‹ç›®å½•ä¸­ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">/myapp/WEB-INF/classes/com/myorg/MyServlet.class</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢çš„ä¾‹å­åˆ›å»ºåŒ…åä¸º <em>com.myorg</em> çš„ MyServlet ç±»ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸ºåŒ…å‘½å</span></span><br><span class="line"><span class="keyword">package</span> com.myorg;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å…¥å¿…éœ€çš„ java åº“</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/MyServlet"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">private</span> String message;</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> <span class="keyword">throws</span> ServletException</span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">      <span class="comment">// æ‰§è¡Œå¿…éœ€çš„çš„åˆå§‹åŒ–</span></span><br><span class="line">      message = <span class="string">"Hello World"</span>;</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                    HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">      <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">      response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// å®é™…çš„é€»è¾‘æ˜¯åœ¨è¿™é‡Œ</span></span><br><span class="line">      PrintWriter out = response.getWriter();</span><br><span class="line">      out.println(<span class="string">"&lt;h1&gt;"</span> + message + <span class="string">"&lt;/h1&gt;"</span>);</span><br><span class="line">  }</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">      <span class="comment">// ä»€ä¹ˆä¹Ÿä¸åš</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸç¼–è¯‘åŒ…ä¸­çš„-Servlet"><a href="#ğŸç¼–è¯‘åŒ…ä¸­çš„-Servlet" class="headerlink" title="ğŸç¼–è¯‘åŒ…ä¸­çš„ Servlet"></a>ğŸç¼–è¯‘åŒ…ä¸­çš„ Servlet</h3><p>ç¼–è¯‘åŒ…ä¸­çš„ç±»ä¸ç¼–è¯‘å…¶ä»–çš„ç±»æ²¡æœ‰ä»€ä¹ˆå¤§çš„ä¸åŒã€‚æœ€ç®€å•çš„æ–¹æ³•æ˜¯è®©æ‚¨çš„ java æ–‡ä»¶ä¿ç•™å®Œå…¨é™å®šè·¯å¾„ï¼Œå¦‚ä¸Šé¢æåˆ°çš„ç±»ï¼Œå°†è¢«ä¿ç•™åœ¨ com.myorg ä¸­ã€‚æ‚¨è¿˜éœ€è¦åœ¨ CLASSPATH ä¸­æ·»åŠ è¯¥ç›®å½•ã€‚</p>
<p>å‡è®¾æ‚¨çš„ç¯å¢ƒå·²æ­£ç¡®è®¾ç½®ï¼Œè¿›å…¥ <strong><tomcat-installation-directory>/webapps/ROOT/WEB-INF/classes</tomcat-installation-directory></strong> ç›®å½•ï¼Œå¹¶ç¼–è¯‘ MyServlet.javaï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ javac MyServlet.java</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœ Servlet ä¾èµ–äºå…¶ä»–åº“ï¼Œé‚£ä¹ˆæ‚¨å¿…é¡»åœ¨ CLASSPATH ä¸­ä¹Ÿè¦å¼•ç”¨é‚£äº› JAR æ–‡ä»¶ã€‚è¿™é‡Œæˆ‘åªå¼•ç”¨äº† servlet-api.jar JAR æ–‡ä»¶ï¼Œå› ä¸ºæˆ‘åœ¨ Hello World ç¨‹åºä¸­å¹¶æ²¡æœ‰ä½¿ç”¨ä»»ä½•å…¶ä»–åº“ã€‚</p>
<p>è¯¥å‘½ä»¤è¡Œä½¿ç”¨å†…ç½®çš„ javac ç¼–è¯‘å™¨ï¼Œå®ƒæ˜¯ Sun Microsystems Java è½¯ä»¶å¼€å‘å·¥å…·åŒ…ï¼ˆJDKï¼Œå…¨ç§° Java Software Development Kitï¼‰é™„å¸¦çš„ã€‚ Microsystemsçš„Javaè½¯ä»¶å¼€å‘å·¥å…·åŒ…ï¼ˆJDKï¼‰ã€‚ä¸ºäº†è®©è¯¥å‘½ä»¤æ­£å¸¸å·¥ä½œï¼Œå¿…é¡»åŒ…æ‹¬æ‚¨åœ¨ PATH ç¯å¢ƒå˜é‡ä¸­æ‰€ä½¿ç”¨çš„ Java SDK çš„ä½ç½®ã€‚</p>
<p>å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œä¸Šè¿°ç¼–è¯‘ä¼šåœ¨åŒä¸€ç›®å½•ä¸‹ç”Ÿæˆ <strong>MyServlet.class</strong> æ–‡ä»¶ã€‚ä¸‹ä¸€èŠ‚å°†è§£é‡Šå¦‚ä½•æŠŠä¸€ä¸ªå·²ç¼–è¯‘çš„ Servlet éƒ¨ç½²åˆ°ç”Ÿäº§ä¸­ã€‚</p>
<h3 id="ğŸServlet-æ‰“åŒ…éƒ¨ç½²"><a href="#ğŸServlet-æ‰“åŒ…éƒ¨ç½²" class="headerlink" title="ğŸServlet æ‰“åŒ…éƒ¨ç½²"></a>ğŸServlet æ‰“åŒ…éƒ¨ç½²</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒServlet åº”ç”¨ç¨‹åºä½äºè·¯å¾„ <tomcat-installation-directory>/webapps/ROOT ä¸‹ï¼Œä¸”ç±»æ–‡ä»¶æ”¾åœ¨ <tomcat-installation-directory>/webapps/ROOT/WEB-INF/classes ä¸­ã€‚</tomcat-installation-directory></tomcat-installation-directory></p>
<p>å¦‚æœæ‚¨æœ‰ä¸€ä¸ªå®Œå…¨åˆæ ¼çš„ç±»åç§° <strong>com.myorg.MyServlet</strong>ï¼Œé‚£ä¹ˆè¿™ä¸ª Servlet ç±»å¿…é¡»ä½äº WEB-INF/classes/com/myorg/MyServlet.class ä¸­ï¼Œæ‚¨éœ€è¦åœ¨ä½äº <tomcat-installation-directory>/webapps/ROOT/WEB-INF/ çš„ web.xml æ–‡ä»¶ä¸­åˆ›å»ºä»¥ä¸‹æ¡ç›®ï¼š</tomcat-installation-directory></p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>MyServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.myorg.MyServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>MyServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/MyServlet<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„æ¡ç›®è¦è¢«åˆ›å»ºåœ¨ web.xml æ–‡ä»¶ä¸­çš„ <web-app>â€¦</web-app> æ ‡ç­¾å†…ã€‚åœ¨è¯¥æ–‡ä»¶ä¸­å¯èƒ½å·²ç»æœ‰å„ç§å¯ç”¨çš„æ¡ç›®ï¼Œä½†ä¸è¦åœ¨æ„ã€‚</p>
<p>åˆ°è¿™é‡Œï¼Œæ‚¨åŸºæœ¬ä¸Šå·²ç»å®Œæˆäº†ï¼Œç°åœ¨è®©æˆ‘ä»¬ä½¿ç”¨ <tomcat-installation-directory>\bin\startup.batï¼ˆåœ¨ Windows ä¸Šï¼‰æˆ– <tomcat-installation-directory>/bin/startup.shï¼ˆåœ¨ Linux/Solaris ç­‰ä¸Šï¼‰å¯åŠ¨ tomcat æœåŠ¡å™¨ï¼Œæœ€ååœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥ <strong><a href="http://localhost:8080/MyServlet" target="_blank" rel="noopener">http://localhost:8080/MyServlet</a></strong>ã€‚</tomcat-installation-directory></tomcat-installation-directory></p>
<h2 id="ğŸŒ¸Servlet-è°ƒè¯•"><a href="#ğŸŒ¸Servlet-è°ƒè¯•" class="headerlink" title="ğŸŒ¸Servlet è°ƒè¯•"></a>ğŸŒ¸Servlet è°ƒè¯•</h2><p>æµ‹è¯•/è°ƒè¯• Servlet å§‹ç»ˆæ˜¯å¼€å‘ä½¿ç”¨è¿‡ç¨‹ä¸­çš„éš¾ç‚¹ã€‚Servlet å¾€å¾€æ¶‰åŠå¤§é‡çš„å®¢æˆ·ç«¯/æœåŠ¡å™¨äº¤äº’ï¼Œå¯èƒ½ä¼šå‡ºç°é”™è¯¯ä½†åˆéš¾ä»¥é‡ç°ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€äº›æç¤ºå’Œå»ºè®®ï¼Œå¯ä»¥å¸®åŠ©æ‚¨è°ƒè¯•ã€‚</p>
<h3 id="ğŸSystem-out-println"><a href="#ğŸSystem-out-println" class="headerlink" title="ğŸSystem.out.println()"></a>ğŸSystem.out.println()</h3><p>System.out.println() æ˜¯ä½œä¸ºä¸€ä¸ªæ ‡è®°æ¥ä½¿ç”¨çš„ï¼Œç”¨æ¥æµ‹è¯•ä¸€æ®µç‰¹å®šçš„ä»£ç æ˜¯å¦è¢«æ‰§è¡Œã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰“å°å‡ºå˜é‡çš„å€¼ã€‚æ­¤å¤–ï¼š</p>
<ul>
<li>ç”±äº System å¯¹è±¡æ˜¯æ ¸å¿ƒ Java å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå¯ä»¥åœ¨ä¸éœ€è¦å®‰è£…ä»»ä½•é¢å¤–ç±»çš„æƒ…å†µä¸‹è¢«ç”¨äºä»»ä½•åœ°æ–¹ã€‚è¿™åŒ…æ‹¬ Servletã€JSPã€RMIã€EJBâ€™sã€æ™®é€šçš„ Beans å’Œç±»ï¼Œä»¥åŠç‹¬ç«‹çš„åº”ç”¨ç¨‹åºã€‚</li>
<li>ä¸åœ¨æ–­ç‚¹å¤„åœæ­¢ä¸åŒï¼Œå†™å…¥åˆ° System.out ä¸ä¼šå¹²æ‰°åˆ°åº”ç”¨ç¨‹åºçš„æ­£å¸¸æ‰§è¡Œæµç¨‹ï¼Œè¿™ä½¿å¾—å®ƒåœ¨æ—¶åºæ˜¯è‡³å…³é‡è¦çš„æ—¶å€™æ˜¾å¾—å°¤ä¸ºæœ‰ä»·å€¼ã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯ä½¿ç”¨ System.out.println() çš„è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">System.out.println("Debugging message");</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„è¯­æ³•ç”Ÿæˆçš„æ‰€æœ‰æ¶ˆæ¯å°†è¢«è®°å½•åœ¨ Web æœåŠ¡å™¨æ—¥å¿—æ–‡ä»¶ä¸­ã€‚</p>
<h3 id="ğŸæ¶ˆæ¯æ—¥å¿—"><a href="#ğŸæ¶ˆæ¯æ—¥å¿—" class="headerlink" title="ğŸæ¶ˆæ¯æ—¥å¿—"></a>ğŸæ¶ˆæ¯æ—¥å¿—</h3><p>ä½¿ç”¨é€‚å½“çš„æ—¥å¿—è®°å½•æ–¹æ³•æ¥è®°å½•æ‰€æœ‰è°ƒè¯•ã€è­¦å‘Šå’Œé”™è¯¯æ¶ˆæ¯ï¼Œè¿™æ˜¯éå¸¸å¥½çš„æƒ³æ³•ï¼Œæ¨èä½¿ç”¨ <a href="https://logging.apache.org/log4j/2.0/download.html" target="_blank" rel="noopener">log4J</a> æ¥è®°å½•æ‰€æœ‰çš„æ¶ˆæ¯ã€‚</p>
<p>Servlet API è¿˜æä¾›äº†ä¸€ä¸ªç®€å•çš„è¾“å‡ºä¿¡æ¯çš„æ–¹å¼ï¼Œä½¿ç”¨ log() æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥å¿…éœ€çš„ java åº“</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ContextLog</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, </span></span></span><br><span class="line"><span class="function"><span class="params">      HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException,</span></span><br><span class="line"><span class="function">         java.io.IOException </span>{</span><br><span class="line">    </span><br><span class="line">      String par = request.getParameter(<span class="string">"par1"</span>);</span><br><span class="line">      <span class="comment">// è°ƒç”¨ä¸¤ä¸ª ServletContext.log æ–¹æ³•</span></span><br><span class="line">      ServletContext context = getServletContext( );</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (par == <span class="keyword">null</span> || par.equals(<span class="string">""</span>))</span><br><span class="line">      <span class="comment">// é€šè¿‡ Throwable å‚æ•°è®°å½•ç‰ˆæœ¬</span></span><br><span class="line">      context.log(<span class="string">"No message received:"</span>,</span><br><span class="line">          <span class="keyword">new</span> IllegalStateException(<span class="string">"Missing parameter"</span>));</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">          context.log(<span class="string">"Here is the visitor's message: "</span> + par);</span><br><span class="line">      </span><br><span class="line">      response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">      java.io.PrintWriter out = response.getWriter( );</span><br><span class="line">      String title = <span class="string">"Context Log"</span>;</span><br><span class="line">      String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">      out.println(docType +</span><br><span class="line">        <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">        <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">        <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">        <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + title + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">        <span class="string">"&lt;h2 align=\"center\"&gt;Messages sent&lt;/h2&gt;\n"</span> +</span><br><span class="line">        <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">    } <span class="comment">//doGet</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ServletContext æŠŠå®ƒçš„æ–‡æœ¬æ¶ˆæ¯è®°å½•åˆ° Servlet å®¹å™¨çš„æ—¥å¿—æ–‡ä»¶ä¸­ã€‚å¯¹äº Tomcatï¼Œè¿™äº›æ—¥å¿—å¯ä»¥åœ¨ <tomcat-installation-directory>/logs ç›®å½•ä¸­æ‰¾åˆ°ã€‚</tomcat-installation-directory></p>
<p>è¿™äº›æ—¥å¿—æ–‡ä»¶ç¡®å®å¯¹æ–°å‡ºç°çš„é”™è¯¯æˆ–é—®é¢˜çš„é¢‘ç‡ç»™å‡ºæŒ‡ç¤ºã€‚æ­£å› ä¸ºå¦‚æ­¤ï¼Œå»ºè®®åœ¨é€šå¸¸ä¸ä¼šå‘ç”Ÿçš„å¼‚å¸¸çš„ catch å­å¥ä¸­ä½¿ç”¨ log() å‡½æ•°ã€‚</p>
<h3 id="ğŸä½¿ç”¨-JDB-è°ƒè¯•å™¨"><a href="#ğŸä½¿ç”¨-JDB-è°ƒè¯•å™¨" class="headerlink" title="ğŸä½¿ç”¨ JDB è°ƒè¯•å™¨"></a>ğŸä½¿ç”¨ JDB è°ƒè¯•å™¨</h3><p>å¯ä»¥ä½¿ç”¨è°ƒè¯• applet æˆ–åº”ç”¨ç¨‹åºçš„ jdb å‘½ä»¤æ¥è°ƒè¯• Servletã€‚</p>
<p>ä¸ºäº†è°ƒè¯•ä¸€ä¸ª Servletï¼Œæˆ‘ä»¬å¯ä»¥è°ƒè¯• sun.servlet.http.HttpServerï¼Œç„¶åæŠŠå®ƒçœ‹æˆæ˜¯ HttpServer æ‰§è¡Œ Servlet æ¥å“åº”æµè§ˆå™¨ç«¯çš„ HTTP è¯·æ±‚ã€‚è¿™ä¸è°ƒè¯• applet å°ç¨‹åºéå¸¸ç›¸ä¼¼ã€‚ä¸è°ƒè¯• applet ä¸åŒçš„æ˜¯ï¼Œå®é™…è¢«è°ƒè¯•çš„ç¨‹åºæ˜¯ sun.applet.AppletViewerã€‚</p>
<p>å¤§å¤šæ•°è°ƒè¯•å™¨ä¼šè‡ªåŠ¨éšè—å¦‚ä½•è°ƒè¯• applet çš„ç»†èŠ‚ã€‚åŒæ ·çš„ï¼Œå¯¹äº servletï¼Œæ‚¨å¿…é¡»å¸®è°ƒè¯•å™¨æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ul>
<li>è®¾ç½®æ‚¨çš„è°ƒè¯•å™¨çš„ç±»è·¯å¾„ classpathï¼Œä»¥ä¾¿å®ƒå¯ä»¥æ‰¾åˆ° sun.servlet.http.Http-Server å’Œç›¸å…³çš„ç±»ã€‚</li>
<li>è®¾ç½®æ‚¨çš„è°ƒè¯•å™¨çš„ç±»è·¯å¾„ classpathï¼Œä»¥ä¾¿å®ƒå¯ä»¥æ‰¾åˆ°æ‚¨çš„ servlet å’Œæ”¯æŒçš„ç±»ï¼Œé€šå¸¸æ˜¯åœ¨ server_root/servlets å’Œ server_root/classes ä¸­ã€‚</li>
</ul>
<p>æ‚¨é€šå¸¸ä¸ä¼šå¸Œæœ› server_root/servlets åœ¨æ‚¨çš„ classpath ä¸­ï¼Œå› ä¸ºå®ƒä¼šç¦ç”¨ servlet çš„é‡æ–°åŠ è½½ã€‚ä½†æ˜¯è¿™ç§åŒ…å«è§„åˆ™å¯¹äºè°ƒè¯•æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚å®ƒå…è®¸æ‚¨çš„è°ƒè¯•å™¨åœ¨ HttpServer ä¸­çš„è‡ªå®šä¹‰ Servlet åŠ è½½å™¨åŠ è½½ Servlet ä¹‹å‰åœ¨ Servlet ä¸­è®¾ç½®æ–­ç‚¹ã€‚</p>
<p>å¦‚æœæ‚¨å·²ç»è®¾ç½®äº†æ­£ç¡®çš„ç±»è·¯å¾„ classpathï¼Œå°±å¯ä»¥å¼€å§‹è°ƒè¯• sun.servlet.http.HttpServerã€‚å¯ä»¥åœ¨æ‚¨æƒ³è¦è°ƒè¯•çš„ Servlet ä»£ç ä¸­è®¾ç½®æ–­ç‚¹ï¼Œç„¶åé€šè¿‡ Web æµè§ˆå™¨ä½¿ç”¨ç»™å®šçš„ Servletï¼ˆ<a href="http://localhost:8080/servlet/ServletToDebugï¼‰å‘" target="_blank" rel="noopener">http://localhost:8080/servlet/ServletToDebugï¼‰å‘</a> HttpServer å‘å‡ºè¯·æ±‚ã€‚æ‚¨ä¼šçœ‹åˆ°ç¨‹åºæ‰§è¡Œåˆ°æ–­ç‚¹å¤„ä¼šåœæ­¢ã€‚</p>
<h3 id="ğŸä½¿ç”¨æ³¨é‡Š"><a href="#ğŸä½¿ç”¨æ³¨é‡Š" class="headerlink" title="ğŸä½¿ç”¨æ³¨é‡Š"></a>ğŸä½¿ç”¨æ³¨é‡Š</h3><p>ä»£ç ä¸­çš„æ³¨é‡Šæœ‰åŠ©äºä»¥å„ç§æ–¹å¼è¿›è¡Œè°ƒè¯•ã€‚æ³¨é‡Šå¯ç”¨äºè°ƒè¯•è¿‡ç¨‹çš„å¾ˆå¤šå…¶ä»–æ–¹å¼ä¸­ã€‚</p>
<p>è¯¥ Servlet ä½¿ç”¨ Java æ³¨é‡Šå’Œå•è¡Œæ³¨é‡Šï¼ˆ//â€¦ï¼‰ï¼Œå¤šè¡Œæ³¨é‡Šï¼ˆ/* â€¦*/ï¼‰å¯ç”¨äºæš‚æ—¶ç§»é™¤éƒ¨åˆ† Java ä»£ç ã€‚å¦‚æœ bug æ¶ˆå¤±ï¼Œä»”ç»†çœ‹çœ‹æ‚¨åˆšæ‰æ³¨é‡Šçš„ä»£ç å¹¶æ‰¾å‡ºé—®é¢˜æ‰€åœ¨ã€‚</p>
<h3 id="ğŸå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å¤´ä¿¡æ¯"><a href="#ğŸå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å¤´ä¿¡æ¯" class="headerlink" title="ğŸå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å¤´ä¿¡æ¯"></a>ğŸå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å¤´ä¿¡æ¯</h3><p>æœ‰æ—¶ï¼Œå½“ä¸€ä¸ª Servlet å¹¶æ²¡æœ‰åƒé¢„æœŸé‚£æ ·æ—¶ï¼ŒæŸ¥çœ‹åŸå§‹çš„ HTTP è¯·æ±‚å’Œå“åº”æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚å¦‚æœæ‚¨ç†Ÿæ‚‰ HTTP ç»“æ„ï¼Œæ‚¨å¯ä»¥é˜…è¯»è¯·æ±‚å’Œå“åº”ï¼Œçœ‹çœ‹è¿™äº›å¤´ä¿¡æ¯ç©¶ç«Ÿæ˜¯ä»€ä¹ˆã€‚</p>
<h3 id="ğŸé‡è¦çš„è°ƒè¯•æŠ€å·§"><a href="#ğŸé‡è¦çš„è°ƒè¯•æŠ€å·§" class="headerlink" title="ğŸé‡è¦çš„è°ƒè¯•æŠ€å·§"></a>ğŸé‡è¦çš„è°ƒè¯•æŠ€å·§</h3><p>ä¸‹é¢åˆ—å‡ºäº†ä¸€äº› Servlet è°ƒè¯•çš„æŠ€å·§ï¼š</p>
<ul>
<li>è¯·æ³¨æ„ï¼Œserver_root/classes ä¸ä¼šé‡è½½ï¼Œè€Œ server_root/servlets å¯èƒ½ä¼šã€‚</li>
<li>è¦æ±‚æµè§ˆå™¨æ˜¾ç¤ºå®ƒæ‰€æ˜¾ç¤ºçš„é¡µé¢çš„åŸå§‹å†…å®¹ã€‚è¿™æœ‰åŠ©äºè¯†åˆ«æ ¼å¼çš„é—®é¢˜ã€‚å®ƒé€šå¸¸æ˜¯â€è§†å›¾â€èœå•ä¸‹çš„ä¸€ä¸ªé€‰é¡¹ã€‚</li>
<li>é€šè¿‡å¼ºåˆ¶æ‰§è¡Œå®Œå…¨é‡æ–°åŠ è½½é¡µé¢æ¥ç¡®ä¿æµè§ˆå™¨è¿˜æ²¡æœ‰ç¼“å­˜å‰ä¸€ä¸ªè¯·æ±‚çš„è¾“å‡ºã€‚åœ¨ Netscape Navigator ä¸­ï¼Œè¯·ä½¿ç”¨ Shift-Reloadï¼Œåœ¨ Internet Explorer ä¸­ï¼Œè¯·ä½¿ç”¨ Shift-Refreshã€‚</li>
<li>è¯·ç¡®è®¤ servlet çš„ init() æ–¹æ³•æ¥å—ä¸€ä¸ª ServletConfig å‚æ•°ï¼Œå¹¶è°ƒç”¨ super.init(config)ã€‚</li>
</ul>
<h2 id="ğŸŒ¸servletå›½é™…åŒ–"><a href="#ğŸŒ¸servletå›½é™…åŒ–" class="headerlink" title="ğŸŒ¸servletå›½é™…åŒ–"></a>ğŸŒ¸servletå›½é™…åŒ–</h2><p>åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œå…ˆæ¥çœ‹çœ‹ä¸‰ä¸ªé‡è¦æœ¯è¯­ï¼š</p>
<ul>
<li><strong>å›½é™…åŒ–ï¼ˆi18nï¼‰ï¼š</strong>è¿™æ„å‘³ç€ä¸€ä¸ªç½‘ç«™æä¾›äº†ä¸åŒç‰ˆæœ¬çš„ç¿»è¯‘æˆè®¿é—®è€…çš„è¯­è¨€æˆ–å›½ç±çš„å†…å®¹ã€‚</li>
<li><strong>æœ¬åœ°åŒ–ï¼ˆl10nï¼‰ï¼š</strong>è¿™æ„å‘³ç€å‘ç½‘ç«™æ·»åŠ èµ„æºï¼Œä»¥ä½¿å…¶é€‚åº”ç‰¹å®šçš„åœ°ç†æˆ–æ–‡åŒ–åŒºåŸŸï¼Œä¾‹å¦‚ç½‘ç«™ç¿»è¯‘æˆå°åœ°æ–‡ï¼ˆHindiï¼‰ã€‚</li>
<li><strong>åŒºåŸŸè®¾ç½®ï¼ˆlocaleï¼‰ï¼š</strong>è¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡åŒ–æˆ–åœ°ç†åŒºåŸŸã€‚å®ƒé€šå¸¸æŒ‡è¯­è¨€ç¬¦å·åè·Ÿä¸€ä¸ªä¸‹åˆ’çº¿å’Œä¸€ä¸ªå›½å®¶ç¬¦å·ã€‚ä¾‹å¦‚ â€œen_USâ€ è¡¨ç¤ºé’ˆå¯¹ US çš„è‹±è¯­åŒºåŸŸè®¾ç½®ã€‚</li>
</ul>
<p>å½“å»ºç«‹ä¸€ä¸ªå…¨çƒæ€§çš„ç½‘ç«™æ—¶æœ‰ä¸€äº›æ³¨æ„äº‹é¡¹ã€‚æœ¬æ•™ç¨‹ä¸ä¼šè®²è§£è¿™äº›æ³¨æ„äº‹é¡¹çš„å®Œæ•´ç»†èŠ‚ï¼Œä½†å®ƒä¼šé€šè¿‡ä¸€ä¸ªå¾ˆå¥½çš„å®ä¾‹å‘æ‚¨æ¼”ç¤ºå¦‚ä½•é€šè¿‡å·®å¼‚åŒ–å®šä½ï¼ˆå³åŒºåŸŸè®¾ç½®ï¼‰æ¥è®©ç½‘é¡µä»¥ä¸åŒè¯­è¨€å‘ˆç°ã€‚</p>
<p>Servlet å¯ä»¥æ ¹æ®è¯·æ±‚è€…çš„åŒºåŸŸè®¾ç½®æ‹¾å–ç›¸åº”ç‰ˆæœ¬çš„ç½‘ç«™ï¼Œå¹¶æ ¹æ®å½“åœ°çš„è¯­è¨€ã€æ–‡åŒ–å’Œéœ€æ±‚æä¾›ç›¸åº”çš„ç½‘ç«™ç‰ˆæœ¬ã€‚ä»¥ä¸‹æ˜¯ request å¯¹è±¡ä¸­è¿”å› Locale å¯¹è±¡çš„æ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">java.util.Locale request.getLocale()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸæ£€æµ‹åŒºåŸŸè®¾ç½®"><a href="#ğŸæ£€æµ‹åŒºåŸŸè®¾ç½®" class="headerlink" title="ğŸæ£€æµ‹åŒºåŸŸè®¾ç½®"></a>ğŸæ£€æµ‹åŒºåŸŸè®¾ç½®</h3><p>ä¸‹é¢åˆ—å‡ºäº†é‡è¦çš„åŒºåŸŸè®¾ç½®æ–¹æ³•ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥æ£€æµ‹è¯·æ±‚è€…çš„åœ°ç†ä½ç½®ã€è¯­è¨€å’ŒåŒºåŸŸè®¾ç½®ã€‚ä¸‹é¢æ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¾ç¤ºäº†è¯·æ±‚è€…æµè§ˆå™¨ä¸­è®¾ç½®çš„å›½å®¶åç§°å’Œè¯­è¨€åç§°ã€‚</p>
<table>
<thead>
<tr>
<th align="left">åºå·</th>
<th align="left">æ–¹æ³• &amp; æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>String getCountry()</strong> è¯¥æ–¹æ³•ä»¥ 2 ä¸ªå¤§å†™å­—æ¯å½¢å¼çš„ ISO 3166 æ ¼å¼è¿”å›è¯¥åŒºåŸŸè®¾ç½®çš„å›½å®¶/åœ°åŒºä»£ç ã€‚</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>String getDisplayCountry()</strong> è¯¥æ–¹æ³•è¿”å›é€‚åˆå‘ç”¨æˆ·æ˜¾ç¤ºçš„åŒºåŸŸè®¾ç½®çš„å›½å®¶çš„åç§°ã€‚</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>String getLanguage()</strong> è¯¥æ–¹æ³•ä»¥å°å†™å­—æ¯å½¢å¼çš„ ISO 639 æ ¼å¼è¿”å›è¯¥åŒºåŸŸè®¾ç½®çš„è¯­è¨€ä»£ç ã€‚</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><strong>String getDisplayLanguage()</strong> è¯¥æ–¹æ³•è¿”å›é€‚åˆå‘ç”¨æˆ·æ˜¾ç¤ºçš„åŒºåŸŸè®¾ç½®çš„è¯­è¨€çš„åç§°ã€‚</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left"><strong>String getISO3Country()</strong> è¯¥æ–¹æ³•è¿”å›è¯¥åŒºåŸŸè®¾ç½®çš„å›½å®¶çš„ä¸‰ä¸ªå­—æ¯ç¼©å†™ã€‚</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left"><strong>String getISO3Language()</strong> è¯¥æ–¹æ³•è¿”å›è¯¥åŒºåŸŸè®¾ç½®çš„è¯­è¨€çš„ä¸‰ä¸ªå­—æ¯çš„ç¼©å†™ã€‚</td>
</tr>
</tbody></table>
<h3 id="ğŸå®ä¾‹-4"><a href="#ğŸå®ä¾‹-4" class="headerlink" title="ğŸå®ä¾‹"></a>ğŸå®ä¾‹</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetLocale</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>{</span><br><span class="line">    </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                    HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">      <span class="comment">// è·å–å®¢æˆ·ç«¯çš„åŒºåŸŸè®¾ç½®</span></span><br><span class="line">      Locale locale = request.getLocale();</span><br><span class="line">      String language = locale.getLanguage();</span><br><span class="line">      String country = locale.getCountry();</span><br><span class="line"></span><br><span class="line">      <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">      response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">      PrintWriter out = response.getWriter();</span><br><span class="line"></span><br><span class="line">      String title = <span class="string">"æ£€æµ‹åŒºåŸŸè®¾ç½®"</span>;</span><br><span class="line">      String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">      out.println(docType +</span><br><span class="line">        <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">        <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">        <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">        <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + language + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">        <span class="string">"&lt;h2 align=\"center\"&gt;"</span> + country + <span class="string">"&lt;/h2&gt;\n"</span> +</span><br><span class="line">        <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸè¯­è¨€è®¾ç½®"><a href="#ğŸè¯­è¨€è®¾ç½®" class="headerlink" title="ğŸè¯­è¨€è®¾ç½®"></a>ğŸè¯­è¨€è®¾ç½®</h3><p>Servlet å¯ä»¥è¾“å‡ºä»¥è¥¿æ¬§è¯­è¨€ï¼ˆå¦‚è‹±è¯­ã€è¥¿ç­ç‰™è¯­ã€å¾·è¯­ã€æ³•è¯­ã€æ„å¤§åˆ©è¯­ã€è·å…°è¯­ç­‰ï¼‰ç¼–å†™çš„é¡µé¢ã€‚åœ¨è¿™é‡Œï¼Œä¸ºäº†èƒ½æ­£ç¡®æ˜¾ç¤ºæ‰€æœ‰çš„å­—ç¬¦ï¼Œè®¾ç½® Content-Language å¤´æ˜¯éå¸¸é‡è¦çš„ã€‚</p>
<p>ç¬¬äºŒç‚¹æ˜¯ä½¿ç”¨ HTML å®ä½“æ˜¾ç¤ºæ‰€æœ‰çš„ç‰¹æ®Šå­—ç¬¦ï¼Œä¾‹å¦‚ï¼Œâ€Ã±â€ è¡¨ç¤º â€œÃ±â€ï¼Œâ€Â¡â€ è¡¨ç¤º â€œÂ¡â€ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DisplaySpanish</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>{</span><br><span class="line">    </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                    HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">    <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">    response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">    PrintWriter out = response.getWriter();</span><br><span class="line">    <span class="comment">// è®¾ç½®è¥¿ç­ç‰™è¯­è¨€ä»£ç </span></span><br><span class="line">    response.setHeader(<span class="string">"Content-Language"</span>, <span class="string">"es"</span>);</span><br><span class="line"></span><br><span class="line">    String title = <span class="string">"En Espa&amp;ntilde;ol"</span>;</span><br><span class="line">    String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">     out.println(docType +</span><br><span class="line">     <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">     <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">     <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">     <span class="string">"&lt;h1&gt;"</span> + <span class="string">"En Espa&amp;ntilde;ol:"</span> + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">     <span class="string">"&lt;h1&gt;"</span> + <span class="string">"&amp;iexcl;Hola Mundo!"</span> + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">     <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„æ—¥æœŸ"><a href="#ğŸç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„æ—¥æœŸ" class="headerlink" title="ğŸç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„æ—¥æœŸ"></a>ğŸç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„æ—¥æœŸ</h3><p>å¯ä»¥ä½¿ç”¨ java.text.DateFormat ç±»åŠå…¶é™æ€æ–¹æ³• getDateTimeInstance() æ¥æ ¼å¼åŒ–ç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„æ—¥æœŸå’Œæ—¶é—´ã€‚ä¸‹é¢çš„å®ä¾‹æ¼”ç¤ºäº†å¦‚ä½•æ ¼å¼åŒ–ç‰¹å®šäºæŸä¸ªç»™å®šçš„åŒºåŸŸè®¾ç½®çš„æ—¥æœŸï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"><span class="keyword">import</span> java.text.DateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateLocale</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>{</span><br><span class="line">    </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                    HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">    <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">    response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">    PrintWriter out = response.getWriter();</span><br><span class="line">    <span class="comment">// è·å–å®¢æˆ·ç«¯çš„åŒºåŸŸè®¾ç½®</span></span><br><span class="line">    Locale locale = request.getLocale( );</span><br><span class="line">    String date = DateFormat.getDateTimeInstance(</span><br><span class="line">                                  DateFormat.FULL, </span><br><span class="line">                                  DateFormat.SHORT, </span><br><span class="line">                                  locale).format(<span class="keyword">new</span> Date( ));</span><br><span class="line"></span><br><span class="line">    String title = <span class="string">"ç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„æ—¥æœŸ"</span>;</span><br><span class="line">    String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">      out.println(docType +</span><br><span class="line">      <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">      <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">      <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">      <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + date + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">      <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„è´§å¸"><a href="#ğŸç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„è´§å¸" class="headerlink" title="ğŸç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„è´§å¸"></a>ğŸç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„è´§å¸</h3><p>å¯ä»¥ä½¿ç”¨ java.text.NumberFormat ç±»åŠå…¶é™æ€æ–¹æ³• getCurrencyInstance() æ¥æ ¼å¼åŒ–æ•°å­—ï¼ˆæ¯”å¦‚ long ç±»å‹æˆ– double ç±»å‹ï¼‰ä¸ºç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„è´§å¸ã€‚ä¸‹é¢çš„å®ä¾‹æ¼”ç¤ºäº†å¦‚ä½•æ ¼å¼åŒ–ç‰¹å®šäºæŸä¸ªç»™å®šçš„åŒºåŸŸè®¾ç½®çš„è´§å¸ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">javaimport java.io.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"><span class="keyword">import</span> java.text.NumberFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CurrencyLocale</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>{</span><br><span class="line">    </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                    HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">    <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">    response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">    PrintWriter out = response.getWriter();</span><br><span class="line">    <span class="comment">// è·å–å®¢æˆ·ç«¯çš„åŒºåŸŸè®¾ç½®</span></span><br><span class="line">    Locale locale = request.getLocale( );</span><br><span class="line">    NumberFormat nft = NumberFormat.getCurrencyInstance(locale);</span><br><span class="line">    String formattedCurr = nft.format(<span class="number">1000000</span>);</span><br><span class="line"></span><br><span class="line">    String title = <span class="string">"ç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„è´§å¸"</span>;</span><br><span class="line">    String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">      out.println(docType +</span><br><span class="line">      <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">      <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">      <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">      <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + formattedCurr + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">      <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸç‰¹ç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„ç™¾åˆ†æ¯”"><a href="#ğŸç‰¹ç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„ç™¾åˆ†æ¯”" class="headerlink" title="ğŸç‰¹ç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„ç™¾åˆ†æ¯”"></a>ğŸç‰¹ç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„ç™¾åˆ†æ¯”</h3><p>å¯ä»¥ä½¿ç”¨ java.text.NumberFormat ç±»åŠå…¶é™æ€æ–¹æ³• getPercentInstance() æ¥æ ¼å¼åŒ–ç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„ç™¾åˆ†æ¯”ã€‚ä¸‹é¢çš„å®ä¾‹æ¼”ç¤ºäº†å¦‚ä½•æ ¼å¼åŒ–ç‰¹å®šäºæŸä¸ªç»™å®šçš„åŒºåŸŸè®¾ç½®çš„ç™¾åˆ†æ¯”ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"><span class="keyword">import</span> java.text.NumberFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PercentageLocale</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>{</span><br><span class="line">    </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                    HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException</span></span><br><span class="line"><span class="function">  </span>{</span><br><span class="line">    <span class="comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="line">    response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">    PrintWriter out = response.getWriter();</span><br><span class="line">    <span class="comment">// è·å–å®¢æˆ·ç«¯çš„åŒºåŸŸè®¾ç½®</span></span><br><span class="line">    Locale locale = request.getLocale( );</span><br><span class="line">    NumberFormat nft = NumberFormat.getPercentInstance(locale);</span><br><span class="line">    String formattedPerc = nft.format(<span class="number">0.51</span>);</span><br><span class="line"></span><br><span class="line">    String title = <span class="string">"ç‰¹å®šäºåŒºåŸŸè®¾ç½®çš„ç™¾åˆ†æ¯”"</span>;</span><br><span class="line">    String docType = <span class="string">"&lt;!DOCTYPE html&gt; \n"</span>;</span><br><span class="line">      out.println(docType +</span><br><span class="line">      <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">      <span class="string">"&lt;head&gt;&lt;title&gt;"</span> + title + <span class="string">"&lt;/title&gt;&lt;/head&gt;\n"</span> +</span><br><span class="line">      <span class="string">"&lt;body bgcolor=\"#f0f0f0\"&gt;\n"</span> +</span><br><span class="line">      <span class="string">"&lt;h1 align=\"center\"&gt;"</span> + formattedPerc + <span class="string">"&lt;/h1&gt;\n"</span> +</span><br><span class="line">      <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>





<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>åç«¯</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>Servlet</tag>
      </tags>
  </entry>
  <entry>
    <title>JPAä¸JDBCçš„åŒºåˆ«å’ŒåŸºæœ¬ç”¨æ³•</title>
    <url>/The_difference_and_basic_usage_of_JPA_and_JDBC/</url>
    <content><![CDATA[<blockquote>
<p>JPAï¼ˆJava Persistence APIï¼‰ç”¨äºå¯¹è±¡æŒä¹…åŒ–çš„ APIï¼Œæ˜¯ Java EE 5.0 å¹³å°æ ‡å‡†çš„ ORM è§„èŒƒï¼Œä½¿å¾—åº”ç”¨ç¨‹åºä»¥ç»Ÿä¸€çš„æ–¹å¼è®¿é—®æŒä¹…å±‚ã€‚</p>
</blockquote>
<a id="more"></a>

<h1 id="JPA-ä¸-JDBC-çš„åŒºåˆ«å’ŒåŸºæœ¬ç”¨æ³•"><a href="#JPA-ä¸-JDBC-çš„åŒºåˆ«å’ŒåŸºæœ¬ç”¨æ³•" class="headerlink" title="JPA ä¸ JDBC çš„åŒºåˆ«å’ŒåŸºæœ¬ç”¨æ³•"></a>JPA ä¸ JDBC çš„åŒºåˆ«å’ŒåŸºæœ¬ç”¨æ³•</h1><p><a href="https://www.cnblogs.com/yunche/p/10279324.html" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p>
<h2 id="JPA-æ¦‚å¿µ"><a href="#JPA-æ¦‚å¿µ" class="headerlink" title="JPA æ¦‚å¿µ"></a>JPA æ¦‚å¿µ</h2><p>JPAï¼ˆJava Persistence APIï¼‰ç”¨äºå¯¹è±¡æŒä¹…åŒ–çš„ APIï¼Œæ˜¯ Java EE 5.0 å¹³å°æ ‡å‡†çš„ ORM è§„èŒƒï¼Œä½¿å¾—åº”ç”¨ç¨‹åºä»¥ç»Ÿä¸€çš„æ–¹å¼è®¿é—®æŒä¹…å±‚ã€‚</p>
<h3 id="ä¸-JDBC-çš„å¯¹æ¯”"><a href="#ä¸-JDBC-çš„å¯¹æ¯”" class="headerlink" title="ä¸ JDBC çš„å¯¹æ¯”"></a>ä¸ JDBC çš„å¯¹æ¯”</h3><p>JDBC ä¹Ÿæ˜¯ä¸€ç§è§„èŒƒå’Œæ¥å£ï¼Œä¸è¿‡ JDBC æ˜¯é¢å‘ SQL çš„ï¼Œä½¿ç”¨èµ·æ¥æ¯”è¾ƒç¹çã€‚æ‰€ä»¥å°±æœ‰äº† ORM æ¡†æ¶ï¼Œå»ºç«‹äº† Java å¯¹è±¡ä¸æ•°æ®åº“è¡¨ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œå¯ä»¥é€šè¿‡ç›´æ¥æ“ä½œå¯¹è±¡æ¥å®ç°æŒä¹…åŒ–ï¼Œç®€åŒ–äº†æ“ä½œçš„ç¹æ‚åº¦ã€‚è€Œ JPA å°±æ˜¯ ORM æ¡†æ¶çš„è§„èŒƒï¼Œå€¼å¾—ä¸€æçš„æ˜¯ Hibernate æ˜¯ç¬¦åˆ JPA è§„èŒƒçš„ï¼Œè€Œ MyBatis å´ä¸ç¬¦åˆï¼Œå› ä¸º MyBatis è¿˜æ˜¯éœ€è¦å†™ SQL çš„ã€‚</p>
<p>JDBC ç¤ºæ„å›¾ï¼š</p>
<p><img src="https://www.cnblogs.com/images/cnblogs_com/yunche/1384050/o_jdbc.png" alt="img"></p>
<p>JPA ç¤ºæ„å›¾ï¼š</p>
<p><img src="https://www.cnblogs.com/images/cnblogs_com/yunche/1384050/o_JPA.png" alt="img"></p>
<h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><p>åœ¨ IDEA ä¸‹åˆ›å»ºä¸€ä¸ª JPA é¡¹ç›®ï¼Œå¹¶å®ç°åŸºæœ¬çš„ CRUDã€‚</p>
<p>1ã€åˆ›å»ºä¸€ä¸ª JavaEE Persistence é¡¹ç›®ï¼Œå…·ä½“å¦‚ä¸‹æ‰€ç¤º</p>
<p><img src="https://www.cnblogs.com/images/cnblogs_com/yunche/1384050/o_1.png" alt="img"></p>
<p>é‡‡ç”¨ Hibernate å®ç° JPAã€‚</p>
<p>2ã€å¯¼å…¥ç›¸åº”çš„ Maven ä¾èµ–</p>
<p><img src="https://www.cnblogs.com/images/cnblogs_com/yunche/1384050/o_2.1.png" alt="img"></p>
<p>æ·»åŠ  Maven æ”¯æŒã€‚</p>
<p>pom.xml:</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>groupId<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jpa-helloworld<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-entitymanager --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-entitymanager<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.4.0.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>3ã€é…ç½®æ•°æ®åº“ï¼ˆMySQL 8ï¼‰ç›¸å…³å†…å®¹ persistence.xml</p>
<p>æ³¨æ„æ­¤æ–‡ä»¶è¦ä½äºç±»è·¯å¾„ä¸‹ï¼Œè¿™é‡Œæ”¾åœ¨ resources/META-INF ä¸‹ã€‚</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">persistence</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/persistence"</span> <span class="attr">version</span>=<span class="string">"2.0"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">persistence-unit</span> <span class="attr">name</span>=<span class="string">"jpa-1"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ˜¯ PersistenceProvider æ¥å£çš„å®ç°ç±»--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">provider</span>&gt;</span>org.hibernate.jpa.HibernatePersistenceProvider<span class="tag">&lt;/<span class="name">provider</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--æ·»åŠ æŒä¹…åŒ–ç±»--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">class</span>&gt;</span>com.yunche.helloworld.Customer<span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hibernate.connection.url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/jpa?useSSL=false<span class="symbol">&amp;amp;</span>serverTimezone=Asia/Shanghai"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hibernate.connection.driver_class"</span> <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hibernate.connection.username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hibernate.connection.password"</span> <span class="attr">value</span>=<span class="string">"123456"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hibernate.archive.autodetection"</span> <span class="attr">value</span>=<span class="string">"class"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hibernate.show_sql"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hibernate.format_sql"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--æ³¨æ„è¿™ä¸ªå±æ€§ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶å‰é¢æ²¡æœ‰ hibernateï¼Œè¦åŠ ä¸Š hibernate --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hibernate.hbm2ddl.auto"</span> <span class="attr">value</span>=<span class="string">"update"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- ä½¿ç”¨ MySQL8Dialect --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hibernate.dialect"</span> <span class="attr">value</span>=<span class="string">"org.hibernate.dialect.MySQL8Dialect"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">persistence-unit</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">persistence</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>4ã€æ–°å»ºä¸€ä¸ªæŒä¹…åŒ–å¯¹è±¡ç±»</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yunche.helloworld;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: Customer</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: yunche</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2019/01/16</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Entity</span>(name = <span class="string">"customers"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String lastName;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"last_name"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLastName</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> lastName;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLastName</span><span class="params">(String lastName)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.lastName = lastName;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getEmail</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> email;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setEmail</span><span class="params">(String email)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.email = email;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¹¶åœ¨ persistence.xml ä¸­çš„ persistence-unit èŠ‚ç‚¹ä¸‹åŠ å…¥ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">&lt;!--æ·»åŠ æŒä¹…åŒ–ç±»--&gt;</span><br><span class="line">&lt;!--åæ¥å‘ç°ï¼šä¼¼ä¹å¯ä»¥ä¸åŠ --&gt;</span><br><span class="line">&lt;class&gt;com.yunche.helloworld.Customer&lt;/class&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>5ã€Main ç±»</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yunche.helloworld;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.EntityManager;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.EntityManagerFactory;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.EntityTransaction;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Persistence;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: Main</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: yunche</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2019/01/16</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line"></span><br><span class="line">        <span class="comment">//persistence.xml ä¸­çš„ persistence-unit</span></span><br><span class="line">        String persistenceUnitName = <span class="string">"jpa-1"</span>;</span><br><span class="line">        <span class="comment">//1ã€åˆ›å»º EntityManagerFactory</span></span><br><span class="line">        EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(persistenceUnitName);</span><br><span class="line">        <span class="comment">//2ã€åˆ›å»º EntityManager</span></span><br><span class="line">        EntityManager entityManager = entityManagerFactory.createEntityManager();</span><br><span class="line">        <span class="comment">//3ã€å¼€å¯äº‹åŠ¡</span></span><br><span class="line">        EntityTransaction transaction = entityManager.getTransaction();</span><br><span class="line">        transaction.begin();</span><br><span class="line">        <span class="comment">//4ã€è¿›è¡ŒæŒä¹…åŒ–æ“ä½œ</span></span><br><span class="line">        Customer customer = <span class="keyword">new</span> Customer();</span><br><span class="line">        customer.setAge(<span class="number">13</span>);</span><br><span class="line">        customer.setLastName(<span class="string">"li"</span>);</span><br><span class="line">        customer.setEmail(<span class="string">"123@qq.com"</span>);</span><br><span class="line"></span><br><span class="line">        entityManager.persist(customer);</span><br><span class="line">        <span class="comment">//5ã€æäº¤äº‹åŠ¡</span></span><br><span class="line">        transaction.commit();</span><br><span class="line">        <span class="comment">//6ã€å…³é—­ EntityManager</span></span><br><span class="line">        entityManager.close();</span><br><span class="line">        <span class="comment">//7ã€å…³é—­ EntityManagerFactory</span></span><br><span class="line">        entityManagerFactory.close();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>6ã€ç»“æœ</p>
<p><img src="https://www.cnblogs.com/images/cnblogs_com/yunche/1384050/o_output.png" alt="img"></p>
<p><img src="https://www.cnblogs.com/images/cnblogs_com/yunche/1384050/o_result.png" alt="img"></p>
<p>7ã€æ³¨æ„äº‹é¡¹<br>æˆ‘åæ¥å‘ç°äº†ä¸€ç‚¹é—®é¢˜ï¼Œå…³äºåŒ… javax.persistence-api çš„ï¼Œæˆ‘åˆ›å»ºé¡¹ç›®çš„æ—¶å€™é€‰ä¸­äº† persistence 2.0 , IDEA è‡ªåŠ¨å¯¼å…¥äº† javax.persistence-api-2.0.jarï¼Œè€Œ maven ä¸‹çš„ hibernate-entitymanager ä¾èµ–å«æœ‰ javax.persistence-api-2.2.jar ï¼Œæ‰€ä»¥ jar åŒ…é‡å¤äº†ï¼Œå¹¶ä¸”æˆ‘å‘ç°2.0ç‰ˆæœ¬çš„æœ‰äº›æ–¹æ³•æ²¡æœ‰ï¼Œæ‰€ä»¥è¿˜æ˜¯å°†2.0ç‰ˆæœ¬çš„jaråŒ…åˆ é™¤ï¼Œç”¨ 2.2 ç‰ˆæœ¬çš„ã€‚</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>åç«¯</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>JPA</tag>
        <tag>JDBC</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºæ•°æ®åº“å’Œmybatisçš„mapperå…³ç³»</title>
    <url>/Mapper_relation_of_mybatis/</url>
    <content><![CDATA[<blockquote>
<p>MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒæ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†ã€‚MyBatis å¯ä»¥ä½¿ç”¨ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸç”Ÿä¿¡æ¯ï¼Œå°†æ¥å£å’Œ Java çš„ POJOs(Plain Ordinary Java Object,æ™®é€šçš„ Javaå¯¹è±¡)æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ã€‚</p>
</blockquote>
<a id="more"></a>

<h1 id="å…³äºæ•°æ®åº“mybatisçš„mapperå…³ç³»"><a href="#å…³äºæ•°æ®åº“mybatisçš„mapperå…³ç³»" class="headerlink" title="å…³äºæ•°æ®åº“mybatisçš„mapperå…³ç³»"></a>å…³äºæ•°æ®åº“mybatisçš„mapperå…³ç³»</h1><p><a href="https://blog.csdn.net/weixin_42603009/article/details/91981037" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p>
<p>è¿™é‡Œè¯´æ˜ä¸€ä¸‹å…³äºæ•°æ®åº“ï¼Œæ•°æ®åº“å¯¹åº”å®ä½“å„ç§å¤æ‚æƒ…å†µå…³ç³»æ˜ å°„ã€‚<br>æœ€åŸºæœ¬çš„å®ä½“ï¼š<br>æ¯”å¦‚ï¼šï¼ˆè¿™é‡Œé¢ä¸æ¶‰åŠå¤æ‚map,list,setç­‰ï¼‰</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestUser</span> </span>{</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> Integer testUserNo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> String testUserName;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> String testUserSex;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æ•°æ®åº“ï¼š<br><img src="https://img-blog.csdnimg.cn/20190614160536245.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>resultMapæœ€ç»ˆå°†æ•°æ®åº“æŸ¥å‡ºçš„ç»“æœï¼Œæ˜ å°„åˆ°pojoï¼ˆå®ä½“ï¼‰ä¸Š<br>typeæ˜¯æŒ‡å®šæ˜ å°„åˆ°å“ªä¸€ä¸ªå®ä½“ï¼›idæ˜¯ç›¸å¯¹åº”çš„resultMapçš„id</p>
<p>è¿™é‡Œæœ‰ä¸¤ç§å±æ€§ï¼Œä¸»é”®å±æ€§å’Œæ™®é€šå±æ€§<br>1,ä¸»é”®å±æ€§æ–¹å¼ï¼ˆæ˜¯ä¸»é”®ï¼‰<br>user_noæ˜¯ä¸»é”®ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">&lt;id property=<span class="string">"testUserNo"</span> column=<span class="string">"user_no"</span>/&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>2,æ™®é€šå±æ€§ï¼ˆå³ä¸æ˜¯ä¸»é”®ï¼‰<br>user_nameä¸æ˜¯ä¸»é”®</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">&lt;result property=<span class="string">"testUserName"</span> column=<span class="string">"user_name"</span>/&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>å®Œæ•´çš„mapper.xml</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper PUBLIC <span class="string">"-//mybatis.org//DTD Mapper 3.0//EN"</span> <span class="string">"http://www.mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span><br><span class="line">&lt;!-- namespaceæ˜¯å¯¹åº”çš„å®šä¹‰æ–¹æ³•mapperï¼Œä¼šå»æ‹¿åˆ°å¯¹åº”çš„geTestUsersæ–¹æ³•ã€‚è¿™æ ·æ‰å»ºç«‹èµ·äº†è¾“å…¥ï¼Œè¿”å›çš„å¯¹åº”çš„å…³ç³» --&gt;</span><br><span class="line">&lt;mapper namespace=<span class="string">"com.cun.mapper.TestUserMapper"</span>&gt;</span><br><span class="line">&lt;resultMap type=<span class="string">"com.cun.entity.TestUser"</span> id=<span class="string">"TestUser"</span>&gt;</span><br><span class="line">&lt;!-- propertyæ˜¯å¯¹åº”çš„å®ä½“å±æ€§ï¼Œcolumnæ˜¯å¯¹åº”çš„æ•°æ®åº“columné¡¹--&gt;</span><br><span class="line">	&lt;id property=<span class="string">"testUserNo"</span> column=<span class="string">"user_no"</span>/&gt; </span><br><span class="line">	&lt;result property=<span class="string">"testUserName"</span> column=<span class="string">"user_name"</span>/&gt;</span><br><span class="line">	&lt;result property=<span class="string">"testUserSex"</span> column=<span class="string">"user_sex"</span>/&gt;</span><br><span class="line">&lt;/resultMap&gt;</span><br><span class="line"></span><br><span class="line">&lt;select id=<span class="string">"geTestUsers"</span> resultMap=<span class="string">"TestUser"</span>&gt;</span><br><span class="line">    select * from test_user</span><br><span class="line">&lt;/select&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨æˆ‘ä»¬æ·±å…¥æ›´åŠ å¤æ‚æƒ…å†µå‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£mapper3.0ä¸‹å¸¸ç”¨çš„æ ‡ç­¾ã€‚æˆ‘ä»¬ä»mapperå¼€å§‹è®²èµ·ã€‚<br>mapper: æ˜¯æ€»æ ‡ç­¾ï¼Œæ‰€æœ‰æ ‡ç­¾éƒ½åŒ…å«åœ¨å†…ã€‚<br>namespaceï¼šå‘½åç©ºé—´ã€‚å¦‚æœé‡‡ç”¨çš„æ˜¯Mapperæ¥å£ä»£ç†çš„æ–¹å¼å¼€å‘ï¼ŒMapperçš„æ˜ å°„æ–‡ä»¶ä¸­namespaceå¿…é¡»ä¸ºæ¥å£çš„å…¨åï¼Œæ¯”å¦‚è¿™é‡Œnamespace=â€œcom.cun.mapper.TestUserMapperâ€ã€‚<br><img src="https://img-blog.csdnimg.cn/2019061420233673.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æœ€å¸¸è§çš„å¢åˆ æ”¹æŸ¥selectï¼Œinsertï¼Œupdateï¼Œdeleteã€‚</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span> ?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper</span><br><span class="line">PUBLIC <span class="string">"-//mybatis.org//DTD Mapper 3.0//EN"</span></span><br><span class="line"><span class="string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span><br><span class="line">&lt;mapper namespace=<span class="string">"Mapper.EmpMapper"</span>&gt;</span><br><span class="line">	<span class="comment">// CURDæ“ä½œæ ‡ç­¾</span></span><br><span class="line">	<span class="comment">// æŸ¥  parameterTypeå…¥å‚ç±»å‹   resultTypeè¿”å›ç±»å‹  idæ˜¯å”¯ä¸€æ ‡è¯†ç¬¦</span></span><br><span class="line">	&lt;select id="" parameterType="" resultType=""&gt; &lt;/select&gt;</span><br><span class="line">	&lt;insert id="" parameterType=""&gt; &lt;/insert&gt;</span><br><span class="line">	&lt;delete id="" parameterType=""&gt; &lt;/delete&gt;</span><br><span class="line">	&lt;update id="" parameterType=""&gt; &lt;/update&gt;</span><br><span class="line">    <span class="comment">// ifç‰‡æ®µ</span></span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>æ¯ä¸€ä¸ªå…¶ä¸­çš„å†…å«æ ‡ç­¾ï¼š<br><img src="https://img-blog.csdnimg.cn/20190614212707731.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190614212756788.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190614212942527.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190614213051667.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¸‹é¢é€ä¸€ä»‹ç»å…¶ä¸­çš„Content Model(å†…å®¹æ¨¡å‹)<br>selectKey : æ ‡ç­¾è¡¨ç¤ºå­æŸ¥è¯¢ä¸­ä¸»é”®çš„æå–é—®é¢˜<br>å®ƒå…¶ä¸­çš„æ ‡è®°ï¼š<br>keyColumnè¡¨ç¤ºæŸ¥è¯¢è¯­å¥è¿”å›ç»“æœçš„åˆ—å<br>keyPropertyè¡¨ç¤ºå°†å±æ€§è®¾ç½®åˆ°æŸä¸ªåˆ—ä¸­<br>order=â€BEFOREè¡¨ç¤ºåœ¨æ’å…¥è¯­å¥ä¹‹å‰æ‰§è¡Œ<br>resultType=â€intâ€è¡¨ç¤ºè¿”å›å€¼å¾—ç±»å‹ä¸ºintç±»å‹<br><img src="https://img-blog.csdnimg.cn/20190614222555214.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>includeï¼šå¼•å…¥å®šä¹‰å·çš„å…¬å…±sql<br>è¿™é‡Œä¸å¾—ä¸çš„å¼•å…¥å¦ä¸€ä¸ªæ ‡ç­¾sql,å› ä¸ºè¿™ä¸¤è€…æ­é…ä½¿ç”¨ã€‚<br>ä¾‹å­ï¼šï¼ˆé€šå¸¸ç”¨äºæœ‰ä¸€æ®µsqlæ–‡ï¼Œå¾ˆé•¿è€Œä¸”é‡å¤å¤šæ¬¡ä½¿ç”¨ï¼Œæˆ‘ä»¬æŠŠå®ƒæŠ½è±¡å‡ºæ¥ï¼Œä¹‹åç›´æ¥å¼•ç”¨ï¼‰</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">&lt;!--<span class="number">1</span>ã€é¦–å…ˆå®šä¹‰ä¸€ä¸ªsqlæ ‡ç­¾ï¼Œä¸€å®šè¦å®šä¹‰å”¯ä¸€idã€‚ï¼ˆname,ageæ˜¯è¦æŸ¥è¯¢çš„å­—æ®µï¼‰--&gt;</span><br><span class="line">&lt;sql id="Base_Column_List" &gt;name,age&lt;/sql&gt;</span><br><span class="line">&lt;!--<span class="number">2</span>ã€ç„¶åé€šè¿‡idå¼•ç”¨--&gt;</span><br><span class="line">&lt;select id=<span class="string">"selectAll"</span>&gt;</span><br><span class="line">select </span><br><span class="line">&lt;include refid=<span class="string">"Base_Column_List"</span> /&gt;</span><br><span class="line">	from student</span><br><span class="line">&lt;/select&gt;</span><br><span class="line">&lt;!--è¿™ä¸ª&lt;include refid=<span class="string">"Base_Column_List"</span> /&gt;ä¼šè‡ªåŠ¨æŠŠä¸Šé¢çš„ä»£ç è´´è¿‡æ¥ã€‚--&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>trim : ï¼ˆè¿™ä¸ªä¸å¸¸ç”¨ï¼‰<br>prefixï¼šå‰ç¼€ï¼›suffixï¼šåç¼€<br>prefixOverridesï¼šå¿½ç•¥ç¬¬ä¸€ä¸ªæŒ‡å®šåˆ†éš”ç¬¦ï¼›suffixOverridesï¼šä¼šç•¥æœ€åä¸€ä¸ªåˆ†éš”ç¬¦ã€‚</p>
<p>å¦‚æœidä¸ºnullæ‰§è¡Œçš„sqlè¯­å¥ä¸º:<br>select * from user where name=â€œxxxâ€ and gender=â€œxxxâ€<br>where : ä¸»è¦æ˜¯ç”¨æ¥ç®€åŒ– sql è¯­å¥ä¸­ where æ¡ä»¶åˆ¤æ–­ï¼Œè‡ªåŠ¨åœ°å¤„ç† AND/OR æ¡ä»¶ã€‚<br>ä¾‹å­ï¼šï¼ˆå¹¶è‡ªåŠ¨åœ°æŠŠé¦–ä¸ª and / or ç»™å¿½ç•¥ã€‚ï¼‰</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;select id=<span class="string">"geTestUsers"</span> parameterType=<span class="string">"com.cun.entity.TestUser"</span> resultMap=<span class="string">"TestUser"</span>&gt;</span><br><span class="line">    select user_no,user_name,user_sex </span><br><span class="line">    from test_user </span><br><span class="line">    &lt;where&gt;</span><br><span class="line">        &lt;<span class="keyword">if</span> test=<span class="string">"testUserNo != null"</span>&gt;</span><br><span class="line">            user_no = #{testUserNo}</span><br><span class="line">        &lt;/if&gt;</span><br><span class="line">        &lt;<span class="keyword">if</span> test=<span class="string">"testUserName != null"</span>&gt;</span><br><span class="line">            and user_name = #{testUserName}</span><br><span class="line">        &lt;/if&gt;</span><br><span class="line">        &lt;<span class="keyword">if</span> test=<span class="string">"testUserSex != null"</span>&gt;</span><br><span class="line">            and user_sex = #{testUserSex}</span><br><span class="line">        &lt;/if&gt;</span><br><span class="line">    &lt;/where&gt;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>set : ï¼ˆä¸»è¦ä½œç”¨äºupdateè¯­å¥ï¼‰æ—¶è‹¥ä½¿ç”¨ifæ ‡ç­¾ï¼Œå¦‚æœå‰é¢çš„ifæ²¡æœ‰æ‰§è¡Œï¼Œåˆ™å¯èƒ½å¯¼è‡´æœ‰å¤šä½™é€—å·çš„é”™è¯¯ã€‚ä½¿ç”¨setæ ‡ç­¾å¯ä»¥å°†åŠ¨æ€çš„é…ç½®SET å…³é”®å­—ï¼Œå’Œå‰”é™¤è¿½åŠ åˆ°æ¡ä»¶æœ«å°¾çš„ä»»ä½•ä¸ç›¸å…³çš„é€—å·ã€‚<br>ä¾‹å­ï¼šï¼ˆè¿™é‡Œæœ‰ä¸€ä¸ªå‘ï¼Œå†™å®Œéœ€è¦åŠ é€—å·ï¼‰</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;update id=<span class="string">"updateByPrimaryKeySelective"</span> parameterType=<span class="string">"RecruitmentConfBanner"</span>&gt;</span><br><span class="line">    UPDATE conf_banner t</span><br><span class="line">    &lt;set&gt; </span><br><span class="line">        &lt;<span class="keyword">if</span> test=<span class="string">"bannerName != null"</span>&gt;</span><br><span class="line">            t.banner_name = #{bannerName},</span><br><span class="line">        &lt;/if&gt;</span><br><span class="line">        &lt;<span class="keyword">if</span> test=<span class="string">"bannerUrl != null"</span>&gt;</span><br><span class="line">            t.banner_url = #{bannerUrl},</span><br><span class="line">        &lt;/if&gt;</span><br><span class="line">        &lt;<span class="keyword">if</span> test=<span class="string">"bannerLogo != null"</span>&gt;</span><br><span class="line">            t.banner_logo = #{bannerLogo},</span><br><span class="line">        &lt;/if&gt;</span><br><span class="line">    &lt;/set&gt;</span><br><span class="line">    where t.banner_id = #{bannerId}</span><br><span class="line">&lt;/update&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>foreach : ä¸»è¦ç”¨äºæ‰¹é‡åˆ é™¤æˆ–æ‰¹é‡æ’å…¥ã€‚<br>å®ƒçš„6ä¸ªå‚æ•°è¯´æ˜ï¼š<br>collectionï¼šè¦å¾ªç¯çš„é›†åˆ<br>indexï¼šå¾ªç¯ç´¢å¼•ï¼›<br>itemï¼šé›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼ˆitemå’Œcollectionï¼ŒæŒ‰foreachå¾ªç¯ç†è§£ï¼‰ï¼›<br>openï¼šä»¥ä»€ä¹ˆå¼€å§‹ï¼›<br>closeï¼šä»¥ä»€ä¹ˆç»“æŸï¼›<br>separatorï¼šå¾ªç¯å†…å®¹ä¹‹é—´ä»¥ä»€ä¹ˆåˆ†éš”<br>mybatisæ¥å—çš„å‚æ•°åˆ†ä¸ºï¼šï¼ˆ1ï¼‰åŸºæœ¬ç±»å‹ï¼›ï¼ˆ2ï¼‰å¯¹è±¡ï¼›ï¼ˆ3ï¼‰Listï¼›ï¼ˆ4ï¼‰æ•°ç»„ï¼›ï¼ˆ5ï¼‰Map<br>ä¾‹å­ï¼šï¼ˆå…¥å‚ä¸ºlistï¼Œcollectionä¸ºlistï¼‰</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;update id=<span class="string">"deleteWorkshopByIds"</span> parameterType=<span class="string">"Integer"</span> &gt;</span><br><span class="line">	update workshop set status =<span class="number">0</span></span><br><span class="line">	where id in</span><br><span class="line">  &lt;foreach collection=<span class="string">"list"</span> index=<span class="string">"i"</span> item=<span class="string">"id"</span> open=<span class="string">"("</span> separator=<span class="string">","</span> close=<span class="string">")"</span>&gt;</span><br><span class="line">  	#{id}</span><br><span class="line">  &lt;/foreach&gt;</span><br><span class="line">&lt;/update&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>choose : æ˜¯æŒ‰é¡ºåºåˆ¤æ–­å…¶å†…éƒ¨whenæ ‡ç­¾ä¸­çš„testæ¡ä»¶å‡ºå¦æˆç«‹ï¼Œå¦‚æœæœ‰ä¸€ä¸ªæˆç«‹ï¼Œåˆ™ choose ç»“æŸã€‚å½“ choose ä¸­æ‰€æœ‰ when çš„æ¡ä»¶éƒ½ä¸æ»¡åˆ™æ—¶ï¼Œåˆ™æ‰§è¡Œ otherwise ä¸­çš„sqlã€‚<br>ä¾‹å­ï¼š</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;!--  choose(åˆ¤æ–­å‚æ•°) - æŒ‰é¡ºåºå°†å®ä½“ç±» User ç¬¬ä¸€ä¸ªä¸ä¸ºç©ºçš„å±æ€§ä½œä¸ºï¼šwhereæ¡ä»¶ --&gt;  </span><br><span class="line">&lt;select id=<span class="string">"getUserList_choose"</span> resultMap=<span class="string">"resultMap_user"</span> parameterType=<span class="string">"com.yiibai.pojo.User"</span>&gt;  </span><br><span class="line">SELECT *  </span><br><span class="line">  FROM User u   </span><br><span class="line">&lt;where&gt;  </span><br><span class="line">    &lt;choose&gt;  </span><br><span class="line">        &lt;when test=<span class="string">"username !=null "</span>&gt;  </span><br><span class="line">            u.<span class="function">username LIKE <span class="title">CONCAT</span><span class="params">(CONCAT(<span class="string">'%'</span>, #{username, jdbcType=VARCHAR})</span>,'%')  </span></span><br><span class="line"><span class="function">        &lt;/when &gt;  </span></span><br><span class="line"><span class="function">        &lt;when test</span>=<span class="string">"sex != null and sex != '' "</span>&gt;  </span><br><span class="line">            AND u.sex = #{sex, jdbcType=INTEGER}  </span><br><span class="line">        &lt;/when &gt;  </span><br><span class="line">        &lt;when test=<span class="string">"birthday != null "</span>&gt;  </span><br><span class="line">            AND u.birthday = #{birthday, jdbcType=DATE}  </span><br><span class="line">        &lt;/when &gt;  </span><br><span class="line">        &lt;otherwise&gt;  </span><br><span class="line">        &lt;/otherwise&gt;  </span><br><span class="line">    &lt;/choose&gt;  </span><br><span class="line">&lt;/where&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>æ ‡ç­¾<br>if : è¿™ä¸ªç­¾å‰é¢å·²ç»æ¶‰åŠåˆ°äº†ã€‚<br>bind : å¯ä»¥ä» OGNL è¡¨è¾¾å¼ä¸­åˆ›å»ºä¸€ä¸ªå˜é‡å¹¶å°†å…¶ç»‘å®šåˆ°ä¸Šä¸‹æ–‡</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;select id=<span class="string">"selectBlogsLike"</span> resultType=<span class="string">"Blog"</span>&gt;</span><br><span class="line">	&lt;bind name=<span class="string">"pattern"</span> value=<span class="string">"'%' + _parameter.getTitle() + '%'"</span> /&gt;</span><br><span class="line">	SELECT * FROM BLOG</span><br><span class="line">	WHERE title LIKE #{pattern}</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>å›åˆ°åŸå…ˆçš„è¯é¢˜æ˜ å°„æ¶‰åŠå¤æ‚map,list,setç­‰ã€‚<br>ä¸€å¯¹å¤šcollection ä¾‹å­ï¼šä¸€ä¸ªç­çº§ç›¸å…³çš„å­¦ç”Ÿã€‚StudentEntityæ˜¯å­¦ç”Ÿå®ä½“ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClazzEntity</span> </span>{</span><br><span class="line"> </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> clazzID;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> String clazzName;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> List&lt;StudentEntity&gt; studentList;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¾‹å­ï¼š</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;resultMap id=<span class="string">"ClazzResultMap"</span> type=<span class="string">"com.cn.hnust.pojo.ClazzEntity"</span> &gt;</span><br><span class="line">	  &lt;id column=<span class="string">"classID"</span> property=<span class="string">"clazzID"</span> jdbcType=<span class="string">"INTEGER"</span> /&gt;</span><br><span class="line"> 	&lt;result column=<span class="string">"className"</span> property=<span class="string">"clazzName"</span> jdbcType=<span class="string">"VARCHAR"</span> /&gt;</span><br><span class="line">	&lt;collection property=<span class="string">"studentList"</span> column=<span class="string">"classID"</span> javaType=<span class="string">"ArrayList"</span> </span><br><span class="line">            ofType=<span class="string">"com.cn.hnust.pojo.StudentEntity"</span> select=<span class="string">"getStudentByClassID"</span>/&gt;</span><br><span class="line"> &lt;/resultMap&gt;</span><br><span class="line"></span><br><span class="line"> &lt;resultMap id=<span class="string">"StudentResultMap"</span> type=<span class="string">"com.cn.hnust.pojo.StudentEntity"</span>&gt;  </span><br><span class="line"> 	&lt;id property=<span class="string">"stuID"</span> column=<span class="string">"stuID"</span> /&gt;  </span><br><span class="line">	&lt;result property=<span class="string">"stuName"</span> column=<span class="string">"stuName"</span> /&gt;  </span><br><span class="line">	&lt;result property=<span class="string">"stuAge"</span> column=<span class="string">"stuAge"</span> /&gt;  </span><br><span class="line">	&lt;result property=<span class="string">"stuAddress"</span> column=<span class="string">"stuAddress"</span> /&gt;</span><br><span class="line">  &lt;/resultMap&gt;  </span><br><span class="line"></span><br><span class="line">&lt;select id=<span class="string">"getClassByID"</span> resultMap=<span class="string">"ClazzResultMap"</span> parameterType=<span class="string">"java.lang.Integer"</span> &gt;</span><br><span class="line">	select classID,className</span><br><span class="line">	from class_t</span><br><span class="line">	where classID = #{clazzID}</span><br><span class="line">&lt;/select&gt;</span><br><span class="line"></span><br><span class="line">&lt;select id=<span class="string">"getStudentByClassID"</span> resultMap=<span class="string">"StudentResultMap"</span> parameterType=<span class="string">"java.lang.Integer"</span> &gt;</span><br><span class="line">	select stuID,stuName,stuAge,stuAddress,classID</span><br><span class="line"> from student_t</span><br><span class="line">	where classID = #{clazzID}</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸€å¯¹å¤šï¼Œä¸€å¯¹ä¸€ï¼ˆassociation ï¼‰ï¼š</p>
<figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">&lt;resultMap type=<span class="string">"Bill"</span> id=<span class="string">"ResultBill"</span>&gt;  </span><br><span class="line">       &lt;id property=<span class="string">"id"</span> column=<span class="string">"id"</span>/&gt;  </span><br><span class="line">       &lt;result property=<span class="string">"dh"</span> column=<span class="string">"dh"</span>  /&gt;          </span><br><span class="line">       &lt;result property=<span class="string">"rq"</span> column=<span class="string">"rq"</span>/&gt;  </span><br><span class="line">       &lt;association property=<span class="string">"author"</span>  javaType=<span class="string">"Author"</span>  &gt;  </span><br><span class="line">          &lt;id  property=<span class="string">"id"</span>  column=<span class="string">"idAutor"</span> /&gt;  </span><br><span class="line">          &lt;result property=<span class="string">"name"</span> column=<span class="string">"authorName"</span> /&gt;  </span><br><span class="line">          &lt;result property=<span class="string">"email"</span> column=<span class="string">"authorEmail"</span>/&gt;  </span><br><span class="line">       &lt;/association&gt;          </span><br><span class="line">       &lt;collection property=<span class="string">"det1"</span>  javaType=<span class="string">"ArrayList"</span> ofType=<span class="string">"BillDet1"</span> &gt;  </span><br><span class="line">          &lt;id property=<span class="string">"id"</span> column=<span class="string">"idDet1"</span>/&gt;  </span><br><span class="line">          &lt;result property=<span class="string">"dh"</span> column=<span class="string">"dhDet1"</span>/&gt;  </span><br><span class="line">          &lt;result property=<span class="string">"wlbm"</span> column=<span class="string">"wlbm"</span>/&gt;  </span><br><span class="line">          &lt;result property=<span class="string">"wlmc"</span> column=<span class="string">"wlmc"</span>/&gt;  </span><br><span class="line">          &lt;result property=<span class="string">"unit"</span> column=<span class="string">"unit"</span>/&gt;  </span><br><span class="line">          &lt;result property=<span class="string">"qty"</span> column=<span class="string">"qty"</span>/&gt;  </span><br><span class="line">       &lt;/collection&gt;  </span><br><span class="line">&lt;/resultMap&gt;  </span><br><span class="line">&lt;resultMap type=<span class="string">"com.sailod.shiro.dto.HtAuthorityMenuDTO"</span> id=<span class="string">"OneMenuAuthority"</span>&gt;  </span><br><span class="line">    &lt;id property=<span class="string">"htAuthorityId"</span> column=<span class="string">"htAuthorityId"</span> javaType=<span class="string">"java.lang.Long"</span> /&gt;  </span><br><span class="line">    &lt;result property=<span class="string">"name"</span> column=<span class="string">"name"</span> javaType=<span class="string">"java.lang.String"</span> /&gt;  </span><br><span class="line">    &lt;result property=<span class="string">"currentUserId"</span> column=<span class="string">"currentUserId"</span> javaType=<span class="string">"java.lang.Long"</span> /&gt;  </span><br><span class="line">    &lt;collection property=<span class="string">"htAuthorityDTO"</span>  ofType=<span class="string">"com.sailod.shiro.dto.HtAuthorityDTO"</span>  </span><br><span class="line">     select=<span class="string">"selectAuthority"</span> column=<span class="string">"{htAuthorityId2 = htAuthorityId ,currentUserId2 = currentUserId}"</span>   &gt;  </span><br><span class="line">     &lt;/collection&gt;  </span><br><span class="line">&lt;/resultMap&gt;</span><br></pre></td></tr></tbody></table></figure>

<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>åç«¯</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>mybatis</tag>
        <tag>mappers</tag>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title>windowsä¸‹å¦‚ä½•å®‰è£…redis</title>
    <url>/How_to_install_redis_under_Windows/</url>
    <content><![CDATA[<h1 id="windowså’ŒLinuxä¸‹Redisçš„å®‰è£…å’Œä½¿ç”¨-æœ€æ–°"><a href="#windowså’ŒLinuxä¸‹Redisçš„å®‰è£…å’Œä½¿ç”¨-æœ€æ–°" class="headerlink" title="windowså’ŒLinuxä¸‹Redisçš„å®‰è£…å’Œä½¿ç”¨(æœ€æ–°)"></a>windowså’ŒLinuxä¸‹Redisçš„å®‰è£…å’Œä½¿ç”¨(æœ€æ–°)</h1><blockquote>
<p>REmote DIctionary Server(Redis) æ˜¯ä¸€ä¸ªç”±Salvatore Sanfilippoå†™çš„key-valueå­˜å‚¨ç³»ç»Ÿã€‚</p>
<p>Redisæ˜¯ä¸€ä¸ªå¼€æºçš„ä½¿ç”¨ANSI Cè¯­è¨€ç¼–å†™ã€éµå®ˆBSDåè®®ã€æ”¯æŒç½‘ç»œã€å¯åŸºäºå†…å­˜äº¦å¯æŒä¹…åŒ–çš„æ—¥å¿—å‹ã€Key-Valueæ•°æ®åº“ï¼Œå¹¶æä¾›å¤šç§è¯­è¨€çš„APIã€‚</p>
<p>å®ƒé€šå¸¸è¢«ç§°ä¸ºæ•°æ®ç»“æ„æœåŠ¡å™¨ï¼Œå› ä¸ºå€¼ï¼ˆvalueï¼‰å¯ä»¥æ˜¯ å­—ç¬¦ä¸²(String), å“ˆå¸Œ(Hash), åˆ—è¡¨(list), é›†åˆ(sets) å’Œ æœ‰åºé›†åˆ(sorted sets)ç­‰ç±»å‹ã€‚</p>
</blockquote>
<a id="more"></a>

<h2 id="Windowsä¸‹å®‰è£…"><a href="#Windowsä¸‹å®‰è£…" class="headerlink" title="Windowsä¸‹å®‰è£…"></a>Windowsä¸‹å®‰è£…</h2><p>1ã€åˆ°<a href="https://github.com/microsoftarchive/redis/releases" target="_blank" rel="noopener">https://github.com/microsoftarchive/redis/releases</a>,å‰å¾€ä¸‹è½½é¡µé¢</p>
<p><a href="https://imgchr.com/i/DvHmdS" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2020/12/07/DvHmdS.png" alt="DvHmdS.png"></a></p>
<p>2ã€åœ¨ä¸‹è½½ç½‘é¡µä¸­ï¼Œæ‰¾åˆ°æœ€åå‘è¡Œçš„ç‰ˆæœ¬ï¼ˆæ­¤å¤„æ˜¯3.2.100ï¼‰ã€‚æ‰¾åˆ°Redis-x64-3.2.100.msiå’ŒRedis-x64-3.2.100.zipï¼Œç‚¹å‡»ä¸‹è½½ã€‚è¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼Œç¬¬ä¸€ä¸ªæ˜¯msiå¾®è½¯æ ¼å¼çš„å®‰è£…åŒ…ï¼Œç¬¬äºŒä¸ªæ˜¯å‹ç¼©åŒ…ã€‚</p>
<p><a href="https://imgchr.com/i/DvHeZ8" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2020/12/07/DvHeZ8.png" alt="DvHeZ8.png"></a></p>
<p>3ã€åŒå‡»åˆšä¸‹è½½å¥½çš„msiæ ¼å¼çš„å®‰è£…åŒ…ï¼ˆRedis-x64-3.2.100.msiï¼‰å¼€å§‹å®‰è£…</p>
<p><a href="https://imgchr.com/i/DvHEsP" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2020/12/07/DvHEsP.png" alt="DvHEsP.png"></a></p>
<p>4ã€é€‰æ‹©â€œåŒæ„åè®®â€ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ç»§ç»­ã€‚</p>
<p>5ã€å‹¾é€‰â€œæ·»åŠ Redisç›®å½•åˆ°ç¯å¢ƒå˜é‡PATHä¸­â€ï¼Œè¿™æ ·æ–¹ä¾¿ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«Redisæ‰§è¡Œæ–‡ä»¶åœ¨å“ªé‡Œã€‚</p>
<p>6ã€ç«¯å£å·å¯ä¿æŒé»˜è®¤çš„6379ï¼Œå¹¶é€‰æ‹©é˜²ç«å¢™ä¾‹å¤–ï¼Œä»è€Œä¿è¯å¤–éƒ¨å¯ä»¥æ­£å¸¸è®¿é—®RedisæœåŠ¡</p>
<p>7ã€è®¾å®šæœ€å¤§å€¼ä¸º100Mã€‚ä½œä¸ºå®éªŒå’Œå­¦ä¹ ï¼Œ100Mè¶³å¤Ÿäº†ã€‚</p>
<p>8ã€å‡»å®‰è£…åï¼Œæ­£å¼çš„å®‰è£…è¿‡ç¨‹å¼€å§‹ã€‚ç¨ç­‰ä¸€ä¼šå³å¯å®Œæˆã€‚</p>
<p>9ã€å®‰è£…å®Œæ¯•åï¼Œéœ€è¦å…ˆåšä¸€äº›è®¾å®šå·¥ä½œï¼Œä»¥ä¾¿æœåŠ¡å¯åŠ¨åèƒ½æ­£å¸¸è¿è¡Œã€‚ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œè¿™é‡Œä½¿ç”¨Notepad++ï¼Œæ‰“å¼€RedisæœåŠ¡é…ç½®æ–‡ä»¶ã€‚<strong>æ³¨æ„ï¼šä¸è¦æ‰¾é”™äº†ï¼Œé€šå¸¸ä¸ºredis.windows-service.confï¼Œè€Œä¸æ˜¯redis.windows.confã€‚åè€…æ˜¯ä»¥éç³»ç»ŸæœåŠ¡æ–¹å¼å¯åŠ¨ç¨‹åºä½¿ç”¨çš„é…ç½®æ–‡ä»¶ã€‚</strong></p>
<p>10ã€æ‰¾åˆ°å«æœ‰requirepasså­—æ ·çš„åœ°æ–¹ï¼Œè¿½åŠ ä¸€è¡Œï¼Œè¾“å…¥requirepass å¯†ç ã€‚è¿™æ˜¯è®¿é—®Redisæ—¶æ‰€éœ€çš„å¯†ç ï¼Œä¸€èˆ¬æµ‹è¯•æƒ…å†µä¸‹å¯ä»¥ä¸ç”¨è®¾å®šå¯†ç ã€‚ä¸è¿‡ï¼Œå³ä½¿æ˜¯ä½œä¸ºæœ¬åœ°è®¿é—®ï¼Œä¹Ÿå»ºè®®è®¾å®šä¸€ä¸ªå¯†ç ã€‚</p>
<p><a href="https://imgchr.com/i/DvHVqf" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2020/12/07/DvHVqf.png" alt="DvHVqf.png"></a></p>
<p>11ã€ç‚¹å‡»â€œå¼€å§‹â€&gt;å³å‡»â€œè®¡ç®—æœºâ€&gt;é€‰æ‹©â€œç®¡ç†â€ã€‚åœ¨å·¦ä¾§æ ä¸­ä¾æ¬¡æ‰¾åˆ°å¹¶ç‚¹å‡»â€œè®¡ç®—æœºç®¡ç†ï¼ˆæœ¬åœ°ï¼‰â€&gt;æœåŠ¡å’Œåº”ç”¨ç¨‹åº&gt;æœåŠ¡ã€‚å†åœ¨å³ä¾§æ‰¾åˆ°Redisåç§°çš„æœåŠ¡ï¼ŒæŸ¥çœ‹å¯åŠ¨æƒ…å†µã€‚å¦‚æœªå¯åŠ¨ï¼Œåˆ™æ‰‹åŠ¨å¯åŠ¨ä¹‹ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼ŒæœåŠ¡åº”è¯¥æ­£å¸¸å¯åŠ¨å¹¶è¿è¡Œäº†,å¦‚æœå¯åŠ¨äº†ï¼Œå°±ç‚¹å‡»é‡æ–°å¯åŠ¨ã€‚</p>
<p>12ã€æœ€åæ¥æµ‹è¯•ä¸€ä¸‹Redisæ˜¯å¦æ­£å¸¸æä¾›æœåŠ¡ã€‚è¿›å…¥Redisçš„ç›®å½•ï¼Œcd D:\Redisã€‚è¾“å…¥redis-cliå¹¶å›è½¦ã€‚ï¼ˆredis-cliæ˜¯å®¢æˆ·ç«¯ç¨‹åºï¼‰å¦‚å›¾æ­£å¸¸æç¤ºè¿›å…¥ï¼Œå¹¶æ˜¾ç¤ºæ­£ç¡®ç«¯å£å·ï¼Œåˆ™è¡¨ç¤ºæœåŠ¡å·²ç»å¯åŠ¨ã€‚</p>
<p><a href="https://imgchr.com/i/DvHAMt" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2020/12/07/DvHAMt.png" alt="DvHAMt.png"></a></p>
<p>13ã€ä½¿ç”¨æœåŠ¡å‰éœ€è¦å…ˆé€šè¿‡å¯†ç éªŒè¯ã€‚è¾“å…¥â€œauth å¯†ç â€œå›è½¦ï¼ˆå¯†ç æ˜¯ä¹‹å‰è®¾å®šçš„å¯†ç ï¼‰ã€‚è¿”å›æç¤ºOKè¡¨ç¤ºéªŒè¯é€šè¿‡ã€‚</p>
<p>14ã€å®é™…æµ‹è¯•ä¸€ä¸‹è¯»å†™ã€‚è¾“å…¥set mykey1 â€œI love you all!â€å¹¶å›è½¦ï¼Œç”¨æ¥ä¿å­˜ä¸€ä¸ªé”®å€¼ã€‚å†è¾“å…¥get mykey1ï¼Œè·å–åˆšæ‰ä¿å­˜çš„é”®å€¼ã€‚</p>
<p><a href="https://imgchr.com/i/DvHnIg" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2020/12/07/DvHnIg.png" alt="DvHnIg.png"></a></p>
<p>15ã€æ³¨æ„äº‹é¡¹</p>
<ul>
<li>1.Windowsä½¿ç”¨çš„è¿™ä¸ªRedisæ˜¯64ä½ç‰ˆæœ¬çš„ï¼Œ32ä½æ“ä½œç³»ç»Ÿçš„åŒå­¦å°±ä¸è¦æŠ˜è…¾äº†ã€‚</li>
<li>2.<strong>ä½œä¸ºæœåŠ¡è¿è¡Œçš„Redisé…ç½®æ–‡ä»¶ï¼Œé€šå¸¸ä¸ºredis.windows-service.confï¼Œè€Œä¸æ˜¯redis.windows.confã€‚å°å¿ƒä¸è¦é€‰é”™äº†ã€‚</strong></li>
</ul>
<p>å‚è€ƒï¼š<a href="https://www.cnblogs.com/liuqingzheng/p/9831331.html" target="_blank" rel="noopener">liuqingzheng</a></p>
<h2 id="Linuxæºç å®‰è£…"><a href="#Linuxæºç å®‰è£…" class="headerlink" title="Linuxæºç å®‰è£…"></a>Linuxæºç å®‰è£…</h2><p>ä¸‹è½½åœ°å€ï¼š<a href="http://redis.io/download" target="_blank" rel="noopener">http://redis.io/download</a>,ä¸‹è½½ç¨³å®šæœ€æ–°ç‰ˆæœ¬</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> wget http://download.redis.io/releases/redis-6.0.8.tar.gz</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> tar xzf redis-6.0.8.tar.gz</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> redis-6.0.8</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> make</span></span><br></pre></td></tr></tbody></table></figure>

<p>æ‰§è¡Œå®Œ <strong>make</strong> å‘½ä»¤åï¼Œredis-6.0.8 çš„ <strong>src</strong> ç›®å½•ä¸‹ä¼šå‡ºç°ç¼–è¯‘åçš„ redis æœåŠ¡ç¨‹åº redis-serverï¼Œè¿˜æœ‰ç”¨äºæµ‹è¯•çš„å®¢æˆ·ç«¯ç¨‹åº redis-cliï¼š</p>
<p>ä¸‹é¢å¯åŠ¨ redis æœåŠ¡ï¼š</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> src</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ./redis-server</span></span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨æ„è¿™ç§æ–¹å¼å¯åŠ¨ redis ä½¿ç”¨çš„æ˜¯é»˜è®¤é…ç½®ã€‚ä¹Ÿå¯ä»¥é€šè¿‡å¯åŠ¨å‚æ•°å‘Šè¯‰ redis ä½¿ç”¨æŒ‡å®šé…ç½®æ–‡ä»¶ä½¿ç”¨ä¸‹é¢å‘½ä»¤å¯åŠ¨ã€‚</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> src</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ./redis-server ../redis.conf</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>redis.conf</strong> æ˜¯ä¸€ä¸ªé»˜è®¤çš„é…ç½®æ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨è‡ªå·±çš„é…ç½®æ–‡ä»¶ã€‚</p>
<p>å¯åŠ¨ redis æœåŠ¡è¿›ç¨‹åï¼Œå°±å¯ä»¥ä½¿ç”¨æµ‹è¯•å®¢æˆ·ç«¯ç¨‹åº redis-cli å’Œ redis æœåŠ¡äº¤äº’äº†ã€‚ æ¯”å¦‚ï¼š</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> src</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ./redis-cli</span></span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> <span class="built_in">set</span> foo bar</span></span><br><span class="line">OK</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> get foo</span></span><br><span class="line">"bar"</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h2 id="Ubuntu-apt-å‘½ä»¤å®‰è£…"><a href="#Ubuntu-apt-å‘½ä»¤å®‰è£…" class="headerlink" title="Ubuntu apt å‘½ä»¤å®‰è£…"></a>Ubuntu apt å‘½ä»¤å®‰è£…</h2><p>åœ¨ Ubuntu ç³»ç»Ÿå®‰è£… Redis å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤:</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> sudo apt update</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> sudo apt install redis-server</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="å¯åŠ¨-Redis"><a href="#å¯åŠ¨-Redis" class="headerlink" title="å¯åŠ¨ Redis"></a>å¯åŠ¨ Redis</h3><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> redis-server</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="æŸ¥çœ‹-redis-æ˜¯å¦å¯åŠ¨ï¼Ÿ"><a href="#æŸ¥çœ‹-redis-æ˜¯å¦å¯åŠ¨ï¼Ÿ" class="headerlink" title="æŸ¥çœ‹ redis æ˜¯å¦å¯åŠ¨ï¼Ÿ"></a>æŸ¥çœ‹ redis æ˜¯å¦å¯åŠ¨ï¼Ÿ</h3><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> redis-cli</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šå‘½ä»¤å°†æ‰“å¼€ä»¥ä¸‹ç»ˆç«¯ï¼š</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">redis 127.0.0.1:6379&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>127.0.0.1 æ˜¯æœ¬æœº IP ï¼Œ6379 æ˜¯ redis æœåŠ¡ç«¯å£ã€‚ç°åœ¨æˆ‘ä»¬è¾“å…¥ PING å‘½ä»¤ã€‚</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">redis 127.0.0.1:6379&gt; ping</span><br><span class="line">PONG</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šè¯´æ˜æˆ‘ä»¬å·²ç»æˆåŠŸå®‰è£…äº†redisã€‚</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>åç«¯</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>SQLyogè¿æ¥æ•°æ®åº“æŠ¥é”™plugin caching_sha2_password could not be loaded</title>
    <url>/SQL_log_connection_database_report/</url>
    <content><![CDATA[<h1 id="SQLyogè¿æ¥æ•°æ®åº“æŠ¥é”™plugin-caching-sha2-password-could-not-be-loaded"><a href="#SQLyogè¿æ¥æ•°æ®åº“æŠ¥é”™plugin-caching-sha2-password-could-not-be-loaded" class="headerlink" title="SQLyogè¿æ¥æ•°æ®åº“æŠ¥é”™plugin caching_sha2_password could not be loaded"></a>SQLyogè¿æ¥æ•°æ®åº“æŠ¥é”™plugin caching_sha2_password could not be loaded</h1><a id="more"></a>

<p><a href="https://imgchr.com/i/Dth1yR" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2020/11/24/Dth1yR.png" alt="Dth1yR.png"></a></p>
<h2 id="å‡ºé”™åŸå› "><a href="#å‡ºé”™åŸå› " class="headerlink" title="å‡ºé”™åŸå› "></a>å‡ºé”™åŸå› </h2><blockquote>
<p>MySQLæ–°ç‰ˆé»˜è®¤ä½¿ç”¨caching_sha2_passwordä½œä¸ºèº«ä»½éªŒè¯æ’ä»¶ï¼Œè€Œæ—§ç‰ˆæ˜¯ä½¿ç”¨mysql_native_passwordã€‚<br>å½“è¿æ¥MySQLæ—¶æŠ¥é”™â€œplugin caching_sha2_password could not be loadedâ€æ—¶ï¼Œå¯æ¢å›æ—§ç‰ˆæ’ä»¶ã€‚</p>
</blockquote>
<h2 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h2><ul>
<li>cmd:è¿›å…¥æ•°æ®åº“ï¼Œ<code>mysql -uroot -p</code></li>
<li>ä¾æ¬¡æ‰§è¡Œ<ul>
<li><code>mysql&gt; alter user 'root'@'localhost' identified by 'yours password' password expire never; # é‡ç½®rootå¯†ç ï¼Œä¿®æ”¹å¯†ç åŠ å¯†è§„åˆ™</code></li>
<li><code>mysql&gt; alter user 'root'@'localhost' identified with mysql_native_password by 'yours password' # æ›´æ–°ç”¨æˆ·å¯†ç ;</code></li>
<li><code>mysql&gt; flush privileges;  # åˆ·æ–°æƒé™</code></li>
</ul>
</li>
<li>ç„¶åå†æ¬¡è¿æ¥SQLyogå³å¯æˆåŠŸè®¿é—®</li>
</ul>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>åç«¯</category>
        <category>Debug</category>
      </categories>
      <tags>
        <tag>MySql</tag>
        <tag>Debug</tag>
      </tags>
  </entry>
  <entry>
    <title>gitæ•™ç¨‹</title>
    <url>/Git_tutorial/</url>
    <content><![CDATA[<blockquote>
<p>Git æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•æˆ–å°æˆ–å¤§çš„é¡¹ç›®ã€‚</p>
<p>Git æ˜¯ Linus Torvalds ä¸ºäº†å¸®åŠ©ç®¡ç† Linux å†…æ ¸å¼€å‘è€Œå¼€å‘çš„ä¸€ä¸ªå¼€æ”¾æºç çš„ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ã€‚</p>
</blockquote>
<a id="more"></a>

<h1 id="Gitæ•™ç¨‹"><a href="#Gitæ•™ç¨‹" class="headerlink" title="Gitæ•™ç¨‹"></a>Gitæ•™ç¨‹</h1><p>æ³¨æ˜ï¼šå­¦ä¹ è‡ª<a href="https://www.liaoxuefeng.com/" target="_blank" rel="noopener">å»–é›ªå³°è€å¸ˆ</a></p>
<h2 id="Gitç®€ä»‹"><a href="#Gitç®€ä»‹" class="headerlink" title="Gitç®€ä»‹"></a>Gitç®€ä»‹</h2><ol>
<li><h3 id="å®‰è£…Git"><a href="#å®‰è£…Git" class="headerlink" title="å®‰è£…Git"></a>å®‰è£…Git</h3><ul>
<li><h5 id="åœ¨Linuxä¸Šå®‰è£…Git"><a href="#åœ¨Linuxä¸Šå®‰è£…Git" class="headerlink" title="åœ¨Linuxä¸Šå®‰è£…Git"></a>åœ¨Linuxä¸Šå®‰è£…Git</h5><p>é¦–å…ˆï¼Œä½ å¯ä»¥è¯•ç€è¾“å…¥<code>git</code>ï¼Œçœ‹çœ‹ç³»ç»Ÿæœ‰æ²¡æœ‰å®‰è£…Gitï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git</span><br><span class="line">The program 'git' is currently not installed. You can install it by typing:</span><br><span class="line">sudo apt-get install git</span><br></pre></td></tr></tbody></table></figure>

<p>åƒä¸Šé¢çš„å‘½ä»¤ï¼Œæœ‰å¾ˆå¤šLinuxä¼šå‹å¥½åœ°å‘Šè¯‰ä½ Gitæ²¡æœ‰å®‰è£…ï¼Œè¿˜ä¼šå‘Šè¯‰ä½ å¦‚ä½•å®‰è£…Gitã€‚</p>
<p>å¦‚æœä½ ç¢°å·§ç”¨Debianæˆ–Ubuntu Linuxï¼Œé€šè¿‡ä¸€æ¡<code>sudo apt-get install git</code>å°±å¯ä»¥ç›´æ¥å®ŒæˆGitçš„å®‰è£…ï¼Œéå¸¸ç®€å•ã€‚</p>
<p>è€ä¸€ç‚¹çš„Debianæˆ–Ubuntu Linuxï¼Œè¦æŠŠå‘½ä»¤æ”¹ä¸º<code>sudo apt-get install git-core</code>ï¼Œå› ä¸ºä»¥å‰æœ‰ä¸ªè½¯ä»¶ä¹Ÿå«GITï¼ˆGNU Interactive Toolsï¼‰ï¼Œç»“æœGitå°±åªèƒ½å«<code>git-core</code>äº†ã€‚ç”±äºGitåæ°”å®åœ¨å¤ªå¤§ï¼Œåæ¥å°±æŠŠGNU Interactive Toolsæ”¹æˆ<code>gnuit</code>ï¼Œ<code>git-core</code>æ­£å¼æ”¹ä¸º<code>git</code>ã€‚</p>
<p>å¦‚æœæ˜¯å…¶ä»–Linuxç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡æºç å®‰è£…ã€‚å…ˆä»Gitå®˜ç½‘ä¸‹è½½æºç ï¼Œç„¶åè§£å‹ï¼Œä¾æ¬¡è¾“å…¥ï¼š<code>./config</code>ï¼Œ<code>make</code>ï¼Œ<code>sudo make install</code>è¿™å‡ ä¸ªå‘½ä»¤å®‰è£…å°±å¥½äº†ã€‚</p>
</li>
<li><h5 id="åœ¨Mac-OS-Xä¸Šå®‰è£…Git"><a href="#åœ¨Mac-OS-Xä¸Šå®‰è£…Git" class="headerlink" title="åœ¨Mac OS Xä¸Šå®‰è£…Git"></a>åœ¨Mac OS Xä¸Šå®‰è£…Git</h5><p>å¦‚æœä½ æ­£åœ¨ä½¿ç”¨Macåšå¼€å‘ï¼Œæœ‰ä¸¤ç§å®‰è£…Gitçš„æ–¹æ³•ã€‚</p>
<p>ä¸€æ˜¯å®‰è£…homebrewï¼Œç„¶åé€šè¿‡homebrewå®‰è£…Gitï¼Œå…·ä½“æ–¹æ³•è¯·å‚è€ƒhomebrewçš„æ–‡æ¡£ï¼š<a href="http://brew.sh/ã€‚" target="_blank" rel="noopener">http://brew.sh/ã€‚</a></p>
<p>ç¬¬äºŒç§æ–¹æ³•æ›´ç®€å•ï¼Œä¹Ÿæ˜¯æ¨èçš„æ–¹æ³•ï¼Œå°±æ˜¯ç›´æ¥ä»AppStoreå®‰è£…Xcodeï¼ŒXcodeé›†æˆäº†Gitï¼Œä¸è¿‡é»˜è®¤æ²¡æœ‰å®‰è£…ï¼Œä½ éœ€è¦è¿è¡ŒXcodeï¼Œé€‰æ‹©èœå•â€œXcodeâ€-&gt;â€œPreferencesâ€ï¼Œåœ¨å¼¹å‡ºçª—å£ä¸­æ‰¾åˆ°â€œDownloadsâ€ï¼Œé€‰æ‹©â€œCommand Line Toolsâ€ï¼Œç‚¹â€œInstallâ€å°±å¯ä»¥å®Œæˆå®‰è£…äº†ã€‚</p>
</li>
<li><h5 id="åœ¨Windowsä¸Šå®‰è£…Git"><a href="#åœ¨Windowsä¸Šå®‰è£…Git" class="headerlink" title="åœ¨Windowsä¸Šå®‰è£…Git"></a>åœ¨Windowsä¸Šå®‰è£…Git</h5><p>åœ¨Windowsä¸Šä½¿ç”¨Gitï¼Œå¯ä»¥ä»Gitå®˜ç½‘ç›´æ¥<a href="https://git-scm.com/downloads" target="_blank" rel="noopener">ä¸‹è½½å®‰è£…ç¨‹åº</a>ï¼Œç„¶åæŒ‰é»˜è®¤é€‰é¡¹å®‰è£…å³å¯ã€‚</p>
<p>å®‰è£…å®Œæˆåï¼Œåœ¨å¼€å§‹èœå•é‡Œæ‰¾åˆ°â€œGitâ€-&gt;â€œGit Bashâ€ï¼Œè¹¦å‡ºä¸€ä¸ªç±»ä¼¼å‘½ä»¤è¡Œçª—å£çš„ä¸œè¥¿ï¼Œå°±è¯´æ˜Gitå®‰è£…æˆåŠŸï¼</p>
<p>å®‰è£…å®Œæˆåï¼Œè¿˜éœ€è¦æœ€åä¸€æ­¥è®¾ç½®ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git config --global user.name "Your Name"</span><br><span class="line">$ git config --global user.email "email@example.com"</span><br></pre></td></tr></tbody></table></figure>

<p>å› ä¸ºGitæ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ‰€ä»¥ï¼Œæ¯ä¸ªæœºå™¨éƒ½å¿…é¡»è‡ªæŠ¥å®¶é—¨ï¼šä½ çš„åå­—å’ŒEmailåœ°å€ã€‚ä½ ä¹Ÿè®¸ä¼šæ‹…å¿ƒï¼Œå¦‚æœæœ‰äººæ•…æ„å†’å……åˆ«äººæ€ä¹ˆåŠï¼Ÿè¿™ä¸ªä¸å¿…æ‹…å¿ƒï¼Œé¦–å…ˆæˆ‘ä»¬ç›¸ä¿¡å¤§å®¶éƒ½æ˜¯å–„è‰¯æ— çŸ¥çš„ç¾¤ä¼—ï¼Œå…¶æ¬¡ï¼ŒçœŸçš„æœ‰å†’å……çš„ä¹Ÿæ˜¯æœ‰åŠæ³•å¯æŸ¥çš„ã€‚</p>
<p>æ³¨æ„<code>git config</code>å‘½ä»¤çš„<code>--global</code>å‚æ•°ï¼Œç”¨äº†è¿™ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºä½ è¿™å°æœºå™¨ä¸Šæ‰€æœ‰çš„Gitä»“åº“éƒ½ä¼šä½¿ç”¨è¿™ä¸ªé…ç½®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å¯¹æŸä¸ªä»“åº“æŒ‡å®šä¸åŒçš„ç”¨æˆ·åå’ŒEmailåœ°å€ã€‚</p>
</li>
</ul>
</li>
<li><h3 id="åˆ›å»ºç‰ˆæœ¬åº“"><a href="#åˆ›å»ºç‰ˆæœ¬åº“" class="headerlink" title="åˆ›å»ºç‰ˆæœ¬åº“"></a>åˆ›å»ºç‰ˆæœ¬åº“</h3><p>åˆ›å»ºä¸€ä¸ªç‰ˆæœ¬åº“éå¸¸ç®€å•ï¼Œé¦–å…ˆï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„åœ°æ–¹ï¼Œåˆ›å»ºä¸€ä¸ªç©ºç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ mkdir learngit</span><br><span class="line">$ cd learngit</span><br><span class="line">$ pwd</span><br><span class="line">/Users/michael/learngit</span><br></pre></td></tr></tbody></table></figure>

<p><code>pwd</code>å‘½ä»¤ç”¨äºæ˜¾ç¤ºå½“å‰ç›®å½•ã€‚åœ¨æˆ‘çš„Macä¸Šï¼Œè¿™ä¸ªä»“åº“ä½äº<code>/Users/michael/learngit</code>ã€‚</p>
<p>ç¬¬äºŒæ­¥ï¼Œé€šè¿‡<code>git init</code>å‘½ä»¤æŠŠè¿™ä¸ªç›®å½•å˜æˆGitå¯ä»¥ç®¡ç†çš„ä»“åº“ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git init</span><br><span class="line">Initialized empty Git repository in /Users/michael/learngit/.git/</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬é—´Gitå°±æŠŠä»“åº“å»ºå¥½äº†ï¼Œè€Œä¸”å‘Šè¯‰ä½ æ˜¯ä¸€ä¸ªç©ºçš„ä»“åº“ï¼ˆempty Git repositoryï¼‰ï¼Œç»†å¿ƒçš„è¯»è€…å¯ä»¥å‘ç°å½“å‰ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ª<code>.git</code>çš„ç›®å½•ï¼Œè¿™ä¸ªç›®å½•æ˜¯Gitæ¥è·Ÿè¸ªç®¡ç†ç‰ˆæœ¬åº“çš„ï¼Œæ²¡äº‹åƒä¸‡ä¸è¦æ‰‹åŠ¨ä¿®æ”¹è¿™ä¸ªç›®å½•é‡Œé¢çš„æ–‡ä»¶ï¼Œä¸ç„¶æ”¹ä¹±äº†ï¼Œå°±æŠŠGitä»“åº“ç»™ç ´åäº†ã€‚</p>
<p>å¦‚æœä½ æ²¡æœ‰çœ‹åˆ°<code>.git</code>ç›®å½•ï¼Œé‚£æ˜¯å› ä¸ºè¿™ä¸ªç›®å½•é»˜è®¤æ˜¯éšè—çš„ï¼Œç”¨<code>ls -ah</code>å‘½ä»¤å°±å¯ä»¥çœ‹è§ã€‚</p>
<p>ä¹Ÿä¸ä¸€å®šå¿…é¡»åœ¨ç©ºç›®å½•ä¸‹åˆ›å»ºGitä»“åº“ï¼Œé€‰æ‹©ä¸€ä¸ªå·²ç»æœ‰ä¸œè¥¿çš„ç›®å½•ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ä¸è¿‡ï¼Œä¸å»ºè®®ä½ ä½¿ç”¨è‡ªå·±æ­£åœ¨å¼€å‘çš„å…¬å¸é¡¹ç›®æ¥å­¦ä¹ Gitï¼Œå¦åˆ™é€ æˆçš„ä¸€åˆ‡åæœæ¦‚ä¸è´Ÿè´£ã€‚</p>
<h5 id="æŠŠæ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“"><a href="#æŠŠæ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“" class="headerlink" title="æŠŠæ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“"></a>æŠŠæ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“</h5><p>é¦–å…ˆè¿™é‡Œå†æ˜ç¡®ä¸€ä¸‹ï¼Œæ‰€æœ‰çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå…¶å®åªèƒ½è·Ÿè¸ªæ–‡æœ¬æ–‡ä»¶çš„æ”¹åŠ¨ï¼Œæ¯”å¦‚TXTæ–‡ä»¶ï¼Œç½‘é¡µï¼Œæ‰€æœ‰çš„ç¨‹åºä»£ç ç­‰ç­‰ï¼ŒGitä¹Ÿä¸ä¾‹å¤–ã€‚ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¯ä»¥å‘Šè¯‰ä½ æ¯æ¬¡çš„æ”¹åŠ¨ï¼Œæ¯”å¦‚åœ¨ç¬¬5è¡ŒåŠ äº†ä¸€ä¸ªå•è¯â€œLinuxâ€ï¼Œåœ¨ç¬¬8è¡Œåˆ äº†ä¸€ä¸ªå•è¯â€œWindowsâ€ã€‚è€Œå›¾ç‰‡ã€è§†é¢‘è¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè™½ç„¶ä¹Ÿèƒ½ç”±ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿç®¡ç†ï¼Œä½†æ²¡æ³•è·Ÿè¸ªæ–‡ä»¶çš„å˜åŒ–ï¼Œåªèƒ½æŠŠäºŒè¿›åˆ¶æ–‡ä»¶æ¯æ¬¡æ”¹åŠ¨ä¸²èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯åªçŸ¥é“å›¾ç‰‡ä»100KBæ”¹æˆäº†120KBï¼Œä½†åˆ°åº•æ”¹äº†å•¥ï¼Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸çŸ¥é“ï¼Œä¹Ÿæ²¡æ³•çŸ¥é“ã€‚</p>
<p>ä¸å¹¸çš„æ˜¯ï¼ŒMicrosoftçš„Wordæ ¼å¼æ˜¯äºŒè¿›åˆ¶æ ¼å¼ï¼Œå› æ­¤ï¼Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ˜¯æ²¡æ³•è·Ÿè¸ªWordæ–‡ä»¶çš„æ”¹åŠ¨çš„ï¼Œå‰é¢æˆ‘ä»¬ä¸¾çš„ä¾‹å­åªæ˜¯ä¸ºäº†æ¼”ç¤ºï¼Œå¦‚æœè¦çœŸæ­£ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå°±è¦ä»¥çº¯æ–‡æœ¬æ–¹å¼ç¼–å†™æ–‡ä»¶ã€‚</p>
<p>å› ä¸ºæ–‡æœ¬æ˜¯æœ‰ç¼–ç çš„ï¼Œæ¯”å¦‚ä¸­æ–‡æœ‰å¸¸ç”¨çš„GBKç¼–ç ï¼Œæ—¥æ–‡æœ‰Shift_JISç¼–ç ï¼Œå¦‚æœæ²¡æœ‰å†å²é—ç•™é—®é¢˜ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨æ ‡å‡†çš„UTF-8ç¼–ç ï¼Œæ‰€æœ‰è¯­è¨€ä½¿ç”¨åŒä¸€ç§ç¼–ç ï¼Œæ—¢æ²¡æœ‰å†²çªï¼Œåˆè¢«æ‰€æœ‰å¹³å°æ‰€æ”¯æŒã€‚</p>
<p>ä½¿ç”¨Windowsçš„ç«¥é‹è¦ç‰¹åˆ«æ³¨æ„ï¼š</p>
<p>åƒä¸‡ä¸è¦ä½¿ç”¨Windowsè‡ªå¸¦çš„<strong>è®°äº‹æœ¬</strong>ç¼–è¾‘ä»»ä½•æ–‡æœ¬æ–‡ä»¶ã€‚åŸå› æ˜¯Microsoftå¼€å‘è®°äº‹æœ¬çš„å›¢é˜Ÿä½¿ç”¨äº†ä¸€ä¸ªéå¸¸å¼±æ™ºçš„è¡Œä¸ºæ¥ä¿å­˜UTF-8ç¼–ç çš„æ–‡ä»¶ï¼Œä»–ä»¬è‡ªä½œèªæ˜åœ°åœ¨æ¯ä¸ªæ–‡ä»¶å¼€å¤´æ·»åŠ äº†0xefbbbfï¼ˆåå…­è¿›åˆ¶ï¼‰çš„å­—ç¬¦ï¼Œä½ ä¼šé‡åˆ°å¾ˆå¤šä¸å¯æ€è®®çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼Œç½‘é¡µç¬¬ä¸€è¡Œå¯èƒ½ä¼šæ˜¾ç¤ºä¸€ä¸ªâ€œ?â€ï¼Œæ˜æ˜æ­£ç¡®çš„ç¨‹åºä¸€ç¼–è¯‘å°±æŠ¥è¯­æ³•é”™è¯¯ï¼Œç­‰ç­‰ï¼Œéƒ½æ˜¯ç”±è®°äº‹æœ¬çš„å¼±æ™ºè¡Œä¸ºå¸¦æ¥çš„ã€‚å»ºè®®ä½ ä¸‹è½½<a href="http://notepad-plus-plus.org/" target="_blank" rel="noopener">Notepad++</a>ä»£æ›¿è®°äº‹æœ¬ï¼Œä¸ä½†åŠŸèƒ½å¼ºå¤§ï¼Œè€Œä¸”å…è´¹ï¼è®°å¾—æŠŠNotepad++çš„é»˜è®¤ç¼–ç è®¾ç½®ä¸ºUTF-8 without BOMå³å¯</p>
<p>è¨€å½’æ­£ä¼ ï¼Œç°åœ¨æˆ‘ä»¬ç¼–å†™ä¸€ä¸ª<code>readme.txt</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">Git is a version control system.</span><br><span class="line">Git is free software.</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸€å®šè¦æ”¾åˆ°<code>learngit</code>ç›®å½•ä¸‹ï¼ˆå­ç›®å½•ä¹Ÿè¡Œï¼‰ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªGitä»“åº“ï¼Œæ”¾åˆ°å…¶ä»–åœ°æ–¹Gitå†å‰å®³ä¹Ÿæ‰¾ä¸åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚</p>
<p>å’ŒæŠŠå¤§è±¡æ”¾åˆ°å†°ç®±éœ€è¦3æ­¥ç›¸æ¯”ï¼ŒæŠŠä¸€ä¸ªæ–‡ä»¶æ”¾åˆ°Gitä»“åº“åªéœ€è¦ä¸¤æ­¥ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼Œç”¨å‘½ä»¤<code>git add</code>å‘Šè¯‰Gitï¼ŒæŠŠæ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git add readme.txt</span><br></pre></td></tr></tbody></table></figure>

<p>æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œæ²¡æœ‰ä»»ä½•æ˜¾ç¤ºï¼Œè¿™å°±å¯¹äº†ï¼ŒUnixçš„å“²å­¦æ˜¯â€œæ²¡æœ‰æ¶ˆæ¯å°±æ˜¯å¥½æ¶ˆæ¯â€ï¼Œè¯´æ˜æ·»åŠ æˆåŠŸã€‚</p>
<p>ç¬¬äºŒæ­¥ï¼Œç”¨å‘½ä»¤<code>git commit</code>å‘Šè¯‰Gitï¼ŒæŠŠæ–‡ä»¶æäº¤åˆ°ä»“åº“ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git commit -m "wrote a readme file"</span><br><span class="line">[master (root-commit) eaadf4e] wrote a readme file</span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 readme.txt</span><br></pre></td></tr></tbody></table></figure>

<p>ç®€å•è§£é‡Šä¸€ä¸‹<code>git commit</code>å‘½ä»¤ï¼Œ<code>-m</code>åé¢è¾“å…¥çš„æ˜¯æœ¬æ¬¡æäº¤çš„è¯´æ˜ï¼Œå¯ä»¥è¾“å…¥ä»»æ„å†…å®¹ï¼Œå½“ç„¶æœ€å¥½æ˜¯æœ‰æ„ä¹‰çš„ï¼Œè¿™æ ·ä½ å°±èƒ½ä»å†å²è®°å½•é‡Œæ–¹ä¾¿åœ°æ‰¾åˆ°æ”¹åŠ¨è®°å½•ã€‚</p>
<p>å«Œéº»çƒ¦ä¸æƒ³è¾“å…¥<code>-m "xxx"</code>è¡Œä¸è¡Œï¼Ÿç¡®å®æœ‰åŠæ³•å¯ä»¥è¿™ä¹ˆå¹²ï¼Œä½†æ˜¯å¼ºçƒˆä¸å»ºè®®ä½ è¿™ä¹ˆå¹²ï¼Œå› ä¸ºè¾“å…¥è¯´æ˜å¯¹è‡ªå·±å¯¹åˆ«äººé˜…è¯»éƒ½å¾ˆé‡è¦ã€‚å®åœ¨ä¸æƒ³è¾“å…¥è¯´æ˜çš„ç«¥é‹è¯·è‡ªè¡ŒGoogleï¼Œæˆ‘ä¸å‘Šè¯‰ä½ è¿™ä¸ªå‚æ•°ã€‚</p>
<p><code>git commit</code>å‘½ä»¤æ‰§è¡ŒæˆåŠŸåä¼šå‘Šè¯‰ä½ ï¼Œ<code>1 file changed</code>ï¼š1ä¸ªæ–‡ä»¶è¢«æ”¹åŠ¨ï¼ˆæˆ‘ä»¬æ–°æ·»åŠ çš„readme.txtæ–‡ä»¶ï¼‰ï¼›<code>2 insertions</code>ï¼šæ’å…¥äº†ä¸¤è¡Œå†…å®¹ï¼ˆreadme.txtæœ‰ä¸¤è¡Œå†…å®¹ï¼‰ã€‚</p>
<p>ä¸ºä»€ä¹ˆGitæ·»åŠ æ–‡ä»¶éœ€è¦<code>add</code>ï¼Œ<code>commit</code>ä¸€å…±ä¸¤æ­¥å‘¢ï¼Ÿå› ä¸º<code>commit</code>å¯ä»¥ä¸€æ¬¡æäº¤å¾ˆå¤šæ–‡ä»¶ï¼Œæ‰€ä»¥ä½ å¯ä»¥å¤šæ¬¡<code>add</code>ä¸åŒçš„æ–‡ä»¶ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git add file1.txt</span><br><span class="line">$ git add file2.txt file3.txt</span><br><span class="line">$ git commit -m "add 3 files."</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>ç°åœ¨æ€»ç»“ä¸€ä¸‹ä»Šå¤©å­¦çš„ä¸¤ç‚¹å†…å®¹ï¼š</p>
<p>åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“ï¼Œä½¿ç”¨<code>git init</code>å‘½ä»¤ã€‚</p>
<p>æ·»åŠ æ–‡ä»¶åˆ°Gitä»“åº“ï¼Œåˆ†ä¸¤æ­¥ï¼š</p>
<ol>
<li>ä½¿ç”¨å‘½ä»¤<code>git add &lt;file&gt;</code>ï¼Œæ³¨æ„ï¼Œå¯åå¤å¤šæ¬¡ä½¿ç”¨ï¼Œæ·»åŠ å¤šä¸ªæ–‡ä»¶ï¼›</li>
<li>ä½¿ç”¨å‘½ä»¤<code>git commit -m &lt;message&gt;</code>ï¼Œå®Œæˆã€‚</li>
</ol>
</li>
</ol>
<h2 id="æ—¶å…‰æœºç©¿æ¢­"><a href="#æ—¶å…‰æœºç©¿æ¢­" class="headerlink" title="æ—¶å…‰æœºç©¿æ¢­"></a>æ—¶å…‰æœºç©¿æ¢­</h2><ol>
<li><p>ç‰ˆæœ¬å›é€€</p>
<ul>
<li><code>HEAD</code>æŒ‡å‘çš„ç‰ˆæœ¬å°±æ˜¯å½“å‰ç‰ˆæœ¬ï¼Œä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯<code>HEAD^</code>ï¼Œä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯<code>HEAD^^</code>ï¼Œå½“ç„¶å¾€ä¸Š100ä¸ªç‰ˆæœ¬å†™100ä¸ª<code>^</code>æ¯”è¾ƒå®¹æ˜“æ•°ä¸è¿‡æ¥ï¼Œæ‰€ä»¥å†™æˆ<code>HEAD~100</code>ã€‚å› æ­¤ï¼ŒGitå…è®¸æˆ‘ä»¬åœ¨ç‰ˆæœ¬çš„å†å²ä¹‹é—´ç©¿æ¢­ï¼Œè¿˜å¯ä»¥å†™æˆä½¿ç”¨å‘½ä»¤<code>git reset --hard commit_id</code>ã€‚</li>
<li>ç©¿æ¢­å‰ï¼Œç”¨<code>git log</code>å¯ä»¥æŸ¥çœ‹æäº¤å†å²ï¼Œä»¥ä¾¿ç¡®å®šè¦å›é€€åˆ°å“ªä¸ªç‰ˆæœ¬ã€‚</li>
<li>è¦é‡è¿”æœªæ¥ï¼Œç”¨<code>git reflog</code>æŸ¥çœ‹å‘½ä»¤å†å²ï¼Œä»¥ä¾¿ç¡®å®šè¦å›åˆ°æœªæ¥çš„å“ªä¸ªç‰ˆæœ¬ã€‚</li>
</ul>
</li>
<li><p>å·¥ä½œåŒºå’Œæš‚å­˜åŒº</p>
<ul>
<li><p>å·¥ä½œåŒºï¼šç”µè„‘é‡Œèƒ½çœ‹åˆ°çš„ç›®å½•ï¼Œå‰é¢è®²äº†æˆ‘ä»¬æŠŠæ–‡ä»¶å¾€Gitç‰ˆæœ¬åº“é‡Œæ·»åŠ çš„æ—¶å€™ï¼Œæ˜¯åˆ†ä¸¤æ­¥æ‰§è¡Œçš„ï¼š</p>
<p>ç¬¬ä¸€æ­¥æ˜¯ç”¨<code>git add</code>æŠŠæ–‡ä»¶æ·»åŠ è¿›å»ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠæ–‡ä»¶ä¿®æ”¹æ·»åŠ åˆ°æš‚å­˜åŒºï¼›</p>
<p>ç¬¬äºŒæ­¥æ˜¯ç”¨<code>git commit</code>æäº¤æ›´æ”¹ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠæš‚å­˜åŒºçš„æ‰€æœ‰å†…å®¹æäº¤åˆ°å½“å‰åˆ†æ”¯ã€‚</p>
<p>å› ä¸ºæˆ‘ä»¬åˆ›å»ºGitç‰ˆæœ¬åº“æ—¶ï¼ŒGitè‡ªåŠ¨ä¸ºæˆ‘ä»¬åˆ›å»ºäº†å”¯ä¸€ä¸€ä¸ª<code>master</code>åˆ†æ”¯ï¼Œæ‰€ä»¥ï¼Œç°åœ¨ï¼Œ<code>git commit</code>å°±æ˜¯å¾€<code>master</code>åˆ†æ”¯ä¸Šæäº¤æ›´æ”¹ã€‚</p>
<p>ä½ å¯ä»¥ç®€å•ç†è§£ä¸ºï¼Œéœ€è¦æäº¤çš„æ–‡ä»¶ä¿®æ”¹é€šé€šæ”¾åˆ°æš‚å­˜åŒºï¼Œç„¶åï¼Œä¸€æ¬¡æ€§æäº¤æš‚å­˜åŒºçš„æ‰€æœ‰ä¿®æ”¹ã€‚ï¼ˆæ‰€ä»¥ï¼Œ<code>git add</code>å‘½ä»¤å®é™…ä¸Šå°±æ˜¯æŠŠè¦æäº¤çš„æ‰€æœ‰ä¿®æ”¹æ”¾åˆ°æš‚å­˜åŒºï¼ˆStageï¼‰ï¼Œç„¶åï¼Œæ‰§è¡Œ<code>git commit</code>å°±å¯ä»¥ä¸€æ¬¡æ€§æŠŠæš‚å­˜åŒºçš„æ‰€æœ‰ä¿®æ”¹æäº¤åˆ°åˆ†æ”¯ã€‚ï¼‰</p>
</li>
<li><p>Gitç®¡ç†çš„æ–‡ä»¶åˆ†ä¸ºï¼šå·¥ä½œåŒºï¼Œç‰ˆæœ¬åº“ï¼Œç‰ˆæœ¬åº“åˆåˆ†ä¸ºæš‚å­˜åŒºstageå’Œæš‚å­˜åŒºåˆ†æ”¯master(ä»“åº“)</p>
<p>å·¥ä½œåŒº&gt;&gt;&gt;&gt;æš‚å­˜åŒº&gt;&gt;&gt;&gt;ä»“åº“</p>
<p><code>git add</code>æŠŠæ–‡ä»¶ä»å·¥ä½œåŒº&gt;&gt;&gt;&gt;æš‚å­˜åŒºï¼Œ``git commit`æŠŠæ–‡ä»¶ä»æš‚å­˜åŒº&gt;&gt;&gt;&gt;ä»“åº“ï¼Œ</p>
<p><code>git diff</code>æŸ¥çœ‹å·¥ä½œåŒºå’Œæš‚å­˜åŒºå·®å¼‚ï¼Œ</p>
<p><code>git diff</code> â€“cachedæŸ¥çœ‹æš‚å­˜åŒºå’Œä»“åº“å·®å¼‚ï¼Œ</p>
<p><code>git diff HEAD</code>æŸ¥çœ‹å·¥ä½œåŒºå’Œä»“åº“çš„å·®å¼‚ï¼Œ</p>
<p><code>git add</code>çš„åå‘å‘½ä»¤<code>git checkout</code>ï¼Œæ’¤é”€å·¥ä½œåŒºä¿®æ”¹ï¼Œå³æŠŠæš‚å­˜åŒºæœ€æ–°ç‰ˆæœ¬è½¬ç§»åˆ°å·¥ä½œåŒºï¼Œ</p>
<p><code>git commit</code>çš„åå‘å‘½ä»¤``git reset HEAD`ï¼Œå°±æ˜¯æŠŠä»“åº“æœ€æ–°ç‰ˆæœ¬è½¬ç§»åˆ°æš‚å­˜åŒºã€‚</p>
</li>
</ul>
</li>
<li><p>ç®¡ç†ä¿®æ”¹</p>
<ul>
<li>ç†è§£äº†Gitæ˜¯å¦‚ä½•è·Ÿè¸ªä¿®æ”¹çš„ï¼Œæ¯æ¬¡ä¿®æ”¹ï¼Œå¦‚æœä¸ç”¨<code>git add</code>åˆ°æš‚å­˜åŒºï¼Œé‚£å°±ä¸ä¼šåŠ å…¥åˆ°<code>commit</code>ä¸­ã€‚</li>
</ul>
</li>
<li><p>æ’¤é”€ä¿®æ”¹</p>
<ul>
<li>åœºæ™¯1ï¼šå½“ä½ æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæƒ³ç›´æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶ï¼Œç”¨å‘½ä»¤<code>git checkout -- file</code>ã€‚</li>
<li>åœºæ™¯2ï¼šå½“ä½ ä¸ä½†æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒºæ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹ï¼Œåˆ†ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥ç”¨å‘½ä»¤<code>git reset HEAD &lt;file&gt;</code>ï¼Œå°±å›åˆ°äº†åœºæ™¯1ï¼Œç¬¬äºŒæ­¥æŒ‰åœºæ™¯1æ“ä½œã€‚</li>
<li>åœºæ™¯3ï¼šå·²ç»æäº¤äº†ä¸åˆé€‚çš„ä¿®æ”¹åˆ°ç‰ˆæœ¬åº“æ—¶ï¼Œæƒ³è¦æ’¤é”€æœ¬æ¬¡æäº¤ï¼Œå‚è€ƒ<a href="https://www.liaoxuefeng.com/wiki/896043488029600/897013573512192" target="_blank" rel="noopener">ç‰ˆæœ¬å›é€€</a>ä¸€èŠ‚ï¼Œä¸è¿‡å‰ææ˜¯æ²¡æœ‰æ¨é€åˆ°è¿œç¨‹åº“ã€‚</li>
</ul>
</li>
<li><p>åˆ é™¤æ–‡ä»¶</p>
<ul>
<li><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ é€šå¸¸ç›´æ¥åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­æŠŠæ²¡ç”¨çš„æ–‡ä»¶åˆ äº†ï¼Œæˆ–è€…ç”¨<code>rm</code>å‘½ä»¤åˆ äº†ï¼š<code>$ rm test.txt</code></p>
</li>
<li><p>è¿™ä¸ªæ—¶å€™ï¼ŒGitçŸ¥é“ä½ åˆ é™¤äº†æ–‡ä»¶ï¼Œå› æ­¤ï¼Œå·¥ä½œåŒºå’Œç‰ˆæœ¬åº“å°±ä¸ä¸€è‡´äº†ï¼Œ<code>git status</code>å‘½ä»¤ä¼šç«‹åˆ»å‘Šè¯‰ä½ å“ªäº›æ–‡ä»¶è¢«åˆ é™¤äº†ï¼š</p>
<p><img src="C:%5CUsers%5CASUS%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200602163313271.png" alt="image-20200602163313271"></p>
</li>
<li><p>ç°åœ¨ä½ æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œä¸€æ˜¯ç¡®å®è¦ä»ç‰ˆæœ¬åº“ä¸­åˆ é™¤è¯¥æ–‡ä»¶ï¼Œé‚£å°±ç”¨å‘½ä»¤<code>git rm</code>åˆ æ‰ï¼Œå¹¶ä¸”<code>git commit</code>ï¼š<code>$ git rm test.txt</code> <code>rm 'test.txt'</code> ç°åœ¨ï¼Œæ–‡ä»¶å°±ä»ç‰ˆæœ¬åº“ä¸­è¢«åˆ é™¤äº†</p>
</li>
<li><p>å°æç¤ºï¼šå…ˆæ‰‹åŠ¨åˆ é™¤æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨<code>git rm &lt;file&gt;</code>å’Œ<code>git add&lt;file&gt;</code>æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</p>
</li>
<li><p>å¦ä¸€ç§æƒ…å†µæ˜¯åˆ é”™äº†ï¼Œå› ä¸ºç‰ˆæœ¬åº“é‡Œè¿˜æœ‰å‘¢ï¼Œæ‰€ä»¥å¯ä»¥å¾ˆè½»æ¾åœ°æŠŠè¯¯åˆ çš„æ–‡ä»¶æ¢å¤åˆ°æœ€æ–°ç‰ˆæœ¬ï¼š<code>$ git checkout -- test.txt</code>ã€‚<code>git checkout</code>å…¶å®æ˜¯ç”¨ç‰ˆæœ¬åº“é‡Œçš„ç‰ˆæœ¬æ›¿æ¢å·¥ä½œåŒºçš„ç‰ˆæœ¬ï¼Œæ— è®ºå·¥ä½œåŒºæ˜¯ä¿®æ”¹è¿˜æ˜¯åˆ é™¤ï¼Œéƒ½å¯ä»¥â€œä¸€é”®è¿˜åŸâ€ã€‚ä½†æ˜¯ï¼Œ<u><strong>ä»æ¥æ²¡æœ‰è¢«æ·»åŠ åˆ°ç‰ˆæœ¬åº“å°±è¢«åˆ é™¤çš„æ–‡ä»¶ï¼Œæ˜¯æ— æ³•æ¢å¤çš„ï¼</strong></u></p>
</li>
<li><p>å°ç»“ï¼šå‘½ä»¤<code>git rm</code>ç”¨äºåˆ é™¤ä¸€ä¸ªæ–‡ä»¶ã€‚å¦‚æœä¸€ä¸ªæ–‡ä»¶å·²ç»è¢«æäº¤åˆ°ç‰ˆæœ¬åº“ï¼Œé‚£ä¹ˆä½ æ°¸è¿œä¸ç”¨æ‹…å¿ƒè¯¯åˆ ï¼Œä½†æ˜¯è¦å°å¿ƒï¼Œä½ åªèƒ½æ¢å¤æ–‡ä»¶åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œä½ ä¼šä¸¢å¤±<strong>æœ€è¿‘ä¸€æ¬¡æäº¤åä½ ä¿®æ”¹çš„å†…å®¹</strong>ã€‚</p>
</li>
</ul>
</li>
</ol>
<h2 id="è¿œç¨‹ä»“åº“"><a href="#è¿œç¨‹ä»“åº“" class="headerlink" title="è¿œç¨‹ä»“åº“"></a>è¿œç¨‹ä»“åº“</h2><ol>
<li><p>æ·»åŠ è¿œç¨‹åº“</p>
<ul>
<li><p>è¦å…³è”ä¸€ä¸ªè¿œç¨‹åº“ï¼Œä½¿ç”¨å‘½ä»¤<code>git remote add origin git@server-name:path/repo-name.git</code>ï¼›ä»¥<code>github</code>ä¸ºä¾‹å­ï¼š<code>git remote add origin git@github.com:liudufu/First_Git_Text.git</code></p>
</li>
<li><p>å…³è”åï¼Œä½¿ç”¨å‘½ä»¤<code>git push -u origin master</code>ç¬¬ä¸€æ¬¡æ¨é€masteråˆ†æ”¯çš„æ‰€æœ‰å†…å®¹ï¼›</p>
</li>
<li><p>æ­¤åï¼Œæ¯æ¬¡æœ¬åœ°æäº¤åï¼Œåªè¦æœ‰å¿…è¦ï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤<code>git push origin master</code>æ¨é€æœ€æ–°ä¿®æ”¹ï¼›</p>
<p>åˆ†å¸ƒå¼ç‰ˆæœ¬ç³»ç»Ÿçš„æœ€å¤§å¥½å¤„ä¹‹ä¸€æ˜¯åœ¨æœ¬åœ°å·¥ä½œå®Œå…¨ä¸éœ€è¦è€ƒè™‘è¿œç¨‹åº“çš„å­˜åœ¨ï¼Œä¹Ÿå°±æ˜¯æœ‰æ²¡æœ‰è”ç½‘éƒ½å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œè€Œ<code>SVN</code>åœ¨æ²¡æœ‰è”ç½‘çš„æ—¶å€™æ˜¯æ‹’ç»å¹²æ´»çš„ï¼å½“æœ‰ç½‘ç»œçš„æ—¶å€™ï¼Œå†æŠŠæœ¬åœ°æäº¤æ¨é€ä¸€ä¸‹å°±å®Œæˆäº†åŒæ­¥ï¼ŒçœŸæ˜¯å¤ªæ–¹ä¾¿äº†</p>
</li>
</ul>
</li>
<li><p>ä»è¿œç¨‹åº“å…‹éš†</p>
<ul>
<li><p>è¦å…‹éš†ä¸€ä¸ªä»“åº“ï¼Œé¦–å…ˆå¿…é¡»çŸ¥é“ä»“åº“çš„åœ°å€ï¼Œç„¶åä½¿ç”¨<code>git clone</code>å‘½ä»¤å…‹éš†ã€‚ä¾‹å¦‚ï¼š<code>git clone git@github.com:michaelliao/gitskills.git</code></p>
</li>
<li><p>å¦‚æœæœ‰å¤šä¸ªäººåä½œå¼€å‘ï¼Œé‚£ä¹ˆæ¯ä¸ªäººå„è‡ªä»è¿œç¨‹å…‹éš†ä¸€ä»½å°±å¯ä»¥äº†ã€‚ä½ ä¹Ÿè®¸è¿˜æ³¨æ„åˆ°ï¼Œ<code>GitHub</code>ç»™å‡ºçš„åœ°å€ä¸æ­¢ä¸€ä¸ªï¼Œè¿˜å¯ä»¥ç”¨<code>https://github.com/michaelliao/gitskills.git</code>è¿™æ ·çš„åœ°å€ã€‚å®é™…ä¸Šï¼ŒGitæ”¯æŒå¤šç§åè®®ï¼Œé»˜è®¤çš„<code>git://</code>ä½¿ç”¨sshï¼Œä½†ä¹Ÿå¯ä»¥ä½¿ç”¨<code>https</code>ç­‰å…¶ä»–åè®®ã€‚</p>
<p>ä½¿ç”¨<code>https</code>é™¤äº†é€Ÿåº¦æ…¢ä»¥å¤–ï¼Œè¿˜æœ‰ä¸ªæœ€å¤§çš„éº»çƒ¦æ˜¯æ¯æ¬¡æ¨é€éƒ½å¿…é¡»è¾“å…¥å£ä»¤ï¼Œä½†æ˜¯åœ¨æŸäº›åªå¼€æ”¾<code>http</code>ç«¯å£çš„å…¬å¸å†…éƒ¨å°±æ— æ³•ä½¿ç”¨<code>ssh</code>åè®®è€Œåªèƒ½ç”¨<code>https</code>ã€‚</p>
</li>
<li><p>Gitæ”¯æŒå¤šç§åè®®ï¼ŒåŒ…æ‹¬<code>https</code>ï¼Œä½†<code>ssh</code>åè®®é€Ÿåº¦æœ€å¿«ã€‚</p>
</li>
</ul>
</li>
</ol>
<h2 id="åˆ†æ”¯ç®¡ç†"><a href="#åˆ†æ”¯ç®¡ç†" class="headerlink" title="åˆ†æ”¯ç®¡ç†"></a>åˆ†æ”¯ç®¡ç†</h2><ol>
<li><p>ç®€ä»‹ï¼šåˆ†æ”¯åœ¨å®é™…ä¸­æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿå‡è®¾ä½ å‡†å¤‡å¼€å‘ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œä½†æ˜¯éœ€è¦ä¸¤å‘¨æ‰èƒ½å®Œæˆï¼Œç¬¬ä¸€å‘¨ä½ å†™äº†50%çš„ä»£ç ï¼Œå¦‚æœç«‹åˆ»æäº¤ï¼Œç”±äºä»£ç è¿˜æ²¡å†™å®Œï¼Œä¸å®Œæ•´çš„ä»£ç åº“ä¼šå¯¼è‡´åˆ«äººä¸èƒ½å¹²æ´»äº†ã€‚å¦‚æœç­‰ä»£ç å…¨éƒ¨å†™å®Œå†ä¸€æ¬¡æäº¤ï¼Œåˆå­˜åœ¨ä¸¢å¤±æ¯å¤©è¿›åº¦çš„å·¨å¤§é£é™©ã€‚</p>
<p>ç°åœ¨æœ‰äº†åˆ†æ”¯ï¼Œå°±ä¸ç”¨æ€•äº†ã€‚ä½ åˆ›å»ºäº†ä¸€ä¸ªå±äºä½ è‡ªå·±çš„åˆ†æ”¯ï¼Œåˆ«äººçœ‹ä¸åˆ°ï¼Œè¿˜ç»§ç»­åœ¨åŸæ¥çš„åˆ†æ”¯ä¸Šæ­£å¸¸å·¥ä½œï¼Œè€Œä½ åœ¨è‡ªå·±çš„åˆ†æ”¯ä¸Šå¹²æ´»ï¼Œæƒ³æäº¤å°±æäº¤ï¼Œç›´åˆ°å¼€å‘å®Œæ¯•åï¼Œå†ä¸€æ¬¡æ€§åˆå¹¶åˆ°åŸæ¥çš„åˆ†æ”¯ä¸Šï¼Œè¿™æ ·ï¼Œæ—¢å®‰å…¨ï¼Œåˆä¸å½±å“åˆ«äººå·¥ä½œã€‚</p>
</li>
<li><p>åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯</p>
<ul>
<li><p><code>master</code>åˆ†æ”¯æ˜¯ä¸€æ¡çº¿ï¼ŒGitç”¨<code>master</code>æŒ‡å‘æœ€æ–°çš„æäº¤ï¼Œå†ç”¨<code>HEAD</code>æŒ‡å‘<code>master</code>ï¼Œå°±èƒ½ç¡®å®šå½“å‰åˆ†æ”¯ï¼Œä»¥åŠå½“å‰åˆ†æ”¯çš„æäº¤ç‚¹ï¼š</p>
<p><img src="C:%5CUsers%5CASUS%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200603203525643.png" alt="image-20200603203525643"></p>
</li>
<li><p>æ¯æ¬¡æäº¤ï¼Œ<code>master</code>åˆ†æ”¯éƒ½ä¼šå‘å‰ç§»åŠ¨ä¸€æ­¥ï¼Œè¿™æ ·ï¼Œéšç€ä½ ä¸æ–­æäº¤ï¼Œ<code>master</code>åˆ†æ”¯çš„çº¿ä¹Ÿè¶Šæ¥è¶Šé•¿ã€‚</p>
<p>å½“æˆ‘ä»¬åˆ›å»ºæ–°çš„åˆ†æ”¯ï¼Œä¾‹å¦‚<code>dev</code>æ—¶ï¼ŒGitæ–°å»ºäº†ä¸€ä¸ªæŒ‡é’ˆå«<code>dev</code>ï¼ŒæŒ‡å‘<code>master</code>ç›¸åŒçš„æäº¤ï¼Œå†æŠŠ<code>HEAD</code>æŒ‡å‘<code>dev</code>ï¼Œå°±è¡¨ç¤ºå½“å‰åˆ†æ”¯åœ¨<code>dev</code>ä¸Šï¼š</p>
<p><img src="C:%5CUsers%5CASUS%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200603203559448.png" alt="image-20200603203559448"></p>
</li>
<li><p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»º<code>dev</code>åˆ†æ”¯ï¼Œç„¶ååˆ‡æ¢åˆ°<code>dev</code>åˆ†æ”¯</p>
<figure class="highlight plain"><figcaption><span>checkout -b dev```</span></figcaption><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">`git checkout`å‘½ä»¤åŠ ä¸Š`-b`å‚æ•°è¡¨ç¤ºåˆ›å»ºå¹¶åˆ‡æ¢ï¼Œç›¸å½“äºä»¥ä¸‹ä¸¤æ¡å‘½ä»¤ï¼š</span><br></pre></td></tr></tbody></table></figure>
<p>$ git branch dev<br>$ git checkout dev<br>Switched to branch â€˜devâ€™</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">- æŠŠ`dev`åˆ†æ”¯çš„å·¥ä½œæˆæœåˆå¹¶åˆ°`master`åˆ†æ”¯ä¸Šï¼š</span><br><span class="line"></span><br><span class="line">  ```git</span><br><span class="line">  $ git merge dev</span><br><span class="line">  Updating d46f35e..b17d20e</span><br><span class="line">  Fast-forward</span><br><span class="line">   readme.txt | 1 +</span><br><span class="line">   1 file changed, 1 insertion(+)</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><code>Fast-forward</code>ä¿¡æ¯ï¼ŒGitå‘Šè¯‰æˆ‘ä»¬ï¼Œè¿™æ¬¡åˆå¹¶æ˜¯â€œå¿«è¿›æ¨¡å¼â€ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥æŠŠ<code>master</code>æŒ‡å‘<code>dev</code>çš„å½“å‰æäº¤ï¼Œæ‰€ä»¥åˆå¹¶é€Ÿåº¦éå¸¸å¿«ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿä¸æ˜¯æ¯æ¬¡åˆå¹¶éƒ½èƒ½<code>Fast-forward</code></p>
</li>
<li><p>æˆ‘ä»¬æ³¨æ„åˆ°åˆ‡æ¢åˆ†æ”¯ä½¿ç”¨<code>git checkout &lt;branch&gt;</code>ï¼Œè€Œå‰é¢è®²è¿‡çš„æ’¤é”€ä¿®æ”¹åˆ™æ˜¯<code>git checkout -- &lt;file&gt;</code>ï¼ŒåŒä¸€ä¸ªå‘½ä»¤ï¼Œæœ‰ä¸¤ç§ä½œç”¨ï¼Œç¡®å®æœ‰ç‚¹ä»¤äººè¿·æƒ‘ã€‚</p>
<p>å®é™…ä¸Šï¼Œåˆ‡æ¢åˆ†æ”¯è¿™ä¸ªåŠ¨ä½œï¼Œç”¨<code>switch</code>æ›´ç§‘å­¦ã€‚å› æ­¤ï¼Œæœ€æ–°ç‰ˆæœ¬çš„Gitæä¾›äº†æ–°çš„<code>git switch</code>å‘½ä»¤æ¥åˆ‡æ¢åˆ†æ”¯ï¼š</p>
<p>åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°çš„<code>dev</code>åˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git switch -c dev</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>ç›´æ¥åˆ‡æ¢åˆ°å·²æœ‰çš„<code>master</code>åˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git switch master</span><br></pre></td></tr></tbody></table></figure>

<p>â€‹    ä½¿ç”¨æ–°çš„<code>git switch</code>å‘½ä»¤ï¼Œæ¯”<code>git checkout</code>è¦æ›´å®¹æ˜“ç†è§£ã€‚</p>
</li>
<li><p>å°ç»“ï¼šæŸ¥çœ‹åˆ†æ”¯ï¼š<code>git branch</code></p>
<p>åˆ›å»ºåˆ†æ”¯ï¼š<code>git branch &lt;name&gt;</code></p>
<p>åˆ‡æ¢åˆ†æ”¯ï¼š<code>git checkout &lt;name&gt;</code>æˆ–è€…<code>git switch &lt;name&gt;</code></p>
<p>åˆ›å»º+åˆ‡æ¢åˆ†æ”¯ï¼š<code>git checkout -b &lt;name&gt;</code>æˆ–è€…<code>git switch -c &lt;name&gt;</code></p>
<p>åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ï¼š<code>git merge &lt;name&gt;</code></p>
<p>åˆ é™¤åˆ†æ”¯ï¼š<code>git branch -d &lt;name&gt;</code></p>
</li>
</ul>
</li>
<li><p>è§£å†³å†²çª</p>
<ul>
<li>å½“Gitæ— æ³•è‡ªåŠ¨åˆå¹¶åˆ†æ”¯æ—¶ï¼Œå°±å¿…é¡»é¦–å…ˆè§£å†³å†²çªã€‚è§£å†³å†²çªåï¼Œå†æäº¤ï¼Œåˆå¹¶å®Œæˆã€‚</li>
<li>è§£å†³å†²çªå°±æ˜¯æŠŠGitåˆå¹¶å¤±è´¥çš„æ–‡ä»¶æ‰‹åŠ¨ç¼–è¾‘ä¸ºæˆ‘ä»¬å¸Œæœ›çš„å†…å®¹ï¼Œå†æäº¤ã€‚</li>
<li>ç”¨<code>git log --graph</code>å‘½ä»¤å¯ä»¥çœ‹åˆ°åˆ†æ”¯åˆå¹¶å›¾ã€‚</li>
</ul>
</li>
<li><p>åˆ†æ”¯ç®¡ç†ç­–ç•¥</p>
<ul>
<li><p>Gitä¼šç”¨<code>Fast forward</code>æ¨¡å¼ï¼Œä½†è¿™ç§æ¨¡å¼ä¸‹ï¼Œåˆ é™¤åˆ†æ”¯åï¼Œä¼šä¸¢æ‰åˆ†æ”¯ä¿¡æ¯ã€‚</p>
<p>å¦‚æœè¦å¼ºåˆ¶ç¦ç”¨<code>Fast forward</code>æ¨¡å¼ï¼ŒGitå°±ä¼šåœ¨mergeæ—¶ç”Ÿæˆä¸€ä¸ªæ–°çš„commitï¼Œè¿™æ ·ï¼Œä»åˆ†æ”¯å†å²ä¸Šå°±å¯ä»¥çœ‹å‡ºåˆ†æ”¯ä¿¡æ¯ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬å®æˆ˜ä¸€ä¸‹<code>--no-ff</code>æ–¹å¼çš„<code>git merge</code>ï¼š</p>
</li>
<li><p>å‡†å¤‡åˆå¹¶<code>dev</code>åˆ†æ”¯ï¼Œè¯·æ³¨æ„<code>--no-ff</code>å‚æ•°ï¼Œè¡¨ç¤ºç¦ç”¨<code>Fast forward</code>ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git merge --no-ff -m "merge with no-ff" dev</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>å› ä¸ºæœ¬æ¬¡åˆå¹¶è¦åˆ›å»ºä¸€ä¸ªæ–°çš„commitï¼Œæ‰€ä»¥åŠ ä¸Š<code>-m</code>å‚æ•°ï¼ŒæŠŠcommitæè¿°å†™è¿›å»ã€‚åˆå¹¶åï¼Œæˆ‘ä»¬ç”¨<code>git log</code>çœ‹çœ‹åˆ†æ”¯å†å²ï¼š</p>
<p><img src="C:%5CUsers%5CASUS%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200603213003612.png" alt="image-20200603213003612"></p>
</li>
<li><p>åœ¨Gitä¸­ï¼Œå¹²æ´»éƒ½åœ¨<code>dev</code>åˆ†æ”¯ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>dev</code>åˆ†æ”¯æ˜¯ä¸ç¨³å®šçš„ï¼Œåˆ°æŸä¸ªæ—¶å€™ï¼Œæ¯”å¦‚1.0ç‰ˆæœ¬å‘å¸ƒæ—¶ï¼Œå†æŠŠ<code>dev</code>åˆ†æ”¯åˆå¹¶åˆ°<code>master</code>ä¸Šï¼Œåœ¨<code>master</code>åˆ†æ”¯å‘å¸ƒ1.0ç‰ˆæœ¬ï¼›åˆå¹¶åˆ†æ”¯æ—¶ï¼ŒåŠ ä¸Š<code>--no-ff</code>å‚æ•°å°±å¯ä»¥ç”¨æ™®é€šæ¨¡å¼åˆå¹¶ï¼Œåˆå¹¶åçš„å†å²æœ‰åˆ†æ”¯ï¼Œèƒ½çœ‹å‡ºæ¥æ›¾ç»åšè¿‡åˆå¹¶ï¼Œè€Œ<code>fast forward</code>åˆå¹¶å°±çœ‹ä¸å‡ºæ¥æ›¾ç»åšè¿‡åˆå¹¶ã€‚</p>
</li>
</ul>
</li>
<li><p>bugåˆ†æ”¯</p>
<ul>
<li><p>å“ªä¸ªåˆ†æ”¯ä¸Šä¿®å¤bugï¼Œå‡å®šéœ€è¦åœ¨<code>master</code>åˆ†æ”¯ä¸Šä¿®å¤ï¼Œå°±ä»<code>master</code>åˆ›å»ºä¸´æ—¶åˆ†æ”¯ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">Switched to branch 'master'</span><br><span class="line">Your branch is ahead of 'origin/master' by 6 commits.</span><br><span class="line">  (use "git push" to publish your local commits)</span><br><span class="line"></span><br><span class="line">$ git checkout -b issue-101</span><br><span class="line">Switched to a new branch 'isse-101'</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>bug ä¿®å¤åæŠŠæ–‡ä»¶addä»¥åŠcommitï¼Œåˆ‡æ¢å›masteråˆ†æ”¯ï¼Œåˆ é™¤<code>issue-101</code>åˆ†æ”¯ï¼š<code>$ git switch master</code> <code>git merge --no-ff -m "merged bug fix 101" issue-101</code></p>
</li>
<li><p>æŸ¥çœ‹åˆšæ‰çš„å·¥ä½œç°åœº<code>git stash list</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git stash list</span><br><span class="line">stash@{0}: WIP on dev: f52c633 add merge</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>å·¥ä½œç°åœºè¿˜åœ¨ï¼ŒGitæŠŠstashå†…å®¹å­˜åœ¨æŸä¸ªåœ°æ–¹äº†ï¼Œä½†æ˜¯éœ€è¦æ¢å¤ä¸€ä¸‹ï¼Œæœ‰ä¸¤ä¸ªåŠæ³•ï¼š</p>
<p>ä¸€æ˜¯ç”¨<code>git stash apply</code>æ¢å¤ï¼Œä½†æ˜¯æ¢å¤åï¼Œstashå†…å®¹å¹¶ä¸åˆ é™¤ï¼Œä½ éœ€è¦ç”¨<code>git stash drop</code>æ¥åˆ é™¤ï¼›</p>
<p>å¦ä¸€ç§æ–¹å¼æ˜¯ç”¨<code>git stash pop</code>ï¼Œæ¢å¤çš„åŒæ—¶æŠŠstashå†…å®¹ä¹Ÿåˆ äº†ï¼šå†ç”¨<code>git stash list</code>æŸ¥çœ‹ï¼Œå°±çœ‹ä¸åˆ°ä»»ä½•stashå†…å®¹äº†ï¼š</p>
<p>ä½ å¯ä»¥å¤šæ¬¡stashï¼Œæ¢å¤çš„æ—¶å€™ï¼Œå…ˆç”¨<code>git stash list</code>æŸ¥çœ‹ï¼Œç„¶åæ¢å¤æŒ‡å®šçš„stashï¼Œç”¨å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git stash apply stash@{0}</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>åŒæ ·çš„bugï¼Œè¦åœ¨devä¸Šä¿®å¤ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠ<code>4c805e2 fix bug 101</code>è¿™ä¸ªæäº¤æ‰€åšçš„ä¿®æ”¹â€œå¤åˆ¶â€åˆ°devåˆ†æ”¯ã€‚æ³¨æ„ï¼šæˆ‘ä»¬åªæƒ³å¤åˆ¶<code>4c805e2 fix bug 101</code>è¿™ä¸ªæäº¤æ‰€åšçš„ä¿®æ”¹ï¼Œå¹¶ä¸æ˜¯æŠŠæ•´ä¸ªmasteråˆ†æ”¯mergeè¿‡æ¥ã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿æ“ä½œï¼ŒGitä¸“é—¨æä¾›äº†ä¸€ä¸ª<code>cherry-pick</code>å‘½ä»¤ï¼Œè®©æˆ‘ä»¬èƒ½å¤åˆ¶ä¸€ä¸ªç‰¹å®šçš„æäº¤åˆ°å½“å‰åˆ†æ”¯ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">* dev</span><br><span class="line">  master</span><br><span class="line">$ git cherry-pick 4c805e2</span><br><span class="line">[master 1d4b803] fix bug 101</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br></pre></td></tr></tbody></table></figure>

<p>Gitè‡ªåŠ¨ç»™devåˆ†æ”¯åšäº†ä¸€æ¬¡æäº¤ï¼Œæ³¨æ„è¿™æ¬¡æäº¤çš„commitæ˜¯<code>1d4b803</code>ï¼Œå®ƒå¹¶ä¸åŒäºmasterçš„<code>4c805e2</code>ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªcommitåªæ˜¯æ”¹åŠ¨ç›¸åŒï¼Œä½†ç¡®å®æ˜¯ä¸¤ä¸ªä¸åŒçš„commitã€‚ç”¨<code>git cherry-pick</code>ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦åœ¨devåˆ†æ”¯ä¸Šæ‰‹åŠ¨å†æŠŠä¿®bugçš„è¿‡ç¨‹é‡å¤ä¸€éã€‚</p>
<p>æœ‰äº›èªæ˜çš„ç«¥é‹ä¼šæƒ³äº†ï¼Œæ—¢ç„¶å¯ä»¥åœ¨masteråˆ†æ”¯ä¸Šä¿®å¤bugåï¼Œåœ¨devåˆ†æ”¯ä¸Šå¯ä»¥â€œé‡æ”¾â€è¿™ä¸ªä¿®å¤è¿‡ç¨‹ï¼Œé‚£ä¹ˆç›´æ¥åœ¨devåˆ†æ”¯ä¸Šä¿®å¤bugï¼Œç„¶ååœ¨masteråˆ†æ”¯ä¸Šâ€œé‡æ”¾â€è¡Œä¸è¡Œï¼Ÿå½“ç„¶å¯ä»¥ï¼Œä¸è¿‡ä½ ä»ç„¶éœ€è¦<code>git stash</code>å‘½ä»¤ä¿å­˜ç°åœºï¼Œæ‰èƒ½ä»devåˆ†æ”¯åˆ‡æ¢åˆ°masteråˆ†æ”¯ã€‚</p>
</li>
<li><p>å°ç»“ï¼šä¿®å¤bugæ—¶ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡åˆ›å»ºæ–°çš„bugåˆ†æ”¯è¿›è¡Œä¿®å¤ï¼Œç„¶ååˆå¹¶ï¼Œæœ€ååˆ é™¤ï¼›</p>
<p>å½“æ‰‹å¤´å·¥ä½œæ²¡æœ‰å®Œæˆæ—¶ï¼Œå…ˆæŠŠå·¥ä½œç°åœº<code>git stash</code>ä¸€ä¸‹ï¼Œç„¶åå»ä¿®å¤bugï¼Œä¿®å¤åï¼Œå†<code>git stash pop</code>ï¼Œå›åˆ°å·¥ä½œç°åœºï¼›</p>
<p>åœ¨masteråˆ†æ”¯ä¸Šä¿®å¤çš„bugï¼Œæƒ³è¦åˆå¹¶åˆ°å½“å‰devåˆ†æ”¯ï¼Œå¯ä»¥ç”¨<code>git cherry-pick &lt;commit&gt;</code>å‘½ä»¤ï¼ŒæŠŠbugæäº¤çš„ä¿®æ”¹â€œå¤åˆ¶â€åˆ°å½“å‰åˆ†æ”¯ï¼Œé¿å…é‡å¤åŠ³åŠ¨</p>
</li>
</ul>
</li>
<li><p>Featureåˆ†æ”¯</p>
<ul>
<li><p>å¼€å‘ä¸€ä¸ªæ–°featureï¼Œæœ€å¥½æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼›</p>
<p>å¦‚æœè¦ä¸¢å¼ƒä¸€ä¸ªæ²¡æœ‰è¢«åˆå¹¶è¿‡çš„åˆ†æ”¯ï¼Œå¯ä»¥é€šè¿‡<code>git branch -D &lt;name&gt;</code>å¼ºè¡Œåˆ é™¤ã€‚</p>
</li>
</ul>
</li>
<li><p>å¤šäººåä½œ</p>
<ul>
<li><p>å½“ä½ ä»è¿œç¨‹ä»“åº“å…‹éš†æ—¶ï¼Œå®é™…ä¸ŠGitè‡ªåŠ¨æŠŠæœ¬åœ°çš„<code>master</code>åˆ†æ”¯å’Œè¿œç¨‹çš„<code>master</code>åˆ†æ”¯å¯¹åº”èµ·æ¥äº†ï¼Œå¹¶ä¸”ï¼Œè¿œç¨‹ä»“åº“çš„é»˜è®¤åç§°æ˜¯<code>origin</code>ã€‚è¦æŸ¥çœ‹è¿œç¨‹åº“çš„ä¿¡æ¯ï¼Œç”¨<code>git remote</code>ç”¨<code>git remote -v</code>æ˜¾ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯ï¼š</p>
</li>
<li><p><code>master</code>åˆ†æ”¯æ˜¯ä¸»åˆ†æ”¯ï¼Œå› æ­¤è¦æ—¶åˆ»ä¸è¿œç¨‹åŒæ­¥ï¼›<code>dev</code>åˆ†æ”¯æ˜¯å¼€å‘åˆ†æ”¯ï¼Œå›¢é˜Ÿæ‰€æœ‰æˆå‘˜éƒ½éœ€è¦åœ¨ä¸Šé¢å·¥ä½œï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦ä¸è¿œç¨‹åŒæ­¥ï¼›bugåˆ†æ”¯åªç”¨äºåœ¨æœ¬åœ°ä¿®å¤bugï¼Œå°±æ²¡å¿…è¦æ¨åˆ°è¿œç¨‹äº†ï¼Œé™¤éè€æ¿è¦çœ‹çœ‹ä½ æ¯å‘¨åˆ°åº•ä¿®å¤äº†å‡ ä¸ªbugï¼›featureåˆ†æ”¯æ˜¯å¦æ¨åˆ°è¿œç¨‹ï¼Œå–å†³äºä½ æ˜¯å¦å’Œä½ çš„å°ä¼™ä¼´åˆä½œåœ¨ä¸Šé¢å¼€å‘ã€‚</p>
</li>
<li><p>æŠ“å–åˆ†æ”¯ï¼Œç°åœ¨ï¼Œæ¨¡æ‹Ÿä¸€ä¸ªä½ çš„å°ä¼™ä¼´ï¼Œå¯ä»¥åœ¨å¦ä¸€å°ç”µè„‘ï¼ˆæ³¨æ„è¦æŠŠSSH Keyæ·»åŠ åˆ°GitHubï¼‰æˆ–è€…åŒä¸€å°ç”µè„‘çš„å¦ä¸€ä¸ªç›®å½•ä¸‹å…‹éš†ï¼š<code>$ git clone git@github.com:michaelliao/learngit.git</code></p>
</li>
<li><p>ä½ çš„å°ä¼™ä¼´å·²ç»å‘<code>origin/dev</code>åˆ†æ”¯æ¨é€äº†ä»–çš„æäº¤ï¼Œè€Œç¢°å·§ä½ ä¹Ÿå¯¹åŒæ ·çš„æ–‡ä»¶ä½œäº†ä¿®æ”¹ï¼Œå¹¶è¯•å›¾æ¨é€ï¼š<code>$ git push origin dev</code>,è¿™ä¸ªæ—¶å€™ä¼šæ¨é€å¤±è´¥ï¼Œå› ä¸ºä½ çš„å°ä¼™ä¼´çš„æœ€æ–°æäº¤å’Œä½ è¯•å›¾æ¨é€çš„æäº¤æœ‰å†²çªï¼Œè§£å†³åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼ŒGitå·²ç»æç¤ºæˆ‘ä»¬ï¼Œå…ˆç”¨<code>git pull</code>æŠŠæœ€æ–°çš„æäº¤ä»<code>origin/dev</code>æŠ“ä¸‹æ¥ï¼Œç„¶åï¼Œåœ¨æœ¬åœ°åˆå¹¶ï¼Œè§£å†³å†²çªï¼Œå†æ¨é€ï¼šå¦‚æœ<code>git pull</code>ä¹Ÿå¤±è´¥äº†ï¼ŒåŸå› æ˜¯æ²¡æœ‰æŒ‡å®šæœ¬åœ°<code>dev</code>åˆ†æ”¯ä¸è¿œç¨‹<code>origin/dev</code>åˆ†æ”¯çš„é“¾æ¥ï¼Œæ ¹æ®æç¤ºï¼Œè®¾ç½®<code>dev</code>å’Œ<code>origin/dev</code>çš„é“¾æ¥ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git branch --set-upstream-to=origin/dev dev</span><br><span class="line">Branch 'dev' set up to track remote branch 'dev' from 'origin'.</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨è¿›è¡Œpull,è¿™å›<code>git pull</code>æˆåŠŸï¼Œä½†æ˜¯åˆå¹¶æœ‰å†²çªï¼Œéœ€è¦æ‰‹åŠ¨è§£å†³ï¼Œè§£å†³çš„æ–¹æ³•å’Œåˆ†æ”¯ç®¡ç†ä¸­çš„<a href="http://www.liaoxuefeng.com/wiki/896043488029600/900004111093344" target="_blank" rel="noopener">è§£å†³å†²çª</a>å®Œå…¨ä¸€æ ·ã€‚è§£å†³åï¼Œæäº¤ï¼Œå†pushï¼š</p>
</li>
<li><p>å› æ­¤ï¼Œå¤šäººåä½œçš„å·¥ä½œæ¨¡å¼é€šå¸¸æ˜¯è¿™æ ·ï¼š</p>
<ol>
<li>é¦–å…ˆï¼Œå¯ä»¥è¯•å›¾ç”¨<code>git push origin &lt;branch-name&gt;</code>æ¨é€è‡ªå·±çš„ä¿®æ”¹ï¼›</li>
<li>å¦‚æœæ¨é€å¤±è´¥ï¼Œåˆ™å› ä¸ºè¿œç¨‹åˆ†æ”¯æ¯”ä½ çš„æœ¬åœ°æ›´æ–°ï¼Œéœ€è¦å…ˆç”¨<code>git pull</code>è¯•å›¾åˆå¹¶ï¼›</li>
<li>å¦‚æœåˆå¹¶æœ‰å†²çªï¼Œåˆ™è§£å†³å†²çªï¼Œå¹¶åœ¨æœ¬åœ°æäº¤ï¼›</li>
<li>æ²¡æœ‰å†²çªæˆ–è€…è§£å†³æ‰å†²çªåï¼Œå†ç”¨<code>git push origin &lt;branch-name&gt;</code>æ¨é€å°±èƒ½æˆåŠŸï¼</li>
</ol>
<p>å¦‚æœ<code>git pull</code>æç¤º<code>no tracking information</code>ï¼Œåˆ™è¯´æ˜æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„é“¾æ¥å…³ç³»æ²¡æœ‰åˆ›å»ºï¼Œç”¨å‘½ä»¤<code>git branch --set-upstream-to &lt;branch-name&gt; origin/&lt;branch-name&gt;</code>ã€‚</p>
</li>
<li><p>å°ç»“ï¼šæŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼Œä½¿ç”¨<code>git remote -v</code>ï¼›</p>
<ul>
<li>æœ¬åœ°æ–°å»ºçš„åˆ†æ”¯å¦‚æœä¸æ¨é€åˆ°è¿œç¨‹ï¼Œå¯¹å…¶ä»–äººå°±æ˜¯ä¸å¯è§çš„ï¼›</li>
<li>ä»æœ¬åœ°æ¨é€åˆ†æ”¯ï¼Œä½¿ç”¨<code>git push origin branch-name</code>ï¼Œå¦‚æœæ¨é€å¤±è´¥ï¼Œå…ˆç”¨<code>git pull</code>æŠ“å–è¿œç¨‹çš„æ–°æäº¤ï¼›</li>
<li>åœ¨æœ¬åœ°åˆ›å»ºå’Œè¿œç¨‹åˆ†æ”¯å¯¹åº”çš„åˆ†æ”¯ï¼Œä½¿ç”¨<code>git checkout -b branch-name origin/branch-name</code>ï¼Œæœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯çš„åç§°æœ€å¥½ä¸€è‡´ï¼›</li>
<li>å»ºç«‹æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„å…³è”ï¼Œä½¿ç”¨<code>git branch --set-upstream branch-name origin/branch-name</code>ï¼›</li>
<li>ä»è¿œç¨‹æŠ“å–åˆ†æ”¯ï¼Œä½¿ç”¨<code>git pull</code>ï¼Œå¦‚æœæœ‰å†²çªï¼Œè¦å…ˆå¤„ç†å†²çªã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p>Rebase</p>
<ul>
<li><p>å¤šäººåœ¨åŒä¸€ä¸ªåˆ†æ”¯ä¸Šåä½œæ—¶ï¼Œå¾ˆå®¹æ˜“å‡ºç°å†²çªã€‚å³ä½¿æ²¡æœ‰å†²çªï¼Œåpushçš„ç«¥é‹ä¸å¾—ä¸å…ˆpullï¼Œåœ¨æœ¬åœ°åˆå¹¶ï¼Œç„¶åæ‰èƒ½pushæˆåŠŸã€‚</p>
<p>æ¯æ¬¡åˆå¹¶å†pushåï¼Œåˆ†æ”¯å˜æˆäº†è¿™æ ·</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git log --graph --pretty=oneline --abbrev-commit</span><br><span class="line">* d1be385 (HEAD -&gt; master, origin/master) init hello</span><br><span class="line">*   e5e69f1 Merge branch 'dev'</span><br><span class="line">|\  </span><br><span class="line">| *   57c53ab (origin/dev, dev) fix env conflict</span><br><span class="line">| |\  </span><br><span class="line">| | * 7a5e5dd add env</span><br><span class="line">| * | 7bd91f1 add new env</span><br><span class="line">| |/  </span><br><span class="line">* |   12a631b merged bug fix 101</span><br><span class="line">|\ \  </span><br><span class="line">| * | 4c805e2 fix bug 101</span><br><span class="line">|/ /  </span><br><span class="line">* |   e1e9c68 merge with no-ff</span><br><span class="line">|\ \  </span><br><span class="line">| |/  </span><br><span class="line">| * f52c633 add merge</span><br><span class="line">|/  </span><br><span class="line">*   cf810e4 conflict fixed</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>è¿™ä¸ªæ—¶å€™ï¼Œrebaseå°±æ´¾ä¸Šäº†ç”¨åœºã€‚æˆ‘ä»¬è¾“å…¥å‘½ä»¤<code>git rebase</code>è¯•è¯•</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git rebase</span><br><span class="line">First, rewinding head to replay your work on top of it...</span><br><span class="line">Applying: add comment</span><br><span class="line">Using index info to reconstruct a base tree...</span><br><span class="line">M	hello.py</span><br><span class="line">Falling back to patching base and 3-way merge...</span><br><span class="line">Auto-merging hello.py</span><br><span class="line">Applying: add author</span><br><span class="line">Using index info to reconstruct a base tree...</span><br><span class="line">M	hello.py</span><br><span class="line">Falling back to patching base and 3-way merge...</span><br><span class="line">Auto-merging hello.py</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>è¾“å‡ºäº†ä¸€å¤§å †æ“ä½œï¼Œåˆ°åº•æ˜¯å•¥æ•ˆæœï¼Ÿå†ç”¨<code>git log</code>çœ‹çœ‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git log --graph --pretty=oneline --abbrev-commit</span><br><span class="line">* 7e61ed4 (HEAD -&gt; master) add author</span><br><span class="line">* 3611cfe add comment</span><br><span class="line">* f005ed4 (origin/master) set exit=1</span><br><span class="line">* d1be385 init hello</span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>åŸæœ¬åˆ†å‰çš„æäº¤ç°åœ¨å˜æˆä¸€æ¡ç›´çº¿äº†ï¼è¿™ç§ç¥å¥‡çš„æ“ä½œæ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿå…¶å®åŸç†éå¸¸ç®€å•ã€‚æˆ‘ä»¬æ³¨æ„è§‚å¯Ÿï¼Œå‘ç°GitæŠŠæˆ‘ä»¬æœ¬åœ°çš„æäº¤â€œæŒªåŠ¨â€äº†ä½ç½®ï¼Œæ”¾åˆ°äº†<code>f005ed4 (origin/master) set exit=1</code>ä¹‹åï¼Œè¿™æ ·ï¼Œæ•´ä¸ªæäº¤å†å²å°±æˆäº†ä¸€æ¡ç›´çº¿ã€‚rebaseæ“ä½œå‰åï¼Œæœ€ç»ˆçš„æäº¤å†…å®¹æ˜¯ä¸€è‡´çš„ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬æœ¬åœ°çš„commitä¿®æ”¹å†…å®¹å·²ç»å˜åŒ–äº†ï¼Œå®ƒä»¬çš„ä¿®æ”¹ä¸å†åŸºäº<code>d1be385 init hello</code>ï¼Œè€Œæ˜¯åŸºäº<code>f005ed4 (origin/master) set exit=1</code>ï¼Œä½†æœ€åçš„æäº¤<code>7e61ed4</code>å†…å®¹æ˜¯ä¸€è‡´çš„ã€‚</p>
<p>è¿™å°±æ˜¯rebaseæ“ä½œçš„ç‰¹ç‚¹ï¼šæŠŠåˆ†å‰çš„æäº¤å†å²â€œæ•´ç†â€æˆä¸€æ¡ç›´çº¿ï¼Œçœ‹ä¸Šå»æ›´ç›´è§‚ã€‚ç¼ºç‚¹æ˜¯æœ¬åœ°çš„åˆ†å‰æäº¤å·²ç»è¢«ä¿®æ”¹è¿‡äº†ã€‚</p>
<p>æœ€åï¼Œé€šè¿‡pushæ“ä½œæŠŠæœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ï¼š</p>
</li>
<li><p>å†ç”¨<code>git log</code>çœ‹çœ‹æ•ˆæœ</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git log --graph --pretty=oneline --abbrev-commit</span><br><span class="line">* 7e61ed4 (HEAD -&gt; master, origin/master) add author</span><br><span class="line">* 3611cfe add comment</span><br><span class="line">* f005ed4 set exit=1</span><br><span class="line">* d1be385 init hello</span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure>

<p>è¿œç¨‹åˆ†æ”¯çš„æäº¤å†å²ä¹Ÿæ˜¯ä¸€æ¡ç›´çº¿ã€‚</p>
</li>
<li><p>å°ç»“ï¼š</p>
<ul>
<li>rebaseæ“ä½œå¯ä»¥æŠŠæœ¬åœ°æœªpushçš„åˆ†å‰æäº¤å†å²æ•´ç†æˆç›´çº¿ï¼›</li>
<li>rebaseçš„ç›®çš„æ˜¯ä½¿å¾—æˆ‘ä»¬åœ¨æŸ¥çœ‹å†å²æäº¤çš„å˜åŒ–æ—¶æ›´å®¹æ˜“ï¼Œå› ä¸ºåˆ†å‰çš„æäº¤éœ€è¦ä¸‰æ–¹å¯¹æ¯”ã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="æ ‡ç­¾ç®¡ç†"><a href="#æ ‡ç­¾ç®¡ç†" class="headerlink" title="æ ‡ç­¾ç®¡ç†"></a>æ ‡ç­¾ç®¡ç†</h2><ol>
<li><p>ç®€ä»‹ï¼šå‘å¸ƒä¸€ä¸ªç‰ˆæœ¬æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸å…ˆåœ¨ç‰ˆæœ¬åº“ä¸­æ‰“ä¸€ä¸ªæ ‡ç­¾ï¼ˆtagï¼‰ï¼Œè¿™æ ·ï¼Œå°±å”¯ä¸€ç¡®å®šäº†æ‰“æ ‡ç­¾æ—¶åˆ»çš„ç‰ˆæœ¬ã€‚å°†æ¥æ— è®ºä»€ä¹ˆæ—¶å€™ï¼Œå–æŸä¸ªæ ‡ç­¾çš„ç‰ˆæœ¬ï¼Œå°±æ˜¯æŠŠé‚£ä¸ªæ‰“æ ‡ç­¾çš„æ—¶åˆ»çš„å†å²ç‰ˆæœ¬å–å‡ºæ¥ã€‚æ‰€ä»¥ï¼Œæ ‡ç­¾ä¹Ÿæ˜¯ç‰ˆæœ¬åº“çš„ä¸€ä¸ªå¿«ç…§ã€‚ä¾‹å¦‚ï¼š</p>
<p>è¯·æŠŠä¸Šå‘¨ä¸€çš„é‚£ä¸ªç‰ˆæœ¬æ‰“åŒ…å‘å¸ƒï¼Œç‰ˆæœ¬å·æ˜¯v1.2â€</p>
<p>â€œå¥½çš„ï¼ŒæŒ‰ç…§tag v1.2æŸ¥æ‰¾commitå°±è¡Œï¼â€</p>
<p>æ‰€ä»¥ï¼Œtagå°±æ˜¯ä¸€ä¸ªè®©äººå®¹æ˜“è®°ä½çš„æœ‰æ„ä¹‰çš„åå­—ï¼Œå®ƒè·ŸæŸä¸ªcommitç»‘åœ¨ä¸€èµ·ã€‚</p>
</li>
<li><p>åˆ›å»ºæ ‡ç­¾</p>
<ul>
<li>æ‰“æ ‡ç­¾å¾ˆç®€å•,åˆ‡æ¢åˆ°æ‰“æ ‡ç­¾çš„åˆ†æ”¯</li>
</ul>
</li>
</ol>
<pre><code><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">git branch</span><br><span class="line">* dev</span><br><span class="line">master</span><br><span class="line">$ git checkout master</span><br></pre></td></tr></tbody></table></figure>

æ•²`git tag &lt;name&gt;`æ‰“ä¸€ä¸ªæ–°çš„æ ‡ç­¾

<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git tag v1.0</span><br></pre></td></tr></tbody></table></figure>

ä½¿ç”¨`git tag` æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾

<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git tag</span><br><span class="line">v1.0</span><br></pre></td></tr></tbody></table></figure>

æ¯”å¦‚ï¼Œç°åœ¨å·²ç»æ˜¯å‘¨äº”äº†ï¼Œä½†åº”è¯¥åœ¨å‘¨ä¸€æ‰“çš„æ ‡ç­¾æ²¡æœ‰æ‰“ï¼Œæ€ä¹ˆåŠï¼Ÿ

æ–¹æ³•æ˜¯æ‰¾åˆ°å†å²æäº¤çš„commit idï¼Œç„¶åæ‰“ä¸Šå°±å¯ä»¥äº†

<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git log --pretty=oneline --abbrev-commit</span><br><span class="line">12a631b (HEAD -&gt; master, tag: v1.0, origin/master) merged bug fix 101</span><br><span class="line">4c805e2 fix bug 101</span><br><span class="line">e1e9c68 merge with no-ff</span><br><span class="line">f52c633 add merge</span><br><span class="line">cf810e4 conflict fixed</span><br><span class="line">5dc6824 &amp; simple</span><br><span class="line">14096d0 AND simple</span><br><span class="line">b17d20e branch test</span><br><span class="line">d46f35e remove test.txt</span><br><span class="line">b84166e add test.txt</span><br><span class="line">519219b git tracks changes</span><br><span class="line">e43a48b understand how stage works</span><br><span class="line">1094adb append GPL</span><br><span class="line">e475afc add distributed</span><br><span class="line">eaadf4e wrote a readme file</span><br></pre></td></tr></tbody></table></figure>

æ¯”æ–¹è¯´è¦å¯¹`add merge`è¿™æ¬¡æäº¤æ‰“æ ‡ç­¾ï¼Œå®ƒå¯¹åº”çš„commit idæ˜¯`f52c633`ï¼Œæ•²å…¥å‘½ä»¤ï¼š`$ git tag v0.9 f52c633`</code></pre><ul>
<li><p>æ ‡ç­¾ä¸æ˜¯æŒ‰æ—¶é—´é¡ºåºåˆ—å‡ºï¼Œè€Œæ˜¯æŒ‰å­—æ¯æ’åºçš„ã€‚å¯ä»¥ç”¨<code>git show &lt;tagname&gt;</code>æŸ¥çœ‹æ ‡ç­¾ä¿¡æ¯ï¼š</p>
</li>
<li><p>è¿˜å¯ä»¥åˆ›å»ºå¸¦æœ‰è¯´æ˜çš„æ ‡ç­¾ï¼Œç”¨<code>-a</code>æŒ‡å®šæ ‡ç­¾åï¼Œ<code>-m</code>æŒ‡å®šè¯´æ˜æ–‡å­—ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git tag -a v0.1 -m "version 0.1 released" 1094adb</span><br></pre></td></tr></tbody></table></figure>

<p>ç”¨å‘½ä»¤<code>git show &lt;tagname&gt;</code>å¯ä»¥çœ‹åˆ°è¯´æ˜æ–‡å­—ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git show v0.1</span><br><span class="line">tag v0.1</span><br><span class="line">Tagger: Michael Liao &lt;askxuefeng@gmail.com&gt;</span><br><span class="line">Date:   Fri May 18 22:48:43 2018 +0800</span><br><span class="line"></span><br><span class="line">version 0.1 released</span><br><span class="line">......</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><strong>æ ‡ç­¾æ€»æ˜¯å’ŒæŸä¸ªcommitæŒ‚é’©ã€‚å¦‚æœè¿™ä¸ªcommitæ—¢å‡ºç°åœ¨masteråˆ†æ”¯ï¼Œåˆå‡ºç°åœ¨devåˆ†æ”¯ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸¤ä¸ªåˆ†æ”¯ä¸Šéƒ½å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ ‡ç­¾ã€‚</strong></p>
</li>
<li><p>å°ç»“ï¼š</p>
<ul>
<li>å‘½ä»¤<code>git tag &lt;tagname&gt;</code>ç”¨äºæ–°å»ºä¸€ä¸ªæ ‡ç­¾ï¼Œé»˜è®¤ä¸º<code>HEAD</code>ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªcommit idï¼›</li>
<li>å‘½ä»¤<code>git tag -a &lt;tagname&gt; -m "blablabla..."</code>å¯ä»¥æŒ‡å®šæ ‡ç­¾ä¿¡æ¯ï¼›</li>
<li>å‘½ä»¤<code>git tag</code>å¯ä»¥æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾ã€‚</li>
</ul>
</li>
</ul>
<ol start="3">
<li><p>æ“ä½œæ ‡ç­¾</p>
<ul>
<li><p>åˆ é™¤ä¸€ä¸ªæ ‡ç­¾ï¼š<code>git tag -d v0.1</code></p>
</li>
<li><p>å› ä¸ºåˆ›å»ºçš„æ ‡ç­¾éƒ½ä¿å­˜åœ¨æœ¬åœ°ï¼Œä¸ä¼šè‡ªåŠ¨æ¨é€åˆ°è¿œç¨‹ã€‚æ‰€ä»¥æ‰“é”™çš„æ ‡ç­¾å¯ä»¥åœ¨æœ¬åœ°å®‰å…¨çš„åˆ é™¤ï¼Œå¦‚æœè¦æ¨é€æŸä¸ªæ ‡ç­¾åˆ°è¿œç¨‹ï¼Œä½¿ç”¨å‘½ä»¤<code>git push origin &lt;tagname&gt;</code>:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git push origin v1.0</span><br><span class="line">Total 0 (delta 0), reused 0 (delta 0)</span><br><span class="line">To github.com:michaelliao/learngit.git</span><br><span class="line"> * [new tag]         v1.0 -&gt; v1.0</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ–è€…ï¼Œä¸€æ¬¡æ€§æ¨é€å…¨éƒ¨å°šæœªæ¨é€åˆ°è¿œç¨‹çš„æœ¬åœ°æ ‡ç­¾ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git push origin --tags</span><br><span class="line">Total 0 (delta 0), reused 0 (delta 0)</span><br><span class="line">To github.com:michaelliao/learngit.git</span><br><span class="line"> * [new tag]         v0.9 -&gt; v0.9</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>å¦‚æœéœ€è¦åˆ é™¤å·²ç»æ¨é€åˆ°è¿œç¨‹çš„æ ‡ç­¾ï¼Œéœ€è¦å…ˆåˆ é™¤æœ¬åœ°æ ‡ç­¾</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git tag -d v0.9</span><br><span class="line">Deleted tag 'v0.9' (was f52c633)</span><br></pre></td></tr></tbody></table></figure>

<p>ç„¶åï¼Œä»è¿œç¨‹åˆ é™¤ï¼Œå‘½ä»¤ä¹Ÿæ˜¯pushï¼Œä½†æ˜¯æ ¼å¼å´ä¸åŒï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">$ git push origin :refs/tags/v0.9</span><br><span class="line">To github.com:michaelliao/learngit.git</span><br><span class="line"> - [deleted]         v0.9</span><br></pre></td></tr></tbody></table></figure>

<p>ç™»å½•GitHubæŸ¥çœ‹æ˜¯å¦åˆ é™¤äº†æ ‡ç­¾</p>
</li>
<li><p>å°ç»“ï¼š</p>
<ul>
<li>å‘½ä»¤<code>git push origin &lt;tagname&gt;</code>å¯ä»¥æ¨é€ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ï¼›</li>
<li>å‘½ä»¤<code>git push origin --tags</code>å¯ä»¥æ¨é€å…¨éƒ¨æœªæ¨é€è¿‡çš„æœ¬åœ°æ ‡ç­¾ï¼›</li>
<li>å‘½ä»¤<code>git tag -d &lt;tagname&gt;</code>å¯ä»¥åˆ é™¤ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ï¼›</li>
<li>å‘½ä»¤<code>git push origin :refs/tags/&lt;tagname&gt;</code>å¯ä»¥åˆ é™¤ä¸€ä¸ªè¿œç¨‹æ ‡ç­¾ã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="ä½¿ç”¨GitHub"><a href="#ä½¿ç”¨GitHub" class="headerlink" title="ä½¿ç”¨GitHub"></a>ä½¿ç”¨GitHub</h2><ol>
<li><p>å¦‚ä½•å‚ä¸ä¸€ä¸ªå¼€æºé¡¹ç›®å‘¢ï¼Ÿæ¯”å¦‚äººæ°”æé«˜çš„bootstrapé¡¹ç›®ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„CSSæ¡†æ¶ï¼Œä½ å¯ä»¥è®¿é—®å®ƒçš„é¡¹ç›®ä¸»é¡µ<a href="https://github.com/twbs/bootstrapï¼Œç‚¹â€œForkâ€å°±åœ¨è‡ªå·±çš„è´¦å·ä¸‹å…‹éš†äº†ä¸€ä¸ªbootstrapä»“åº“ï¼Œç„¶åï¼Œä»è‡ªå·±çš„è´¦å·ä¸‹cloneï¼š" target="_blank" rel="noopener">https://github.com/twbs/bootstrapï¼Œç‚¹â€œForkâ€å°±åœ¨è‡ªå·±çš„è´¦å·ä¸‹å…‹éš†äº†ä¸€ä¸ªbootstrapä»“åº“ï¼Œç„¶åï¼Œä»è‡ªå·±çš„è´¦å·ä¸‹cloneï¼š</a></p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">git clone git@github.com:michaelliao/bootstrap.git</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸€å®šè¦ä»è‡ªå·±çš„è´¦å·ä¸‹cloneä»“åº“ï¼Œè¿™æ ·ä½ æ‰èƒ½æ¨é€ä¿®æ”¹ã€‚å¦‚æœä»bootstrapçš„ä½œè€…çš„ä»“åº“åœ°å€<code>git@github.com:twbs/bootstrap.git</code>å…‹éš†ï¼Œå› ä¸ºæ²¡æœ‰æƒé™ï¼Œä½ å°†ä¸èƒ½æ¨é€ä¿®æ”¹ã€‚</p>
<p>Bootstrapçš„å®˜æ–¹ä»“åº“<code>twbs/bootstrap</code>ã€ä½ åœ¨GitHubä¸Šå…‹éš†çš„ä»“åº“<code>my/bootstrap</code>ï¼Œä»¥åŠä½ è‡ªå·±å…‹éš†åˆ°æœ¬åœ°ç”µè„‘çš„ä»“åº“ï¼Œä»–ä»¬çš„å…³ç³»å°±åƒä¸‹å›¾æ˜¾ç¤ºçš„é‚£æ ·ï¼š</p>
<p><img src="C:%5CUsers%5CASUS%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200605203808429.png" alt="image-20200605203808429"></p>
<p>å¦‚æœä½ æƒ³ä¿®å¤bootstrapçš„ä¸€ä¸ªbugï¼Œæˆ–è€…æ–°å¢ä¸€ä¸ªåŠŸèƒ½ï¼Œç«‹åˆ»å°±å¯ä»¥å¼€å§‹å¹²æ´»ï¼Œå¹²å®Œåï¼Œå¾€è‡ªå·±çš„ä»“åº“æ¨é€ã€‚</p>
<p>å¦‚æœä½ å¸Œæœ›bootstrapçš„å®˜æ–¹åº“èƒ½æ¥å—ä½ çš„ä¿®æ”¹ï¼Œä½ å°±å¯ä»¥åœ¨GitHubä¸Šå‘èµ·ä¸€ä¸ªpull requestã€‚å½“ç„¶ï¼Œå¯¹æ–¹æ˜¯å¦æ¥å—ä½ çš„pull requestå°±ä¸ä¸€å®šäº†ã€‚</p>
<p>å¦‚æœä½ æ²¡èƒ½åŠ›ä¿®æ”¹bootstrapï¼Œä½†åˆæƒ³è¦è¯•ä¸€æŠŠpull requestï¼Œé‚£å°±Forkä¸€ä¸‹æˆ‘çš„ä»“åº“ï¼š<a href="https://github.com/michaelliao/learngitï¼Œåˆ›å»ºä¸€ä¸ª`your-github-id.txt`çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå†™ç‚¹è‡ªå·±å­¦ä¹ Gitçš„å¿ƒå¾—ï¼Œç„¶åæ¨é€ä¸€ä¸ªpull" target="_blank" rel="noopener">https://github.com/michaelliao/learngitï¼Œåˆ›å»ºä¸€ä¸ª`your-github-id.txt`çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå†™ç‚¹è‡ªå·±å­¦ä¹ Gitçš„å¿ƒå¾—ï¼Œç„¶åæ¨é€ä¸€ä¸ªpull</a> requestç»™æˆ‘ï¼Œæˆ‘ä¼šè§†å¿ƒæƒ…è€Œå®šæ˜¯å¦æ¥å—ã€‚<a href="https://github.com" target="_blank" rel="noopener">liudufu</a>     <a href="https://github.com" target="_blank" rel="noopener">https://github.com</a></p>
</li>
<li><p><strong>å°ç»“</strong></p>
<ul>
<li>åœ¨GitHubä¸Šï¼Œå¯ä»¥ä»»æ„Forkå¼€æºä»“åº“ï¼›</li>
<li>è‡ªå·±æ‹¥æœ‰Forkåçš„ä»“åº“çš„è¯»å†™æƒé™ï¼›</li>
<li>å¯ä»¥æ¨é€pull requestç»™å®˜æ–¹ä»“åº“æ¥è´¡çŒ®ä»£ç ã€‚</li>
</ul>
</li>
</ol>
<h2 id="ä½¿ç”¨Gitee"><a href="#ä½¿ç”¨Gitee" class="headerlink" title="ä½¿ç”¨Gitee"></a>ä½¿ç”¨Gitee</h2><ol>
<li><p>å’ŒGitHubç›¸æ¯”ï¼ŒGiteeä¹Ÿæä¾›å…è´¹çš„Gitä»“åº“ã€‚æ­¤å¤–ï¼Œè¿˜é›†æˆäº†ä»£ç è´¨é‡æ£€æµ‹ã€é¡¹ç›®æ¼”ç¤ºç­‰åŠŸèƒ½ã€‚å¯¹äºå›¢é˜Ÿåä½œå¼€å‘ï¼ŒGiteeè¿˜æä¾›äº†é¡¹ç›®ç®¡ç†ã€ä»£ç æ‰˜ç®¡ã€æ–‡æ¡£ç®¡ç†çš„æœåŠ¡ï¼Œ5äººä»¥ä¸‹å°å›¢é˜Ÿå…è´¹ã€‚</p>
<p>Giteeçš„å…è´¹ç‰ˆæœ¬ä¹Ÿæä¾›ç§æœ‰åº“åŠŸèƒ½ï¼Œåªæ˜¯æœ‰5äººçš„æˆå‘˜ä¸Šé™ã€‚</p>
<p>ä½¿ç”¨Giteeå’Œä½¿ç”¨GitHubç±»ä¼¼ï¼Œæˆ‘ä»¬åœ¨Giteeä¸Šæ³¨å†Œè´¦å·å¹¶ç™»å½•åï¼Œéœ€è¦å…ˆä¸Šä¼ è‡ªå·±çš„SSHå…¬é’¥ã€‚é€‰æ‹©å³ä¸Šè§’ç”¨æˆ·å¤´åƒ -&gt; èœå•â€œä¿®æ”¹èµ„æ–™â€ï¼Œç„¶åé€‰æ‹©â€œSSHå…¬é’¥â€ï¼Œå¡«å†™ä¸€ä¸ªä¾¿äºè¯†åˆ«çš„æ ‡é¢˜ï¼Œç„¶åæŠŠç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„<code>.ssh/id_rsa.pub</code>æ–‡ä»¶çš„å†…å®¹ç²˜è´´è¿›å»ï¼š</p>
</li>
<li><p>å¦‚æœæˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªæœ¬åœ°çš„gitä»“åº“ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªåä¸ºlearngitçš„æœ¬åœ°åº“ï¼‰ï¼Œå¦‚ä½•æŠŠå®ƒå…³è”åˆ°Giteeçš„è¿œç¨‹åº“ä¸Šå‘¢ï¼Ÿ</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨Giteeä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®é¡¹ç›®åç§°æœ€å¥½ä¸æœ¬åœ°åº“ä¿æŒä¸€è‡´ï¼š</p>
<p>ç„¶åï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°åº“ä¸Šä½¿ç”¨å‘½ä»¤<code>git remote add</code>æŠŠå®ƒå’ŒGiteeçš„è¿œç¨‹åº“å…³è”ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">git remote add origin git@gitee.com:liaoxuefeng/learngit.git</span><br><span class="line">(git remote add origin git@gitee.com:https://gitee.com/dufu-03-13/git_repo_Text)</span><br></pre></td></tr></tbody></table></figure>

<p>ä¹‹åï¼Œå°±å¯ä»¥æ­£å¸¸åœ°ç”¨<code>git push</code>å’Œ<code>git pull</code>æ¨é€äº†ï¼</p>
<p>å¦‚æœåœ¨ä½¿ç”¨å‘½ä»¤<code>git remote add</code>æ—¶æŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">git remote add origin git@gitee.com:liaoxuefeng/learngit.git</span><br><span class="line">fatal: remote origin already exists.</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™è¯´æ˜æœ¬åœ°åº“å·²ç»å…³è”äº†ä¸€ä¸ªåå«<code>origin</code>çš„è¿œç¨‹åº“ï¼Œæ­¤æ—¶ï¼Œå¯ä»¥å…ˆç”¨<code>git remote -v</code>æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">git remote -v</span><br><span class="line">origin	git@github.com:michaelliao/learngit.git (fetch)</span><br><span class="line">origin	git@github.com:michaelliao/learngit.git (push)</span><br></pre></td></tr></tbody></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œæœ¬åœ°åº“å·²ç»å…³è”äº†<code>origin</code>çš„è¿œç¨‹åº“ï¼Œå¹¶ä¸”ï¼Œè¯¥è¿œç¨‹åº“æŒ‡å‘GitHubã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åˆ é™¤å·²æœ‰çš„GitHubè¿œç¨‹åº“ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">git remote rm origin</span><br></pre></td></tr></tbody></table></figure>

<p>å†å…³è”Giteeçš„è¿œç¨‹åº“ï¼ˆæ³¨æ„è·¯å¾„ä¸­éœ€è¦å¡«å†™æ­£ç¡®çš„ç”¨æˆ·åï¼‰ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">git remote add origin git@gitee.com:liaoxuefeng/learngit.git</span><br></pre></td></tr></tbody></table></figure>

<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å†æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">git remote -v</span><br><span class="line">origin	git@gitee.com:liaoxuefeng/learngit.git (fetch)</span><br><span class="line">origin	git@gitee.com:liaoxuefeng/learngit.git (push)</span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨å¯ä»¥çœ‹åˆ°ï¼Œoriginå·²ç»è¢«å…³è”åˆ°Giteeçš„è¿œç¨‹åº“äº†ã€‚é€šè¿‡<code>git push</code>å‘½ä»¤å°±å¯ä»¥æŠŠæœ¬åœ°åº“æ¨é€åˆ°Giteeä¸Šã€‚</p>
<p>gitæœ¬èº«æ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥åŒæ­¥åˆ°å¦å¤–ä¸€ä¸ªè¿œç¨‹åº“ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åŒæ­¥åˆ°å¦å¤–ä¸¤ä¸ªè¿œç¨‹åº“ã€‚</p>
<p>ä½¿ç”¨å¤šä¸ªè¿œç¨‹åº“æ—¶ï¼Œæˆ‘ä»¬è¦æ³¨æ„ï¼Œgitç»™è¿œç¨‹åº“èµ·çš„é»˜è®¤åç§°æ˜¯<code>origin</code>ï¼Œå¦‚æœæœ‰å¤šä¸ªè¿œç¨‹åº“ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ä¸åŒçš„åç§°æ¥æ ‡è¯†ä¸åŒçš„è¿œç¨‹åº“ã€‚</p>
<p>ä»ç„¶ä»¥<code>learngit</code>æœ¬åœ°åº“ä¸ºä¾‹ï¼Œæˆ‘ä»¬å…ˆåˆ é™¤å·²å…³è”çš„åä¸º<code>origin</code>çš„è¿œç¨‹åº“ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">git remote rm origin</span><br></pre></td></tr></tbody></table></figure>

<p>ç„¶åï¼Œå…ˆå…³è”GitHubçš„è¿œç¨‹åº“ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">git remote add github git@github.com:michaelliao/learngit.git</span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨æ„ï¼Œè¿œç¨‹åº“çš„åç§°å«<code>github</code>ï¼Œä¸å«<code>origin</code>äº†ã€‚</p>
<p>æ¥ç€ï¼Œå†å…³è”Giteeçš„è¿œç¨‹åº“ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">git remote add gitee git@gitee.com:liaoxuefeng/learngit.git</span><br></pre></td></tr></tbody></table></figure>

<p>åŒæ ·æ³¨æ„ï¼Œè¿œç¨‹åº“çš„åç§°å«<code>gitee</code>ï¼Œä¸å«<code>origin</code>ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬ç”¨<code>git remote -v</code>æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°ä¸¤ä¸ªè¿œç¨‹åº“ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">git remote -v</span><br><span class="line">gitee	git@gitee.com:liaoxuefeng/learngit.git (fetch)</span><br><span class="line">gitee	git@gitee.com:liaoxuefeng/learngit.git (push)</span><br><span class="line">github	git@github.com:michaelliao/learngit.git (fetch)</span><br><span class="line">github	git@github.com:michaelliao/learngit.git (push)</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœè¦æ¨é€åˆ°GitHubï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">git push github master</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœè¦æ¨é€åˆ°Giteeï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">git push -u gitee master</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬çš„æœ¬åœ°åº“å°±å¯ä»¥åŒæ—¶ä¸å¤šä¸ªè¿œç¨‹åº“äº’ç›¸åŒæ­¥ï¼š</p>
</li>
</ol>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>MySqlåŸºç¡€å­¦ä¹ </title>
    <url>/MySQL_basic_learning/</url>
    <content><![CDATA[<blockquote>
<p>MySQLæ˜¯ä¸€ä¸ª<strong><a href="https://baike.baidu.com/item/å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ/696511" target="_blank" rel="noopener">å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</a>**</strong>ï¼Œ**ç”±ç‘å…¸MySQL AB å…¬å¸å¼€å‘ï¼Œå±äº <a href="https://baike.baidu.com/item/Oracle" target="_blank" rel="noopener">Oracle</a> æ——ä¸‹äº§å“ã€‚MySQL æ˜¯æœ€æµè¡Œçš„<a href="https://baike.baidu.com/item/å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ/696511" target="_blank" rel="noopener">å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</a>ä¹‹ä¸€ï¼Œåœ¨ WEB åº”ç”¨æ–¹é¢ï¼ŒMySQLæ˜¯æœ€å¥½çš„ <a href="https://baike.baidu.com/item/RDBMS/1048260" target="_blank" rel="noopener">RDBMS</a> (Relational Database Management Systemï¼Œå…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ) åº”ç”¨è½¯ä»¶ä¹‹ä¸€ã€‚</p>
</blockquote>
<a id="more"></a>

<h1 id="MySqlåŸºç¡€å­¦ä¹ "><a href="#MySqlåŸºç¡€å­¦ä¹ " class="headerlink" title="MySqlåŸºç¡€å­¦ä¹ "></a>MySqlåŸºç¡€å­¦ä¹ </h1><h2 id="ä¸€ã€å¼•è¨€"><a href="#ä¸€ã€å¼•è¨€" class="headerlink" title="ä¸€ã€å¼•è¨€"></a>ä¸€ã€å¼•è¨€</h2><h3 id="1-1-ç°æœ‰çš„æ•°æ®å­˜å‚¨æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"><a href="#1-1-ç°æœ‰çš„æ•°æ®å­˜å‚¨æ–¹å¼æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="1.1 ç°æœ‰çš„æ•°æ®å­˜å‚¨æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"></a>1.1 ç°æœ‰çš„æ•°æ®å­˜å‚¨æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</h3><ul>
<li>Javaç¨‹åºå­˜å‚¨æ•°æ®ï¼ˆå˜é‡ã€å¯¹è±¡ã€æ•°ç»„ã€é›†åˆï¼‰ï¼Œæ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå±äºç¬æ—¶çŠ¶æ€å­˜å‚¨ã€‚</li>
<li>æ–‡ä»¶ï¼ˆFileï¼‰å­˜å‚¨æ•°æ®ï¼Œä¿å­˜åœ¨ç¡¬ç›˜ä¸Šï¼Œå±äºæŒä¹…çŠ¶æ€å­˜å‚¨ã€‚</li>
</ul>
<h3 id="1-2-ä»¥ä¸Šå­˜å‚¨æ–¹å¼å­˜åœ¨å“ªäº›ç¼ºç‚¹ï¼Ÿ"><a href="#1-2-ä»¥ä¸Šå­˜å‚¨æ–¹å¼å­˜åœ¨å“ªäº›ç¼ºç‚¹ï¼Ÿ" class="headerlink" title="1.2 ä»¥ä¸Šå­˜å‚¨æ–¹å¼å­˜åœ¨å“ªäº›ç¼ºç‚¹ï¼Ÿ"></a>1.2 ä»¥ä¸Šå­˜å‚¨æ–¹å¼å­˜åœ¨å“ªäº›ç¼ºç‚¹ï¼Ÿ</h3><ul>
<li>æ²¡æœ‰æ•°æ®ç±»å‹çš„åŒºåˆ†ã€‚</li>
<li>å­˜å‚¨æ•°æ®é‡æå°ã€‚</li>
<li>æ²¡æœ‰å®‰å…¨è®¿é—®é™åˆ¶ã€‚</li>
<li>æ²¡æœ‰å¤‡ä»½ã€æ¢å¤æœºåˆ¶ã€‚ </li>
</ul>
<h2 id="äºŒã€æ•°æ®åº“"><a href="#äºŒã€æ•°æ®åº“" class="headerlink" title="äºŒã€æ•°æ®åº“"></a>äºŒã€æ•°æ®åº“</h2><h3 id="2-1-æ¦‚å¿µ"><a href="#2-1-æ¦‚å¿µ" class="headerlink" title="2.1 æ¦‚å¿µ"></a>2.1 æ¦‚å¿µ</h3><p> æ•°æ®åº“æ˜¯æŒ‰ç…§æ•°æ®æ¥å£æ¥<strong>ç»„ç»‡</strong>ã€<strong>å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“</strong>ã€‚æ˜¯ä¸€ä¸ªé•¿æœŸå­˜å‚¨åœ¨è®¡ç®—æœºå†…çš„ã€æœ‰ç»„ç»‡çš„ã€æœ‰å…±äº«çš„ã€ç»Ÿä¸€ç®¡ç†çš„æ•°æ®é›†åˆã€‚</p>
<h3 id="2-2-æ•°æ®åº“çš„åˆ†ç±»"><a href="#2-2-æ•°æ®åº“çš„åˆ†ç±»" class="headerlink" title="2.2 æ•°æ®åº“çš„åˆ†ç±»"></a>2.2 æ•°æ®åº“çš„åˆ†ç±»</h3><ul>
<li>ç½‘çŠ¶ç»“æ„æ•°æ®åº“ï¼šç¾å›½é€šç”¨ç”µæ°”å…¬å¸IDSï¼ˆIntegrated Data Storeï¼‰ï¼Œä»¥èŠ‚ç‚¹å½¢å¼å­˜å‚¨å’Œè®¿é—®ã€‚</li>
<li>å±‚æ¬¡ç»“æ„æ•°æ®åº“ï¼šIBMå…¬å¸IMSï¼ˆInformation Management Systemï¼‰å®šå‘æœ‰åºçš„æ ‘çŠ¶ç»“æ„å®ç°å­˜å‚¨å’Œè®¿é—®ã€‚</li>
<li>å…³ç³»ç»“æ„æ•°æ®åº“ï¼šOracleã€DB2ã€MySQLã€SQL Serverï¼Œä»¥è¡¨æ ¼ï¼ˆTableï¼‰å­˜å‚¨ï¼Œå¤šè¡¨é—´å»ºç«‹å…³è”å…³ç³»ï¼Œé€šè¿‡åˆ†ç±»ã€åˆå¹¶ã€è¿æ¥ã€é€‰å–ç­‰è¿ç®—å®ç°è®¿é—®ã€‚</li>
<li>éå…³ç³»å‹æ•°æ®åº“ï¼šElastecSearchã€MongoDBã€Redisï¼Œå¤šæ•°ä½¿ç”¨å“ˆå¸Œè¡¨ï¼Œè¡¨ä¸­ä»¥é”®å€¼ï¼ˆkey-valueï¼‰çš„æ–¹å¼å®ç°ç‰¹å®šçš„é”®å’Œä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘çš„ç‰¹å®šæ•°æ®ã€‚</li>
</ul>
<h2 id="ä¸‰ã€æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ"><a href="#ä¸‰ã€æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ" class="headerlink" title="ä¸‰ã€æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ"></a>ä¸‰ã€æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</h2><h3 id="3-1-æ¦‚å¿µ"><a href="#3-1-æ¦‚å¿µ" class="headerlink" title="3.1 æ¦‚å¿µ"></a>3.1 æ¦‚å¿µ</h3><blockquote>
<p> <strong>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</strong>ï¼ˆDataBase Management Systemï¼ŒDBMSï¼‰ï¼šæŒ‡ä¸€ç§æ“ä½œå’Œç®¡ç†æ•°æ®åº“çš„å¤§å‹è½¯ä»¶ï¼Œç”¨äºå»ºç«‹ã€ä½¿ç”¨ã€å’Œç»´æŠ¤æ•°æ®åº“ï¼Œå¯¹æ•°æ®åº“è¿›è¡Œç»Ÿä¸€ç®¡ç†å’Œæ§åˆ¶ï¼Œä»¥ä¿è¯æ•°æ®åº“çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§ã€‚ç”¨æˆ·é€šè¿‡æ•°æ®åº“ç®¡ç†ç³»ç»Ÿè®¿é—®æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚</p>
</blockquote>
<h3 id="3-2-å¸¸è§æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ"><a href="#3-2-å¸¸è§æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ" class="headerlink" title="3.2 å¸¸è§æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ"></a>3.2 å¸¸è§æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</h3><ul>
<li>Oracleï¼šè¢«è®¤ä¸ºæ˜¯ä¸šç•Œç›®å‰æ¯”è¾ƒæˆåŠŸçš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€‚Oracleæ•°æ®åº“å¯ä»¥è¿è¡Œåœ¨UNIXã€Windowsç­‰ä¸»æµæ“ä½œå¹³å°ï¼Œå®Œå…¨æ”¯æŒæ‰€æœ‰çš„å·¥ä¸šæ ‡å‡†ï¼Œå¹¶è·å¾—æœ€é«˜çº§åˆ«çš„ISOæ ‡å‡†å®‰å…¨æ€§è®¤è¯ã€‚</li>
<li>DB2ï¼šIBMå…¬å¸çš„äº§å“ï¼ŒDB2æ•°æ®åº“é‡‡ç”¨å¤šè¿›ç¨‹å¤šçº¿ç´¢ä½“ç³»ç»“æ„ï¼Œå…¶åŠŸèƒ½è¶³ä»¥æ»¡è¶³å¤§ä¸­å…¬å¸çš„éœ€æ±‚ï¼Œå¹¶å¯çµæ´»åœ°æœåŠ¡äºä¸­å°å‹ç”µå­å•†åŠ¡è§£å†³æ–¹æ¡ˆã€‚</li>
<li>SQL Serverï¼š Microsoftå…¬å¸é€€å‡ºçš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€‚å…·æœ‰ä½¿ç”¨æ–¹ä¾¿å¯ä¼¸ç¼©æ€§å¥½ä¸ç›¸å…³è½¯ä»¶é›†æˆç¨‹åº¦é«˜ç­‰ä¼˜ç‚¹ã€‚</li>
<li>SQLLiteï¼šåº”ç”¨åœ¨æ‰‹æœºç«¯çš„æ•°æ®åº“ã€‚</li>
</ul>
<h2 id="å››ã€MySQL"><a href="#å››ã€MySQL" class="headerlink" title="å››ã€MySQL"></a>å››ã€MySQL</h2><h3 id="4-1-ç®€ä»‹"><a href="#4-1-ç®€ä»‹" class="headerlink" title="4.1 ç®€ä»‹"></a>4.1 ç®€ä»‹</h3><blockquote>
<p> MySQLæ˜¯ä¸€ä¸ª<strong>å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</strong>ï¼Œç”±ç‘å…¸MySQL ABå…¬å¸å¼€å‘ï¼Œå±äºOracleæ——ä¸‹äº§å“ã€‚MySQLæ˜¯æœ€æµè¡Œçš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¹‹ä¸€ï¼Œåœ¨WEBåº”ç”¨æ–¹é¢ï¼ŒMySQLæ˜¯æœ€å¥½RDBMï¼ˆRelational Database Management Systemï¼Œå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼‰åº”ç”¨è½¯ä»¶ä¹‹ä¸€ã€‚</p>
</blockquote>
<h3 id="4-2-è®¿é—®ä¸ä¸‹è½½"><a href="#4-2-è®¿é—®ä¸ä¸‹è½½" class="headerlink" title="4.2 è®¿é—®ä¸ä¸‹è½½"></a>4.2 è®¿é—®ä¸ä¸‹è½½</h3><p>å®˜ç½‘åœ°å€ï¼š <a href="https://www.mysql.com/" target="_blank" rel="noopener">https://www.mysql.com/</a></p>
<p>ä¸‹è½½åœ°å€ï¼š <a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener">https://dev.mysql.com/downloads/mysql/</a></p>
<p>mysqlå®‰è£…è¿‡ç¨‹è¯·æŸ¥çœ‹<a href="https://blog.csdn.net/weixin_45333934/article/details/105065704" target="_blank" rel="noopener">mysqlå®‰è£…æŒ‡å—</a>ã€‚</p>
<h3 id="4-3-å¸è½½"><a href="#4-3-å¸è½½" class="headerlink" title="4.3 å¸è½½"></a>4.3 å¸è½½</h3><ul>
<li>æ§åˆ¶å°å¸è½½ã€‚</li>
<li>æ‰¾åˆ°mysqlçš„å®‰è£…ç›®å½•è¿›è¡Œåˆ é™¤ã€‚</li>
<li>programdataåˆ é™¤mysqlã€‚</li>
</ul>
<blockquote>
<ul>
<li>å¦‚æœå¸è½½åï¼Œæœ‰æœªåˆ é™¤çš„MySQLæœåŠ¡ï¼Œå¯é‡‡ç”¨æ‰‹åŠ¨åˆ é™¤ã€‚</li>
<li>ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥<code>sc delete MySQL57</code>ï¼Œå›è½¦ã€‚</li>
</ul>
</blockquote>
<p>å¦‚æœæŸä¸ªMySQLç»„ä»¶æ— æ³•åˆ é™¤ï¼Œå¯ä»¥å°è¯•ä»æ³¨å†Œè¡¨æœç´¢ä¿¡æ¯åˆ é™¤ç›¸å…³æ–‡ä»¶å¤¹ã€‚å…·ä½“å¯ç™¾åº¦ã€‚</p>
<h3 id="4-4-é…ç½®ç¯å¢ƒå˜é‡"><a href="#4-4-é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="4.4 é…ç½®ç¯å¢ƒå˜é‡"></a>4.4 é…ç½®ç¯å¢ƒå˜é‡</h3><p><strong>Windows</strong></p>
<ul>
<li>åˆ›å»ºMYSQL_HOME: <code>C:\Program Files\MySQL\MySQL Server5.7</code></li>
<li>è¿½åŠ PATH: <code>%MYSQL_HOME%\bin;</code></li>
</ul>
<h3 id="4-5-MySQLç›®å½•ç»“æ„"><a href="#4-5-MySQLç›®å½•ç»“æ„" class="headerlink" title="4.5 MySQLç›®å½•ç»“æ„"></a>4.5 MySQLç›®å½•ç»“æ„</h3><p>æ ¸å¿ƒæ–‡ä»¶ä»‹ç»ï¼š</p>
<table>
<thead>
<tr>
<th>æ–‡ä»¶å¤¹åç§°</th>
<th>å†…å®¹</th>
</tr>
</thead>
<tbody><tr>
<td>bin</td>
<td>å‘½ä»¤æ–‡ä»¶</td>
</tr>
<tr>
<td>lib</td>
<td>åº“æ–‡ä»¶</td>
</tr>
<tr>
<td>include</td>
<td>å¤´æ–‡ä»¶</td>
</tr>
<tr>
<td>Share</td>
<td>å­—ç¬¦é›†ã€è¯­è¨€ç­‰ä¿¡æ¯</td>
</tr>
</tbody></table>
<h3 id="4-6-MySQLé…ç½®æ–‡ä»¶"><a href="#4-6-MySQLé…ç½®æ–‡ä»¶" class="headerlink" title="4.6 MySQLé…ç½®æ–‡ä»¶"></a>4.6 MySQLé…ç½®æ–‡ä»¶</h3><blockquote>
<p> åœ¨MySQLå®‰è£…ç›®å½•ä¸­æ‰¾åˆ°my.iniæ–‡ä»¶ï¼Œå¹¶æ‰“å¼€my.iniæ–‡ä»¶æŸ¥çœ‹å‡ ä¸ªå¸¸ç”¨é…ç½®å‚æ•°ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>default-character-set</td>
<td>å®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†</td>
</tr>
<tr>
<td>character-set-server</td>
<td>æœåŠ¡å™¨ç«¯é»˜è®¤å­—ç¬¦é›†</td>
</tr>
<tr>
<td>port</td>
<td>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„ç«¯å£å·</td>
</tr>
<tr>
<td>default-storage-engine</td>
<td>MySQLé»˜è®¤å­˜å‚¨å¼•æ“INNODB</td>
</tr>
</tbody></table>
<p>é€šè¿‡å®‰è£…ç¨‹åºå®‰è£…çš„MySQLé…ç½®æ–‡ä»¶åœ¨Cç›˜çš„éšè—æ–‡ä»¶ProgramDataä¸­ï¼Œç‚¹è¿›å»æ‰¾åˆ°å¯¹åº”çš„MYSQLç›®å½•å°±èƒ½çœ‹åˆ°my.iniæ–‡ä»¶äº†ã€‚</p>
<p>å®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†å’ŒæœåŠ¡å™¨ç«¯é»˜è®¤å­—ç¬¦é›†å¿…é¡»ä¿æŒä¸€è‡´ï¼Œå®ƒä»¬åœ¨åˆå§‹çš„é…ç½®æ–‡ä»¶ä¸­éƒ½æ˜¯è¢«æ³¨é‡Šæ‰çš„ï¼Œé‚£ä¹ˆé»˜è®¤çš„å­—ç¬¦é›†ä¼šè·Ÿéšä½ çš„ç³»ç»Ÿé»˜è®¤å­—ç¬¦é›†ã€‚</p>
<h2 id="äº”ã€SQLè¯­è¨€"><a href="#äº”ã€SQLè¯­è¨€" class="headerlink" title="äº”ã€SQLè¯­è¨€"></a>äº”ã€SQLè¯­è¨€</h2><h3 id="5-1æ¦‚å¿µ"><a href="#5-1æ¦‚å¿µ" class="headerlink" title="5.1æ¦‚å¿µ"></a>5.1æ¦‚å¿µ</h3><blockquote>
<p>SQL (Structured Query Language)ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼Œç”¨äºå­˜å–æ•°æ®ã€æ›´æ–°ã€æŸ¥è¯¢å’Œç®¡ç†å…³ç³»æ•°æ®åº“ç³»ç»Ÿçš„ç¨‹åºè®¾è®¡è¯­è¨€ã€‚</p>
</blockquote>
<ul>
<li>ç»éªŒ:é€šå¸¸æ‰§è¡Œå¯¹æ•°æ®åº“çš„â€œå¢åˆ æ”¹æŸ¥â€ï¼Œç®€ç§°c (create) R (Read) u (Update) D (Delete)ã€‚</li>
</ul>
<h3 id="5-2-MySqlåº”ç”¨"><a href="#5-2-MySqlåº”ç”¨" class="headerlink" title="5.2  MySqlåº”ç”¨"></a>5.2  MySqlåº”ç”¨</h3><blockquote>
<p>å¯¹äºæ•°æ®åº“çš„æ“ä½œï¼Œéœ€è¦åœ¨è¿›å…¥MySQLç¯å¢ƒä¸‹è¿›è¡ŒæŒ‡ä»¤è¾“å…¥ï¼Œå¹¶åœ¨ä¸€å¥æŒ‡ä»¤çš„æœ«å°¾ä½¿ç”¨;ç»“æŸ</p>
</blockquote>
<h3 id="5-3åŸºæœ¬å‘½ä»¤"><a href="#5-3åŸºæœ¬å‘½ä»¤" class="headerlink" title="5.3åŸºæœ¬å‘½ä»¤"></a>5.3åŸºæœ¬å‘½ä»¤</h3><blockquote>
<p>æŸ¥çœ‹MvSqLä¸­æ‰€æœ‰æ•°æ®åº“</p>
</blockquote>
<p><code>mysqls SHOW DATABASES;#æ˜¾ç¤ºå½“å‰MySQLä¸­åŒ…å«çš„æ‰€æœ‰æ•°æ®åº“</code></p>
<table>
<thead>
<tr>
<th>æ•°æ®åº“åç§°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>information_schema</td>
<td>ä¿¡æ¯æ•°æ®åº“</td>
</tr>
<tr>
<td>mysql</td>
<td>æ ¸å¿ƒæ•°æ®åº“</td>
</tr>
<tr>
<td>performance_schema</td>
<td>æ€§èƒ½ä¼˜åŒ–</td>
</tr>
<tr>
<td>sakila</td>
<td>æ ·æ¿æ•°æ®åº“</td>
</tr>
<tr>
<td>sys</td>
<td>ç³»ç»Ÿæ•°æ®åº“</td>
</tr>
<tr>
<td>world</td>
<td>å›½å®¶çš„ç¼–å·ç­‰</td>
</tr>
</tbody></table>
<blockquote>
<p>åˆ›å»ºè‡ªå®šä¹‰æ•°æ®åº“</p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">create database mydb1; # åˆ›å»ºæ•°æ®åº“</span><br><span class="line">create database mydb2 character set gbk; # ç¼–ç æ ¼å¼ä¸ºgbk</span><br><span class="line">create database if not exists mydb4;# å¦‚æœmudb4ä¸å­˜åœ¨å°±åˆ›å»ºä»–</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>æŸ¥çœ‹æ•°æ®åº“åˆ›å»ºä¿¡æ¯</p>
</blockquote>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">database</span> mydb2; <span class="comment"># æŸ¥çœ‹æ•°æ®åº“åˆ›å»ºä¿¡æ¯</span></span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>ä¿®æ”¹æ•°æ®åº“</p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">alter database mydb2 character set utf8;</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>åˆ é™¤æ•°æ®åº“</p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">drop database mydb1; # åˆ é™¤æ•°æ®åº“</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ•°æ®åº“</p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">select database();</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>ä½¿ç”¨æ•°æ®åº“</p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">use mydb2;</span><br></pre></td></tr></tbody></table></figure>

<h2 id="å…­ã€å®¢æˆ·ç«¯å·¥å…·"><a href="#å…­ã€å®¢æˆ·ç«¯å·¥å…·" class="headerlink" title="å…­ã€å®¢æˆ·ç«¯å·¥å…·"></a>å…­ã€å®¢æˆ·ç«¯å·¥å…·</h2><h3 id="6-1-Navicate"><a href="#6-1-Navicate" class="headerlink" title="6.1 Navicate"></a>6.1 Navicate</h3><blockquote>
<p>Navicatæ˜¯ä¸€å¥—å¿«é€Ÿã€å¯é å¹¶ä»·æ ¼ç›¸å®œçš„æ•°æ®åº“ç®¡ç†å·¥å…·ï¼Œä¸“ä¸ºç®€åŒ–æ•°æ®åº“çš„ç®¡ç†åŠé™ä½ç³»ç»Ÿç®¡ç†æˆæœ¬è€Œè®¾ã€‚å®ƒçš„è®¾è®¡ç¬¦åˆæ•°æ®åº“ç®¡ç†å‘˜ã€å¼€å‘äººå‘˜åŠä¸­å°ä¼ä¸šçš„éœ€è¦ã€‚Navicat æ˜¯ä»¥ç›´è§‰åŒ–çš„å›¾å½¢ç”¨æˆ·ç•Œé¢è€Œå»ºçš„ï¼Œè®©ä½ å¯ä»¥ä»¥å®‰å…¨å¹¶ä¸”ç®€å•çš„æ–¹å¼åˆ›å»ºã€ç»„ç»‡ã€è®¿é—®å¹¶å…±ç”¨ä¿¡æ¯ã€‚</p>
</blockquote>
<h3 id="6-2-SQLyog"><a href="#6-2-SQLyog" class="headerlink" title="6.2 SQLyog"></a>6.2 SQLyog</h3><blockquote>
<p>MySQLå¯èƒ½æ˜¯ä¸–ç•Œä¸Šæœ€æµè¡Œçš„å¼€æºæ•°æ®åº“å¼•æ“ï¼Œä½†æ˜¯ä½¿ç”¨åŸºäºæ–‡æœ¬çš„å·¥å…·å’Œé…ç½®æ–‡ä»¶å¯èƒ½å¾ˆéš¾è¿›è¡Œç®¡ç†ã€‚SQLyogæä¾›äº†å®Œæ•´çš„å›¾å½¢ç•Œé¢ï¼Œå³ä½¿åˆå­¦è€…ä¹Ÿå¯ä»¥è½»æ¾ä½¿ç”¨MySQLçš„å¼ºå¤§åŠŸèƒ½ã€‚å…¶æ‹¥æœ‰å¹¿æ³›çš„é¢„å®šä¹‰å·¥å…·å’ŒæŸ¥è¯¢ã€å‹å¥½çš„è§†è§‰ç•Œé¢ã€ç±»ä¼¼Excelçš„æŸ¥è¯¢ç»“æœç¼–è¾‘ç•Œé¢ç­‰ä¼˜ç‚¹ã€‚</p>
</blockquote>
<h2 id="ä¸ƒã€æ•°æ®æŸ¥è¯¢ã€é‡ç‚¹ã€‘"><a href="#ä¸ƒã€æ•°æ®æŸ¥è¯¢ã€é‡ç‚¹ã€‘" class="headerlink" title="ä¸ƒã€æ•°æ®æŸ¥è¯¢ã€é‡ç‚¹ã€‘"></a>ä¸ƒã€æ•°æ®æŸ¥è¯¢ã€é‡ç‚¹ã€‘</h2><h3 id="7-1-æ•°æ®åº“è¡¨çš„åŸºæœ¬ç»“æ„"><a href="#7-1-æ•°æ®åº“è¡¨çš„åŸºæœ¬ç»“æ„" class="headerlink" title="7.1 æ•°æ®åº“è¡¨çš„åŸºæœ¬ç»“æ„"></a>7.1 æ•°æ®åº“è¡¨çš„åŸºæœ¬ç»“æ„</h3><blockquote>
<p>å…³ç³»æ•°æ®åº“æ˜¯ä»¥è¡¨æ ¼(Table)è¿›è¡Œæ•°æ®å­˜å‚¨,è¡¨æ ¼ç”±â€œè¡Œâ€å’Œâ€œåˆ—â€ç»„æˆ</p>
</blockquote>
<ul>
<li>ç»éªŒï¼šæ‰§è¡ŒæŸ¥è¯¢è¯­å¥è¿”å›çš„ç»“æœæ˜¯ä¸€å¼ è™šæ‹Ÿè¡¨</li>
</ul>
<h3 id="7-2-åŸºæœ¬æŸ¥è¯¢"><a href="#7-2-åŸºæœ¬æŸ¥è¯¢" class="headerlink" title="7.2 åŸºæœ¬æŸ¥è¯¢"></a>7.2 åŸºæœ¬æŸ¥è¯¢</h3><blockquote>
<p>è¯­æ³•:SELECTåˆ—åFROMè¡¨å</p>
</blockquote>
<table>
<thead>
<tr>
<th>å…³é”®å­—</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>SELECT</td>
<td>æŒ‡å®šè¦æŸ¥è¯¢çš„åˆ—</td>
</tr>
<tr>
<td>FROM</td>
<td>æŒ‡å®šè¦æŸ¥è¯¢çš„è¡¨</td>
</tr>
</tbody></table>
<h4 id="7-2-1-æŸ¥è¯¢éƒ¨åˆ†åˆ—"><a href="#7-2-1-æŸ¥è¯¢éƒ¨åˆ†åˆ—" class="headerlink" title="7.2.1 æŸ¥è¯¢éƒ¨åˆ†åˆ—"></a>7.2.1 æŸ¥è¯¢éƒ¨åˆ†åˆ—</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢å‘˜å·¥è¡¨ä¸­æ‰€æœ‰å‘˜å·¥çš„ç¼–å·ã€‘ä½ åå­—ã€é‚®ç®±</span><br><span class="line">select employee_id fist_name, email</span><br><span class="line">from t_employee</span><br></pre></td></tr></tbody></table></figure>

<h4 id="7-2-2æŸ¥è¯¢æ‰€æœ‰åˆ—"><a href="#7-2-2æŸ¥è¯¢æ‰€æœ‰åˆ—" class="headerlink" title="7.2.2æŸ¥è¯¢æ‰€æœ‰åˆ—"></a>7.2.2æŸ¥è¯¢æ‰€æœ‰åˆ—</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢æ‰€æœ‰åˆ—</span><br><span class="line"># 1ã€ä½¿ç”¨*çš„æ–¹å¼</span><br><span class="line">SELECT * FROM t_employees;</span><br><span class="line"># 2ã€ä½¿ç”¨åˆ—åçš„æ–¹å¼</span><br><span class="line">SELECT æ‰€æœ‰åˆ—çš„åˆ—å FROM t_employees;</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>æ³¨æ„ï¼šç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œä¼˜å…ˆä½¿ç”¨åˆ—åæŸ¥è¯¢ï¼Œ*çš„æ–¹å¼éœ€è¦è½¬æ¢æˆå…¨åˆ—åã€‚æ•ˆç‡ä½ï¼Œå¯è¯»æ€§å·®</li>
</ul>
<h4 id="7-2-3-å¯¹åˆ—ä¸­çš„æ•°æ®è¿›è¡Œè¿ç®—"><a href="#7-2-3-å¯¹åˆ—ä¸­çš„æ•°æ®è¿›è¡Œè¿ç®—" class="headerlink" title="7.2.3 å¯¹åˆ—ä¸­çš„æ•°æ®è¿›è¡Œè¿ç®—"></a>7.2.3 å¯¹åˆ—ä¸­çš„æ•°æ®è¿›è¡Œè¿ç®—</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢å‘˜å·¥çš„ç¼–å·ã€åå­—ã€å¹´è–ª</span><br><span class="line">SELECT EMPLOYEE_ID,FIRST_NAME,SALARY * 12 FROM t_employees</span><br></pre></td></tr></tbody></table></figure>

<table>
<thead>
<tr>
<th>ç®—æ•°è¿ç®—ç¬¦</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>ä¸¤åˆ—åšåŠ æ³•è¿ç®—</td>
</tr>
<tr>
<td>-</td>
<td>ä¸¤åˆ—åšå‡æ³•è¿ç®—</td>
</tr>
<tr>
<td>*</td>
<td>ä¸¤åˆ—åšä¹˜æ³•è¿ç®—</td>
</tr>
<tr>
<td>/</td>
<td>ä¸¤åˆ—åšé™¤æ³•è¿ç®—</td>
</tr>
</tbody></table>
<ul>
<li>% æ˜¯å ä½ç¬¦ã€‚è€Œå¹¶éæ¨¡è¿ç®—ç¬¦</li>
</ul>
<h4 id="7-2-4-åˆ—çš„åˆ«å"><a href="#7-2-4-åˆ—çš„åˆ«å" class="headerlink" title="7.2.4 åˆ—çš„åˆ«å"></a>7.2.4 åˆ—çš„åˆ«å</h4><blockquote>
<p>åˆ— as åˆ—å</p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">SELECT EMPLOYEE_ID 'ç¼–å·',FIRST_NAME AS 'å§“æ°',SALARY * 12 AS 'å¹´è–ª' FROM t_employees;</span><br></pre></td></tr></tbody></table></figure>

<h4 id="7-2-5-æŸ¥è¯¢ç»“æœå»é‡"><a href="#7-2-5-æŸ¥è¯¢ç»“æœå»é‡" class="headerlink" title="7.2.5 æŸ¥è¯¢ç»“æœå»é‡"></a>7.2.5 æŸ¥è¯¢ç»“æœå»é‡</h4><blockquote>
<p>distinct åˆ—å</p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢å‘˜å·¥è¡¨ä¸­æœ‰å¤šå°‘ä¸ªç»ç†</span><br><span class="line">SELECT DISTINCT MANAGER_ID FROM t_employees;</span><br></pre></td></tr></tbody></table></figure>

<h3 id="7-3-æ’åºæŸ¥è¯¢"><a href="#7-3-æ’åºæŸ¥è¯¢" class="headerlink" title="7.3  æ’åºæŸ¥è¯¢"></a>7.3  æ’åºæŸ¥è¯¢</h3><blockquote>
<p>è¯­æ³•:SELECT åˆ—å FROM è¡¨å <code>ORDER BYæ’åºåˆ—[æ’åºè§„åˆ™]</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>æ’åºè§„åˆ™</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>ASC</td>
<td>å¯¹å‰é¢æ’åºåˆ—åšå‡åºæ’åˆ—</td>
</tr>
<tr>
<td>desc</td>
<td>å¯¹å‰é¢æ’åºåˆ—åšé™åºæ’åº</td>
</tr>
</tbody></table>
<h4 id="7-3-1-ä¾æ®å•åˆ—æ’åº"><a href="#7-3-1-ä¾æ®å•åˆ—æ’åº" class="headerlink" title="7.3.1  ä¾æ®å•åˆ—æ’åº"></a>7.3.1  ä¾æ®å•åˆ—æ’åº</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># å¯¹å‘˜å·¥å·¥èµ„è¿›è¡Œå‡åºæ’åº</span><br><span class="line">SELECT EMPLOYEE_ID,salary FROM t_employees ORDER BY salary + 0 ASC;</span><br><span class="line"># å¯¹å‘˜å·¥å·¥èµ„è¿›è¡Œé™åºæ’åº</span><br><span class="line">SELECT EMPLOYEE_ID,salary FROM t_employees ORDER BY salary + 0 DESC;</span><br></pre></td></tr></tbody></table></figure>

<h4 id="7-3-2-ä¾æ®å¤šåˆ—æ’åº"><a href="#7-3-2-ä¾æ®å¤šåˆ—æ’åº" class="headerlink" title="7.3.2  ä¾æ®å¤šåˆ—æ’åº"></a>7.3.2  ä¾æ®å¤šåˆ—æ’åº</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŒ‰ç…§å·¥èµ„é«˜ä½è¿›è¡Œé™åºæ’åºï¼Œå¦‚æœå·¥èµ„ç›¸ç­‰ï¼ŒæŒ‰ç…§å‘˜å·¥ç¼–å·å‡åºè¿›è¡Œæ’åº</span><br><span class="line">SELECT EMPLOYEE_ID,salary FROM t_employees ORDER BY salary + 0 DESC, EMPLOYEE_ID DESC;</span><br></pre></td></tr></tbody></table></figure>

<h3 id="7-4-æ¡ä»¶æŸ¥è¯¢"><a href="#7-4-æ¡ä»¶æŸ¥è¯¢" class="headerlink" title="7.4  æ¡ä»¶æŸ¥è¯¢"></a>7.4  æ¡ä»¶æŸ¥è¯¢</h3><blockquote>
<p>è¯­æ³•:  SELECT åˆ—å FROM è¡¨å WHERE  æ¡ä»¶</p>
</blockquote>
<table>
<thead>
<tr>
<th>å…³é”®å­—</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>where æ¡ä»¶</td>
<td>åœ¨æŸ¥è¯¢ç»“æœä¸­ï¼Œç­›é€‰ç¬¦åˆæŸ¥è¯¢æ¡ä»¶çš„æŸ¥è¯¢ç»“æœï¼Œæ¡ä»¶ä¸ºå¸ƒå°”è¡¨è¾¾å¼</td>
</tr>
</tbody></table>
<h4 id="7-4-1-ç­‰å€¼åˆ¤æ–­"><a href="#7-4-1-ç­‰å€¼åˆ¤æ–­" class="headerlink" title="7.4.1  ç­‰å€¼åˆ¤æ–­"></a>7.4.1  ç­‰å€¼åˆ¤æ–­</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢ç¬¦åˆæ¡ä»¶çš„æ•°æ®</span><br><span class="line">SELECT EMPLOYEE_ID, FIRST_NAME,salary</span><br><span class="line">FROM t_employees</span><br><span class="line">WHERE SALARY = 11000</span><br><span class="line"></span><br><span class="line">SELECT EMPLOYEE_ID, FIRST_NAME,salary</span><br><span class="line">FROM t_employees</span><br><span class="line">WHERE SALARY = 24000</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>æ³¨æ„ï¼šä¸javaä¸åŒï¼ˆ==ï¼‰ï¼Œmysqlä¸­ç­‰å€¼åˆ¤æ–­ä½¿ç”¨=</li>
</ul>
<h4 id="7-4-2-é€»è¾‘åˆ¤æ–­ï¼ˆand-ã€orã€-notï¼‰"><a href="#7-4-2-é€»è¾‘åˆ¤æ–­ï¼ˆand-ã€orã€-notï¼‰" class="headerlink" title="7.4.2  é€»è¾‘åˆ¤æ–­ï¼ˆand ã€orã€ notï¼‰"></a>7.4.2  é€»è¾‘åˆ¤æ–­ï¼ˆand ã€orã€ notï¼‰</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">SELECT EMPLOYEE_ID, FIRST_NAME,salary</span><br><span class="line">FROM t_employees</span><br><span class="line">WHERE SALARY = 11000 AND COMMISSION_PCT = 0.30 AND EMPLOYEE_ID = '148';</span><br><span class="line"></span><br><span class="line">SELECT EMPLOYEE_ID, FIRST_NAME,salary</span><br><span class="line">FROM t_employees</span><br><span class="line">WHERE SALARY = 11000 OR COMMISSION_PCT = 0.30;</span><br><span class="line"></span><br><span class="line">SELECT EMPLOYEE_ID, FIRST_NAME,salary</span><br><span class="line">FROM t_employees</span><br><span class="line">WHERE NOT SALARY = 11000;</span><br></pre></td></tr></tbody></table></figure>

<h4 id="7-4-3-ä¸ç­‰å€¼åˆ¤æ–­ï¼ˆ-gt-ã€-lt-ã€-gt-ã€-lt-ã€-lt-gt-ã€-ï¼‰"><a href="#7-4-3-ä¸ç­‰å€¼åˆ¤æ–­ï¼ˆ-gt-ã€-lt-ã€-gt-ã€-lt-ã€-lt-gt-ã€-ï¼‰" class="headerlink" title="7.4.3  ä¸ç­‰å€¼åˆ¤æ–­ï¼ˆ>ã€ <ã€>=ã€<=ã€<>ã€!=ï¼‰"></a>7.4.3  ä¸ç­‰å€¼åˆ¤æ–­ï¼ˆ&gt;ã€ &lt;ã€&gt;=ã€&lt;=ã€&lt;&gt;ã€!=ï¼‰</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">SELECT EMPLOYEE_ID, FIRST_NAME,salary</span><br><span class="line">FROM t_employees</span><br><span class="line">WHERE SALARY != 11000;</span><br><span class="line"></span><br><span class="line">SELECT EMPLOYEE_ID, FIRST_NAME,salary</span><br><span class="line">FROM t_employees</span><br><span class="line">WHERE SALARY &lt;&gt; 11000;</span><br><span class="line"></span><br><span class="line"># æŸ¥è¯¢å·¥èµ„åŒºé—´åœ¨[6000, 10000]ä¹‹é—´</span><br><span class="line">SELECT EMPLOYEE_ID, FIRST_NAME,salary</span><br><span class="line">FROM t_employees</span><br><span class="line">WHERE SALARY &gt;= 6000 AND salary &lt;= 10000;</span><br></pre></td></tr></tbody></table></figure>



<h4 id="7-4-4-åŒºé—´åˆ¤æ–­-between-èµ·å§‹and-ç»ˆæ­¢"><a href="#7-4-4-åŒºé—´åˆ¤æ–­-between-èµ·å§‹and-ç»ˆæ­¢" class="headerlink" title="7.4.4  åŒºé—´åˆ¤æ–­(between èµ·å§‹and ç»ˆæ­¢)"></a>7.4.4  åŒºé—´åˆ¤æ–­(between èµ·å§‹and ç»ˆæ­¢)</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢å·¥èµ„åŒºé—´åœ¨[6000, 10000]ä¹‹é—´</span><br><span class="line">SELECT EMPLOYEE_ID, FIRST_NAME,salary</span><br><span class="line">FROM t_employees</span><br><span class="line">WHERE SALARY BETWEEN 6000 AND 10000;</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>æ³¨æ„ï¼šåœ¨åŒºé—´åˆ¤æ–­ä¸­ï¼Œå°å€¼åœ¨å‰ï¼Œå¤§å€¼åœ¨åï¼Œåä¹‹ï¼Œå¾—ä¸åˆ°ç»“æœ</li>
</ul>
<h4 id="7-4-5-nullå€¼åˆ¤æ–­ï¼ˆis-nullã€is-not-nullï¼‰"><a href="#7-4-5-nullå€¼åˆ¤æ–­ï¼ˆis-nullã€is-not-nullï¼‰" class="headerlink" title="7.4.5 nullå€¼åˆ¤æ–­ï¼ˆis nullã€is not nullï¼‰"></a>7.4.5 nullå€¼åˆ¤æ–­ï¼ˆis nullã€is not nullï¼‰</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢å‡ºç»ç†ç¼–å·ä¸ºnullçš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line">SELECT employee_id, FIRST_NAME,MANAGER_ID</span><br><span class="line">FROM t_employees</span><br><span class="line">WHERE MANAGER_ID IS NULL;</span><br><span class="line"></span><br><span class="line">SELECT employee_id, FIRST_NAME,MANAGER_ID</span><br><span class="line">FROM t_employees</span><br><span class="line">WHERE MANAGER_ID IS NOT NULL;</span><br></pre></td></tr></tbody></table></figure>



<h4 id="7-4-6-æšä¸¾æŸ¥è¯¢ï¼ˆINï¼ˆå€¼1ï¼Œ-å€¼2ï¼Œå€¼3ï¼‰ï¼‰"><a href="#7-4-6-æšä¸¾æŸ¥è¯¢ï¼ˆINï¼ˆå€¼1ï¼Œ-å€¼2ï¼Œå€¼3ï¼‰ï¼‰" class="headerlink" title="7.4.6  æšä¸¾æŸ¥è¯¢ï¼ˆINï¼ˆå€¼1ï¼Œ å€¼2ï¼Œå€¼3ï¼‰ï¼‰"></a>7.4.6  æšä¸¾æŸ¥è¯¢ï¼ˆINï¼ˆå€¼1ï¼Œ å€¼2ï¼Œå€¼3ï¼‰ï¼‰</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢éƒ¨é—¨ç¼–å·ä¸º70,80,90 çš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line">SELECT EMPLOYEE_ID, FIRST_NAME,SALARY,department_id</span><br><span class="line">FROM t_employees</span><br><span class="line">WHERE department_id = 70 OR department_id = 80 OR department_id = 90;</span><br><span class="line"></span><br><span class="line">SELECT EMPLOYEE_ID, FIRST_NAME,SALARY,department_id</span><br><span class="line">FROM t_employees</span><br><span class="line">WHERE department_id IN (70,80,90);</span><br><span class="line"># in çš„æ•ˆç‡åœ¨å¤§æ•°æ®é¢å‰è¾ƒä½</span><br></pre></td></tr></tbody></table></figure>



<h4 id="7-4-7-æ¨¡ç³ŠæŸ¥è¯¢"><a href="#7-4-7-æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="7.4.7  æ¨¡ç³ŠæŸ¥è¯¢"></a>7.4.7  æ¨¡ç³ŠæŸ¥è¯¢</h4><blockquote>
<ul>
<li>LIKE_ï¼ˆå•ä¸ªä»»ç”±å­—ç¬¦ï¼‰</li>
</ul>
<p>â€‹       åˆ—å LIKE â€˜å¼ __â€™</p>
<ul>
<li><p>LIKE %(ä»»æ„é•¿åº¦çš„ä»»æ„å­—ç¬¦)</p>
<p>åˆ—å LIKE â€˜å¼ %â€™</p>
</li>
</ul>
</blockquote>
<ul>
<li>æ³¨æ„ï¼šæ¨¡ç³ŠæŸ¥è¯¢åªèƒ½å’ŒLIKEå…³é”®å­—ç»“åˆä½¿ç”¨</li>
</ul>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢Lå¼€å¤´çš„ä¸‰ä¸ªå­—çš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line">SELECT EMPLOYEE_ID, FIRST_NAME, SALARY</span><br><span class="line">FROM t_employees</span><br><span class="line">WHERE FIRST_NAME LIKE 'L__';</span><br><span class="line"># æŸ¥è¯¢æ‰€æœ‰ä»¥Lå¼€å¤´çš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line">SELECT EMPLOYEE_ID,FIRST_NAME,SALARY</span><br><span class="line">FROM t_employees</span><br><span class="line">WHERE first_name LIKE 'å¼ %';</span><br></pre></td></tr></tbody></table></figure>

<h4 id="7-4-8-åˆ†æ”¯ç»“æ„æŸ¥è¯¢"><a href="#7-4-8-åˆ†æ”¯ç»“æ„æŸ¥è¯¢" class="headerlink" title="7.4.8 åˆ†æ”¯ç»“æ„æŸ¥è¯¢"></a>7.4.8 åˆ†æ”¯ç»“æ„æŸ¥è¯¢</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">CASE</span><br><span class="line">    WHEN æ¡ä»¶1 THEN ç»“æœ1</span><br><span class="line">    WHEN æ¡ä»¶2 THEN ç»“æœ2</span><br><span class="line">    WHEN æ¡ä»¶3 THEN ç»“æœ3</span><br><span class="line">    ELSE ç»“æœ</span><br><span class="line">END</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>æ³¨æ„ï¼šé€šè¿‡ä½¿ç”¨case  endè¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œæ¯æ¡æ•°æ®å¯¹åº”ç”Ÿæˆä¸€ä¸ªå€¼</li>
<li>ç»éªŒï¼šç±»ä¼¼javaä¸­çš„switch</li>
</ul>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</span><br><span class="line">SELECT EMPLOYEE_ID, FIRST_NAME, SALARY,department_id,</span><br><span class="line">CASE</span><br><span class="line">	WHEN SALARY &gt;= 10000 THEN 'A'</span><br><span class="line">	WHEN SALARY &gt;= 8000 AND SALARY &lt; 10000 THEN 'B'</span><br><span class="line">	WHEN SALARY &gt;= 6000 AND SALARY &lt; 8000 THEN 'C'</span><br><span class="line">	WHEN SALARY &gt;= 4000 AND SALARY &lt; 6000 THEN 'D'</span><br><span class="line">	ELSE 'E'</span><br><span class="line">END AS "level"</span><br><span class="line">FROM t_employees;</span><br></pre></td></tr></tbody></table></figure>

<h3 id="7-5-æ—¶é—´æŸ¥è¯¢"><a href="#7-5-æ—¶é—´æŸ¥è¯¢" class="headerlink" title="7.5  æ—¶é—´æŸ¥è¯¢"></a>7.5  æ—¶é—´æŸ¥è¯¢</h3><blockquote>
<p>select     æ—¶é—´å‡½æ•°ï¼ˆ[å‚æ•°åˆ—è¡¨]ï¼‰</p>
</blockquote>
<ul>
<li>ç»éªŒï¼šæ‰§è¡Œæ—¶é—´å‡½æ•°æŸ¥è¯¢ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€å¼ è™šè¡¨</li>
</ul>
<table>
<thead>
<tr>
<th>æ—¶é—´å‡½æ•°</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>SYSDATE</td>
<td>å½“å‰ç³»ç»Ÿæ—¶é—´ï¼ˆæ—¥æœˆå¹´æ—¶åˆ†ç§’ï¼‰</td>
</tr>
<tr>
<td>CURDATE</td>
<td>è·å–å½“å‰æ—¥æœŸ</td>
</tr>
<tr>
<td>CURTIME</td>
<td>è·å–å½“å‰æ—¶é—´</td>
</tr>
<tr>
<td>WEEK(DATE)</td>
<td>è·å–æŒ‡å®šæ—¥æœŸä¸ºä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨</td>
</tr>
<tr>
<td>YEAR(DATE)</td>
<td>è·å–æŒ‡å®šæ—¥æœŸçš„å¹´ä»½</td>
</tr>
<tr>
<td>HOUR(TIME)</td>
<td>è·å–æŒ‡å®šæ—¶é—´çš„å°æ—¶å€¼</td>
</tr>
<tr>
<td>MINUTE(TIME)</td>
<td>è·å–æ—¶é—´çš„åˆ†é’Ÿå€¼</td>
</tr>
<tr>
<td>DATEDIFF(DATE,DATE2)</td>
<td>è·å–DATE1å’ŒDATE2ä¹‹é—´ç›¸éš”çš„å¤©æ•°</td>
</tr>
<tr>
<td>ADDDATE(DATE,N)</td>
<td>è®¡ç®—DATEåŠ ä¸ŠNå¤©åçš„æ—¥æœŸ</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># å½“å‰ç³»ç»Ÿçš„æ—¶é—´</span><br><span class="line">SELECT SYSDATE();</span><br><span class="line"># å½“å‰ç³»ç»Ÿçš„riæœŸ</span><br><span class="line">SELECT CURDATE();</span><br><span class="line"># è·å–ç³»ç»Ÿæ—¶é—´</span><br><span class="line">SELECT CURTIME();</span><br><span class="line"># è·å–æŒ‡å®šæ—¥æœŸä¸ºä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨</span><br><span class="line">SELECT WEEK(SYSDATE());</span><br><span class="line"># è·å–æŒ‡å®šæ—¥æœŸå¿ åšçš„å¹´ä»½</span><br><span class="line">SELECT YEAR(SYSDATE());</span><br><span class="line"># è·å–å°æ—¶å€¼</span><br><span class="line">SELECT HOUR(CURTIME());</span><br><span class="line"># è·å–åˆ†é’Ÿå€¼</span><br><span class="line">SELECT MINUTE(CURTIME());</span><br><span class="line"># æŒ‡å®šæ—¥æœŸä¹‹é—´çš„ç›¸éš”å¤©æ•°</span><br><span class="line">SELECT DATEDIFF('2020-4-1','2019-4-1');</span><br><span class="line"># è®¡ç®—dateæ—¥æœŸåŠ ä¸Šnå¤©åçš„æ—¥æœŸ</span><br><span class="line">SELECT	ADDDATE('2020-4-1', 5);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="7-6-å­—ç¬¦ä¸²æŸ¥è¯¢"><a href="#7-6-å­—ç¬¦ä¸²æŸ¥è¯¢" class="headerlink" title="7.6  å­—ç¬¦ä¸²æŸ¥è¯¢"></a>7.6  å­—ç¬¦ä¸²æŸ¥è¯¢</h3><blockquote>
<p>è¯­æ³•:    SELECT    å­—ç¬¦ä¸²å‡½æ•°([å‚æ•°åˆ—è¡¨])</p>
</blockquote>
<table>
<thead>
<tr>
<th>å­—ç¬¦ä¸²å‡½æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>concat(str1, â€¦)</td>
<td>å°†å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥</td>
</tr>
<tr>
<td>insert(str, pos, len, newStr)</td>
<td>å°†strä¸­æŒ‡å®šposä½ç½®å¼€å§‹lené•¿åº¦çš„å†…å®¹æ›¿æ¢ä¸ºnewStr</td>
</tr>
<tr>
<td>lower(str)</td>
<td>å°†æŒ‡å®šå­—ç¬¦ä¸²è½¬æ¢è¯¶å°å†™</td>
</tr>
<tr>
<td>upper(str)</td>
<td>å°†æŒ‡å®šå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™</td>
</tr>
<tr>
<td>substring(str, num, len)</td>
<td>å°†strå­—ç¬¦ä¸²æŒ‡å®šnumä½ç½®å¼€å§‹æˆªå–lenä¸ªå†…å®¹</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥</span><br><span class="line">SELECT CONCAT('My', 'S,', 'QAL');</span><br><span class="line">SELECT CONCAT(FIRST_NAME,'-', last_name) FROM t_employees;</span><br><span class="line"># å­—ç¬¦ä¸²æ›¿æ¢</span><br><span class="line">SELECT INSERT('è¿™æ˜¯ä¸€ä¸ªæ•°æ®åº“',3, 2, 'MySql')</span><br><span class="line"># å­—ç¬¦ä¸²è½¬å°å†™</span><br><span class="line">SELECT LOWER('LOWER')</span><br><span class="line"># å­—ç¬¦ä¸²è½¬å¤§å†™</span><br><span class="line">SELECT UPPER('shdiuashdui')</span><br><span class="line"># æŒ‡å®šå†…å®¹æˆªå–</span><br><span class="line">SELECT SUBSTRING('JaavaMySqlStrSub',6,6);</span><br><span class="line"># MySqlS</span><br></pre></td></tr></tbody></table></figure>

<h3 id="7-7-èšåˆå‡½æ•°"><a href="#7-7-èšåˆå‡½æ•°" class="headerlink" title="7.7  èšåˆå‡½æ•°"></a>7.7  èšåˆå‡½æ•°</h3><blockquote>
<p>è¯­æ³•:    SELECT èšåˆå‡½æ•°(åˆ—å)      FROM    è¡¨å;</p>
</blockquote>
<ul>
<li>ç»éªŒï¼šå¯¹å¤šæ¡æ•°æ®çš„å•åˆ—è¿›è¡Œç»Ÿè®¡ï¼Œè¿”å›ç»Ÿè®¡åçš„ä¸€è¡Œç»“æœ</li>
</ul>
<table>
<thead>
<tr>
<th>èšåˆå‡½æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>SUMï¼ˆï¼‰</td>
<td>æ±‚æ‰€æœ‰è¡Œä¸­å•åˆ—ç»“æœçš„æ€»å’Œ</td>
</tr>
<tr>
<td>AVG()</td>
<td>å¹³å‡å€¼</td>
</tr>
<tr>
<td>MAX()</td>
<td>æœ€å¤§å€¼</td>
</tr>
<tr>
<td>MIN()</td>
<td>æœ€å°å€¼</td>
</tr>
<tr>
<td>COUNT()</td>
<td>æ±‚æ€»è¡Œæ•°</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># èšåˆå‡½æ•°</span><br><span class="line"># æ±‚å•åˆ—æ‰€æœ‰æ•°æ®çš„å’Œ</span><br><span class="line">SELECT SUM(SALARY) FROM t_employees;</span><br><span class="line"># æ±‚å•åˆ—æ‰€æœ‰æ•°æ®çš„å¹³å‡å€¼</span><br><span class="line">SELECT AVG(SALARY) FROM t_employees;</span><br><span class="line"># æ±‚å•åˆ—æœ€å¤§å€¼</span><br><span class="line">SELECT MAX(SALARY + 0) FROM t_employees;</span><br><span class="line"># æ±‚å•åˆ—æœ€å°å€¼</span><br><span class="line">SELECT MIN(salary + 0) FROM t_employees;</span><br><span class="line"># æ±‚æ€»è¡Œæ•° å‘˜å·¥æ€»æ•°</span><br><span class="line">SELECT COUNT(EMPLOYEE_ID) FROM t_employees;</span><br><span class="line"># ç»Ÿè®¡æœ‰ææˆçš„äººæ•° ä¼šè‡ªåŠ¨å¿½ç•¥nullå€¼ï¼Œä¸è¿›è¡Œç»Ÿè®¡</span><br><span class="line">SELECT COUNT(COMMISSION_PCT) FROM t_employees;</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>æ³¨æ„ï¼šèšåˆå‡½æ•°ä¼šè‡ªåŠ¨å¿½ç•¥nullå€¼ï¼Œä¸è¿›è¡Œç»Ÿè®¡</li>
</ul>
<h3 id="7-8-åˆ†ç»„æŸ¥è¯¢"><a href="#7-8-åˆ†ç»„æŸ¥è¯¢" class="headerlink" title="7.8  åˆ†ç»„æŸ¥è¯¢"></a>7.8  åˆ†ç»„æŸ¥è¯¢</h3><blockquote>
<p>è¯­æ³•ï¼š<code>SELECT åˆ—å FROM è¡¨å WHERE æ¡ä»¶ GROUP BY åˆ†ç»„ä¾æ®(åˆ—);</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>å…³é”®å­—</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>GROUP BY</td>
<td>åˆ†ç»„ä¾æ®ï¼Œå¿…é¡»åœ¨WHEREä¹‹åç”Ÿæ•ˆ</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢å„ä¸ªéƒ¨é—¨çš„é¢æ€»äººæ•°</span><br><span class="line">SELECT department_id, COUNT(employee_id)</span><br><span class="line">FROM t_employees</span><br><span class="line">GROUP BY department_id;</span><br><span class="line"># æŸ¥è¯¢å„ä¸ªéƒ¨é—¨çš„å¹³å±€å·¥èµ„</span><br><span class="line">SELECT department_id, AVG(salary)</span><br><span class="line">FROM t_employees</span><br><span class="line">GROUP BY department_id;</span><br><span class="line"># æŸ¥è¯¢å„ä¸ªéƒ¨é—¨ã€å„ä¸ªå²—ä½çš„æ€»äººæ•°</span><br><span class="line">SELECT department_id,job_id, COUNT(employee_id)</span><br><span class="line">FROM t_employees</span><br><span class="line">GROUP BY department_id, job_id;</span><br><span class="line"># å¸¸è§é—®é¢˜ï¼šæŸ¥è¯¢å„ä¸ªéƒ¨é—¨idï¼Œæ€»äººæ•°ã€first_name</span><br><span class="line">SELECT department_id,COUNT(employee_id), first_name</span><br><span class="line">FROM t_employees</span><br><span class="line">GROUP BY department_id;</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>åˆ†ç»„æŸ¥è¯¢ä¸­ï¼Œselectæ˜¾ç¤ºçš„åˆ—åªèƒ½æ˜¯åˆ†ç»„ä¾æ®åˆ—ï¼Œæˆ–è€…èšåˆå‡½æ•°åˆ—ï¼Œä¸èƒ½å‡ºç°å…¶ä»–åˆ—</li>
</ul>
<h3 id="7-9-åˆ†ç»„è¿‡æ»¤æŸ¥è¯¢"><a href="#7-9-åˆ†ç»„è¿‡æ»¤æŸ¥è¯¢" class="headerlink" title="7.9  åˆ†ç»„è¿‡æ»¤æŸ¥è¯¢"></a>7.9  åˆ†ç»„è¿‡æ»¤æŸ¥è¯¢</h3><blockquote>
<p>è¯­æ³•ï¼š<code>SELECT åˆ—å FROM è¡¨å WHERE æ¡ä»¶ GROUNP BY åˆ†ç»„åˆ— HAVING è¿‡æ»¤è§„åˆ™</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>å…³é”®å­—</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>HAVINGè¿‡æ»¤è§„åˆ™</td>
<td>è¿‡æ»¤è§„åˆ™å®šä¹‰å¯¹åˆ†ç»„åçš„æ•°æ®è¿›è¡Œè¿‡æ»¤</td>
</tr>
</tbody></table>
<p>ç»Ÿè®¡éƒ¨é—¨çš„æœ€é«˜å·¥èµ„</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#æ€è·¯</span><br><span class="line">#1.ç¡®å®šåˆ†ç»„ä¾æ®ï¼ˆDEPARTMENT_IDï¼‰</span><br><span class="line">#2.å¯¹åˆ†ç»„åçš„æ•°æ®ï¼Œè¿‡æ»¤å‡ºéƒ¨é—¨ç¼–å·æ˜¯60ã€70ã€90ä¿¡æ¯</span><br><span class="line">#3.MAX()å‡½æ•°</span><br><span class="line">SELECT DEPARTMENT_ID,MAX(SALARY) </span><br><span class="line">FROM t_employees GROUP BY DEPARTMENT_ID </span><br><span class="line">HAVING DEPARTMENT_ID IN (60,70,90);</span><br><span class="line">#GROUPç¡®å®šåˆ†ç»„ä¾æ®DEPARTMENT_ID</span><br><span class="line">#HAVINGè¿‡æ»¤å‡º60ï¼Œ70ï¼Œ90çš„éƒ¨é—¨</span><br><span class="line">#SELECTæŸ¥çœ‹éƒ¨é—¨ç¼–å·å’ŒMAXå‡½æ•°</span><br></pre></td></tr></tbody></table></figure>

<h3 id="7-10-é™å®šæŸ¥è¯¢"><a href="#7-10-é™å®šæŸ¥è¯¢" class="headerlink" title="7.10  é™å®šæŸ¥è¯¢"></a>7.10  é™å®šæŸ¥è¯¢</h3><blockquote>
<p> <strong>è¯­æ³•</strong>ï¼š<code>SELECT åˆ—å FROM è¡¨å LIMIT èµ·å§‹è¡Œ,æŸ¥è¯¢è¡Œæ•°</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>å…³é”®å­—</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>LIMIT offset_start,row_count</td>
<td>é™å®šæŸ¥è¯¢ç»“æœçš„èµ·å§‹è¡Œå’Œæ€»è¡Œæ•°</td>
</tr>
</tbody></table>
<h4 id="7-10-1-æŸ¥è¯¢å‰5è¡Œè®°å½•"><a href="#7-10-1-æŸ¥è¯¢å‰5è¡Œè®°å½•" class="headerlink" title="7.10.1 æŸ¥è¯¢å‰5è¡Œè®°å½•"></a>7.10.1 æŸ¥è¯¢å‰5è¡Œè®°å½•</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#æŸ¥è¯¢è¡¨ä¸­å‰äº”åå‘˜å·¥çš„æ‰€æœ‰ä¿¡æ¯</span><br><span class="line">SELECT * FROM t_employees LIMIT 0,5;</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>èµ·å§‹è¡Œæ˜¯ä»0å¼€å§‹</strong>ï¼Œ<strong>ä»£è¡¨äº†ç¬¬ä¸€è¡Œ</strong>ï¼Œ<strong>ç¬¬äºŒä¸ªå‚æ•°ä»£è¡¨çš„æ˜¯ä»æŒ‡å®šè¡Œå¼€å§‹æŸ¥è¯¢å‡ è¡Œ</strong>ã€‚</li>
</ul>
<h4 id="7-10-2-æŸ¥è¯¢èŒƒå›´è®°å½•"><a href="#7-10-2-æŸ¥è¯¢èŒƒå›´è®°å½•" class="headerlink" title="7.10.2 æŸ¥è¯¢èŒƒå›´è®°å½•"></a>7.10.2 æŸ¥è¯¢èŒƒå›´è®°å½•</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#æŸ¥è¯¢è¡¨ä¸­ä»ç¬¬å››è¡Œå¼€å§‹ï¼ŒæŸ¥è¯¢10è¡Œ</span><br><span class="line">SELECT * FROM t_employees LIMIT 3,10;</span><br></pre></td></tr></tbody></table></figure>

<h4 id="7-10-3-LIMITå…¸å‹åº”ç”¨"><a href="#7-10-3-LIMITå…¸å‹åº”ç”¨" class="headerlink" title="7.10.3 LIMITå…¸å‹åº”ç”¨"></a>7.10.3 LIMITå…¸å‹åº”ç”¨</h4><p>åˆ†é¡µæŸ¥è¯¢ï¼šä¸€é¡µæ˜¾ç¤º10æ¡ï¼Œä¸€å…±æŸ¥è¯¢ä¸‰é¡µã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#æ€è·¯ï¼šç¬¬ä¸€é¡µæ˜¯ä»0å¼€å§‹ï¼Œæ˜¾ç¤º10æ¡</span><br><span class="line">SELECT * FROM t_employees LIMIT 0,10;</span><br><span class="line">#ç¬¬äºŒé¡µæ˜¯ä»10æ¡å¼€å§‹ï¼Œæ˜¾ç¤º10æ¡</span><br><span class="line">SELECT * FROM t_employees LIMIT 10,10;</span><br><span class="line">#ç¬¬ä¸‰é¡µæ˜¯ä»20æ¡å¼€å§‹ï¼Œæ˜¾ç¤º10æ¡</span><br><span class="line">SELECT * FROM t_employees LIMIT 20,10;</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>åœ¨åˆ†é¡µåº”ç”¨åœºæ™¯ä¸­ï¼Œèµ·å§‹è¡Œæ˜¯å˜åŒ–çš„ï¼Œä½†æ˜¯ä¸€é¡µæ˜¾ç¤ºçš„é¡µæ•°æ˜¯ä¸å˜çš„</li>
</ul>
<h3 id="7-11-æŸ¥è¯¢æ€»ç»“"><a href="#7-11-æŸ¥è¯¢æ€»ç»“" class="headerlink" title="7.11  æŸ¥è¯¢æ€»ç»“"></a>7.11  æŸ¥è¯¢æ€»ç»“</h3><h4 id="7-11-1-SQLè¯­å¥ç¼–å†™é¡ºåº"><a href="#7-11-1-SQLè¯­å¥ç¼–å†™é¡ºåº" class="headerlink" title="7.11.1 SQLè¯­å¥ç¼–å†™é¡ºåº"></a>7.11.1 SQLè¯­å¥ç¼–å†™é¡ºåº</h4><blockquote>
<p>COPYSELECT åˆ—å FROM è¡¨å WHERE æ¡ä»¶ GROUP BY åˆ†ç»„ HAVING è¿‡æ»¤æ¡ä»¶ ORDER BY æ’åºåˆ—(ASC|DESC) LIMIT èµ·å§‹è¡Œ,æŸ¥è¯¢è¡Œæ•°</p>
</blockquote>
<h4 id="7-11-2-SQLè¯­å¥æ‰§è¡Œé¡ºåº"><a href="#7-11-2-SQLè¯­å¥æ‰§è¡Œé¡ºåº" class="headerlink" title="7.11.2 SQLè¯­å¥æ‰§è¡Œé¡ºåº"></a>7.11.2 SQLè¯­å¥æ‰§è¡Œé¡ºåº</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">COPY1.FROM:æŒ‡å®šæ•°æ®æ¥æºè¡¨</span><br><span class="line">2.WHERE:å¯¹æŸ¥è¯¢æ•°æ®ç¬¬ä¸€æ¬¡è¿‡æ»¤</span><br><span class="line">3.GROUP BY:åˆ†ç»„</span><br><span class="line">4.HAVING:å¯¹åˆ†ç»„åçš„æ•°æ®ç¬¬äºŒæ¬¡è¿‡æ»¤</span><br><span class="line">5.SELECT:æŸ¥è¯¢å„å­—æ®µçš„å€¼</span><br><span class="line">6.ORDER BY:æ’åº</span><br><span class="line">7.LIMIT:é™å®šæŸ¥è¯¢ç»“æœ</span><br></pre></td></tr></tbody></table></figure>

<h3 id="7-12-å­æŸ¥è¯¢ï¼ˆä½œä¸ºæ¡ä»¶åˆ¤æ–­ï¼‰"><a href="#7-12-å­æŸ¥è¯¢ï¼ˆä½œä¸ºæ¡ä»¶åˆ¤æ–­ï¼‰" class="headerlink" title="7.12  å­æŸ¥è¯¢ï¼ˆä½œä¸ºæ¡ä»¶åˆ¤æ–­ï¼‰"></a>7.12  å­æŸ¥è¯¢ï¼ˆä½œä¸ºæ¡ä»¶åˆ¤æ–­ï¼‰</h3><blockquote>
<p><strong>è¯­æ³•</strong>ï¼š<code>SELECT åˆ—å FROM è¡¨å WHERE æ¡ä»¶(å­æŸ¥è¯¢ç»“æœ)</code></p>
</blockquote>
<h4 id="7-12-1-æŸ¥è¯¢å·¥èµ„å¤§äºBruceçš„å‘˜å·¥ä¿¡æ¯"><a href="#7-12-1-æŸ¥è¯¢å·¥èµ„å¤§äºBruceçš„å‘˜å·¥ä¿¡æ¯" class="headerlink" title="7.12.1 æŸ¥è¯¢å·¥èµ„å¤§äºBruceçš„å‘˜å·¥ä¿¡æ¯"></a>7.12.1 æŸ¥è¯¢å·¥èµ„å¤§äºBruceçš„å‘˜å·¥ä¿¡æ¯</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#1.å…ˆæŸ¥è¯¢åˆ°Bruceçš„å·¥èµ„ï¼ˆä¸€è¡Œä¸€åˆ—ï¼‰</span><br><span class="line">SELECT SALARY FROM t_employees WHERE FIRST_NAME = 'Bruce';</span><br><span class="line">#2.æŸ¥è¯¢å·¥èµ„å¤§äºBruceçš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line">SELECT * FROM t_employees WHERE SALARY &gt; 6000;</span><br><span class="line">#3.å°†å‰ä¸¤å¥æ•´åˆ</span><br><span class="line">SELECT * FROM t_employees </span><br><span class="line">WHERE SALARY &gt; </span><br><span class="line">(SELECT SALARY FROM t_employees WHERE FIRST_NAME = 'Bruce');</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>å°†å­æŸ¥è¯¢</strong>â€œ<strong>ä¸€è¡Œä¸€åˆ—</strong>â€<strong>çš„ç»“æœä½œä¸ºå¤–éƒ¨æŸ¥è¯¢çš„æ¡ä»¶</strong>ï¼Œ<strong>åšç¬¬äºŒæ¬¡æŸ¥è¯¢</strong>ã€‚</li>
<li><strong>å­æŸ¥è¯¢å¾—åˆ°ä¸€è¡Œä¸€åˆ—çš„ç»“æœæ‰èƒ½ä½œä¸ºå¤–éƒ¨æŸ¥è¯¢çš„ç­‰å€¼åˆ¤æ–­æ¡ä»¶æˆ–ä¸ç­‰å€¼åˆ¤æ–­æ¡ä»¶</strong></li>
</ul>
<h3 id="7-13-å­æŸ¥è¯¢ï¼ˆä½œä¸ºæšä¸¾æŸ¥è¯¢çš„æ¡ä»¶ï¼‰"><a href="#7-13-å­æŸ¥è¯¢ï¼ˆä½œä¸ºæšä¸¾æŸ¥è¯¢çš„æ¡ä»¶ï¼‰" class="headerlink" title="7.13 å­æŸ¥è¯¢ï¼ˆä½œä¸ºæšä¸¾æŸ¥è¯¢çš„æ¡ä»¶ï¼‰"></a>7.13 å­æŸ¥è¯¢ï¼ˆä½œä¸ºæšä¸¾æŸ¥è¯¢çš„æ¡ä»¶ï¼‰</h3><blockquote>
<p> <strong>è¯­æ³•</strong>ï¼š<code>SELECT åˆ—å FROM è¡¨å WHERE åˆ—å IN (å­æŸ¥è¯¢ç»“æœ);</code></p>
</blockquote>
<h4 id="7-13-1-æŸ¥è¯¢ä¸åä¸ºâ€œKINGâ€åŒä¸€éƒ¨é—¨çš„å‘˜å·¥ä¿¡æ¯"><a href="#7-13-1-æŸ¥è¯¢ä¸åä¸ºâ€œKINGâ€åŒä¸€éƒ¨é—¨çš„å‘˜å·¥ä¿¡æ¯" class="headerlink" title="7.13.1 æŸ¥è¯¢ä¸åä¸ºâ€œKINGâ€åŒä¸€éƒ¨é—¨çš„å‘˜å·¥ä¿¡æ¯"></a>7.13.1 æŸ¥è¯¢ä¸åä¸ºâ€œKINGâ€åŒä¸€éƒ¨é—¨çš„å‘˜å·¥ä¿¡æ¯</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#æ€è·¯</span><br><span class="line">#1.å…ˆæŸ¥è¯¢KINGæ‰€åœ¨çš„éƒ¨é—¨ç¼–å·</span><br><span class="line">SELECT DEPARTMENT_ID FROM t_employees WHERE LAST_NAME = 'King';#80,90</span><br><span class="line">#2.å†æŸ¥è¯¢80ï¼Œ90å·éƒ¨é—¨çš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line">SELECT * FROM t_employees WHERE DEPARTMENT_ID IN(80,90);</span><br><span class="line">#3.SQL:åˆå¹¶</span><br><span class="line">SELECT * FROM t_employees </span><br><span class="line">WHERE DEPARTMENT_ID IN</span><br><span class="line">(SELECT DEPARTMENT_ID FROM t_employees WHERE LAST_NAME = 'King');</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>å°†å­æŸ¥è¯¢</strong>â€œ<strong>å¤šè¡Œä¸€åˆ—</strong>â€<strong>çš„ç»“æœä½œä¸ºå¤–éƒ¨æŸ¥è¯¢çš„æšä¸¾æŸ¥è¯¢æ¡ä»¶</strong>ï¼Œ<strong>åšç¬¬äºŒæ¬¡æŸ¥è¯¢</strong>ã€‚</li>
</ul>
<h4 id="7-13-2-å·¥èµ„é«˜äº60ç¼–å·éƒ¨é—¨çš„å‘˜å·¥ä¿¡æ¯"><a href="#7-13-2-å·¥èµ„é«˜äº60ç¼–å·éƒ¨é—¨çš„å‘˜å·¥ä¿¡æ¯" class="headerlink" title="7.13.2 å·¥èµ„é«˜äº60ç¼–å·éƒ¨é—¨çš„å‘˜å·¥ä¿¡æ¯"></a>7.13.2 å·¥èµ„é«˜äº60ç¼–å·éƒ¨é—¨çš„å‘˜å·¥ä¿¡æ¯</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#1.æŸ¥è¯¢60ç¼–å·éƒ¨é—¨æ‰€æœ‰äººçš„å·¥èµ„ï¼ˆå¤šè¡Œå•åˆ—ï¼‰</span><br><span class="line">SELECT SALARY FROM t_employees WHERE DEPARTMENT_ID = 60;</span><br><span class="line">#2.æŸ¥è¯¢å·¥èµ„é«˜äº60ç¼–å·éƒ¨é—¨æ‰€æœ‰äººçš„å·¥èµ„çš„å‘˜å·¥ä¿¡æ¯ï¼ˆé«˜äºæ‰€æœ‰ï¼‰</span><br><span class="line">SELECT * FROM t_employees </span><br><span class="line">WHERE SALARY &gt; </span><br><span class="line">ALL(SELECT SALARY FROM t_employees WHERE DEPARTMENT_ID = 60);</span><br><span class="line">#3.æŸ¥è¯¢å·¥èµ„é«˜äº60ç¼–å·éƒ¨é—¨çš„å‘˜å·¥ä¿¡æ¯ï¼ˆé«˜äºéƒ¨åˆ†ï¼‰</span><br><span class="line">SELECT * FROM t_employees </span><br><span class="line">WHERE SALARY &gt; </span><br><span class="line">ANY(SELECT SALARY FROM t_employees WHERE DEPARTMENT_ID = 60);</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><p><strong>æ³¨æ„</strong>ï¼š<strong>å½“å­æŸ¥è¯¢ç»“æœé›†å½¢å¼ä¸ºå¤šè¡Œå•åˆ—æ—¶å¯ä»¥ä½¿ç”¨ANYæˆ–ALLå…³é”®å­—</strong>ã€‚</p>
</li>
<li><p>ALLè¡¨ç¤ºæŸ¥è¯¢é«˜äºéƒ¨é—¨æ‰€æœ‰å‘˜å·¥å·¥èµ„çš„å‘˜å·¥ä¿¡æ¯ï¼›ANYè¡¨ç¤ºæŸ¥è¯¢åªéœ€è¦é«˜äºéƒ¨é—¨ä¸­ä»»æ„ä¸€åå‘˜å·¥å·¥èµ„çš„å‘˜å·¥ä¿¡æ¯</p>
</li>
</ul>
<h3 id="7-14-å­æŸ¥è¯¢ï¼ˆä½œä¸ºä¸€å¼ è¡¨ï¼‰"><a href="#7-14-å­æŸ¥è¯¢ï¼ˆä½œä¸ºä¸€å¼ è¡¨ï¼‰" class="headerlink" title="7.14  å­æŸ¥è¯¢ï¼ˆä½œä¸ºä¸€å¼ è¡¨ï¼‰"></a>7.14  å­æŸ¥è¯¢ï¼ˆä½œä¸ºä¸€å¼ è¡¨ï¼‰</h3><p>æŸ¥è¯¢åˆ°ä¸€å¼ å¤šè¡Œå¤šåˆ—çš„ä¸´æ—¶è¡¨ï¼Œè¿™å¼ è¡¨ä¹Ÿå¯ä»¥ä½œä¸ºæŸ¥è¯¢æ•°æ®æºã€‚</p>
<blockquote>
<p> <strong>è¯­æ³•</strong>ï¼š<code>SELECT åˆ—å FROM (å­æŸ¥è¯¢çš„ç»“æœé›†) WHERE æ¡ä»¶;</code></p>
</blockquote>
<h4 id="7-14-1-æŸ¥è¯¢å‘˜å·¥è¡¨ä¸­å·¥èµ„æ’åå‰5åçš„å‘˜å·¥ä¿¡æ¯"><a href="#7-14-1-æŸ¥è¯¢å‘˜å·¥è¡¨ä¸­å·¥èµ„æ’åå‰5åçš„å‘˜å·¥ä¿¡æ¯" class="headerlink" title="7.14.1 æŸ¥è¯¢å‘˜å·¥è¡¨ä¸­å·¥èµ„æ’åå‰5åçš„å‘˜å·¥ä¿¡æ¯"></a>7.14.1 æŸ¥è¯¢å‘˜å·¥è¡¨ä¸­å·¥èµ„æ’åå‰5åçš„å‘˜å·¥ä¿¡æ¯</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#æ€è·¯ï¼š</span><br><span class="line">#1.å…ˆå¯¹æ‰€æœ‰å‘˜å·¥çš„è–ªèµ„è¿›è¡Œæ’åºï¼ˆæ’åºåçš„ä¸´æ—¶è¡¨ï¼‰</span><br><span class="line">SELECT EMPLOYEE_ID,FIRST_NAME,SALARY FROM t_employees ORDER BY SALARY DESC;</span><br><span class="line">#2.å†æŸ¥è¯¢ä¸´æ—¶è¡¨ä¸­å‰5è¡Œå‘˜å·¥ä¿¡æ¯</span><br><span class="line">SELECT EMPLOYEE_ID,FIRST_NAME,SALARY FROM (ä¸´æ—¶è¡¨) LIMIT 0,5;</span><br><span class="line">#3.åˆå¹¶</span><br><span class="line">SELECT * FROM </span><br><span class="line">(SELECT EMPLOYEE_ID,FIRST_NAME,SALARY FROM t_employees ORDER BY SALARY DESC) AS ä¸´æ—¶è¡¨ LIMIT 0,5;</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>å°†å­æŸ¥è¯¢</strong>â€œ<strong>å¤šè¡Œå¤šåˆ—</strong>â€œ<strong>çš„ç»“æœä½œä¸ºå¤–éƒ¨æŸ¥è¯¢çš„ä¸€å¼ è¡¨</strong>ï¼Œ<strong>åšç¬¬äºŒæ¬¡æŸ¥è¯¢</strong>ã€‚</li>
<li><strong>æ³¨æ„</strong>ï¼š<strong>å­æŸ¥è¯¢ä½œä¸ºä¸´æ—¶è¡¨</strong>ï¼Œ<strong>éœ€è¦ä¸ºå…¶èµ‹äºˆä¸€ä¸ªä¸´æ—¶è¡¨å</strong>ã€‚</li>
</ul>
<h3 id="7-15-åˆå¹¶æŸ¥è¯¢"><a href="#7-15-åˆå¹¶æŸ¥è¯¢" class="headerlink" title="7.15  åˆå¹¶æŸ¥è¯¢"></a>7.15  åˆå¹¶æŸ¥è¯¢</h3><blockquote>
<ul>
<li><code>SELECT * FROM è¡¨å1 UNION SELECT * FROM è¡¨å2</code></li>
<li><code>SELECT * FROM è¡¨å1 UNION ALL SELECT * FROM è¡¨å2</code></li>
</ul>
</blockquote>
<ul>
<li>è¿”å›çš„æŸ¥è¯¢ç»“æœæ˜¯å°†è¡¨1çš„ç»“æœå’Œè¡¨2çš„ç»“æœåšäº†ä¸€ä¸ªåˆå¹¶ã€‚</li>
</ul>
<h4 id="15-1-åˆå¹¶ä¸¤å¼ è¡¨çš„ç»“æœï¼ˆå»é™¤é‡å¤è®°å½•ï¼‰"><a href="#15-1-åˆå¹¶ä¸¤å¼ è¡¨çš„ç»“æœï¼ˆå»é™¤é‡å¤è®°å½•ï¼‰" class="headerlink" title="15.1 åˆå¹¶ä¸¤å¼ è¡¨çš„ç»“æœï¼ˆå»é™¤é‡å¤è®°å½•ï¼‰"></a>15.1 åˆå¹¶ä¸¤å¼ è¡¨çš„ç»“æœï¼ˆå»é™¤é‡å¤è®°å½•ï¼‰</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#åˆå¹¶ä¸¤å¼ è¡¨çš„ç»“æœï¼Œå»é™¤é‡å¤è®°å½•</span><br><span class="line">SELECT * FROM T1 UNION SELECT * FROM T2;</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>åˆå¹¶ç»“æœçš„ä¸¤å¼ è¡¨</strong>ï¼Œ<strong>åˆ—æ•°å¿…é¡»ç›¸åŒ</strong>ï¼Œ<strong>åˆ—çš„æ•°æ®ç±»å‹å¯ä»¥ä¸åŒ</strong>ã€‚</li>
</ul>
<p>åˆ—æ•°å¿…é¡»ç›¸åŒæ˜¯å› ä¸ºè¯¥åˆå¹¶åšäº†ä¸€ä¸ªçºµå‘åˆå¹¶ï¼Œä¸¤ä¸ª4åˆ—å¤šè¡Œçš„ç»“æœé›†è¡¨åˆå¹¶åä¹Ÿæ˜¯ä¸€ä¸ª4åˆ—å¤šè¡Œçš„è¡¨ï¼Œä½†æ˜¯åˆå¹¶åçš„åˆ—åä»¥ç¬¬ä¸€ä¸ªç»“æœé›†è¡¨ä¸ºå‡†ã€‚</p>
<h4 id="7-15-2-åˆå¹¶ä¸¤å¼ è¡¨çš„ç»“æœï¼ˆä¿ç•™é‡å¤è®°å½•ï¼‰"><a href="#7-15-2-åˆå¹¶ä¸¤å¼ è¡¨çš„ç»“æœï¼ˆä¿ç•™é‡å¤è®°å½•ï¼‰" class="headerlink" title="7.15.2 åˆå¹¶ä¸¤å¼ è¡¨çš„ç»“æœï¼ˆä¿ç•™é‡å¤è®°å½•ï¼‰"></a>7.15.2 åˆå¹¶ä¸¤å¼ è¡¨çš„ç»“æœï¼ˆä¿ç•™é‡å¤è®°å½•ï¼‰</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#åˆå¹¶ä¸¤å¼ è¡¨çš„ç»“æœï¼Œä¸å»é™¤é‡å¤è®°å½•ï¼ˆæ˜¾ç¤ºæ‰€æœ‰ï¼‰</span><br><span class="line">SELECT * FROM T1 UNION ALL SELECT * FROM T2;</span><br></pre></td></tr></tbody></table></figure>

<p>è¯¥åˆå¹¶ç»“æœä¼šä¿ç•™ä¸¤å¼ æŸ¥è¯¢è¡¨ä¸­é‡å¤çš„è®°å½•ï¼Œè€ŒUNIONåªä¿ç•™ç¬¬ä¸€ä¸ªä¸é‡å¤çš„è®°å½•</p>
<p>7.16 è¡¨è¿æ¥æŸ¥è¯¢</p>
<blockquote>
<p>è¯­æ³•ï¼š<code>SELECT åˆ—å FROM è¡¨1 è¿æ¥æ–¹å¼ è¡¨2 ON è¿æ¥æ¡ä»¶</code></p>
</blockquote>
<h4 id="7-16-1-å†…è¿æ¥æŸ¥è¯¢ï¼ˆINNER-JOIN-ONï¼‰"><a href="#7-16-1-å†…è¿æ¥æŸ¥è¯¢ï¼ˆINNER-JOIN-ONï¼‰" class="headerlink" title="7.16.1 å†…è¿æ¥æŸ¥è¯¢ï¼ˆINNER JOIN ONï¼‰"></a>7.16.1 å†…è¿æ¥æŸ¥è¯¢ï¼ˆINNER JOIN ONï¼‰</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#1.æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥çš„èŒå‘˜å’ŒèŒä½ä¿¡æ¯ SQLæ ‡å‡†</span><br><span class="line">SELECT * FROM t_employees INNER JOIN t_jobs </span><br><span class="line">ON t_employees.JOB_ID = t_jobs.JOB_ID;</span><br><span class="line">#2.æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥çš„èŒå‘˜å’ŒèŒä½ä¿¡æ¯ MYSQL</span><br><span class="line">SELECT * FROM t_employees,t_jobs WHERE t_employees.JOB_ID = t_jobs.JOB_ID;</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæ²¡æœ‰æŒ‡å®šè¿æ¥æ¡ä»¶ï¼Œåˆ™ä¼šé€ æˆç¬›å¡å°”ç§¯çš„ç»“æœï¼Œç¬¬ä¸€å¼ è¡¨ä¸­çš„æ¯è¡Œæ•°æ®éƒ½ä¼šå’Œç¬¬äºŒå¼ è¡¨è¿›è¡Œè¿æ¥ã€‚</p>
<ul>
<li><strong>ç»éªŒ</strong>ï¼š<strong>åœ¨MySQLä¸­</strong>ï¼Œ<strong>ç¬¬äºŒç§æ–¹å¼ä¹Ÿå¯ä»¥ä½œä¸ºå†…è¿æ¥æŸ¥è¯¢</strong>ï¼Œ<strong>ä½†æ˜¯ä¸ç¬¦åˆSQLæ ‡å‡†</strong>ã€‚</li>
<li><strong>è€Œç¬¬ä¸€ç§å±äºSQLæ ‡å‡†</strong>ï¼Œ<strong>ä¸å…¶ä»–å…³ç³»å‹æ•°æ®åº“é€šç”¨</strong>ã€‚</li>
</ul>
<h4 id="7-16-2-ä¸‰è¡¨è¿æ¥æŸ¥è¯¢"><a href="#7-16-2-ä¸‰è¡¨è¿æ¥æŸ¥è¯¢" class="headerlink" title="7.16.2 ä¸‰è¡¨è¿æ¥æŸ¥è¯¢"></a>7.16.2 ä¸‰è¡¨è¿æ¥æŸ¥è¯¢</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥å·¥å·ã€åå­—ã€éƒ¨é—¨åç§°ã€éƒ¨é—¨æ‰€åœ¨å›½å®¶ID</span><br><span class="line">SELECT EMPLOYEE_ID,FIRST_NAME,t_departments.DEPARTMENT_NAME,t_locations.COUNTRY_ID </span><br><span class="line">FROM t_employees</span><br><span class="line">INNER JOIN t_departments ON	</span><br><span class="line">t_employees.DEPARTMENT_ID=t_departments.DEPARTMENT_ID</span><br><span class="line">INNER JOIN t_locations ON	</span><br><span class="line">t_departments.LOCATION_ID=t_locations.LOCATION_ID;</span><br></pre></td></tr></tbody></table></figure>

<p>è¯¥è¯­å¥æŸ¥è¯¢å‡ºæ¥çš„ç»“æœæ²¡æœ‰å‘˜å·¥ç¼–å·ä¸º178çš„å‘˜å·¥ä¿¡æ¯ï¼Œè¯¥åå‘˜å·¥çš„éƒ¨é—¨IDä¸ºNULLï¼Œä¸ç¬¦åˆè¿æ¥æ¡ä»¶ï¼Œæ‰€ä»¥ä¸åŒ…å«åœ¨åŒ¹é…å‡ºçš„ç»“æœé›†ä¸­ï¼Œä½ å¯ä»¥è‡ªå·±åŠ¨æ‰‹å°è¯•å¹¶æŸ¥çœ‹ç»“æœã€‚ä¹‹æ‰€ä»¥æè¿™ä¸ªæ˜¯å› ä¸ºå¯ä»¥ä¸ä¸‹èŠ‚çš„è¯­å¥åŒºåˆ†å¼€æ¥ã€‚</p>
<h4 id="7-16-3-å·¦å¤–è¿æ¥ï¼ˆLEFT-JOIN-ONï¼‰"><a href="#7-16-3-å·¦å¤–è¿æ¥ï¼ˆLEFT-JOIN-ONï¼‰" class="headerlink" title="7.16.3 å·¦å¤–è¿æ¥ï¼ˆLEFT JOIN ONï¼‰"></a>7.16.3 å·¦å¤–è¿æ¥ï¼ˆLEFT JOIN ONï¼‰</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥çš„å·¥å·ã€åå­—ã€å·¥èµ„åŠå…¶å¯¹åº”çš„éƒ¨é—¨åç§°ï¼ˆæ²¡æœ‰éƒ¨é—¨çš„å‘˜å·¥ä¹Ÿåœ¨æŸ¥è¯¢ç»“æœä¸­ï¼Œéƒ¨é—¨åç§°ä»¥NULLå€¼è¡¥å……ï¼‰</span><br><span class="line">SELECT EMPLOYEE_ID,FIRST_NAME,SALARY,DEPARTMENT_NAME </span><br><span class="line">FROM t_employees</span><br><span class="line">LEFT JOIN t_departments </span><br><span class="line">ON t_departments.DEPARTMENT_ID=t_employees.DEPARTMENT_ID;</span><br></pre></td></tr></tbody></table></figure>

<p>è¯¥è¯­å¥æŸ¥è¯¢å‡ºæ¥çš„ç»“æœåŒ…å«æ²¡æœ‰éƒ¨é—¨çš„178å·å‘˜å·¥ï¼ŒDEPARTMENT_NAMEçš„å€¼è¢«å¡«å……ä¸ºNULLã€‚</p>
<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>å·¦å¤–è¿æ¥</strong>ï¼Œ<strong>æ˜¯ä»¥å·¦è¡¨ä½œä¸ºä¸»è¡¨</strong>ï¼Œ<strong>ä¾æ¬¡å‘å³åŒ¹é…</strong>ï¼Œ<strong>åŒ¹é…åˆ°åˆ™è¿”å›ç»“æœ</strong>ï¼›</li>
<li><strong>åŒ¹é…ä¸åˆ°åˆ™è¿”å›NULLå€¼å¡«å……</strong>ã€‚</li>
</ul>
<h4 id="7-16-4-å³å¤–è¿æ¥ï¼ˆRIGHT-JOIN-ONï¼‰"><a href="#7-16-4-å³å¤–è¿æ¥ï¼ˆRIGHT-JOIN-ONï¼‰" class="headerlink" title="7.16.4 å³å¤–è¿æ¥ï¼ˆRIGHT JOIN ONï¼‰"></a>7.16.4 å³å¤–è¿æ¥ï¼ˆRIGHT JOIN ONï¼‰</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#æŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨ä¿¡æ¯ï¼Œä»¥åŠæ­¤éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ï¼ˆæ²¡æœ‰å‘˜å·¥çš„éƒ¨é—¨ä¹Ÿåœ¨æŸ¥è¯¢ç»“æœä¸­ï¼Œå‘˜å·¥ä¿¡æ¯ä»¥NULLå€¼å¡«å……ï¼‰</span><br><span class="line">SELECT EMPLOYEE_ID,FIRST_NAME,SALARY,DEPARTMENT_NAME </span><br><span class="line">FROM t_employees</span><br><span class="line">RIGHT JOIN t_departments </span><br><span class="line">ON t_departments.DEPARTMENT_ID=t_employees.DEPARTMENT_ID;</span><br></pre></td></tr></tbody></table></figure>

<p>è¯¥æŸ¥è¯¢ç»“æœä»¥éƒ¨é—¨è¡¨ä½œä¸ºä¸»è¡¨ï¼Œæœ‰äº›éƒ¨é—¨æ²¡æœ‰å‘˜å·¥ï¼Œå…¶å‘˜å·¥ä¿¡æ¯å…¨éƒ¨ä¸ºNULLã€‚</p>
<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>å³å¤–è¿æ¥</strong>ï¼Œ<strong>æ˜¯ä»¥å³è¡¨ä¸ºä¸»è¡¨</strong>ï¼Œ<strong>ä¾æ¬¡å‘å·¦åŒ¹é…</strong>ï¼Œ<strong>åŒ¹é…åˆ°è¿”å›ç»“æœ</strong>ã€‚</li>
<li><strong>åŒ¹é…ä¸åˆ°</strong>ï¼Œ<strong>åˆ™è¿”å›NULLå€¼å¡«å……</strong>ã€‚</li>
</ul>
<h2 id="å…«ã€DMLæ“ä½œã€é‡ç‚¹ã€‘"><a href="#å…«ã€DMLæ“ä½œã€é‡ç‚¹ã€‘" class="headerlink" title="å…«ã€DMLæ“ä½œã€é‡ç‚¹ã€‘"></a>å…«ã€DMLæ“ä½œã€é‡ç‚¹ã€‘</h2><blockquote>
<p> DDLï¼ˆData Manipulation Languageï¼‰æ•°æ®åº“æ“çºµè¯­è¨€ï¼Œæ˜¯å…¶ä¸­ä¸€ç±»SQLè¯­è¨€ï¼Œå…¶å®ä¹Ÿå°±æ˜¯<strong>å¢åˆ æ”¹</strong>ã€‚</p>
</blockquote>
<h3 id="8-1-æ–°å¢ï¼ˆINSERTï¼‰"><a href="#8-1-æ–°å¢ï¼ˆINSERTï¼‰" class="headerlink" title="8.1 æ–°å¢ï¼ˆINSERTï¼‰"></a>8.1 æ–°å¢ï¼ˆINSERTï¼‰</h3><blockquote>
<p> <strong>è¯­æ³•</strong>ï¼š<code>INSERT INTO è¡¨å(åˆ—1,åˆ—2,åˆ—3......) VALUES(å€¼1,å€¼2,å€¼3......);</code></p>
</blockquote>
<h4 id="8-1-1-æ·»åŠ ä¸€æ¡ä¿¡æ¯"><a href="#8-1-1-æ·»åŠ ä¸€æ¡ä¿¡æ¯" class="headerlink" title="8.1.1 æ·»åŠ ä¸€æ¡ä¿¡æ¯"></a>8.1.1 æ·»åŠ ä¸€æ¡ä¿¡æ¯</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#æ·»åŠ ä¸€æ¡å²—ä½ä¿¡æ¯</span><br><span class="line">INSERT INTO t_jobs(JOB_ID,JOB_TITLE,MIN_SALARY,MAX_SALARY) </span><br><span class="line">VALUES('JAVA_LE','Java Lecturer',6000,1200);</span><br><span class="line">#æ·»åŠ ä¸€æ¡å‘˜å·¥ä¿¡æ¯</span><br><span class="line">INSERT INTO t_employees(EMPLOYEE_ID,FIRST_NAME,LAST_NAME,EMAIL,PHONE_NUMBER,HIRE_DATE,JOB_ID,SALARY,COMMISSION_PCT,MANAGER_ID,DEPARTMENT_ID)</span><br><span class="line">VALUES('194','Liu','YUNChe','xxx@qq.com','12345','2020-11-14','JAVA_LE','11000','0.6',null,'50');</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>è¡¨ååçš„åˆ—åè¦å’ŒVALUEé‡Œçš„å€¼ä¸€ä¸€å¯¹åº”</strong>ï¼ˆ<strong>ä¸ªæ•°</strong>ã€<strong>é¡ºåº</strong>ã€<strong>ç±»å‹</strong>ï¼‰ã€‚</li>
</ul>
<h3 id="8-2-ä¿®æ”¹ï¼ˆUPDATAï¼‰"><a href="#8-2-ä¿®æ”¹ï¼ˆUPDATAï¼‰" class="headerlink" title="8.2 ä¿®æ”¹ï¼ˆUPDATAï¼‰"></a>8.2 ä¿®æ”¹ï¼ˆUPDATAï¼‰</h3><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#ä¿®æ”¹ç¼–å·ä¸º100çš„å‘˜å·¥å·¥èµ„ä¸º25000</span><br><span class="line">UPDATE t_employees SET SALARY = 25000 WHERE EMPLOYEE_ID = '100';</span><br><span class="line">#ä¿®æ”¹ç¼–å·ä¸º100çš„å‘˜å·¥ä¿¡æ¯å²—ä½ç¼–å·ä¸º ST_MANï¼Œå·¥èµ„ä¸º3500</span><br><span class="line">UPDATE t_employees SET JOB_ID = 'ST_MAN',SALARY = 3500 WHERE EMPLOYEE_ID = '135';</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>SETåå¤šä¸ªåˆ—å=å€¼</strong>ï¼Œ<strong>ç»å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½è¦åŠ WHEREæ¡ä»¶æŒ‡å®šä¿®æ”¹</strong>ï¼Œ<strong>å¦åˆ™ä¸ºæ•´è¡¨æ›´æ–°</strong>ã€‚</li>
</ul>
<h3 id="8-3-åˆ é™¤ï¼ˆDELETEï¼‰"><a href="#8-3-åˆ é™¤ï¼ˆDELETEï¼‰" class="headerlink" title="8.3 åˆ é™¤ï¼ˆDELETEï¼‰"></a>8.3 åˆ é™¤ï¼ˆDELETEï¼‰</h3><p>è¯­æ³•ï¼š<code>DELETE FROM è¡¨å WHERE æ¡ä»¶;</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#åˆ é™¤ç¼–å·ä¸º135çš„å‘˜å·¥</span><br><span class="line">DELETE FROM t_employees WHERE EMPLOYEE_ID = '135';</span><br><span class="line">#åˆ é™¤å§“Peter,å¹¶ä¸”åä¸ºHallçš„å‘˜å·¥</span><br><span class="line">DELETE FROM t_employees WHERE EMPLOYEE_ID = '135';</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>åˆ é™¤æ—¶</strong>ï¼Œ<strong>å¦‚æœä¸åŠ æ¡ä»¶</strong>ï¼Œ<strong>åˆ™é»˜è®¤åˆ é™¤æ•´å¼ è¡¨</strong>ã€‚</li>
</ul>
<p><font color="cornflowerblue">ç”¨DELETEåˆ é™¤æ•´è¡¨æ˜¯ä¸å½»åº•çš„ï¼Œå®ƒåªæ˜¯åˆ é™¤äº†å†…å®¹ï¼Œå¹¶æ²¡æœ‰æ”¹å˜è¡¨çš„ç»“æ„ã€‚</font></p>
<h3 id="8-4-æ¸…ç©ºæ•´è¡¨æ•°æ®ï¼ˆTRUNCATEï¼‰"><a href="#8-4-æ¸…ç©ºæ•´è¡¨æ•°æ®ï¼ˆTRUNCATEï¼‰" class="headerlink" title="8.4 æ¸…ç©ºæ•´è¡¨æ•°æ®ï¼ˆTRUNCATEï¼‰"></a>8.4 æ¸…ç©ºæ•´è¡¨æ•°æ®ï¼ˆTRUNCATEï¼‰</h3><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">COPYTRUNCATE TABLE è¡¨å;</span><br></pre></td></tr></tbody></table></figure>

<h4 id="8-4-1-æ¸…ç©ºæ•´å¼ è¡¨"><a href="#8-4-1-æ¸…ç©ºæ•´å¼ è¡¨" class="headerlink" title="8.4.1 æ¸…ç©ºæ•´å¼ è¡¨"></a>8.4.1 æ¸…ç©ºæ•´å¼ è¡¨</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">COPY#æ¸…ç©ºt1æ•´å¼ è¡¨</span><br><span class="line">TRUNCATE TABLE t1;</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>ä¸DELETEä¸åŠ WHEREåˆ é™¤æ•´è¡¨æ•°æ®ä¸åŒ</strong>ï¼Œ<strong>TRUNCATEæ˜¯æŠŠåŸè¡¨é”€æ¯</strong>ï¼Œ<strong>å†æŒ‰åŸè¡¨çš„æ ¼å¼åˆ›å»ºä¸€å¼ æ–°è¡¨</strong>ã€‚</li>
</ul>
<h2 id="ä¹ã€æ•°æ®è¡¨æ“ä½œ"><a href="#ä¹ã€æ•°æ®è¡¨æ“ä½œ" class="headerlink" title="ä¹ã€æ•°æ®è¡¨æ“ä½œ"></a>ä¹ã€æ•°æ®è¡¨æ“ä½œ</h2><h3 id="9-1-æ•°æ®ç±»å‹"><a href="#9-1-æ•°æ®ç±»å‹" class="headerlink" title="9.1 æ•°æ®ç±»å‹"></a>9.1 æ•°æ®ç±»å‹</h3><blockquote>
<p> <font color="red">MySQLæ”¯æŒå¤šç§ç±»å‹ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼šæ•°å€¼ã€æ—¥æœŸ/æ—¶é—´å’Œå­—ç¬¦ä¸²ï¼ˆå­—ç¬¦ï¼‰ç±»å‹ã€‚å¯¹äºæˆ‘ä»¬çº¦æŸæ•°æ®çš„ç±»å‹æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚</font></p>
</blockquote>
<h4 id="9-1-1-æ•°å€¼ç±»å‹"><a href="#9-1-1-æ•°å€¼ç±»å‹" class="headerlink" title="9.1.1 æ•°å€¼ç±»å‹"></a>9.1.1 æ•°å€¼ç±»å‹</h4><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>å¤§å°</th>
<th>èŒƒå›´ï¼ˆæœ‰ç¬¦å·ï¼‰</th>
<th>èŒƒå›´ï¼ˆæ— ç¬¦å·ï¼‰</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody><tr>
<td>INT</td>
<td>4å­—èŠ‚</td>
<td>(-2147483648,2147483647)</td>
<td>(0,4294967295)</td>
<td>å¤§æ•´æ•°å€¼</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>8å­—èŠ‚</td>
<td>(-1.797E+308,-2.22E-308)</td>
<td>0,(2.22E-308,1.797E+308)</td>
<td><code>åŒç²¾åº¦æµ®ç‚¹æ•°å€¼</code></td>
</tr>
<tr>
<td><code>DOUBLE(M,D)</code></td>
<td>8å­—èŠ‚ï¼ŒMè¡¨ç¤ºé•¿åº¦ï¼ŒDè¡¨ç¤ºå°æ•°ä½æ•°</td>
<td>åŒä¸Šï¼Œå—Må’ŒDçš„çº¦æŸï¼›å¦‚DOUBLE(5,2) -999.99~999.99</td>
<td>åŒä¸Šï¼Œå—Må’ŒDçš„çº¦æŸ</td>
<td>åŒç²¾åº¦æµ®ç‚¹æ•°å€¼</td>
</tr>
<tr>
<td>DECIMAL(M,D)</td>
<td>DECIMAL(M,D)</td>
<td>ä¾èµ–äºMå’ŒDçš„å€¼ï¼ŒMæœ€å¤§å€¼ä¸º65</td>
<td>ä¾èµ–äºMå’ŒDçš„å€¼ï¼ŒMæœ€å¤§å€¼ä¸º65</td>
<td>å°æ•°å€¼</td>
</tr>
</tbody></table>
<h4 id="9-1-2-æ—¥æœŸç±»å‹"><a href="#9-1-2-æ—¥æœŸç±»å‹" class="headerlink" title="9.1.2 æ—¥æœŸç±»å‹"></a>9.1.2 æ—¥æœŸç±»å‹</h4><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>å¤§å°</th>
<th>èŒƒå›´</th>
<th>æ ¼å¼</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody><tr>
<td><strong>DATE</strong></td>
<td>3</td>
<td>1000-01-01/9999-12-31</td>
<td>YYYY-MM-DD</td>
<td>æ—¥æœŸå€¼</td>
</tr>
<tr>
<td>TIME</td>
<td>3</td>
<td>â€˜-838:59:59â€™/â€˜838:59:59â€™</td>
<td>HH:MM:SS</td>
<td>æ—¶é—´å€¼æˆ–æŒç»­æ—¶é—´</td>
</tr>
<tr>
<td>YEAR</td>
<td>1</td>
<td>1901/2155</td>
<td>YYYY</td>
<td>å¹´ä»½å€¼</td>
</tr>
<tr>
<td><strong>DETETIME</strong></td>
<td>8</td>
<td>1000-01-01 00:00:00/9999-12-31 23:59:59</td>
<td>YYYY-MM-DD HH:MM:SS</td>
<td>æ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>4</td>
<td>1970-01-01 00:00:00/2038ç»“æŸæ—¶é—´æ˜¯ç¬¬ <strong>2147483647</strong> ç§’ï¼ŒåŒ—äº¬æ—¶é—´ <strong>2038-1-19 11:14:07</strong>ï¼Œæ ¼æ—å°¼æ²»æ—¶é—´ 2038å¹´1æœˆ19æ—¥ å‡Œæ™¨ 03:14:07</td>
<td>YYYYMMDD HHMMSS</td>
<td>æ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼ï¼Œæ—¶é—´æˆ³</td>
</tr>
</tbody></table>
<h4 id="9-1-3-å­—ç¬¦ä¸²ç±»å‹"><a href="#9-1-3-å­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="9.1.3 å­—ç¬¦ä¸²ç±»å‹"></a>9.1.3 å­—ç¬¦ä¸²ç±»å‹</h4><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>å¤§å°</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody><tr>
<td>CHAR</td>
<td>0-255 bytes</td>
<td>å®šé•¿å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>VARCHAR</td>
<td>0-65535 bytes</td>
<td>å˜é•¿å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>BLOBï¼ˆbinary large objectï¼‰</td>
<td>0-65 535 bytes</td>
<td>äºŒè¿›åˆ¶å½¢å¼çš„é•¿æ–‡æœ¬æ•°æ®</td>
</tr>
<tr>
<td>TEXT</td>
<td>0-65 535 bytes</td>
<td>é•¿æ–‡æœ¬æ•°æ®</td>
</tr>
</tbody></table>
<ul>
<li><font color="orange">CHARå’ŒVARCHARç±»å‹ç±»ä¼¼ï¼Œä½†å®ƒä»¬ä¿å­˜å’Œæ£€ç´¢çš„æ–¹å¼ä¸åŒã€‚å®ƒä»¬çš„æœ€å¤§é•¿åº¦å’Œæ˜¯å¦å°¾éƒ¨ç©ºæ ¼è¢«ä¿ç•™ç­‰æ–¹é¢ä¹Ÿä¸åŒï¼ŒCHAR(N)ä¼šå°†å¤šä½™çš„å­˜å‚¨ä½ä»¥ç©ºæ ¼è¡¥è¶³ï¼Œè€ŒVARCHAR(N)åˆ™ä¼šæ ¹æ®å®é™…å­˜å‚¨é•¿åº¦è¿›è¡Œâ€œå‹ç¼©â€ã€‚åœ¨å­˜å‚¨æˆ–æ£€ç´¢è¿‡ç¨‹ä¸­ä¸è¿›è¡Œå¤§å°å†™è½¬æ¢ã€‚</font></li>
<li><font color="orange">BLOBæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶å¤§å¯¹è±¡ï¼Œå¯ä»¥å®¹çº³å¯å˜æ•°é‡çš„æ•°æ®ã€‚æœ‰4ç§BLOBç±»å‹ï¼šTINYBLOBã€BLOBã€MEDIUMBLOBå’ŒLONGBLOBã€‚å®ƒä»¬åªæ˜¯å¯å®¹çº³å€¼çš„æœ€å¤§é•¿åº¦ä¸åŒã€‚</font></li>
</ul>
<h3 id="9-2-æ•°æ®è¡¨çš„åˆ›å»ºï¼ˆCREATEï¼‰"><a href="#9-2-æ•°æ®è¡¨çš„åˆ›å»ºï¼ˆCREATEï¼‰" class="headerlink" title="9.2 æ•°æ®è¡¨çš„åˆ›å»ºï¼ˆCREATEï¼‰"></a>9.2 æ•°æ®è¡¨çš„åˆ›å»ºï¼ˆCREATEï¼‰</h3><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">CREATE TABLE è¡¨å(</span><br><span class="line">    åˆ—å æ•°æ®ç±»å‹ [çº¦æŸ],</span><br><span class="line">    åˆ—å æ•°æ®ç±»å‹ [çº¦æŸ],</span><br><span class="line">    ......</span><br><span class="line">    åˆ—å æ•°æ®ç±»å‹ [çº¦æŸ]#æœ€åä¸€è¡Œçš„æœ«å°¾ä¸åŠ é€—å·</span><br><span class="line">)[CHARSET=UTF8]#å¯æ ¹æ®éœ€è¦æŒ‡å®šè¡¨çš„å­—ç¬¦ç¼–ç é›†</span><br></pre></td></tr></tbody></table></figure>

<p>æ‹¬å·å†…çš„å†…å®¹ä¸ºå¯é€‰ã€‚</p>
<h4 id="9-2-1-åˆ›å»ºè¡¨"><a href="#9-2-1-åˆ›å»ºè¡¨" class="headerlink" title="9.2.1 åˆ›å»ºè¡¨"></a>9.2.1 åˆ›å»ºè¡¨</h4><table>
<thead>
<tr>
<th>åˆ—å</th>
<th>æ•°æ®ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>subject_id</td>
<td>INT</td>
<td>è¯¾ç¨‹ç¼–å·</td>
</tr>
<tr>
<td>subject_name</td>
<td>VARCHAR(20)</td>
<td>è¯¾ç¨‹æ—¶é—´</td>
</tr>
<tr>
<td>subject_hours</td>
<td>INT</td>
<td>è¯¾ç¨‹è¯¾é•¿</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#æ ¹æ®ä¸Šè¿°è¡¨æ ¼åˆ›å»ºæ•°æ®åº“ï¼Œå¹¶å‘è¡¨ä¸­æ’å…¥3æ¡æµ‹è¯•è¯­å¥</span><br><span class="line">CREATE TABLE `t_subject` (</span><br><span class="line">  `subject_id` int,</span><br><span class="line">  `subject_name` varchar(20),</span><br><span class="line">  `subject_hours` int(11)</span><br><span class="line">)CHARSET=utf8;</span><br><span class="line"></span><br><span class="line">INSERT INTO t_subject(subject_id,subject_name,subject_hours) </span><br><span class="line">VALUES(1,'JAVA',40);</span><br><span class="line">INSERT INTO t_subject(subject_id,subject_name,subject_hours) </span><br><span class="line">VALUES(2,'MYSQL',30);</span><br><span class="line">INSERT INTO t_subject(subject_id,subject_name,subject_hours) VALUES(3,'JAVASCRIPT',20)</span><br></pre></td></tr></tbody></table></figure>

<h3 id="9-3-æ•°æ®è¡¨çš„ä¿®æ”¹ï¼ˆALTERï¼‰"><a href="#9-3-æ•°æ®è¡¨çš„ä¿®æ”¹ï¼ˆALTERï¼‰" class="headerlink" title="9.3 æ•°æ®è¡¨çš„ä¿®æ”¹ï¼ˆALTERï¼‰"></a>9.3 æ•°æ®è¡¨çš„ä¿®æ”¹ï¼ˆALTERï¼‰</h3><blockquote>
<p><strong>è¯­æ³•</strong>ï¼š<code>ALTER TABLE è¡¨å æ“ä½œ;</code></p>
</blockquote>
<h4 id="9-3-1-å‘ç°æœ‰è¡¨ä¸­æ·»åŠ åˆ—"><a href="#9-3-1-å‘ç°æœ‰è¡¨ä¸­æ·»åŠ åˆ—" class="headerlink" title="9.3.1 å‘ç°æœ‰è¡¨ä¸­æ·»åŠ åˆ—"></a>9.3.1 å‘ç°æœ‰è¡¨ä¸­æ·»åŠ åˆ—</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#åœ¨è¯¾ç¨‹è¡¨åŸºç¡€ä¸Šæ·»åŠ grade_idåˆ—</span><br><span class="line">ALTER TABLE t_subject ADD grade_id INT;</span><br></pre></td></tr></tbody></table></figure>

<h4 id="9-3-2-ä¿®æ”¹è¡¨ä¸­çš„åˆ—"><a href="#9-3-2-ä¿®æ”¹è¡¨ä¸­çš„åˆ—" class="headerlink" title="9.3.2 ä¿®æ”¹è¡¨ä¸­çš„åˆ—"></a>9.3.2 ä¿®æ”¹è¡¨ä¸­çš„åˆ—</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#ä¿®æ”¹è¯¾ç¨‹è¡¨ä¸­çš„è¯¾ç¨‹åç§°é•¿åº¦ä¸º10ä¸ªå­—ç¬¦</span><br><span class="line">ALTER TABLE t_subject MODIFY subject_name VARCHAR(10);</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>ä¿®æ”¹è¡¨ä¸­çš„æŸåˆ—æ—¶</strong>ï¼Œ<strong>ä¹Ÿè¦å†™å…¨åˆ—çš„åå­—</strong>ï¼Œ<strong>æ•°æ®ç±»å‹</strong>ï¼Œ<strong>çº¦æŸ</strong>ã€‚</li>
</ul>
<h4 id="9-3-3-åˆ é™¤è¡¨ä¸­çš„åˆ—"><a href="#9-3-3-åˆ é™¤è¡¨ä¸­çš„åˆ—" class="headerlink" title="9.3.3 åˆ é™¤è¡¨ä¸­çš„åˆ—"></a>9.3.3 åˆ é™¤è¡¨ä¸­çš„åˆ—</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#åˆ é™¤è¯¾ç¨‹è¡¨ä¸­grade_idåˆ—</span><br><span class="line">ALTER TABLE t_subject DROP grade_id;</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>åˆ é™¤åˆ—æ—¶</strong>ï¼Œ<strong>æ¯æ¬¡åªèƒ½åˆ ä¸€åˆ—</strong>ã€‚</li>
</ul>
<h4 id="9-3-4-ä¿®æ”¹åˆ—å"><a href="#9-3-4-ä¿®æ”¹åˆ—å" class="headerlink" title="9.3.4 ä¿®æ”¹åˆ—å"></a>9.3.4 ä¿®æ”¹åˆ—å</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#ä¿®æ”¹è¯¾ç¨‹è¡¨ä¸­subject_hoursåˆ—ä¸ºclass_hours</span><br><span class="line">ALTER TABLE t_subject CHANGE subject_hours class_hours INT;</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>ä¿®æ”¹åˆ—åæ—¶</strong>ï¼Œ<strong>åœ¨ç»™å®šåˆ—æ–°åç§°æ—¶</strong>ï¼Œ<strong>è¦æŒ‡å®šåˆ—çš„ç±»å‹å’Œçº¦æŸ</strong>ã€‚</li>
</ul>
<h4 id="9-3-5-ä¿®æ”¹è¡¨å"><a href="#9-3-5-ä¿®æ”¹è¡¨å" class="headerlink" title="9.3.5 ä¿®æ”¹è¡¨å"></a>9.3.5 ä¿®æ”¹è¡¨å</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#ä¿®æ”¹è¯¾ç¨‹è¡¨çš„t_subjectä¸ºt_sub</span><br><span class="line">ALTER TABLE t_subject RENAME t_sub;</span><br></pre></td></tr></tbody></table></figure>

<h3 id="9-4-æ•°æ®è¡¨çš„åˆ é™¤ï¼ˆDROPï¼‰"><a href="#9-4-æ•°æ®è¡¨çš„åˆ é™¤ï¼ˆDROPï¼‰" class="headerlink" title="9.4 æ•°æ®è¡¨çš„åˆ é™¤ï¼ˆDROPï¼‰"></a>9.4 æ•°æ®è¡¨çš„åˆ é™¤ï¼ˆDROPï¼‰</h3><blockquote>
<p> <strong>è¯­æ³•</strong>ï¼š<code>DROP TABLE è¡¨å</code></p>
</blockquote>
<h4 id="9-4-1-åˆ é™¤è¯¾ç¨‹è¡¨"><a href="#9-4-1-åˆ é™¤è¯¾ç¨‹è¡¨" class="headerlink" title="9.4.1 åˆ é™¤è¯¾ç¨‹è¡¨"></a>9.4.1 åˆ é™¤è¯¾ç¨‹è¡¨</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#åˆ é™¤è¯¾ç¨‹è¡¨</span><br><span class="line">DROP TABLE t_sub;</span><br></pre></td></tr></tbody></table></figure>

<h2 id="åã€çº¦æŸ"><a href="#åã€çº¦æŸ" class="headerlink" title="åã€çº¦æŸ"></a>åã€çº¦æŸ</h2><blockquote>
<p> é—®é¢˜ï¼šåœ¨å¾€å·²åˆ›å»ºè¡¨ä¸­æ–°å¢æ•°æ®æ—¶ï¼Œå¯ä¸å¯ä»¥æ–°å¢ä¸¤è¡Œç›¸åŒåˆ—çš„æ•°æ®ï¼Ÿå¦‚æœå¯è¡Œï¼Œä¼šæœ‰ä»€ä¹ˆå¼Šç«¯ï¼Ÿ</p>
</blockquote>
<p>è¿™æ˜¯å¯ä»¥çš„ï¼Œä½†é‡å¤çš„æ•°æ®ä¸ä»…ä¼šæµªè´¹ç©ºé—´ï¼Œè€Œä¸”å¯¹æŸ¥è¯¢ç»“æœä¸åˆ©ï¼Œä¹Ÿæ˜¯å¤šä½™çš„ã€‚åœ¨å®é™…çš„å­˜å‚¨ä¸­åº”å°½é‡ä¿è¯æ¯æ¡æ•°æ®çš„å”¯ä¸€æ€§ã€‚</p>
<h3 id="10-1-å®ä½“å®Œæ•´æ€§çº¦æŸ"><a href="#10-1-å®ä½“å®Œæ•´æ€§çº¦æŸ" class="headerlink" title="10.1 å®ä½“å®Œæ•´æ€§çº¦æŸ"></a>10.1 å®ä½“å®Œæ•´æ€§çº¦æŸ</h3><blockquote>
<p> è¡¨ä¸­çš„ä¸€è¡Œæ•°æ®ä»£è¡¨ä¸€ä¸ªå®ä½“ï¼ˆentityï¼‰ï¼Œå®ä½“å®Œæ•´æ€§çš„ä½œç”¨å³æ˜¯æ ‡è¯†æ¯ä¸€è¡Œæ•°æ®ä¸é‡å¤ï¼Œå®ä½“å”¯ä¸€ã€‚</p>
</blockquote>
<h4 id="10-1-1-ä¸»é”®çº¦æŸ"><a href="#10-1-1-ä¸»é”®çº¦æŸ" class="headerlink" title="10.1.1 ä¸»é”®çº¦æŸ"></a>10.1.1 ä¸»é”®çº¦æŸ</h4><blockquote>
<p><strong>å…³é”®è¯</strong>ï¼š<code>PRIMARY KEY</code>å”¯ä¸€ï¼Œæ ‡è¯†è¡¨ä¸­çš„ä¸€è¡Œæ•°æ®ï¼Œæ­¤åˆ—çš„å€¼ä¸å¯é‡å¤ï¼Œä¸”<strong>ä¸èƒ½</strong>ä¸ºNULLã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#ä¸ºè¡¨ä¸­é€‚ç”¨ä¸»é”®çš„åˆ—æ·»åŠ ä¸»é”®çº¦æŸ</span><br><span class="line">CREATE TABLE t_subject(</span><br><span class="line">#è¯¾ç¨‹æ ‡å·æ ‡è¯†äº†æ¯ä¸€ä¸ªè¯¾ç¨‹çš„ç¼–å·å”¯ä¸€ï¼Œä¸”ä¸èƒ½ä¸ºNULL</span><br><span class="line">subject_id INT PRIMARY KEY,</span><br><span class="line">subject_name VARCHAR(20),</span><br><span class="line">subject_hours INT</span><br><span class="line">)CHARSET=utf8;</span><br><span class="line">INSERT INTO t_subject(subject_id,subject_name,subject_hours) VALUES(1,'JAVA',40);</span><br><span class="line">#æŠ¥é”™ï¼Œä¸»é”®subject_idä¸å¯é‡å¤</span><br><span class="line">INSERT INTO t_subject(subject_id,subject_name,subject_hours) VALUES(1,'JAVA',40);</span><br></pre></td></tr></tbody></table></figure>

<p>ä½œä¸ºä¸»é”®çš„å­—æ®µä¸€èˆ¬éƒ½æ˜¯ä¹Ÿåº”è¯¥æ˜¯ç¼–å·ã€å­¦å·ã€å·¥å·ç­‰å­—æ®µã€‚</p>
<h4 id="10-1-2-å”¯ä¸€çº¦æŸ"><a href="#10-1-2-å”¯ä¸€çº¦æŸ" class="headerlink" title="10.1.2 å”¯ä¸€çº¦æŸ"></a>10.1.2 å”¯ä¸€çº¦æŸ</h4><blockquote>
<p> <strong>å…³é”®å­—</strong>ï¼š<code>UNIQUE</code>å”¯ä¸€ï¼Œæ ‡è¯†è¡¨ä¸­çš„ä¸€è¡Œæ•°æ®ï¼Œä¸å¯é‡å¤ï¼Œ<strong>å¯ä»¥</strong>ä¸ºNULLã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#ä¸ºè¡¨ä¸­åˆ—å€¼ä¸å…è®¸é‡å¤çš„åˆ—æ·»åŠ å”¯ä¸€çº¦æŸ</span><br><span class="line">ALTER TABLE t_subject MODIFY subject_name VARCHAR(20) UNIQUE;</span><br><span class="line"></span><br><span class="line">INSERT INTO t_subject(subject_id,subject_name,subject_hours) VALUES(1,'JAVA',40);</span><br><span class="line">#æŠ¥é”™ï¼Œè¯¾ç¨‹åå·²å­˜åœ¨</span><br><span class="line">INSERT INTO t_subject(subject_id,subject_name,subject_hours) VALUES(2,'JAVA',40);</span><br></pre></td></tr></tbody></table></figure>

<h4 id="10-1-3-è‡ªåŠ¨å¢é•¿åˆ—"><a href="#10-1-3-è‡ªåŠ¨å¢é•¿åˆ—" class="headerlink" title="10.1.3 è‡ªåŠ¨å¢é•¿åˆ—"></a>10.1.3 è‡ªåŠ¨å¢é•¿åˆ—</h4><blockquote>
<p> å…³é”®å­—ï¼š<code>AUTO_INCREAMENT</code>è‡ªåŠ¨å¢é•¿ï¼Œç»™<strong>ä¸»é”®æ•°å€¼åˆ—</strong>æ·»åŠ è‡ªåŠ¨å¢é•¿ã€‚ä»1å¼€å§‹ï¼Œæ¯æ¬¡åŠ 1ã€‚ä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå’Œä¸»é”®é…åˆã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#ä¸ºè¡¨ä¸­ä¸»é”®åˆ—æ·»åŠ è‡ªåŠ¨å¢é•¿ï¼Œé¿å…å¿˜è®°ä¸»é”®IDåºå·</span><br><span class="line">ALTER TABLE t_subject MODIFY subject_id INT AUTO_INCREMENT;</span><br><span class="line">#è¯¾ç¨‹IDè‡ªåŠ¨å¢é•¿ä¸º2</span><br><span class="line">INSERT INTO t_subject ( subject_name, subject_hours ) VALUES( 'HTML5', 40 );</span><br></pre></td></tr></tbody></table></figure>

<h3 id="10-2-åŸŸå®Œæ•´æ€§çº¦æŸ"><a href="#10-2-åŸŸå®Œæ•´æ€§çº¦æŸ" class="headerlink" title="10.2 åŸŸå®Œæ•´æ€§çº¦æŸ"></a>10.2 åŸŸå®Œæ•´æ€§çº¦æŸ</h3><blockquote>
<p> è¯¥çº¦æŸé™åˆ¶å•å…ƒæ ¼çš„æ•°æ®æ­£ç¡®æ€§ã€‚</p>
</blockquote>
<h4 id="10-2-1-éç©ºçº¦æŸ"><a href="#10-2-1-éç©ºçº¦æŸ" class="headerlink" title="10.2.1 éç©ºçº¦æŸ"></a>10.2.1 éç©ºçº¦æŸ</h4><blockquote>
<p> è¯­æ³•ï¼š<code>NOT NULL</code>,éç©ºï¼Œæ­¤åˆ—å¿…é¡»æœ‰å€¼</p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#è¯¾ç¨‹åç§°è™½ç„¶æ·»åŠ äº†å”¯ä¸€çº¦æŸï¼Œä½†æ˜¯æœ‰NULLå€¼å­˜åœ¨çš„å¯èƒ½ï¼Œè¦é¿å…è¯¾ç¨‹åç§°ä¸ºNULLã€‚</span><br><span class="line">ALTER TABLE t_subject MODIFY subject_name VARCHAR(20) NOT NULL;</span><br><span class="line">#æŠ¥é”™ï¼Œè¯¾ç¨‹åä¸èƒ½ä¸ºç©º</span><br><span class="line">INSERT INTO t_subject(subject_name,subject_hours) VALUES (NULL,40);</span><br></pre></td></tr></tbody></table></figure>

<h4 id="10-2-2-é»˜è®¤å€¼çº¦æŸ"><a href="#10-2-2-é»˜è®¤å€¼çº¦æŸ" class="headerlink" title="10.2.2 é»˜è®¤å€¼çº¦æŸ"></a>10.2.2 é»˜è®¤å€¼çº¦æŸ</h4><blockquote>
<p> <strong>å…³é”®å­—</strong>ï¼š<code>DEFAULT å€¼</code>ã€‚ä¸ºåˆ—èµ‹äºˆé»˜è®¤å€¼ï¼Œå½“æ–°å¢æ•°æ®ä¸æŒ‡å®šå€¼æ—¶ï¼Œä¹¦å†™DEFAULTï¼Œä»¥æŒ‡å®šçš„é»˜è®¤å€¼è¿›è¡Œå¡«å……ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#å½“å­˜å‚¨è¯¾ç¨‹ä¿¡æ¯æ—¶ï¼Œè‹¥è¯¾ç¨‹æ—¶é•¿æ²¡æœ‰æŒ‡å®šå€¼ï¼Œåˆ™ä»¥é»˜è®¤å€¼è¿›è¡Œå¡«å……</span><br><span class="line">ALTER TABLE t_subject MODIFY subject_hours INT DEFAULT 40;</span><br><span class="line">#ä¸å†™é»˜è®¤è¯¾ç¨‹æ—¶ä¸º40ï¼Œä¹Ÿå¯ä»¥æŠŠå€¼å†™æˆDEFAULT</span><br><span class="line">INSERT INTO t_subject(subject_name) VALUES('JAVAWEB');</span><br></pre></td></tr></tbody></table></figure>

<h4 id="10-2-3-å¼•ç”¨å®Œæ•´æ€§çº¦æŸ"><a href="#10-2-3-å¼•ç”¨å®Œæ•´æ€§çº¦æŸ" class="headerlink" title="10.2.3 å¼•ç”¨å®Œæ•´æ€§çº¦æŸ"></a>10.2.3 å¼•ç”¨å®Œæ•´æ€§çº¦æŸ</h4><blockquote>
<p><strong>è¯­æ³•</strong>ï¼š<code>CONSTRAINT å¼•ç”¨å FOREIGN KEY (åˆ—å) REFERENCES è¢«å¼•ç”¨è¡¨å(åˆ—å)</code></p>
</blockquote>
<blockquote>
<p> <strong>è§£é‡Š</strong>ï¼šFOREIGN KEY<strong>å¼•ç”¨å¤–éƒ¨è¡¨æŸä¸ªåˆ—çš„å€¼</strong>ï¼Œæ–°å¢æ•°æ®æ—¶ï¼Œçº¦æŸæ­¤åˆ—çš„å€¼<strong>å¿…é¡»æ˜¯å¼•ç”¨è¡¨ä¸­å­˜åœ¨çš„å€¼</strong>ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#åˆ›å»ºä¸“ä¸šè¡¨</span><br><span class="line">CREATE TABLE t_speciality(</span><br><span class="line">	special_id INT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">	special_name VARCHAR(20) UNIQUE NOT NULL</span><br><span class="line">)CHARSET=utf8;</span><br><span class="line">#æ·»åŠ ä¸€äº›ä¸“ä¸šä¿¡æ¯</span><br><span class="line">INSERT INTO t_speciality(special_name) VALUES('HTML5');</span><br><span class="line">INSERT INTO t_speciality(special_name) VALUES('JAVA');</span><br><span class="line">INSERT INTO t_speciality(special_name) VALUES('JAVAWEB');</span><br><span class="line">INSERT INTO t_speciality(special_name) VALUES('æ•°æ®ç»“æ„');</span><br><span class="line">#subject_idå¼•ç”¨special_id</span><br><span class="line">ALTER TABLE t_subject ADD </span><br><span class="line">CONSTRAINT fk_subject_spacial FOREIGN KEY(special_id) REFERENCES t_speciality(special_id);</span><br><span class="line">#æ·»åŠ æ•°æ®æˆåŠŸ</span><br><span class="line">INSERT INTO t_subject(subject_name,special_id) VALUES('æ•°æ®ç»“æ„',4);</span><br><span class="line">#æ·»åŠ å¤±è´¥ï¼Œä¸»è¡¨ä¸­ä¸å­˜åœ¨5</span><br><span class="line">INSERT INTO t_subject(subject_name,special_id) VALUES('æ“ä½œç³»ç»Ÿ',5);</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>å½“ä¸¤å¼ è¡¨å­˜åœ¨å¼•ç”¨å…³ç³»æ—¶</strong>ï¼Œ<strong>è¦æ‰§è¡Œåˆ é™¤æ“ä½œ</strong>ï¼Œ<strong>ä¸€å®šè¦å…ˆåˆ é™¤ä»è¡¨</strong>ï¼ˆ<strong>å¼•ç”¨è¡¨</strong>ï¼‰ï¼Œ<strong>å†åˆ é™¤ä¸»è¡¨</strong>ï¼ˆ<strong>è¢«å¼•ç”¨è¡¨</strong>ï¼‰ã€‚</li>
</ul>
<h3 id="10-3-çº¦æŸåˆ›å»ºæ•´åˆ"><a href="#10-3-çº¦æŸåˆ›å»ºæ•´åˆ" class="headerlink" title="10.3 çº¦æŸåˆ›å»ºæ•´åˆ"></a>10.3 çº¦æŸåˆ›å»ºæ•´åˆ</h3><p>åˆ›å»ºå¸¦æœ‰çº¦æŸçš„è¡¨ã€‚</p>
<table>
<thead>
<tr>
<th>åˆ—å</th>
<th>æ•°æ®ç±»å‹</th>
<th>çº¦æŸ</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>grade_id</td>
<td>INT</td>
<td>ä¸»é”®ã€è‡ªåŠ¨å¢é•¿</td>
<td>ç­çº§ç¼–å·</td>
</tr>
<tr>
<td>grade_name</td>
<td>VARCHAR(20)</td>
<td>å”¯ä¸€ã€éç©º</td>
<td>ç­çº§åç§°</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">CREATE TABLE t_grade(</span><br><span class="line">	grade_id INT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">	grade_name VARCHAR(20) UNIQUE NOT NULL</span><br><span class="line">)CHARSET=utf8;</span><br></pre></td></tr></tbody></table></figure>

<table>
<thead>
<tr>
<th>åˆ—å</th>
<th>æ•°æ®ç±»å‹</th>
<th>çº¦æŸ</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>student_id</td>
<td>VARCHAR(20)</td>
<td>ä¸»é”®</td>
<td>å­¦å·</td>
</tr>
<tr>
<td>student_name</td>
<td>VARCHAR(20)</td>
<td>éç©º</td>
<td>å§“å</td>
</tr>
<tr>
<td>sex</td>
<td>CHAR(2)</td>
<td>é»˜è®¤å¡«å……â€œç”·â€</td>
<td>æ€§åˆ«</td>
</tr>
<tr>
<td>born_date</td>
<td>DATE</td>
<td>éç©º</td>
<td>ç”Ÿæ—¥</td>
</tr>
<tr>
<td>phone</td>
<td>VARCHAR(11)</td>
<td>æ— </td>
<td>ç”µè„‘</td>
</tr>
<tr>
<td>grade_id</td>
<td>INT</td>
<td>éç©ºã€å¤–é”®çº¦æŸå¼•ç”¨ç­çº§è¡¨çš„grade_id</td>
<td>ç­çº§ç¼–å·</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">CREATE TABLE t_student(</span><br><span class="line">	student_id VARCHAR(20) PRIMARY KEY,</span><br><span class="line">	student_name VARCHAR(20) NOT NULL,</span><br><span class="line">	sex CHAR(2) DEFAULT 'ç”·',</span><br><span class="line">	born_date DATE NOT NULL,</span><br><span class="line">	phone VARCHAR(11),</span><br><span class="line">	grade_id INT NOT NULL,</span><br><span class="line">	CONSTRAINT fk_student_grade FOREIGN KEY (grade_id) REFERENCES t_grade(grade_id)</span><br><span class="line">)CHARSET=utf8;</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>åˆ›å»ºå…³ç³»è¡¨æ—¶</strong>ï¼Œ<strong>ä¸€å®šè¦å…ˆåˆ›å»ºä¸»é”®</strong>ï¼Œ<strong>å†åˆ›å»ºä»è¡¨</strong>ã€‚</li>
<li><strong>åˆ é™¤å…³ç³»è¡¨æ—¶</strong>ï¼Œ<strong>å…ˆåˆ é™¤ä»è¡¨</strong>ï¼Œ<strong>å†åˆ é™¤ä¸»è¡¨</strong>ã€‚</li>
</ul>
<h2 id="åä¸€ã€äº‹åŠ¡ã€é‡ç‚¹ã€‘"><a href="#åä¸€ã€äº‹åŠ¡ã€é‡ç‚¹ã€‘" class="headerlink" title="åä¸€ã€äº‹åŠ¡ã€é‡ç‚¹ã€‘"></a>åä¸€ã€äº‹åŠ¡ã€é‡ç‚¹ã€‘</h2><h3 id="11-1-æ¨¡æ‹Ÿè½¬è´¦"><a href="#11-1-æ¨¡æ‹Ÿè½¬è´¦" class="headerlink" title="11.1 æ¨¡æ‹Ÿè½¬è´¦"></a>11.1 æ¨¡æ‹Ÿè½¬è´¦</h3><blockquote>
<p> ç”Ÿæ´»å½“ä¸­è½¬è´¦æ˜¯è½¬è´¦æ–¹è´¦æˆ·æ‰£é’±ï¼Œæ”¶è´¦æ–¹è´¦æˆ·åŠ é’±ã€‚æˆ‘ä»¬ç”¨æ•°æ®åº“æ“ä½œæ¥æ¨¡æ‹Ÿå®ç°è½¬è´¦ã€‚</p>
</blockquote>
<h4 id="11-1-1-æ•°æ®åº“æ¨¡æ‹Ÿè½¬è´¦"><a href="#11-1-1-æ•°æ®åº“æ¨¡æ‹Ÿè½¬è´¦" class="headerlink" title="11.1.1 æ•°æ®åº“æ¨¡æ‹Ÿè½¬è´¦"></a>11.1.1 æ•°æ®åº“æ¨¡æ‹Ÿè½¬è´¦</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#Aè´¦æˆ·è½¬è´¦ç»™Bè´¦æˆ·1000å…ƒ</span><br><span class="line">#Bè´¦æˆ·å‡1000å…ƒ</span><br><span class="line"></span><br><span class="line">#æ–°å»ºè´¦æˆ·è¡¨</span><br><span class="line">CREATE TABLE t_account(</span><br><span class="line">	account_id INT PRIMARY KEY,</span><br><span class="line">	money INT</span><br><span class="line">)CHARSET=utf8;</span><br><span class="line">#æ’å…¥æ•°æ®</span><br><span class="line">INSERT INTO t_account(account_id,money) VALUES(1,5000);</span><br><span class="line">INSERT INTO t_account(account_id,money) VALUES(2,5000);</span><br><span class="line">#æ¨¡æ‹Ÿè½¬è´¦</span><br><span class="line">UPDATE t_account SET money=money-1000 WHERE account_id=1;#è½¬è´¦</span><br><span class="line">UPDATE t_account SET money=money+1000 WHERE account_id=2;#æ”¶è´¦</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>ä¸Šè¿°ä»£ç å®Œæˆäº†ä¸¤ä¸ªè´¦æˆ·ä¹‹é—´è½¬è´¦çš„æ“ä½œ</strong>ã€‚</li>
</ul>
<h3 id="11-1-2-æ¨¡æ‹Ÿè½¬è´¦é”™è¯¯"><a href="#11-1-2-æ¨¡æ‹Ÿè½¬è´¦é”™è¯¯" class="headerlink" title="11.1.2 æ¨¡æ‹Ÿè½¬è´¦é”™è¯¯"></a>11.1.2 æ¨¡æ‹Ÿè½¬è´¦é”™è¯¯</h3><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">UPDATE t_account SET money=money-1000 WHERE account_id=1;#è½¬è´¦</span><br><span class="line">#æ–­ç”µï¼Œå¼‚å¸¸ï¼Œå‡ºé”™...</span><br><span class="line">UPDATE t_account SET money=money+1000 WHERE account_id=2;#æ”¶è´¦</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>ä¸Šè¿°ä»£ç åœ¨å‡æ“ä½œåè¿‡ç¨‹ä¸­å‡ºç°äº†å¼‚å¸¸æˆ–åŠ é’±è¯­å¥å‡ºé”™</strong>ï¼Œ<strong>ä¼šå‘ç°å‡é’±æˆåŠŸäº†è€ŒåŠ é’±å¤±è´¥äº†</strong>ï¼</li>
<li><strong>æ³¨æ„</strong>ï¼š<strong>æ¯æ¡SQLè¯­å¥éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ“ä½œ</strong>ï¼Œ<strong>ä¸€ä¸ªæ“ä½œæ‰§è¡Œå®Œå¯¹æ•°æ®åº“æ˜¯æ°¸ä¹…æ€§çš„å½±å“</strong>ã€‚</li>
</ul>
<h3 id="11-2-äº‹åŠ¡çš„æ¦‚å¿µ"><a href="#11-2-äº‹åŠ¡çš„æ¦‚å¿µ" class="headerlink" title="11.2 äº‹åŠ¡çš„æ¦‚å¿µ"></a>11.2 äº‹åŠ¡çš„æ¦‚å¿µ</h3><blockquote>
<p> äº‹åŠ¡æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œæ˜¯ä¸€ä¸ªåšå°æ‰§è¡Œå•å…ƒã€‚å¯ä»¥ç”±ä¸€ä¸ªæˆ–å¤šä¸ªSQLè¯­å¥ç»„æˆï¼Œåœ¨åŒä¸€ä¸ªäº‹åŠ¡å½“ä¸­ï¼Œæ‰€æœ‰çš„SQLè¯­å¥éƒ½æˆåŠŸæ‰§è¡Œï¼Œæ•´ä¸ªäº‹åŠ¡æˆåŠŸï¼Œæœ‰ä¸€ä¸ªSQLè¯­å¥æ‰§è¡Œå¤±è´¥ï¼Œæ•´ä¸ªäº‹åŠ¡æ‰§è¡Œå¤±è´¥ã€‚</p>
</blockquote>
<h3 id="11-3-äº‹åŠ¡çš„è¾¹ç•Œ"><a href="#11-3-äº‹åŠ¡çš„è¾¹ç•Œ" class="headerlink" title="11.3 äº‹åŠ¡çš„è¾¹ç•Œ"></a>11.3 äº‹åŠ¡çš„è¾¹ç•Œ</h3><ul>
<li>å¼€å§‹ï¼šè¿æ¥åˆ°æ•°æ®åº“ï¼Œæ‰§è¡Œä¸€æ¡DMLè¯­å¥ã€‚ä¸Šä¸€ä¸ªäº‹åŠ¡ç»“æŸåï¼Œåˆè¾“å…¥äº†ä¸€æ¡DMLè¯­å¥ï¼Œå³äº‹åŠ¡çš„å¼€å§‹ã€‚</li>
<li>ç»“æŸï¼š<ol>
<li>æäº¤ï¼š<ul>
<li>æ˜¾å¼æäº¤ï¼šCOMMITï¼›</li>
<li>éšå¼æäº¤ï¼šä¸€æ¡åˆ›å»ºã€åˆ é™¤çš„è¯­å¥ï¼Œæ­£å¸¸é€€å‡ºï¼ˆå®¢æˆ·ç«¯é€€å‡ºè¿æ¥ï¼‰ï¼›</li>
</ul>
</li>
<li>å›æ»šï¼š<ul>
<li>æ˜¾å¼å›æ»šï¼šROLLBACKï¼›</li>
<li>éšå¼å›æ»šï¼šéæ­£å¸¸é€€å‡ºï¼ˆæ–­ç”µã€å®•æœºï¼‰ï¼Œæ‰§è¡Œäº†åˆ›å»ºã€åˆ é™¤çš„è¯­å¥ï¼Œä½†æ˜¯å¤±è´¥äº†ï¼Œä¼šä¸ºè¿™ä¸ªæ— æ•ˆçš„è¯­å¥æ‰§è¡Œå›æ»šã€‚</li>
</ul>
</li>
</ol>
</li>
</ul>
<p>å¦‚11.1.2èŠ‚ä¸­çš„ä¸¤æ¡è¯­å¥å°±æ˜¯ä¸¤ä¸ªäº‹åŠ¡ï¼Œç¬¬ä¸€æ¡è¯­å¥æ‰§è¡Œä¾¿æ˜¯äº‹åŠ¡çš„å¼€å§‹ï¼Œåˆ†å·ä¾¿æ˜¯äº‹åŠ¡çš„ç»“æŸï¼Œæ‰§è¡Œå®Œæ¯•è¯¥è¯­å¥å°±è¢«æäº¤äº†ï¼›è€Œç¬¬äºŒå¥ç”±äºæ‰§è¡Œå¤±è´¥ï¼Œè¯¥è¯­å¥çš„ç»“æœå°±æ˜¯å›æ»šï¼Œå›åˆ°äº‹åŠ¡å‰çš„æ ·å­ã€‚</p>
<h3 id="11-4-äº‹åŠ¡çš„åŸç†"><a href="#11-4-äº‹åŠ¡çš„åŸç†" class="headerlink" title="11.4 äº‹åŠ¡çš„åŸç†"></a>11.4 äº‹åŠ¡çš„åŸç†</h3><blockquote>
<p> æ•°æ®åº“ä¼šä¸ºæ¯ä¸€ä¸ªå®¢æˆ·ç«¯éƒ½ç»´æŠ¤ä¸€ä¸ªç©ºé—´ç‹¬ç«‹çš„ç¼“å­˜åŒºï¼ˆå›æ»šæ®µï¼‰ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­æ‰€æœ‰çš„å¢åˆ æ”¹æŸ¥è¯­å¥çš„æ‰§è¡Œç»“æœéƒ½ä¼šç¼“å­˜åœ¨å›æ»šæ®µä¸­ï¼Œåªæœ‰å½“äº‹åŠ¡ä¸­æ‰€æœ‰SQLè¯­å¥å‡æ­£å¸¸ç»“æŸï¼ˆCOMMITï¼‰ï¼Œæ‰ä¼šå°†å›æ»šæ®µä¸­çš„æ•°æ®åŒæ­¥åˆ°æ•°æ®åº“ã€‚å¦åˆ™æ— è®ºå› ä¸ºå“ªç§åŸå› å¤±è´¥ï¼Œæ•´ä¸ªäº‹åŠ¡å°†å›æ»šï¼ˆROLLBACKï¼‰ã€‚</p>
</blockquote>
<h3 id="11-5-äº‹åŠ¡çš„ç‰¹æ€§ï¼ˆACIDï¼‰"><a href="#11-5-äº‹åŠ¡çš„ç‰¹æ€§ï¼ˆACIDï¼‰" class="headerlink" title="11.5 äº‹åŠ¡çš„ç‰¹æ€§ï¼ˆACIDï¼‰"></a>11.5 äº‹åŠ¡çš„ç‰¹æ€§ï¼ˆACIDï¼‰</h3><ul>
<li><p><strong>Atomicity</strong>ï¼ˆ<strong>åŸå­æ€§</strong>ï¼‰</p>
<p>è¡¨ç¤ºä¸€ä¸ªäº‹åŠ¡å†…çš„æ‰€æœ‰æ“ä½œæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚</p>
</li>
<li><p><strong>Consistency</strong>ï¼ˆ<strong>ä¸€è‡´æ€§</strong>ï¼‰</p>
<p>è¡¨ç¤ºä¸€ä¸ªäº‹åŠ¡å†…æœ‰ä¸€ä¸ªæ“ä½œå¤±è´¥æ—¶ï¼Œæ‰€æœ‰æ›´æ”¹è¿‡çš„æ•°æ®éƒ½å¿…é¡»å›æ»šåˆ°ä¿®æ”¹å‰çŠ¶æ€ã€‚</p>
</li>
<li><p><strong>Isolation</strong>ï¼ˆ<strong>éš”ç¦»æ€§</strong>ï¼‰</p>
<p>äº‹åŠ¡æŸ¥çœ‹æ•°æ®åº“æ“ä½œæ—¶æ•°æ®æ‰€å¤„çš„çŠ¶æ€ï¼Œè¦ä¹ˆæ˜¯å¦ä¸€å¹¶å‘äº‹åŠ¡ä¿®æ”¹å®ƒä¹‹å‰çš„çŠ¶æ€ï¼Œè¦ä¹ˆæ˜¯å¦ä¸€äº‹ç‰©ä¿®æ”¹å®ƒä¹‹åçš„çŠ¶æ€ï¼Œäº‹åŠ¡ä¸ä¼šæŸ¥çœ‹ä¸­é—´çŠ¶æ€çš„æ•°æ®ã€‚</p>
</li>
<li><p><strong>Durability</strong>ï¼ˆ<strong>æŒä¹…æ€§</strong>ï¼‰</p>
<p>æŒä¹…æ€§äº‹åŠ¡å®Œæˆä¹‹åï¼Œå®ƒå¯¹ä¸ç³»ç»Ÿçš„å½±å“æ˜¯æ°¸ä¹…æ€§çš„ã€‚</p>
</li>
</ul>
<h3 id="11-6-äº‹åŠ¡åº”ç”¨"><a href="#11-6-äº‹åŠ¡åº”ç”¨" class="headerlink" title="11.6 äº‹åŠ¡åº”ç”¨"></a>11.6 äº‹åŠ¡åº”ç”¨</h3><p>åº”ç”¨ç¯å¢ƒï¼šåŸºäºå¢åˆ æ”¹æŸ¥è¯­å¥çš„æ“ä½œç»“æœï¼ˆå‡è¿”å›æ“ä½œåå—å½±å“çš„è¡Œæ•°ï¼‰ï¼Œå¯é€šè¿‡ç¨‹åºé€»è¾‘æ‰‹åŠ¨æ§åˆ¶äº‹åŠ¡æäº¤æˆ–å›æ»šã€‚</p>
<h4 id="11-6-1-äº‹åŠ¡å®Œæˆè½¬è´¦"><a href="#11-6-1-äº‹åŠ¡å®Œæˆè½¬è´¦" class="headerlink" title="11.6.1 äº‹åŠ¡å®Œæˆè½¬è´¦"></a>11.6.1 äº‹åŠ¡å®Œæˆè½¬è´¦</h4><p>æ‰‹åŠ¨å¼€å¯äº‹åŠ¡ï¼Œå°†ä¸¤ä¸ªå‡é’±å’ŒåŠ é’±çš„æ“ä½œæ”¾åˆ°äº‹åŠ¡ä¸­ï¼Œæ“ä½œå®Œä¹‹åå†æäº¤ã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#å¼€å¯äº‹åŠ¡</span><br><span class="line">START TRANSACTION;</span><br><span class="line">#æ‰§è¡Œå‡é’±æ“ä½œï¼ˆä¸¤ä¸ªè´¦æˆ·åˆå§‹é’±éƒ½ä¸º5000ï¼‰</span><br><span class="line">UPDATE t_account SET money=money-1000 WHERE account_id = 1;</span><br><span class="line">#æ‰§è¡ŒåŠ é’±æ“ä½œ</span><br><span class="line">UPDATE t_account SET money=money+1000 WHERE account_id = 2;</span><br><span class="line">#æŸ¥çœ‹è¯¥äº‹åŠ¡ä¸­è´¦æˆ·æ•°æ®</span><br><span class="line">SELECT * FROM t_account;</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸ŠSQLè¯­å¥å¼€å¯äº†äº‹åŠ¡ï¼Œä½†å¹¶æœªè¿›è¡Œæäº¤ï¼Œæ­¤æ—¶æŸ¥çœ‹è´¦æˆ·ä¸­çš„æ•°æ®å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>account_id</th>
<th>money</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>4000</td>
</tr>
<tr>
<td>2</td>
<td>6000</td>
</tr>
</tbody></table>
<p>å‘ç°æ•°æ®<strong>å·²ç»å˜äº†</strong>ï¼Œä½†è¯¥æ•°æ®åªæ˜¯äº‹åŠ¡çš„ä¸­é—´çŠ¶æ€ã€‚</p>
<p>ç„¶ååœ¨ä½ çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸­<strong>æ–°å»º</strong>ä¸€ä¸ªè¿æ¥ï¼Œæ–°å»ºè¿æ¥åéšä¾¿å–ä¸€ä¸ªï¼Œç„¶åæ–°å»ºæŸ¥è¯¢ã€‚è¿™ä¹ˆåšç›¸å½“äºæ¨¡æ‹Ÿäº†å¦å¤–ä¸€ä¸ªå®¢æˆ·ç«¯ï¼š</p>
<p>æ‰§è¡Œ<code>SELECT * FROM t_account</code>;ï¼Œå‘ç°è¡¨ä¸­çš„æ•°æ®å¹¶<strong>æ²¡æœ‰æ”¹å˜</strong>ï¼š</p>
<table>
<thead>
<tr>
<th>account_id</th>
<th>money</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>5000</td>
</tr>
<tr>
<td>2</td>
<td>5000</td>
</tr>
</tbody></table>
<p>è¿™æ˜¯å› ä¸ºåœ¨ç¬¬ä¸€ä¸ªè¿æ¥ä¸­å¼€å¯äº†äº‹åŠ¡ï¼Œä½†æ²¡æœ‰æäº¤ï¼›è€Œåœ¨anotherè¿æ¥ä¸­ï¼ŒæŸ¥è¯¢è¯­å¥ä¹Ÿæ˜¯ä¸€ä¸ªäº‹åŠ¡ï¼ˆæ²¡æœ‰æ˜¾å¼å¼€å¯å’Œæ˜¾å¼æäº¤ï¼‰ï¼Œè¯¥äº‹åŠ¡åªèƒ½æŸ¥çœ‹å…¶å®ƒäº‹åŠ¡ä¿®æ”¹å‰åè€…ä¿®æ”¹åçš„çŠ¶æ€ï¼Œæ­¤å¤„å°±æ˜¯åªèƒ½æŸ¥çœ‹è½¬è´¦æ“ä½œæäº¤å‰çš„çŠ¶æ€ï¼Œä¸¤ä¸ªè´¦æˆ·éƒ½æ˜¯5000ï¼Œè¿™ä¹Ÿæ˜¯äº‹åŠ¡çš„<strong>éš”ç¦»æ€§</strong>ã€‚</p>
<p>å›åˆ°localhostè¿æ¥ä¸­ï¼Œæäº¤äº‹åŠ¡ï¼›ç„¶ååœ¨anotherè¿æ¥ä¸­å†æŸ¥è¯¢ä¸€æ¬¡ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#localhostè¿æ¥ï¼Œæäº¤äº‹åŠ¡</span><br><span class="line">COMMIT;</span><br><span class="line">#anotherè¿æ¥ï¼ŒæŸ¥è¯¢è¡¨</span><br><span class="line">SELECT * FROM t_account;</span><br></pre></td></tr></tbody></table></figure>

<p>æ­¤æ—¶çš„æŸ¥è¯¢ç»“æœå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>account_id</th>
<th>money</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>4000</td>
</tr>
<tr>
<td>2</td>
<td>6000</td>
</tr>
</tbody></table>
<p>å‘ç°æ•°æ®å·²ç»æ­£å¼ä¿®æ”¹å®Œæ¯•ã€‚</p>
<p>å›æ»šæ“ä½œç±»ä¼¼ï¼Œä½†å®ƒæ˜¯å–æ¶ˆæ‰äº‹åŠ¡çš„æ“ä½œï¼Œå›åˆ°äº‹åŠ¡å‰çš„çŠ¶æ€ã€‚æ¯”å¦‚äº‹åŠ¡å¼€å¯åï¼Œå‡é’±æˆåŠŸï¼Œä½†æ˜¯åŠ é’±å¤±è´¥äº†ï¼ˆå¯ä»¥ç”¨SQLè¯­å¥æŸä¸ªå•è¯å†™é”™æ¥æ¨¡æ‹Ÿï¼‰ï¼Œç„¶åæ‰‹åŠ¨æ‰§è¡Œ<code>ROLLBACK</code>ï¼Œå‡é’±æ“ä½œå°±ä¼šè¢«æ’¤é”€ã€‚ä¸å†æ¼”ç¤ºã€‚</p>
<ul>
<li>æ­¤å¤„çš„æ¼”ç¤ºæ˜¯æ‰‹åŠ¨è¿›è¡Œäº†äº‹ç‰©çš„å¼€å¯å’Œæäº¤/å›æ»šï¼Œåœ¨å†™ç¨‹åºæ—¶ï¼Œè¿™äº›æ“ä½œéƒ½ä¼šåœ¨ç¨‹åºä¸­è¿›è¡Œæ§åˆ¶ã€‚</li>
</ul>
<h2 id="åäºŒã€æƒé™ç®¡ç†"><a href="#åäºŒã€æƒé™ç®¡ç†" class="headerlink" title="åäºŒã€æƒé™ç®¡ç†"></a>åäºŒã€æƒé™ç®¡ç†</h2><h3 id="12-1-åˆ›å»ºç”¨æˆ·"><a href="#12-1-åˆ›å»ºç”¨æˆ·" class="headerlink" title="12.1 åˆ›å»ºç”¨æˆ·"></a>12.1 åˆ›å»ºç”¨æˆ·</h3><blockquote>
<p> <strong>è¯­æ³•</strong>ï¼š<code>CREATE USER ç”¨æˆ·å IDENTIFIED BY å¯†ç </code></p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#åˆ›å»ºä¸€ä¸ªç”¨æˆ·</span><br><span class="line">CREATE USER 'client1' IDENTIFIED BY '123456';</span><br></pre></td></tr></tbody></table></figure>

<p>æ¥ä¸‹æ¥éªŒè¯ç”¨æˆ·æ˜¯å¦æ·»åŠ æˆåŠŸï¼Œé¦–å…ˆæ–°å»ºè¿æ¥ï¼Œåœ¨ç”¨æˆ·åå’Œè´¦å·é‚£é‡Œå†™ä¸Šè‡ªå·±åˆ›å»ºçš„ç”¨æˆ·å’Œå¯†ç ï¼Œæµ‹è¯•ä¸€ä¸‹æ˜¯å¦è¿æ¥æˆåŠŸã€‚</p>
<p>ç„¶åç‚¹â€œç¡®å®šâ€ã€‚ä½†æ˜¯æ‰“å¼€è¯¥è¿æ¥ä¹‹åä½ ä¼šå‘ç°æ­¤è¿æ¥ä¸­é™¤äº†ä¸€ä¸ªç³»ç»Ÿæ•°æ®åº“ï¼Œå…¶ä»–æ•°æ®åº“<strong>éƒ½ä¸å­˜åœ¨</strong>ã€‚è¿™æ˜¯å› ä¸ºclient1ç”¨æˆ·å»ºç«‹çš„è¿æ¥æ²¡æœ‰å¾—åˆ°ä»»ä½•æˆæƒï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰å¯¹æ•°æ®åº“çš„è®¿é—®æ“ä½œæƒé™ã€‚</p>
<h3 id="12-2-æˆæƒ"><a href="#12-2-æˆæƒ" class="headerlink" title="12.2 æˆæƒ"></a>12.2 æˆæƒ</h3><blockquote>
<p> <strong>è¯­æ³•</strong>ï¼š<code>GRANT ALL ON æ•°æ®åº“.è¡¨ TO ç”¨æˆ·å;</code></p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#å°†companydbä¸‹çš„æ‰€æœ‰è¡¨çš„æƒé™éƒ½èµ‹ç»™client</span><br><span class="line">GRANT ALL ON companydb.* TO client1;</span><br></pre></td></tr></tbody></table></figure>

<p>è¯¥è¯­å¥éœ€è¦åœ¨rootè¿æ¥ä¸­æ‰§è¡Œï¼Œä¸èƒ½åœ¨client1è¿æ¥ä¸­è‡ªå·±ç»™è‡ªå·±æˆæƒã€‚</p>
<h3 id="12-3-æ’¤é”€æƒé™"><a href="#12-3-æ’¤é”€æƒé™" class="headerlink" title="12.3 æ’¤é”€æƒé™"></a>12.3 æ’¤é”€æƒé™</h3><blockquote>
<p> <strong>è¯­æ³•</strong>ï¼š<code>REVOKE ALL ON æ•°æ®åº“.è¡¨å FROM ç”¨æˆ·å</code></p>
</blockquote>
<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>æ’¤é”€æƒé™å</strong>ï¼Œ<strong>è´¦æˆ·éœ€è¦é‡æ–°è¿æ¥å®¢æˆ·ç«¯æ‰ä¼šç”Ÿæ•ˆ</strong>ã€‚</li>
</ul>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#å°†client1çš„companydbçš„æ“ä½œæƒé™æ’¤é”€</span><br><span class="line">GRANT ALL ON companydb.* TO client1;</span><br></pre></td></tr></tbody></table></figure>

<p>è™½ç„¶åˆ·æ–°ä¹‹åè¡¨ä¸è§äº†ï¼Œä½†æ˜¯ä¾ç„¶å¯ä»¥å¯¹è¡¨è¿›è¡Œæ“ä½œï¼Œåªæœ‰åœ¨é‡æ–°è¿æ¥æ•°æ®åº“çš„æ—¶å€™æƒé™æ‰ä¼šæ¶ˆå¤±ã€‚</p>
<h3 id="12-4-åˆ é™¤ç”¨æˆ·"><a href="#12-4-åˆ é™¤ç”¨æˆ·" class="headerlink" title="12.4 åˆ é™¤ç”¨æˆ·"></a>12.4 åˆ é™¤ç”¨æˆ·</h3><blockquote>
<p> <strong>è¯­æ³•</strong>ï¼š<code>DROP USER ç”¨æˆ·å</code></p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#åˆ é™¤ç”¨æˆ·client1</span><br><span class="line">DROP USER 'client1';</span><br></pre></td></tr></tbody></table></figure>

<h2 id="åä¸‰ã€è§†å›¾"><a href="#åä¸‰ã€è§†å›¾" class="headerlink" title="åä¸‰ã€è§†å›¾"></a>åä¸‰ã€è§†å›¾</h2><h3 id="13-1-æ¦‚å¿µ"><a href="#13-1-æ¦‚å¿µ" class="headerlink" title="13.1 æ¦‚å¿µ"></a>13.1 æ¦‚å¿µ</h3><blockquote>
<p> è§†å›¾ï¼Œè™šæ‹Ÿè¡¨ï¼Œä»ä¸€ä¸ªè¡¨æˆ–å¤šä¸ªè¡¨ä¸­æŸ¥è¯¢å‡ºæ¥çš„è¡¨ï¼Œä½œç”¨å’ŒçœŸå®è¡¨ä¸€æ ·ï¼ŒåŒ…å«ä¸€ç³»åˆ—å¸¦æœ‰è¡Œå’Œåˆ—çš„æ•°æ®ã€‚è§†å›¾è¡¨ä¸­ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨SELECTè¯­å¥æŸ¥è¯¢æ•°æ®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨INSERTã€UPDATEã€DELETEä¿®æ”¹è®°å½•ï¼Œè§†å›¾å¯ä»¥ä½¿ç”¨æˆ·æ“ä½œæ–¹ä¾¿ï¼Œå¹¶ä¿éšœæ•°æ®åº“ç³»ç»Ÿå®‰å…¨ã€‚</p>
</blockquote>
<ul>
<li>å’Œä¸´æ—¶è¡¨å¾ˆåƒï¼Œä½†ä¸´æ—¶è¡¨ä¸ä¼šè¢«ä¿å­˜ï¼Œè€Œè§†å›¾æ˜¯ä¿å­˜ä¸‹æ¥çš„è¡¨ã€‚</li>
</ul>
<h3 id="13-2-è§†å›¾ç‰¹ç‚¹"><a href="#13-2-è§†å›¾ç‰¹ç‚¹" class="headerlink" title="13.2 è§†å›¾ç‰¹ç‚¹"></a>13.2 è§†å›¾ç‰¹ç‚¹</h3><ul>
<li>ä¼˜ç‚¹<ul>
<li>ç®€å•åŒ–ï¼Œæ•°æ®æ‰€è§å³æ‰€å¾—ã€‚</li>
<li>å®‰å…¨æ€§ï¼Œç”¨æˆ·åªèƒ½æŸ¥è¯¢æˆ–ä¿®æ”¹ä»–ä»¬æ‰€èƒ½è§åˆ°çš„æ•°æ®ã€‚</li>
<li>é€»è¾‘ç‹¬ç«‹æ€§ï¼Œå¯ä»¥å±è”½çœŸå®è¡¨ç»“æ„å˜åŒ–å¸¦æ¥çš„å½±å“ã€‚</li>
</ul>
</li>
<li>ç¼ºç‚¹<ul>
<li>æ€§èƒ½ç›¸å¯¹è¾ƒå·®ï¼Œç®€å•çš„æŸ¥è¯¢ä¹Ÿä¼šå˜å¾—ç¨æ˜¾å¤æ‚ã€‚</li>
<li>ä¿®æ”¹ä¸æ–¹ä¾¿ï¼Œç‰¹åˆ«æ˜¯å¤æ‚çš„èšåˆè§†å›¾åŸºæœ¬æ— æ³•ä¿®æ”¹ã€‚</li>
</ul>
</li>
</ul>
<h3 id="13-3-è§†å›¾çš„åˆ›å»º"><a href="#13-3-è§†å›¾çš„åˆ›å»º" class="headerlink" title="13.3 è§†å›¾çš„åˆ›å»º"></a>13.3 è§†å›¾çš„åˆ›å»º</h3><blockquote>
<p> <strong>è¯­æ³•</strong>ï¼š<code>CREATE VIEW è§†å›¾å AS æŸ¥è¯¢æ•°æ®æºè¡¨ç»“æ„è¯­å¥;</code></p>
</blockquote>
<h3 id="13-3-1-åˆ›å»ºè§†å›¾"><a href="#13-3-1-åˆ›å»ºè§†å›¾" class="headerlink" title="13.3.1 åˆ›å»ºè§†å›¾"></a>13.3.1 åˆ›å»ºè§†å›¾</h3><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#åˆ›å»ºt_emp_infoçš„è§†å›¾ï¼Œå…¶è§†å›¾ä»t_employeesè¡¨ä¸­æŸ¥è¯¢å‘˜å·¥ç¼–å·ã€å§“åã€é‚®ç®±ã€å·¥èµ„</span><br><span class="line">CREATE VIEW t_emp_info</span><br><span class="line">AS</span><br><span class="line">SELECT EMPLOYEE_ID,FIRST_NAME,EMAIL,SALARY FROM t_employees;</span><br></pre></td></tr></tbody></table></figure>

<h4 id="13-3-2-ä½¿ç”¨è§†å›¾"><a href="#13-3-2-ä½¿ç”¨è§†å›¾" class="headerlink" title="13.3.2 ä½¿ç”¨è§†å›¾"></a>13.3.2 ä½¿ç”¨è§†å›¾</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#æŸ¥è¯¢t_emp_infoè§†å›¾ä¸­ç¼–å·ä¸º036çš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line">SELECT * FROM t_emp_info WHERE EMPLOYEE_ID = 036;</span><br></pre></td></tr></tbody></table></figure>

<p>ä½¿ç”¨è§†å›¾å¯ä»¥ç®€åŒ–æŸ¥è¯¢çš„æ“ä½œï¼Œå°†æ¥è§†å›¾åº”ç”¨æœ€å¤šçš„åœ°æ–¹ä¹Ÿæ˜¯æŸ¥è¯¢ã€‚</p>
<h3 id="13-4-è§†å›¾çš„ä¿®æ”¹"><a href="#13-4-è§†å›¾çš„ä¿®æ”¹" class="headerlink" title="13.4 è§†å›¾çš„ä¿®æ”¹"></a>13.4 è§†å›¾çš„ä¿®æ”¹</h3><blockquote>
<ul>
<li>æ–¹å¼ä¸€ï¼š<code>CREATE OR REPLACE VIEW è§†å›¾å AS æŸ¥è¯¢è¯­å¥</code></li>
<li>æ–¹å¼äºŒï¼š<code>ALTER VIEW è§†å›¾å AS æŸ¥è¯¢è¯­å¥</code></li>
</ul>
</blockquote>
<p>æ–¹å¼ä¸€æ˜¯åœ¨ä¸æ˜ç¡®è§†å›¾æ˜¯å¦å­˜åœ¨æ—¶ä½¿ç”¨ï¼Œå¦‚æœå­˜åœ¨åˆ™ä¿®æ”¹ï¼Œå¦åˆ™åˆ›å»ºï¼›æ–¹å¼äºŒæ˜¯æ˜ç¡®å­˜åœ¨æ—¶è¿›è¡Œä¿®æ”¹ã€‚æ— è®ºå“ªç§æ–¹å¼éƒ½éœ€è¦æ‹¼æ¥ä¸€ä¸ªå®Œæ•´æŸ¥è¯¢è¯­å¥ã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#æ–¹å¼ä¸€ï¼Œå¦‚æœè§†å›¾å­˜åœ¨åˆ™ä¿®æ”¹ï¼Œåä¹‹åˆ›å»ºã€‚</span><br><span class="line">CREATE OR REPLACE VIEW t_emp_info</span><br><span class="line">AS</span><br><span class="line">SELECT EMPLOYEE_ID,FIRST_NAME,EMAIL,SALARY,JOB_ID FROM t_employees;</span><br><span class="line">#æ–¹å¼äºŒï¼Œå¯¹å·²å­˜åœ¨çš„è§†å›¾è¿›è¡Œä¿®æ”¹</span><br><span class="line">ALTER VIEW t_emp_info</span><br><span class="line">AS</span><br><span class="line">SELECT EMPLOYEE_ID,FIRST_NAME,EMAIL,SALARY FROM t_employees;</span><br></pre></td></tr></tbody></table></figure>

<h3 id="13-5-è§†å›¾çš„åˆ é™¤"><a href="#13-5-è§†å›¾çš„åˆ é™¤" class="headerlink" title="13.5 è§†å›¾çš„åˆ é™¤"></a>13.5 è§†å›¾çš„åˆ é™¤</h3><blockquote>
<p> <strong>è¯­æ³•</strong>ï¼š<code>DROP VIEW è§†å›¾å</code></p>
</blockquote>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#åˆ é™¤è§†å›¾</span><br><span class="line">DROP VIEW t_emp_info;</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>æ³¨æ„</strong>ï¼š<strong>åˆ é™¤è§†å›¾ä¸ä¼šå½±å“åŸè¡¨</strong>ã€‚</li>
</ul>
<h3 id="13-6-è§†å›¾çš„æ³¨æ„äº‹é¡¹"><a href="#13-6-è§†å›¾çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="13.6 è§†å›¾çš„æ³¨æ„äº‹é¡¹"></a>13.6 è§†å›¾çš„æ³¨æ„äº‹é¡¹</h3><ul>
<li>è§†å›¾ä¸ä¼šç‹¬ç«‹å­˜å‚¨æ•°æ®ï¼ŒåŸè¡¨å‘ç”Ÿæ”¹å˜ï¼Œè§†å›¾ä¹Ÿå‘ç”Ÿæ”¹å˜ã€‚æ²¡æœ‰ä¼˜åŒ–ä»»ä½•æŸ¥è¯¢æ€§èƒ½ã€‚</li>
<li>å¦‚æœè§†å›¾åŒ…å«ä»¥ä¸‹ç»“æ„ä¸­çš„ä¸€ç§ï¼Œåˆ™è§†å›¾ä¸å¯æ›´æ–°ï¼š<ul>
<li>èšåˆå‡½æ•°çš„ç»“æœ</li>
<li>DISTINCTå»é‡åçš„ç»“æœ</li>
<li>GROUP BYåˆ†ç»„åçš„ç»“æœ</li>
<li>HAVINGç­›é€‰è¿‡æ»¤åçš„ç»“æœ</li>
<li>UNIONã€UNION ALLè”åˆåçš„ç»“æœ</li>
</ul>
</li>
</ul>
<h2 id="åå››ã€SQLè¯­è¨€åˆ†ç±»"><a href="#åå››ã€SQLè¯­è¨€åˆ†ç±»" class="headerlink" title="åå››ã€SQLè¯­è¨€åˆ†ç±»"></a>åå››ã€SQLè¯­è¨€åˆ†ç±»</h2><ol>
<li><strong>æ•°æ®æŸ¥è¯¢è¯­è¨€</strong>DQLï¼ˆData Query Languageï¼‰ï¼šSELECTã€WHEREã€ORDER BYã€GROUP BYã€HAVINGï¼›</li>
<li><strong>æ•°æ®å®šä¹‰è¯­è¨€</strong>DDLï¼ˆData Definition Languageï¼‰ï¼šCREATEã€ALTERã€DROPï¼›</li>
<li><strong>æ•°æ®æ“ä½œè¯­è¨€</strong>DMLï¼ˆData Manipulation Languageï¼‰ï¼šINSERTã€UNPATEã€DELETEï¼›</li>
<li><strong>äº‹åŠ¡å¤„ç†è¯­è¨€</strong>TPLï¼ˆTransaction Process Languageï¼‰ï¼šCOMMITã€ROLLBACKï¼›</li>
<li><strong>æ•°æ®æ§åˆ¶è¯­è¨€</strong>DCLï¼ˆData Control Languageï¼‰ï¼šGRANTã€REVOKEã€‚</li>
</ol>
<h2 id="åäº”ã€ç»¼åˆç»ƒä¹ "><a href="#åäº”ã€ç»¼åˆç»ƒä¹ " class="headerlink" title="åäº”ã€ç»¼åˆç»ƒä¹ "></a>åäº”ã€ç»¼åˆç»ƒä¹ </h2><p>æŸç½‘ä¸Šè´­ç‰©å•†åŸæ•°æ®åº“è¡¨çš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># åˆ›å»ºç”¨æˆ·è¡¨</span><br><span class="line">CREATE TABLE USER(</span><br><span class="line">	userId INT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">	username VARCHAR(20) NOT NULL,</span><br><span class="line">	PASSWORD VARCHAR(18) NOT NULL,</span><br><span class="line">	address VARCHAR(100),</span><br><span class="line">	phone VARCHAR(11)</span><br><span class="line">);</span><br><span class="line">SELECT * FROM USER;</span><br><span class="line">INSERT INTO USER(username, PASSWORD, address,phone) VALUES('å¼ ä¸‰','123','åŒ—äº¬æ˜Œå¹³','13541489201');</span><br><span class="line">INSERT INTO USER(username, PASSWORD, address,phone) VALUES('æå››','678','åŒ—äº¬æµ·å®š','13541489202');</span><br><span class="line">INSERT INTO USER(username, PASSWORD, address,phone) VALUES('ç‹äº”','123','åŒ—äº¬æœé˜³','13541489203');</span><br><span class="line">INSERT INTO USER(username, PASSWORD, address,phone) VALUES('èµµæŸ³','123','åŒ—äº¬å¤§å…´','13541489204');</span><br><span class="line"># åˆ›å»ºåˆ†ç±»è¡¨</span><br><span class="line">CREATE TABLE category(</span><br><span class="line">	cid VARCHAR(32) PRIMARY KEY,</span><br><span class="line">	cname VARCHAR(100) NOT NULL  # åˆ†ç±»åç§°</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">INSERT INTO category VALUES('c001','ç”µå™¨');</span><br><span class="line">INSERT INTO category VALUES('c002','æœé¥°');</span><br><span class="line">INSERT INTO category VALUES('c003','åŒ–å¦†å“');</span><br><span class="line">INSERT INTO category VALUES('c004','ä¹¦ç±');</span><br><span class="line"></span><br><span class="line"># å•†å“è¡¨</span><br><span class="line">CREATE TABLE `products`(</span><br><span class="line">	`pid` VARCHAR(32) PRIMARY KEY,</span><br><span class="line">	`name` VARCHAR(40),</span><br><span class="line">	`price` DOUBLE(7,2),</span><br><span class="line">	category_id VARCHAR(32),</span><br><span class="line">	CONSTRAINT fk_products_category_id FOREIGN KEY (category_id) REFERENCES category(cid)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">INSERT INTO products(pid, NAME, price, category_id) VALUES('p001','è”æƒ³',5000,'c001');</span><br><span class="line">INSERT INTO products(pid, NAME, price, category_id) VALUES('p002','æµ·å°”',3000,'c001');</span><br><span class="line">INSERT INTO products(pid, NAME, price, category_id) VALUES('p003','é›·ç¥',5000,'c001');</span><br><span class="line">INSERT INTO products(pid, NAME, price, category_id) VALUES('p004','JACK',800,'c001');</span><br><span class="line">INSERT INTO products(pid, NAME, price, category_id) VALUES('p005','çœŸç»´æ–¯',200,'c002');</span><br><span class="line">INSERT INTO products(pid, NAME, price, category_id) VALUES('p006','èŠ±èŠ±å…¬å­',440,'c002');</span><br><span class="line">INSERT INTO products(pid, NAME, price, category_id) VALUES('p007','åŠ²éœ¸',2000,'c002');</span><br><span class="line">INSERT INTO products(pid, NAME, price, category_id) VALUES('p008','é¦™å¥ˆå„¿',800,'c003');</span><br><span class="line">INSERT INTO products(pid, NAME, price, category_id) VALUES('p009','ç›¸å®œæœ¬è‰ ',200,'c003');</span><br><span class="line">INSERT INTO products(pid, NAME, price, category_id) VALUES('p0010','æ¢…æ˜å­',200,NULL);</span><br><span class="line"># è®¢å•è¡¨</span><br><span class="line">CREATE TABLE `orders` (</span><br><span class="line">	`oid` VARCHAR(32) PRIMARY KEY,</span><br><span class="line">	`totalprice` DOUBLE(12,2), # æ€»è®¡</span><br><span class="line">	`userId` INT,</span><br><span class="line">	CONSTRAINT fk_orders_userId FOREIGN KEY(userId) REFERENCES USER(userId) # å¤–é”®</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">INSERT INTO orders VALUES('o6100',18000.50,1);</span><br><span class="line">INSERT INTO orders VALUES('o6101',7200.35,1);</span><br><span class="line">INSERT INTO orders VALUES('o6102',600.00,2);</span><br><span class="line">INSERT INTO orders VALUES('o6103',1300.26,4);</span><br><span class="line">SELECT * FROM orders;</span><br><span class="line"># è®¢å•è¯¦æƒ…è¡¨</span><br><span class="line">CREATE TABLE orderitem(</span><br><span class="line">	oid VARCHAR(32), # è®¢å•id</span><br><span class="line">	pid VARCHAR(32), # å•†å“id</span><br><span class="line">	num INT, # è´­ä¹°å•†å“æ•°é‡</span><br><span class="line">	PRIMARY KEY(oid, pid), # ä¸»é”®</span><br><span class="line">	CONSTRAINT fk_orderitem_oid FOREIGN KEY(oid) REFERENCES orders(oid),</span><br><span class="line">	CONSTRAINT fk_orderitem_pid FOREIGN KEY(pid) REFERENCES products(pid)</span><br><span class="line">);</span><br><span class="line"># è®¢å•è¯¦æƒ…è¡¨æ·»åŠ ä¿¡æ¯</span><br><span class="line">INSERT INTO orderitem VALUES('o6100','p001',1),('o6100','p002',1),('o6101','p003',1);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="15-1-ç»¼åˆç»ƒä¹ 1-ã€å¤šè¡¨æŸ¥è¯¢ã€‘"><a href="#15-1-ç»¼åˆç»ƒä¹ 1-ã€å¤šè¡¨æŸ¥è¯¢ã€‘" class="headerlink" title="15.1 ç»¼åˆç»ƒä¹ 1-ã€å¤šè¡¨æŸ¥è¯¢ã€‘"></a>15.1 ç»¼åˆç»ƒä¹ 1-ã€å¤šè¡¨æŸ¥è¯¢ã€‘</h3><ol>
<li><p>æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·çš„è®¢å•</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·çš„è®¢å•</span><br><span class="line"># ç”¨æˆ·	è®¢å•è¡¨</span><br><span class="line">SELECT * FROM USER INNER JOIN orders ON orders.`userId` = user.`userId`;</span><br></pre></td></tr></tbody></table></figure>



</li>
</ol>
<ol start="2">
<li><p>æŸ¥è¯¢ç”¨æˆ·idä¸º1çš„æ‰€æœ‰è®¢å•è¯¦æƒ…</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢ç”¨æˆ·idä¸º1çš„æ‰€æœ‰è®¢å•è¯¦æƒ…</span><br><span class="line"># ç”¨æˆ·	 è®¢å• 	è®¢å•è¯¦æƒ…è¡¨</span><br><span class="line">SELECT * FROM USER</span><br><span class="line">INNER JOIN orders</span><br><span class="line">ON orders.`userId` = user.`userId`</span><br><span class="line">INNER JOIN orderitem</span><br><span class="line">ON orders.`oid` = orderitem.`oid`</span><br><span class="line">WHERE user.`userId` = 1;</span><br></pre></td></tr></tbody></table></figure>



</li>
</ol>
<h3 id="15-2-ç»¼åˆç»ƒä¹ 2-ã€å­æŸ¥è¯¢ã€‘"><a href="#15-2-ç»¼åˆç»ƒä¹ 2-ã€å­æŸ¥è¯¢ã€‘" class="headerlink" title="15.2  ç»¼åˆç»ƒä¹ 2-ã€å­æŸ¥è¯¢ã€‘"></a>15.2  ç»¼åˆç»ƒä¹ 2-ã€å­æŸ¥è¯¢ã€‘</h3><ol>
<li><p>æŸ¥çœ‹ç”¨æˆ·ä¸ºå¼ ä¸‰çš„è®¢å•</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥çœ‹ç”¨æˆ·ä¸ºå¼ ä¸‰çš„è®¢å•</span><br><span class="line"># å­æŸ¥è¯¢å•è¡Œå•åˆ—</span><br><span class="line">SELECT userId FROM USER WHERE username='å¼ ä¸‰';</span><br><span class="line">SELECT * FROM orders WHERE userId=(SELECT userId FROM USER WHERE username='å¼ ä¸‰');</span><br></pre></td></tr></tbody></table></figure>



</li>
</ol>
<ol start="2">
<li><p>æŸ¥è¯¢å‡ºè®¢å•çš„ä»·æ ¼å¤§äº800çš„æ‰€æœ‰ç”¨æˆ·çš„ä¿¡æ¯</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢å‡ºè®¢å•çš„ä»·æ ¼å¤§äº800çš„æ‰€æœ‰ç”¨æˆ·çš„ä¿¡æ¯</span><br><span class="line"># å­æŸ¥è¯¢	å¤šè¡Œå•åˆ—	æšä¸¾æŸ¥è¯¢</span><br><span class="line">SELECT DISTINCT userId FROM orders WHERE totalprice &gt; 800;</span><br><span class="line">SELECT * FROM USER WHERE userId IN (SELECT DISTINCT userId FROM orders WHERE totalprice &gt; 800);</span><br></pre></td></tr></tbody></table></figure>



</li>
</ol>
<h3 id="15-3-ç»¼åˆç»ƒä¹ 3-ã€åˆ†é¡µæŸ¥è¯¢ã€‘"><a href="#15-3-ç»¼åˆç»ƒä¹ 3-ã€åˆ†é¡µæŸ¥è¯¢ã€‘" class="headerlink" title="15.3  ç»¼åˆç»ƒä¹ 3-ã€åˆ†é¡µæŸ¥è¯¢ã€‘"></a>15.3  ç»¼åˆç»ƒä¹ 3-ã€åˆ†é¡µæŸ¥è¯¢ã€‘</h3><ol>
<li><p>æŸ¥è¯¢æ‰€æœ‰è®¢å•ä¿¡æ¯ï¼Œæ¯é¡µæ˜¾ç¤º5æ¡æ•°æ®</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢æ‰€æœ‰è®¢å•ä¿¡æ¯ï¼Œæ¯é¡µæ˜¾ç¤º5æ¡æ•°æ®</span><br><span class="line"># æŸ¥è¯¢ç¬¬ä¸€é¡µ</span><br><span class="line">SELECT * FROM orders LIMIT 0, 5;</span><br><span class="line"># æŸ¥è¯¢ç¬¬äºŒé¡µ</span><br><span class="line">SELECT * FROM orders LIMIT 5, 5;</span><br></pre></td></tr></tbody></table></figure>





</li>
</ol>
<h2 id="è‡³æ­¤ï¼ŒMySqlçš„åŸºç¡€å­¦ä¹ å·²ç»å‘Šä¸€æ®µè½ï¼Œç»§ç»­åŠ æ²¹å§ï¼Œåœ¨è®¡ç®—æœºè¿™ç¯‡æ˜Ÿè¾°å¤§æµ·ä¸­ç»§ç»­é¨æ¸¸ã€‚ï¼"><a href="#è‡³æ­¤ï¼ŒMySqlçš„åŸºç¡€å­¦ä¹ å·²ç»å‘Šä¸€æ®µè½ï¼Œç»§ç»­åŠ æ²¹å§ï¼Œåœ¨è®¡ç®—æœºè¿™ç¯‡æ˜Ÿè¾°å¤§æµ·ä¸­ç»§ç»­é¨æ¸¸ã€‚ï¼" class="headerlink" title="è‡³æ­¤ï¼ŒMySqlçš„åŸºç¡€å­¦ä¹ å·²ç»å‘Šä¸€æ®µè½ï¼Œç»§ç»­åŠ æ²¹å§ï¼Œåœ¨è®¡ç®—æœºè¿™ç¯‡æ˜Ÿè¾°å¤§æµ·ä¸­ç»§ç»­é¨æ¸¸ã€‚ï¼"></a>è‡³æ­¤ï¼ŒMySqlçš„åŸºç¡€å­¦ä¹ å·²ç»å‘Šä¸€æ®µè½ï¼Œç»§ç»­åŠ æ²¹å§ï¼Œåœ¨è®¡ç®—æœºè¿™ç¯‡æ˜Ÿè¾°å¤§æµ·ä¸­ç»§ç»­é¨æ¸¸ã€‚ï¼</h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>åç«¯</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>MySql</tag>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾è®¡_é¢è¯•é¢˜.03.01.ä¸‰åˆä¸€</title>
    <url>/Three_in_one/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>ä¸‰åˆä¸€ã€‚æè¿°å¦‚ä½•åªç”¨ä¸€ä¸ªæ•°ç»„æ¥å®ç°ä¸‰ä¸ªæ ˆã€‚</p>
<p>ä½ åº”è¯¥å®ç°push(stackNum, value)ã€pop(stackNum)ã€isEmpty(stackNum)ã€peek(stackNum)æ–¹æ³•ã€‚stackNumè¡¨ç¤ºæ ˆä¸‹æ ‡ï¼Œvalueè¡¨ç¤ºå‹å…¥çš„å€¼ã€‚</p>
<p>æ„é€ å‡½æ•°ä¼šä¼ å…¥ä¸€ä¸ªstackSizeå‚æ•°ï¼Œä»£è¡¨æ¯ä¸ªæ ˆçš„å¤§å°ã€‚</p>
<p>ç¤ºä¾‹1:</p>
<a id="more"></a>

<p> è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">["TripleInOne", "push", "push", "pop", "pop", "pop", "isEmpty"]</span><br><span class="line">[[1], [0, 1], [0, 2], [0], [0], [0], [0]]</span><br></pre></td></tr></tbody></table></figure>

<p> è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">[null, null, null, 1, -1, -1, true]</span><br><span class="line">è¯´æ˜ï¼šå½“æ ˆä¸ºç©ºæ—¶`pop, peek`è¿”å›-1ï¼Œå½“æ ˆæ»¡æ—¶`push`ä¸å‹å…¥å…ƒç´ ã€‚</span><br></pre></td></tr></tbody></table></figure>

<p>ç¤ºä¾‹2:</p>
<p> è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">["TripleInOne", "push", "push", "push", "pop", "pop", "pop", "peek"]</span><br><span class="line">[[2], [0, 1], [0, 2], [0, 3], [0], [0], [0], [0]]</span><br><span class="line"> è¾“å‡ºï¼š</span><br><span class="line">[null, null, null, null, 2, 1, -1, -1]</span><br></pre></td></tr></tbody></table></figure>



<h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>ä¸€å¼€å§‹ç›´æ¥æ‡µé€¼ï¼Œçœ‹äº†åˆ«äººçš„æ‰æ‡‚é¢˜æ„</p>
<ol>
<li><p>é¦–å…ˆå¼€å§‹åˆ›å»ºç±»æ—¶æ„é€ å‡½æ•°é‡Œé¢åˆ›å…¥çš„å¤§å°æ˜¯æ ˆçš„å¤§å° ( stackSize )</p>
</li>
<li><p>å…¶æ¬¡ä¸ç®¡æ˜¯pushè¿˜æ˜¯popè¿˜æ˜¯peekæˆ–è€…isEmpty çš„å‚æ•° (stackNum)</p>
<ul>
<li>stackNumè¾“å…¥çš„å€¼,ä»£è¡¨çš„æ˜¯å“ªä¸ªæ ˆ!!!!</li>
<li>è¿™ä¸ªé¢˜å«ä¸‰åˆä¸€å°±æ˜¯è¯´ ä¸‰ä¸ªæ ˆä»£è¡¨å…¨éƒ¨æ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œé¢</li>
<li>ä¾‹å¦‚: å‚æ•°stackNum ä¸º 0 æ—¶å°±ä»£è¡¨ç¬¬ä¸€ä¸ªæ ˆ</li>
<li>å‚æ•°stackNum ä¸º 1 æ—¶å°±ä»£è¡¨ç¬¬äºŒä¸ªæ ˆ</li>
<li>å‚æ•°stackNum ä¸º 2 æ—¶å°±ä»£è¡¨ç¬¬ä¸‰ä¸ªæ ˆ</li>
</ul>
</li>
<li><p>ç”±äºæ˜¯ä¸€ä¸ªæ•°ç»„ç›¸å½“äº3ä¸ªæ ˆ,æ‰€ä»¥åˆ›å»ºçš„æ—¶å€™å°± ä¹˜ 3</p>
</li>
</ol>
<p><img src="https://pic.leetcode-cn.com/1600592347-fAjxIk-image.png" alt=""></p>
<p><img src="https://pic.leetcode-cn.com/1600592358-oHsaSG-image.png" alt=""></p>
<ol start="4">
<li><p>æ¯æ¬¡pushçš„æ—¶å€™ éœ€è¦å…ˆåˆ¤æ–­å¤´æŒ‡é’ˆæ˜¯å¦å°äºæ•°ç»„çš„é•¿åº¦</p>
<ul>
<li>å¦‚æœå°äºéœ€è¦æ·»åŠ å€¼,è€Œä¸”éœ€è¦æŠŠtopèŠ‚ç‚¹åŠ 3</li>
<li>ä¾‹å¦‚: æ·»åŠ æ ˆ0 2, æ·»åŠ æ ˆ0 8, æ·»åŠ æ ˆ0 7</li>
</ul>
<p><img src="https://pic.leetcode-cn.com/1600592511-jiDDdY-image.png" alt=""></p>
<p><img src="https://pic.leetcode-cn.com/1600592610-evbIQM-image.png" alt=""></p>
<p>æ­¤æ—¶top[0] = 0 å‡3ä¹‹åå°±æ˜¯ -3 æ‰€ä»¥å®ƒæ˜¯ç©ºçš„è¿”å›-1</p>
</li>
<li><p>æ¯æ¬¡peekçš„æ—¶å€™, å…ˆåˆ¤æ–­æ˜¯å¦ä¸ºç©º ç©ºç›´æ¥è¿”å›-1, ä¸ä¸ºç©ºè¯å°±æŠŠtop â€“ 3 çš„ä¸‹æ ‡ç»™å®ƒå°±å¯ä»¥äº†,æ­¤æ—¶ä¸æ˜¯æŠ›å‡ºæ‰€ä»¥ä¸éœ€è¦æ”¹å˜åŸæ¥çš„topçš„å€¼</p>
</li>
</ol>
<p>å‚è€ƒä»£ç ï¼š </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TripleInOne</span> </span>{</span><br><span class="line">	<span class="comment">//å®šä¹‰æ•°ç»„æ ˆ</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span>[] stack;</span><br><span class="line">	<span class="comment">//å®šä¹‰ä¸€ä¸ªå¤´æŒ‡é’ˆçš„æ•°ç»„</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span>[] stackTop;</span><br><span class="line">	<span class="comment">//å®šä¹‰æ ˆçš„é•¿åº¦</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> stackSize;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TripleInOne</span><span class="params">(<span class="keyword">int</span> stackSize)</span> </span>{</span><br><span class="line">    	<span class="keyword">this</span>.stackSize = stackSize;</span><br><span class="line">    	<span class="comment">//åˆå§‹åŒ–ä¸‰åˆä¸€çš„æ ˆ</span></span><br><span class="line">    	stack = <span class="keyword">new</span> <span class="keyword">int</span>[stackSize * <span class="number">3</span>];</span><br><span class="line">    	<span class="comment">//åˆå§‹åŒ–ä¸‰ä¸ªæ ˆçš„å¤´ç»“ç‚¹</span></span><br><span class="line">    	stackTop = <span class="keyword">new</span> <span class="keyword">int</span>[] {<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>};</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> stackNum, <span class="keyword">int</span> value)</span> </span>{</span><br><span class="line">    	<span class="comment">//pushé¦–å…ˆéœ€è¦åˆ¤æ–­æ ˆæ˜¯å¦æ»¡äº†ï¼Œ</span></span><br><span class="line">    	<span class="keyword">int</span> curStackTop = stackTop[stackNum];</span><br><span class="line">    	<span class="keyword">if</span>(curStackTop &lt; stackSize * <span class="number">3</span>) {</span><br><span class="line">    		<span class="comment">//èµ‹å€¼</span></span><br><span class="line">    		stack[curStackTop] = value;</span><br><span class="line">    		<span class="comment">//å¤´ç»“ç‚¹ + 3</span></span><br><span class="line">    		stackTop[stackNum] += <span class="number">3</span>;</span><br><span class="line">    	}<span class="keyword">else</span> {<span class="comment">//æ ˆæ»¡äº†</span></span><br><span class="line">    		<span class="keyword">return</span>;</span><br><span class="line">    	}</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pop</span><span class="params">(<span class="keyword">int</span> stackNum)</span> </span>{</span><br><span class="line">    	<span class="comment">//æ ˆé¡¶å‡ºæ ˆé¦–å…ˆéœ€è¦åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    	<span class="keyword">if</span>(isEmpty(stackNum)) {</span><br><span class="line">    		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    	}</span><br><span class="line">    	</span><br><span class="line">    	<span class="comment">//åŸæœ¬å› ä¸ºæ¯æ¬¡è¿›æ ˆåæ ˆé¡¶å…ƒç´ çš„ä¸‹æ ‡çš„éƒ½ä¼šåŠ 3ï¼Œå‡ºæ ˆéœ€è¦å…ˆå‡ä¸‰</span></span><br><span class="line">    	stackTop[stackNum] -= <span class="number">3</span>;</span><br><span class="line">    	</span><br><span class="line">    	<span class="keyword">return</span> stack[stackTop[stackNum]];</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">peek</span><span class="params">(<span class="keyword">int</span> stackNum)</span> </span>{</span><br><span class="line">    	<span class="comment">//åŒç†ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    	<span class="keyword">if</span>(isEmpty(stackNum)) {</span><br><span class="line">    		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    	}</span><br><span class="line">    	</span><br><span class="line">    	<span class="comment">//å› ä¸ºæ˜¯peekï¼Œæ‰€ä»¥ä¸ç”¨æ”¹å˜æ ˆé¡¶æŒ‡é’ˆçš„å€¼</span></span><br><span class="line">    	</span><br><span class="line">    	<span class="keyword">return</span> stack[stackTop[stackNum] - <span class="number">3</span>];</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">(<span class="keyword">int</span> stackNum)</span> </span>{</span><br><span class="line">    	<span class="comment">//åˆ¤æ–­è¿™ä¸ªæ ˆæ˜¯å¦ä¸ºç©ºï¼Œå› ä¸ºæ¯æ¬¡è¿›æ ˆåæ ˆé¡¶å…ƒç´ çš„ä¸‹æ ‡çš„éƒ½ä¼šåŠ 3ï¼Œæ‰€ä»¥åˆ¤ç©ºæ—¶éœ€è¦å…ˆå‡ä¸‰åˆ¤æ–­æ˜¯å¦å°äº90</span></span><br><span class="line">    	<span class="keyword">return</span> stackTop[stackNum] - <span class="number">3</span> &lt; <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>æ•°ç»„</tag>
        <tag>æ ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>è“æ¡¥ç®—æ³•å›½èµ›çœŸé¢˜æ€»ç»“</title>
    <url>/A_summary_of_the_National_Games/</url>
    <content><![CDATA[<p>ğŸŒ¸è®°å½•è“æ¡¥æ¯javaBç»„å†å±Šå†³èµ›çœŸé¢˜è§£é¢˜ç®—æ³•æ€»ç»“ä¸å¯¹æ¯”</p>
<a id="more"></a>

<h2 id="ğŸŒ¸è§£é¢˜æ–¹æ³•æ±‡æ€»ï¼ˆjava-Bç»„å†³èµ›ï¼‰"><a href="#ğŸŒ¸è§£é¢˜æ–¹æ³•æ±‡æ€»ï¼ˆjava-Bç»„å†³èµ›ï¼‰" class="headerlink" title="ğŸŒ¸è§£é¢˜æ–¹æ³•æ±‡æ€»ï¼ˆjava Bç»„å†³èµ›ï¼‰"></a>ğŸŒ¸è§£é¢˜æ–¹æ³•æ±‡æ€»ï¼ˆjava Bç»„å†³èµ›ï¼‰</h2><table>
<thead>
<tr>
<th></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
</tr>
</thead>
<tbody><tr>
<td>ç¬¬å››å±Š</td>
<td>æš´åŠ›æšä¸¾</td>
<td>æš´åŠ›æšä¸¾</td>
<td>å¿«é€Ÿæ’åº</td>
<td>BFSã€åŒå‘BFSã€å…«æ•°ç é—®é¢˜ã€åº·æ‰˜å±•å¼€ç­‰</td>
<td>åŠ¨æ€è§„åˆ’ã€æ¨¡æ‹Ÿ</td>
<td>-1</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>ç¬¬äº”å±Š</td>
<td>æš´åŠ›æšä¸¾</td>
<td>å…¨æ’åˆ—+å‰ªæï¼ˆæˆ–è€…ç›´æ¥æš´åŠ›ä½†æ˜¯ä»£ç å‰ªæé‡å¾ˆå¤§ï¼‰</td>
<td>è¯»é¢˜ã€ç»†å¿ƒã€é€»è¾‘æ¨¡æ‹Ÿ</td>
<td>åº·æ‰˜å±•å¼€å¼ï¼ˆä¸ä¼šåˆ™ç›´æ¥æš´åŠ›å…¨æ’ï¼Œä½†æ˜¯åˆ†ä¸é«˜ï¼Œå¯èƒ½ä¸€åŠéƒ½æ²¡æœ‰è€Œä¸”è¶…æ—¶ï¼‰ã€é˜¶ä¹˜</td>
<td>è¡Œåˆ—å¼ã€çŸ©é˜µä¹˜æ³•ã€æ¨¡æ‹Ÿã€æ‰©å±•æ¬§å‡ é‡Œå¾—</td>
<td>-1</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>ç¬¬å…­å±Š</td>
<td>è„‘ç­‹è½¬å¼¯+æš´åŠ›è®¡ç®—</td>
<td>å…¨æ’åˆ—+åˆ¤æ–­</td>
<td>è‡ªå·±çš„æ–¹æ³•æ˜¯<strong>â€œçŒœâ€â€œè¯•å‡ºæ¥â€</strong></td>
<td>æ·±åº¦ä¼˜å…ˆæœç´¢</td>
<td>-1</td>
<td>-1</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>ç¬¬ä¸ƒå±Š</td>
<td>ç”»å›¾æ‰¾å‡ºè§„å¾‹åä½¿ç”¨é€’å½’æ¨¡æ‹Ÿè¿‡ç¨‹</td>
<td>å…¨æ’åˆ—</td>
<td>ä»£ç åˆ†æï¼Œè€ƒä½ èƒ½ä¸èƒ½è¯»æ‡‚ä»£ç </td>
<td>å›æº¯+å‰ªæ</td>
<td>æš´åŠ›æœç´¢ï¼ˆè¶…æ—¶ï¼‰ï¼›DFS+å‰ªæå›æº¯ï¼ˆ60ï¼‰ï¼›åŠ¨æ€è§„åˆ’ï¼ˆ80ï¼‰ï¼›æ•°æ®ç»“æ„ï¼ˆ100ï¼‰</td>
<td>-1</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>ç¬¬å…«å±Š</td>
<td>ç›´æ¥æš´åŠ›å¾ªç¯</td>
<td>ä½¿ç”¨å¦ä¸€ä¸ªæ•°ç»„è¿›è¡Œæ¨¡æ‹Ÿç»†èƒå¢æ®–çš„è¿‡ç¨‹æˆ–è€…ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæ¨¡æ‹Ÿ</td>
<td>è¯»ä»£ç æ‰¾è§„å¾‹ï¼ˆçœ‹è‡ªå·±çš„ç»†å¿ƒç¨‹åº¦å§ï¼‰</td>
<td>ç›´æ¥æ¨¡æ‹Ÿè®¡ç®—çš„è¿‡ç¨‹ï¼Œæ³¨æ„ä½¿ç”¨æ•°æ®èŒƒå›´è¾ƒå¤§çš„Longï¼Œè€Œä¸”éœ€è¦ç†Ÿç»ƒä½¿ç”¨Longã€Integerç­‰ç±»çš„API</td>
<td>åšå¼ˆé—®é¢˜ã€æ·±åº¦ä¼˜å…ˆã€å‰ªæï¼Œå›æº¯ã€æ¨¡æ‹Ÿ</td>
<td>-1</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>ç¬¬ä¹å±Š</td>
<td>æµ·ä¼¦å…¬å¼</td>
<td>å…¨æ’åˆ—ã€å‰ªæåˆ¤æ–­</td>
<td>å…¨æ’åˆ—ã€å›æº¯</td>
<td>å¹¶æŸ¥é›†ã€è¿é€šåˆ†é‡ã€é€’å½’</td>
<td>æ„é€ æ ‘æˆ–è€…é€’å½’ä¼˜åŒ–</td>
<td>-1</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>ç¬¬åå±Šæ¨¡æ‹Ÿ</td>
<td>æš´åŠ›+ç†Ÿæ‚‰é™¤æ¨¡è¿ç®—çš„å®è´¨</td>
<td>æš´åŠ›æˆ–è€…æ·±æœæ±‚å­ä¸²</td>
<td>æš´åŠ›ï¼ˆæ—¶é—´é•¿ï¼‰ã€æ‰¾è§„å¾‹åˆ†æé¢˜ï¼Œå°†é™¤æ¨¡è½¬æ¢æˆæ¬¡æ–¹</td>
<td>æš´åŠ›æ·±æœï¼ˆè€—æ—¶åŠ åˆ†ä½ï¼‰ã€æ‰¾è§„å¾‹ç†è§£æœ€å¤§å…¬çº¦æ•°çš„å«ä¹‰</td>
<td>å¹¶æŸ¥é›†ã€è”é€šåˆ†é‡æ‰¾ç¯</td>
<td>-1ï¼ˆæš´åŠ›åªèƒ½30ï¼‰</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>ç¬¬åå±Š</td>
<td>æš´åŠ›</td>
<td>ç´ æ•°ç­›ã€è®°å¿†åŒ–æ·±æœæˆ–è€…dp</td>
<td>æ‰¾è§„å¾‹</td>
<td>ç´ å› å­åˆ†è§£ã€æ‰¾è§„å¾‹</td>
<td>æ·±æœ+åˆ¤é‡</td>
<td>dp+è´ªå¿ƒ</td>
<td>æš´åŠ›æˆ–è€…dp</td>
<td>-1ï¼ˆæ‰¾è§„å¾‹ï¼‰</td>
<td>çº¿æ®µæ ‘ã€ä¸»å¸­æ ‘ã€æ ‘çŠ¶æ•°ç»„</td>
<td>-1</td>
</tr>
</tbody></table>
<ul>
<li><a href="">javaBç»„å†å±Šå†³èµ›çœŸé¢˜æ±‡æ€»</a></li>
<li><a href="">javaBç»„å†å±Šçœèµ›èµ›çœŸé¢˜æ±‡æ€»</a></li>
</ul>
<h2 id="ğŸŒ¸åº·æ‰˜å±•å¼€"><a href="#ğŸŒ¸åº·æ‰˜å±•å¼€" class="headerlink" title="ğŸŒ¸åº·æ‰˜å±•å¼€"></a>ğŸŒ¸åº·æ‰˜å±•å¼€</h2><p><strong>åº·æ‰˜å±•å¼€</strong>æ˜¯ä¸€ä¸ªå…¨æ’åˆ—åˆ°ä¸€ä¸ª<a href="https://baike.baidu.com/item/è‡ªç„¶æ•°" target="_blank" rel="noopener">è‡ªç„¶æ•°</a>çš„<a href="https://baike.baidu.com/item/åŒå°„" target="_blank" rel="noopener">åŒå°„</a>ï¼Œå¸¸ç”¨äºæ„å»º<a href="https://baike.baidu.com/item/å“ˆå¸Œè¡¨" target="_blank" rel="noopener">å“ˆå¸Œè¡¨</a>æ—¶çš„ç©ºé—´å‹ç¼©ã€‚ åº·æ‰˜å±•å¼€çš„å®è´¨æ˜¯è®¡ç®—å½“å‰æ’åˆ—åœ¨æ‰€æœ‰ç”±å°åˆ°å¤§å…¨æ’åˆ—ä¸­çš„é¡ºåºï¼Œå› æ­¤æ˜¯å¯é€†çš„ã€‚</p>
<p><strong>é€šä¿—ç®€ä»‹ï¼š</strong></p>
<p>åº·æ‰˜å±•å¼€å¯ä»¥æ±‚è§£ä¸€ä¸ªæ’åˆ—çš„åºå·ï¼Œæ¯”å¦‚ï¼š12345 åºå·ä¸º 1 ï¼Œ12354åºå·ä¸º2ï¼ŒæŒ‰å­—å…¸åºå¢åŠ ç¼–å·é€’å¢ï¼Œä¾æ¬¡ç±»æ¨ã€‚<br>åº·æ‰˜é€†å±•å¼€å¯ä»¥æ±‚è§£ä¸€ä¸ªåºå·å®ƒå¯¹åº”çš„æ’åˆ—æ˜¯ä»€ä¹ˆã€‚</p>
<p>å…ˆç»™å‡ºåº·æ‰˜å±•å¼€çš„å…¬å¼ï¼š</p>
<p>$X = a_n(n - 1)!+ a_{n-1}(n-2)!+â€¦.+a_1\cdot0!$</p>
<p>å…ˆå¯¹è¿™ä¸ªå…¬å¼é‡Œå˜é‡è¿›è¡Œè§£é‡Šï¼Œå¤§å®¶ä¸ç†è§£è¿™ä¸ªå…¬å¼æ²¡å…³ç³»ï¼Œæ…¢æ…¢å¾€åçœ‹ï¼Œå¾ˆç®€å•çš„ã€‚<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9nc3MzLmJkc3RhdGljLmNvbS83UG8zZFNhZ194STRraEdrcG9XSzFIRjZoaHkvYmFpa2UvcyUzRDEyL3NpZ249N2NlMGY3ZmFkODA3MzVmYTk1ZjA0YWJiOWM1MTQ4ZmEvMGRmM2Q3Y2E3YmNiMGE0NjI1ZTdkZWQ4Njc2M2Y2MjQ2YTYwYWYwZS5qcGc?x-oss-process=image/format,png" alt="img"> çš„æ„æ€æ˜¯ä»å³å¾€å·¦æ•°ç¬¬ i ä½è¿™ä¸ªæ•°æ˜¯è¿™ä¸ªæ•°å‰æœªå‡ºç°çš„æ•°ï¼Œç¬¬<img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9nc3MzLmJkc3RhdGljLmNvbS83UG8zZFNhZ194STRraEdrcG9XSzFIRjZoaHkvYmFpa2UvcyUzRDEyL3NpZ249N2NlMGY3ZmFkODA3MzVmYTk1ZjA0YWJiOWM1MTQ4ZmEvMGRmM2Q3Y2E3YmNiMGE0NjI1ZTdkZWQ4Njc2M2Y2MjQ2YTYwYWYwZS5qcGc?x-oss-process=image/format,png" alt="img"> å¤§ã€‚ä¸¾ä¸ªä¾‹å­å°±æ˜ç™½è¿™ä¸ªå…¬å¼äº†ï¼š</p>
<p>æ³¨æ„ï¼šè®¡ç®—çš„æ—¶å€™ 12345 åºåˆ—åº”è§†ä¸ºç¬¬0ä¸ªåºåˆ—ï¼Œåé¢ä¼šè§£é‡Šä¸ºä»€ä¹ˆã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">ç™¾åº¦ç™¾ç§‘çš„ä¾‹å­</span><br><span class="line">åœ¨ï¼ˆ1,2,3ï¼Œ4ï¼Œ5ï¼‰5ä¸ªæ•°çš„æ’åˆ—ç»„åˆä¸­ï¼Œè®¡ç®— 34152çš„åº·æ‰˜å±•å¼€å€¼ã€‚</span><br><span class="line">é¦–ä½æ˜¯3ï¼Œåˆ™å°äº3çš„æ•°æœ‰ä¸¤ä¸ªï¼Œä¸º1å’Œ2ï¼Œï¼Œåˆ™é¦–ä½å°äº3çš„æ‰€æœ‰æ’åˆ—ç»„åˆä¸º</span><br><span class="line">ç¬¬äºŒä½æ˜¯4ï¼Œç”±äºç¬¬ä¸€ä½å°äº4ï¼Œ1ã€2ã€3ä¸­ä¸€å®šä¼šæœ‰1ä¸ªå……å½“ç¬¬ä¸€ä½ï¼Œæ‰€ä»¥æ’åœ¨4ä¹‹ä¸‹çš„åªå‰©2ä¸ªï¼Œæ‰€ä»¥å…¶å®è®¡ç®—çš„æ˜¯åœ¨ç¬¬äºŒä½ä¹‹åå°äº4çš„ä¸ªæ•°ã€‚å› æ­¤ã€‚</span><br><span class="line">ç¬¬ä¸‰ä½æ˜¯1ï¼Œåˆ™åœ¨å…¶ä¹‹åå°äº1çš„æ•°æœ‰0ä¸ªï¼Œæ‰€ä»¥ã€‚</span><br><span class="line">ç¬¬å››ä½æ˜¯5ï¼Œåˆ™åœ¨å…¶ä¹‹åå°äº5çš„æ•°æœ‰1ä¸ªï¼Œä¸º2ï¼Œæ‰€ä»¥ã€‚</span><br><span class="line">æœ€åä¸€ä½å°±ä¸ç”¨è®¡ç®—å•¦ï¼Œå› ä¸ºåœ¨å®ƒä¹‹åå·²ç»æ²¡æœ‰æ•°äº†ï¼Œæ‰€ä»¥å›ºå®šä¸º0</span><br><span class="line">æ ¹æ®å…¬å¼ï¼š</span><br><span class="line">X = 2 x 4! + 2 x 3! + 0 x 2! + 1 x 1! + 0 x 0ï¼</span><br><span class="line">ã€€ã€€æ‰€ä»¥æ¯”34152å°çš„ç»„åˆæœ‰61ä¸ªï¼Œå³34152æ˜¯æ’ç¬¬62ã€‚</span><br></pre></td></tr></tbody></table></figure>

<p>æ‹¿52413ä¸¾ä¾‹å­ï¼š</p>
<p>1ã€é¦–å…ˆçœ‹ç¬¬ä¸€ä¸ªæ•° 5ï¼Œä¸ç®¡ç¬¬ä¸€ä½æ˜¯ä»€ä¹ˆæ•°ï¼Œåé¢éƒ½æœ‰å››ä½æ•°ï¼Œé‚£ä¹ˆè¿™å››ä½æ•°å…¨æ’åˆ—çš„æ–¹å¼æœ‰ 4ï¼ç§ï¼Œè€Œå¦‚æœç¬¬ä¸€ä½æ˜¯ 1 æˆ– 2 æˆ– 3 æˆ– 4 éƒ½ä¼šæ¯”5å¼€å¤´çš„å­—å…¸åºè¦å°ï¼Œæ‰€ä»¥å¯ä»¥ä»¤1ï¼Œ2ï¼Œ3ï¼Œ4åˆ†åˆ«ä½œä¸ºå¼€å¤´ï¼Œè¿™æ ·çš„è¯å°±ä¼šæœ‰ 4 * 4ï¼ç§æ’æ³•è¦æ¯” 52413è¿™ç§æ’æ³•çš„å­—å…¸åºè¦å°ã€‚</p>
<p>é‚£ä¹ˆç¬¬ä¸€ä¸ªæ•°æ˜¯1ï¼Œ2ï¼Œ3ï¼Œ4æ—¶å€™çš„å­—å…¸åºçš„ä¸ªæ•°æ•°å®Œäº†æ˜¯ 4 * 4ï¼ ç§ï¼Œä¸”è¿™äº›å­—å…¸åºéƒ½è¦æ¯”52413çš„å­—å…¸åºè¦å°ã€‚</p>
<p>è¿˜æœ‰å…¶ä»–çš„æ’åˆ—æ–¹å¼æ¯”52413çš„å­—å…¸åºè¦å°çš„å—ï¼Ÿ</p>
<p>2ã€é‚£ä¹ˆå°±å¯ä»¥å›ºå®šç¬¬ä¸€ä½5ï¼Œæ‰¾ä¸‹ä¸€ä½2ï¼Œè¿™æ—¶5å·²ç»ç”¨è¿‡äº†ï¼Œæ‰€ä»¥ä»å‰©ä¸‹çš„ 1ï¼Œ2ï¼Œ3ï¼Œ4 é‡ŒæŒ‘é€‰æ¯”2å°çš„æ•°ï¼Œä¸€å…±1ä¸ªï¼Œåé¢è¿˜å‰©ä¸‰ä½ï¼Œä¹Ÿå°±æ˜¯3ï¼ç§æ’åˆ—æ–¹å¼ï¼Œé‚£ä¹ˆè¿™æ—¶å€™æ¯” 52413 å­—å…¸åºè¦å°çš„åˆæœ‰ 1 * 3ï¼ç§ï¼Œä¹Ÿå°±æ˜¯å½“5åœ¨ç¬¬ä¸€ä½ï¼Œ1åœ¨ç¬¬äºŒä½çš„æ—¶å€™ã€‚</p>
<p>3ã€å†çœ‹ç¬¬ä¸‰ä½4ï¼Œè¿™æ—¶5ï¼Œ2éƒ½ç”¨äº†ï¼Œæ‰€ä»¥ä»å‰©ä¸‹çš„ 1ï¼Œ3ï¼Œ4ä¸‰ä¸ªæ•°ä¸­æ‰¾æ¯”4å°çš„æ•°çš„ä¸ªæ•°ï¼Œæœ‰ä¸¤ä¸ªæ¯”4å°åŸç†åŒä¸Šï¼Œæ‰€ä»¥è¿™æ—¶å€™ä¹Ÿå¯ä»¥æœ‰ 2 * 2!ç§æ’åˆ—æ–¹å¼çš„å­—å…¸åºå°äº 52413</p>
<p>4ã€å†çœ‹ç¬¬å››ä½1ï¼Œè¿™æ—¶å€™ä¼šæœ‰ 0 * 1ï¼ç§</p>
<p>5ã€å†çœ‹ç¬¬äº”ä½3ï¼Œè¿™æ—¶å€™ä¼šæœ‰0 * 0ï¼ç§</p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼š<br>å¯¹äºåºåˆ—ï¼š 52413 è¯¥åºåˆ—å±•å¼€åä¸ºï¼š 4 * 4! + 1 * 3! + 2 * 2! + 0 * 1! + 0 * 0! ï¼Œè®¡ç®—ç»“æœæ˜¯ï¼š 106<br>ç”±äºæ˜¯ä»0å¼€å§‹è®¡æ•°çš„ï¼Œæ‰€ä»¥æœ€å 52413 çš„ç¼–å·ä¸º 107</p>
<p>ä¸ºä»€ä¹ˆä»0å¼€å§‹è®¡æ•°ï¼Ÿ<br>å¯ä»¥è¿™æ ·çœ‹ï¼šæˆ‘ç°åœ¨è®©ä½ æ±‚12345çš„åº·æ‰˜å±•å¼€å€¼ï¼Œä¹Ÿå°±æ˜¯ï¼š0<em>4ï¼+ 0</em>3ï¼+ 0<em>2ï¼+ 0</em>1ï¼+0*0ï¼ = 0 æ‰€ä»¥æ˜ç™½äº†å§~~<br>åº·æ‰˜å…¬å¼æœ€å°å­—å…¸åºçš„ç¼–å·å°±æ˜¯0ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/***** è¿™é‡Œä»¥å­—ç¬¦ä¸²è¿›è¡Œå±•ç¤º  å­—ç¬¦ä¸²å¯æ³›åŒ–æ€§å¥½ ******/</span></span><br><span class="line"> </span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;cstdio&gt;</span><br><span class="line">#include&lt;vector&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/*******æ‰“å‡º1-nçš„é˜¶ä¹˜è¡¨*******/</span></span><br><span class="line"><span class="keyword">int</span> f[<span class="number">20</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">jie_cheng</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    f[<span class="number">0</span>] = f[<span class="number">1</span>] = <span class="number">1</span>; <span class="comment">// 0çš„é˜¶ä¹˜ä¸º1</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) f[i] = f[i - <span class="number">1</span>] * i;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**************åº·æ‰˜å±•å¼€****************/</span></span><br><span class="line">string str;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">kangtuo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">1</span>;  <span class="comment">//æ³¨æ„ï¼Œå› ä¸º 12345 æ˜¯ç®—ä½œ0å¼€å§‹è®¡ç®—çš„ï¼Œæœ€åç»“æœè¦æŠŠ12345çœ‹ä½œæ˜¯ç¬¬ä¸€ä¸ª</span></span><br><span class="line">    <span class="keyword">int</span> len = str.length();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++){</span><br><span class="line">        <span class="keyword">int</span> tmp = <span class="number">0</span>;<span class="comment">//ç”¨æ¥è®¡æ•°çš„</span></span><br><span class="line"> </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; len; j++){</span><br><span class="line">            <span class="keyword">if</span>(str[i] &gt; str[j]) tmp++;</span><br><span class="line">            <span class="comment">//è®¡ç®—str[i]æ˜¯ç¬¬å‡ å¤§çš„æ•°ï¼Œæˆ–è€…è¯´è®¡ç®—æœ‰å‡ ä¸ªæ¯”ä»–å°çš„æ•°</span></span><br><span class="line">        }</span><br><span class="line"> </span><br><span class="line">        ans += tmp * f[len - i - <span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    jie_cheng(<span class="number">10</span>);</span><br><span class="line">    string str = <span class="string">"52413"</span>;</span><br><span class="line">    cout&lt;&lt;kangtuo()&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸åº·æ‰˜é€†å±•å¼€"><a href="#ğŸŒ¸åº·æ‰˜é€†å±•å¼€" class="headerlink" title="ğŸŒ¸åº·æ‰˜é€†å±•å¼€"></a>ğŸŒ¸åº·æ‰˜é€†å±•å¼€</h2><p>ç›´æ¥å¼€æ —å­ï¼š</p>
<p>å¦‚æœåˆå§‹åºåˆ—æ˜¯12345ï¼ˆç¬¬ä¸€ä¸ªï¼‰ï¼Œè®©ä½ æ±‚ç¬¬107ä¸ªåºåˆ—æ˜¯ä»€ä¹ˆã€‚ï¼ˆæŒ‰å­—å…¸åºé€’å¢ï¼‰</p>
<p>è¿™æ ·è®¡ç®—ï¼š</p>
<p>å…ˆæŠŠ107å‡1ï¼Œå› ä¸ºåº·æ‰˜å±•å¼€é‡Œçš„åˆå§‹åºåˆ—ç¼–å·ä¸º0<br>ç„¶åè®¡ç®—ä¸‹åç¼€ç§¯ï¼š<br> 1    2    3   4   5<br> 5ï¼ 4ï¼ 3ï¼ 2ï¼1ï¼ 0ï¼<br>120  24   6   2   1   1</p>
<p>106 / 4! = 4 Â·Â·Â·Â·Â·Â· 10 æœ‰4ä¸ªæ¯”å®ƒå°çš„æ‰€ä»¥å› è¯¥æ˜¯5  ä»ï¼ˆ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼‰é‡Œé€‰<br>10  / 3! = 1 Â·Â·Â·Â·Â·Â· 4  æœ‰1ä¸ªæ¯”å®ƒå°çš„æ‰€ä»¥å› è¯¥æ˜¯2  ä»ï¼ˆ1ï¼Œ 2ï¼Œ 3ï¼Œ 4ï¼‰é‡Œé€‰<br> 4   / 2! = 2 Â·Â·Â·Â·Â·Â· 0  æœ‰2ä¸ªæ¯”å®ƒå°çš„æ‰€ä»¥å› è¯¥æ˜¯4  ä»ï¼ˆ1ï¼Œ 3ï¼Œ 4ï¼‰é‡Œé€‰<br> 0   / 1! = 0 Â·Â·Â·Â·Â·Â· 0  æœ‰0ä¸ªæ¯”å®ƒå°çš„æ‰€ä»¥å› è¯¥æ˜¯1  ä»ï¼ˆ1ï¼Œ3ï¼‰é‡Œé€‰<br> 0   / 0! = 0 Â·Â·Â·Â·Â·Â· 0  æœ‰0ä¸ªæ¯”å®ƒå°çš„æ‰€ä»¥å› è¯¥æ˜¯3  ä»ï¼ˆ3ï¼‰é‡Œé€‰</p>
<p>æ‰€ä»¥ç¼–å·107çš„æ˜¯ 52413</p>
<h3 id="åº·æ‰˜é€†å±•å¼€ä»£ç ï¼š"><a href="#åº·æ‰˜é€†å±•å¼€ä»£ç ï¼š" class="headerlink" title="åº·æ‰˜é€†å±•å¼€ä»£ç ï¼š"></a>åº·æ‰˜é€†å±•å¼€ä»£ç ï¼š</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/***** è¿™é‡Œä»¥å­—ç¬¦ä¸²è¿›è¡Œå±•ç¤º  å­—ç¬¦ä¸²å¯æ³›åŒ–æ€§å¥½ ******/</span></span><br><span class="line"> </span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;cstdio&gt;</span><br><span class="line">#include&lt;vector&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/*******æ‰“å‡º1-nçš„é˜¶ä¹˜è¡¨*******/</span></span><br><span class="line"><span class="keyword">int</span> f[<span class="number">20</span>];</span><br><span class="line"><span class="keyword">int</span> x, num;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">jie_cheng</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    f[<span class="number">0</span>] = f[<span class="number">1</span>] = <span class="number">1</span>; <span class="comment">// 0çš„é˜¶ä¹˜ä¸º1</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) f[i] = f[i - <span class="number">1</span>] * i;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**************åº·æ‰˜é€†å±•å¼€**************/</span></span><br><span class="line"> </span><br><span class="line">vector&lt;<span class="keyword">char</span>&gt; vec; <span class="comment">//å­˜éœ€è¦æ’åˆ—çš„å­—ç¬¦</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rev_kangtuo</span><span class="params">(<span class="keyword">int</span> k)</span> <span class="comment">//è¾“å‡ºåºå·ä¸º k çš„å­—ç¬¦åºåˆ—</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> n = vec.size(), len = <span class="number">0</span>;</span><br><span class="line">    string ans = <span class="string">""</span>;</span><br><span class="line">    k--; <span class="comment">// ç®—çš„æ—¶å€™æ˜¯æŒ‰ 12345 æ˜¯ç¬¬0ä½</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++){</span><br><span class="line">        <span class="keyword">int</span> t = k / f[n - i]; <span class="comment">// ç¬¬ i ä½éœ€è¦ ç¬¬ t + 1 å¤§çš„æ•°</span></span><br><span class="line">        k %= f[n - i];        <span class="comment">//å‰©ä¸‹çš„å‡ ä½éœ€è¦æä¾›çš„æ’åˆ—æ•°</span></span><br><span class="line">        ans += vec[t] ; <span class="comment">//  vec[t] å°±æ˜¯ç¬¬ t + 1 å¤§çš„æ•°</span></span><br><span class="line">        vec.erase(vec.begin() + t); </span><br><span class="line"><span class="comment">//ç”¨è¿‡å°±åˆ äº†ï¼Œä¸ç”¨vectorç”¨æš´åŠ›ä¹Ÿå¯ä»¥ï¼Œå°±æ˜¯è¯´æšä¸¾ï¼Œç„¶åä¸€ä¸ªä¸€ä¸ªçš„æ¯”è¾ƒå¤§å°ï¼Œå¹¶è®°å½•æœ‰å‡ ä¸ªæ²¡ç”¨è¿‡çš„å­—ç¬¦ä¸”å­—å…¸åºæ¯”å®ƒå°</span></span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="comment">/***************************************/</span></span><br><span class="line"><span class="comment">// å‡è®¾å±•å¼€åä¸è¶…è¿‡10ä½</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    jie_cheng(<span class="number">10</span>); <span class="comment">// é¢„å¤„é‡Œå¥½é˜¶ä¹˜</span></span><br><span class="line">    scanf(<span class="string">"%d"</span>, &amp;x); <span class="comment">// è¾“å…¥éœ€è¦é€†å±•å¼€çš„æ•°å­—</span></span><br><span class="line">    <span class="comment">/************åº·æ‰˜é€†å±•å¼€***********/</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++)</span><br><span class="line">    {</span><br><span class="line">    	<span class="keyword">if</span>(x / f[i] == <span class="number">0</span>) <span class="comment">// æ±‚å‡º x é€†å±•å¼€æ‰€éœ€çš„æœ€å°çš„ä½æ•°ï¼Œæ–¹ä¾¿ä¸‹é¢çš„åˆå§‹åŒ–</span></span><br><span class="line">    	{</span><br><span class="line">    		num = i;</span><br><span class="line">    		<span class="keyword">break</span>;</span><br><span class="line">    	}</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= num; i++) vec.push_back(i + <span class="string">'0'</span>); <span class="comment">//è¾“å…¥çš„ä½æ•°åªè¦ä¸å°äºnumå°±å¯ä»¥</span></span><br><span class="line">    rev_kangtuo(x);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸å‰å§†æ‹‰å°”æ£®å…¬å¼"><a href="#ğŸŒ¸å‰å§†æ‹‰å°”æ£®å…¬å¼" class="headerlink" title="ğŸŒ¸å‰å§†æ‹‰å°”æ£®å…¬å¼"></a>ğŸŒ¸å‰å§†æ‹‰å°”æ£®å…¬å¼</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">whatday</span><span class="params">(<span class="keyword">int</span> y, <span class="keyword">int</span> m, <span class="keyword">int</span> d)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span>(m == <span class="number">1</span>) {</span><br><span class="line">		y--;</span><br><span class="line">		m = <span class="number">13</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(m == <span class="number">2</span>) {</span><br><span class="line">		y--;</span><br><span class="line">		m = <span class="number">14</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> (d + <span class="number">2</span> * m + <span class="number">3</span> * (m + <span class="number">1</span>) / <span class="number">5</span> + y + y / <span class="number">4</span> - y / <span class="number">100</span> + y / <span class="number">400</span>) % <span class="number">7</span> + <span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸æµ·ä¼¦å…¬å¼"><a href="#ğŸŒ¸æµ·ä¼¦å…¬å¼" class="headerlink" title="ğŸŒ¸æµ·ä¼¦å…¬å¼"></a>ğŸŒ¸æµ·ä¼¦å…¬å¼</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">ä¸‰è§’å½¢ä¸‰è¾¹é•¿a, b, c</span><br><span class="line">p = (a + b + c) / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">area = Math.sqrt(p * (p - a) * (p - b) * (p - c))</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸ç´ æ•°"><a href="#ğŸŒ¸ç´ æ•°" class="headerlink" title="ğŸŒ¸ç´ æ•°"></a>ğŸŒ¸ç´ æ•°</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ©ç”¨API</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">n_prime</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">	BigInteger in = <span class="keyword">new</span> BigInteger(<span class="string">"2"</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) {</span><br><span class="line">		in = in.nextProbablePrime();</span><br><span class="line">	}</span><br><span class="line">	System.out.println(in);</span><br><span class="line">}</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¸¸è§„æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">n_prime1</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">	List&lt;Long&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">long</span> i = <span class="number">2</span>; list.size() &lt; n; i++) {</span><br><span class="line">		<span class="keyword">if</span>(prime(i)) {</span><br><span class="line">			list.add(i);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	System.out.println(list.get(n - <span class="number">1</span>));</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">prime</span><span class="params">(<span class="keyword">long</span> n)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span>(n &lt; <span class="number">2</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">2</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(n % <span class="number">2</span> == <span class="number">0</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>; i * i &lt;= n;i += <span class="number">2</span>) {</span><br><span class="line">		<span class="keyword">if</span>(n % i == <span class="number">0</span>) {</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">n_prime2</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> arr[] = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) {</span><br><span class="line">		arr[i] = <span class="number">1</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i * i &lt;= n; i++) {<span class="comment">//å¯ä»¥åªç”¨æ ¹å·nä¹‹å‰çš„æ•°å­—å»ç­›é€‰</span></span><br><span class="line">		<span class="keyword">if</span>(arr[i] == <span class="number">1</span>) { <span class="comment">//ä¸åŠ åˆ¤æ–­ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå¢åŠ å¤æ‚åº¦äº†ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æˆ‘ä»¬æ‰€è®¤ä¸ºçš„â€œç´ æ•°â€ä¸­ç­›é€‰å°±å¯ä»¥äº†ï¼Œ æ¯ä¸ªåˆæ•°å¿…æœ‰è´¨å› å­</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = i * i; j &lt;= n; j += i) { <span class="comment">//æ¯”å¦‚j = i * k(k &lt; i),é‚£ä¹ˆjè‚¯å®šè¢«kç­›æ‰äº†</span></span><br><span class="line">				arr[j] = <span class="number">0</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span> k = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) {</span><br><span class="line">		<span class="keyword">if</span>(arr[i] == <span class="number">1</span>) {</span><br><span class="line">			<span class="keyword">if</span>(k == <span class="number">100002</span>) {</span><br><span class="line">				System.out.println(<span class="string">"-&gt;"</span>+i);</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			}</span><br><span class="line">			k++;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸æ—¥æœŸç±»ï¼ˆSimpleDateFormat-Date"><a href="#ğŸŒ¸æ—¥æœŸç±»ï¼ˆSimpleDateFormat-Date" class="headerlink" title="ğŸŒ¸æ—¥æœŸç±»ï¼ˆSimpleDateFormat +Date)"></a>ğŸŒ¸æ—¥æœŸç±»ï¼ˆSimpleDateFormat +Date)</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span></span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">        SimpleDateFormat format = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-mm-dd"</span>);</span><br><span class="line">        Date date1 = format.parse(<span class="string">"1921-7-23"</span>);</span><br><span class="line">        Date date2 = format.parse(<span class="string">"2020- 7-1"</span>);</span><br><span class="line">        <span class="keyword">int</span> a = (<span class="keyword">int</span>)((date2.getTime() - date1.getTime()) / <span class="number">1000</span> * <span class="number">60</span>);<span class="comment">//ç›¸éš”å¤šå°‘åˆ†é’Ÿ</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//ç›´æ¥ä½¿ç”¨ Date</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span></span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">long</span> sum = <span class="number">36138</span> * <span class="number">24</span> * <span class="number">60L</span>;</span><br><span class="line">        System.out.println(sum);</span><br><span class="line">        System.out.println(<span class="number">36138</span> * <span class="number">24</span> * <span class="number">60</span>);</span><br><span class="line">        <span class="comment">// longå‹å˜é‡åœ¨å®šä¹‰çš„æ—¶å€™ï¼Œå¦‚æœä¸åŠ â€œLâ€,åˆ™é»˜è®¤ä¸ºintå‹å˜é‡</span></span><br><span class="line">        Date date1 = <span class="keyword">new</span> Date(<span class="number">21</span>, <span class="number">7</span>, <span class="number">23</span>, <span class="number">12</span>, <span class="number">0</span>, <span class="number">0</span>); <span class="comment">// 1921</span></span><br><span class="line">        Date date2 = <span class="keyword">new</span> Date(<span class="number">120</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">12</span>, <span class="number">0</span>, <span class="number">0</span>); <span class="comment">// 2020</span></span><br><span class="line">        <span class="keyword">long</span> time = date2.getTime() - date1.getTime();</span><br><span class="line">        System.out.println(time / (<span class="number">60000</span>));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>





<h3 id="ğŸ"><a href="#ğŸ" class="headerlink" title="ğŸ"></a>ğŸ</h3><h4 id="ğŸ‚"><a href="#ğŸ‚" class="headerlink" title="ğŸ‚"></a>ğŸ‚</h4><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>è“æ¡¥æ¯</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
        <tag>è“æ¡¥æ¯å›½èµ›çœŸé¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title>è“æ¡¥ç®—æ³•çœèµ›çœŸé¢˜æ€»ç»“</title>
    <url>/Summary_of_provincial_competition/</url>
    <content><![CDATA[<p>ğŸŒ¸<strong>è®°å½•è“æ¡¥æ¯javaBç»„çœèµ›é¢˜ç›®è§£é¢˜æ–¹æ³•æ€»ç»“å¯¹æ¯”</strong></p>
<a id="more"></a>

<h2 id="ğŸŒ¸è§£é¢˜æ–¹æ³•æ±‡æ€»ï¼ˆjava-Bç»„çœèµ›ï¼‰"><a href="#ğŸŒ¸è§£é¢˜æ–¹æ³•æ±‡æ€»ï¼ˆjava-Bç»„çœèµ›ï¼‰" class="headerlink" title="ğŸŒ¸è§£é¢˜æ–¹æ³•æ±‡æ€»ï¼ˆjava Bç»„çœèµ›ï¼‰"></a>ğŸŒ¸è§£é¢˜æ–¹æ³•æ±‡æ€»ï¼ˆjava Bç»„çœèµ›ï¼‰</h2><table>
<thead>
<tr>
<th></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
</tr>
</thead>
<tbody><tr>
<td>ç¬¬å››å±Š</td>
<td>æ—¥æœŸ(API)ã€å‰å§†æ‹‰å°”æ£®å…¬å¼</td>
<td>æš´åŠ›æšä¸¾</td>
<td>æš´åŠ›æ·±æœ</td>
<td>é€’å½’ã€å¤§æ•°ç±»</td>
<td>é€»è¾‘æ¨¡æ‹Ÿ</td>
<td>é€»è¾‘æ¨¡æ‹Ÿ</td>
<td>æš´åŠ›æŸ¥æ‰¾(ç±»é›†æ¡†æ¶)</td>
<td>æ¨¡æ‹Ÿè¿‡ç¨‹</td>
<td>å…¨æ’åˆ—ã€é€»è¾‘åˆ¤æ–­ã€é€»è¾‘æšä¸¾çš„æ¡ä»¶åˆ¤æ–­ï¼Œæšä¸¾æ‰€æœ‰æƒ…å†µ</td>
<td>é¢˜æ„ç†è§£ï¼Œæ€ç»´çš„å·§å¦™è¿ç”¨</td>
</tr>
<tr>
<td>ç¬¬äº”å±Š</td>
<td>æ•°å­¦é€»è¾‘</td>
<td>æ•°å­¦é€»è¾‘</td>
<td>å­—ç¬¦ä¸²ã€æš´åŠ›æ¨¡æ‹Ÿ</td>
<td>æ•°å­¦ã€å¥‡å¶æ•°</td>
<td>æ•°å­¦é€»è¾‘</td>
<td>æš´åŠ›æšä¸¾</td>
<td>å…¨æ’åˆ—ã€é€»è¾‘æ£€æŸ¥</td>
<td>æ¨¡æ‹Ÿè¿‡ç¨‹</td>
<td>æ·±åº¦ä¼˜å…ˆã€è¿‡ç¨‹æ¨¡æ‹Ÿæœç´¢ã€è®°å¿†åŒ–é€’å½’</td>
<td>-1</td>
</tr>
<tr>
<td>ç¬¬å…­å±Š</td>
<td>ç®€å•æ•°å­¦è®¡ç®—</td>
<td>æš´åŠ›æšä¸¾</td>
<td>æš´åŠ›æšä¸¾</td>
<td>æ¨¡æ‹Ÿè¿‡ç¨‹å‘ç°å°æŠ€å·§</td>
<td>å…¨æ’åˆ—</td>
<td>æ•°å­¦è§„å¾‹</td>
<td>é€’å½’</td>
<td>æ¨¡æ‹Ÿè¿‡ç¨‹</td>
<td>é€’å½’ã€åŠ¨æ€è§„åˆ’ã€çŸ©é˜µå¿«é€Ÿå¹‚</td>
<td>é€’å½’æœ€å¤šä¸€ä¸‡å±‚</td>
</tr>
<tr>
<td>ç¬¬ä¸ƒå±Š</td>
<td>æ•°å­¦è§„å¾‹</td>
<td>æš´åŠ›æšä¸¾</td>
<td>æš´åŠ›å…¨æ’åˆ—</td>
<td>ç»„åˆï¼Œè§„å¾‹</td>
<td>é€’å½’ã€ç»„åˆ</td>
<td>æš´åŠ›ã€å…¨æ’åˆ—</td>
<td>ç»„åˆã€æ·±æœã€å›¾ã€è”é€šåˆ†é‡</td>
<td>é¦–å…ˆæš´åŠ›ã€æš´åŠ›ä¼˜åŒ–ï¼ˆå››å±‚åˆ°ä¸¤å±‚ï¼‰å“ˆå¸Œ</td>
<td>é€’å½’æ¨¡æ‹Ÿè¿‡ç¨‹ã€ç»†èŠ‚å¾ˆé‡è¦</td>
<td>-1</td>
</tr>
<tr>
<td>ç¬¬å…«å±Š</td>
<td>Excelã€è€å¿ƒæ•²ä»£ç è®¡ç®—ã€æš´åŠ›è®¡ç®—å™¨ã€</td>
<td>å…¨æ’åˆ—</td>
<td>äºŒç»´æ•°ç»„æ‰¾è§„å¾‹</td>
<td>-1</td>
<td>è¿‡ç¨‹æ¨¡æ‹Ÿåˆ†æ</td>
<td>åŠ¨æ€è§„åˆ’</td>
<td>APIã€æ—¥æœŸçš„ç»†å¿ƒåˆ¤æ–­ï¼ˆä¸»è¦æ˜¯ç»†å¿ƒæ‰¾åˆ°æ¯ä¸€ä¸ªæ»¡è¶³çš„æ¡ä»¶ï¼‰</td>
<td>åŠ¨æ€è§„åˆ’ã€æ‰©å±•æ¬§å‡ é‡Œå¾—ã€å®Œå…¨èƒŒåŒ…</td>
<td>æ•°å­¦è§„å¾‹ã€æ¨¡æ‹Ÿè¿‡ç¨‹</td>
<td>æš´åŠ›ã€å‰ç¼€å’Œä¼˜åŒ–ã€å–æ¨¡è¿ç®—</td>
</tr>
<tr>
<td>ç¬¬ä¹å±Š</td>
<td>æ—¥æœŸã€è®¡ç®—å™¨ï¼ˆæ³¨æ„åŠ ä¸€å¤©ï¼‰</td>
<td>æš´åŠ›è®¡ç®—ã€å‹¾è‚¡å®šç†</td>
<td>å¤§æ•°ç±»ã€æ•°å¾ˆå¤§è¾“å…¥åˆ°æ–‡ä»¶</td>
<td>åŠ¨æ€è§„åˆ’ã€é€’å½’ã€äºŒåˆ†</td>
<td>éšæœºå¿«é€Ÿæ’åºã€é€’å½’</td>
<td>æš´åŠ›ã€ä¼˜åŒ–ï¼ˆäºŒåˆ†ï¼‰ã€ï¼ˆåŒæŒ‡é’ˆï¼‰</td>
<td>ç”»å›¾ã€ç”»è¿‡ç¨‹æ¨¡æ‹Ÿã€æ‰¾å‡ºæ•°å­¦è§„å¾‹ã€ç­‰å·®æ•°åˆ—æ±‚å’Œã€ç»å¯¹å€¼çš„æ¶ˆå»</td>
<td>é¢å‘å¯¹è±¡çš„æ€ç»´æ¨¡æ‹Ÿã€ç±»çš„è‡ªå®šä¹‰æ’åºã€æ€ç»´é€»è¾‘çš„ä¸¥å¯†æ€§</td>
<td>æš´åŠ›æ·±æœã€DFSæŸ¥æ‰¾è”é€šåˆ†é‡çš„ä¸ªæ•°</td>
<td>-1ï¼ˆä¹˜æ³•é€†å…ƒï¼‰</td>
</tr>
<tr>
<td>ç¬¬åå±Š</td>
<td>ç»¼åˆåˆ†æã€æ±‚æœ€å¤§å€¼</td>
<td>æš´åŠ›æ±‚å­ä¸²ã€Seté›†åˆ</td>
<td>æš´åŠ›æ±‚å€¼ã€æœ‰å‘ï¼ˆåªéœ€è¦å…³æ³¨æ•°çš„åå››ä½ï¼Œä¸ç„¶æ•°å­—å¤ªå¤§å­˜ä¸äº†ï¼‰</td>
<td>æš´åŠ›åˆ†è§£ã€æ¡ä»¶åˆ¤æ–­</td>
<td>æ±‚æœ€çŸ­è·¯å¾„ã€å¹¿åº¦ä¼˜å…ˆã€æ·±åº¦ä¼˜å…ˆã€èŠ‚ç‚¹åˆ¤æ–­</td>
<td>æš´åŠ›ç ´è§£</td>
<td>æ¨¡æ‹Ÿè¿‡ç¨‹ã€æ³¨æ„åˆç†è¿ç”¨å˜é‡å’Œæ•°ç»„ï¼Œåˆ©ç”¨äºŒç»´æ•°ç»„å’Œå¤šä¸ªä¸€ç»´æ•°ç»„å¯ä»¥ä»£æ›¿å¤æ‚çš„æ•°æ®ç»“æ„</td>
<td>é€»è¾‘åˆ†æä¸ä¸¥å¯†æ€§ã€å­—ç¬¦ä¸²æ­£åˆ™ä»¥åŠAPIçš„ä½¿ç”¨</td>
<td>é€»è¾‘æ€ç»´çš„åˆ†æä¸ä¸¥å¯†æ€§ã€éœ€è¦å»è€ƒè™‘ç¹æ‚çš„æ‰€æœ‰å¯èƒ½çš„æƒ…å†µç„¶åå†™å‡ºç»“æœ</td>
<td>-1</td>
</tr>
<tr>
<td>ç¬¬åä¸€å±Š</td>
<td>æ‰‹å·¥è®¡ç®—ã€ä»£ç è®¡ç®—æ—¶æ³¨æ„å‡æ³•æ—¶çš„è¾¹ç•Œä¸èƒ½å‡åˆ°è´Ÿæ•°</td>
<td>æ—¥æœŸã€è®¡ç®—å™¨ã€æ—¥æœŸç±»</td>
<td>æ•°å­¦æ±‚æœ€å€¼ã€æ±‚ç®—æ•°ä¸ç­‰å¼ç›¸ç­‰æ—¶çš„è¾¹ç•Œæƒ…å†µ</td>
<td>-1ï¼ˆæ‰¾è§„å¾‹ï¼Œç”¨ä»£ç å»æ¨¡æ‹Ÿé¢˜ç›®è¦æ±‚ç¨‹åºè®¡ç®—çš„è¿‡ç¨‹ï¼‰</td>
<td>åŠ¨æ€è§„åˆ’ã€æ‰¾å‡ºå­˜æ”¾è§„å¾‹ä¸çŠ¶æ€çš„è½¬ç§»æ–¹ç¨‹</td>
<td>æš´åŠ›å–æ¨¡ã€ä¼˜åŒ–ï¼ˆä½è¿ç®—&gt;&gt;å–ä»£ / ï¼‰(å³n = n&gt;&gt; 1 ç›¸å½“äº n = n / 2)</td>
<td>ç†Ÿç»ƒä½¿ç”¨APIã€StringBuilderä»¥åŠå­—ç¬¦ä¸²çš„åˆ¤æ–­ã€æ€»çš„æ¥è¯´å°±æ˜¯æš´åŠ›æ¨¡æ‹Ÿ</td>
<td>æ·±åº¦ä¼˜å…ˆæœç´¢ã€åŠ¨æ€è§„åˆ’</td>
<td>æš´åŠ›æ‹¼æ¥ï¼ˆåŒé‡forï¼‰ã€ä¼˜åŒ–ï¼ˆäºŒç»´æ•°ç»„ã€ä½æ•°å–å–ä½™ç­‰ï¼‰</td>
<td>-1</td>
</tr>
<tr>
<td>ç¬¬åäºŒå±Š</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="ğŸŒ¸é»„é‡‘åˆ†å‰²æ•°ä¸æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å…³ç³»"><a href="#ğŸŒ¸é»„é‡‘åˆ†å‰²æ•°ä¸æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å…³ç³»" class="headerlink" title="ğŸŒ¸é»„é‡‘åˆ†å‰²æ•°ä¸æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å…³ç³»"></a>ğŸŒ¸é»„é‡‘åˆ†å‰²æ•°ä¸æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å…³ç³»</h2><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">æ¯”è¾ƒç®€å•çš„ä¸€ç§æ˜¯ç”¨è¿åˆ†æ•°ï¼š</span><br><span class="line">                                   1</span><br><span class="line">    é»„é‡‘æ•° = ------------------------------</span><br><span class="line">                                     1</span><br><span class="line">                    1 + ---------------------</span><br><span class="line">                                        1</span><br><span class="line">                           1 + -------------</span><br><span class="line">                                          1</span><br><span class="line">                                 1 + -------</span><br><span class="line">                                       1 + ...</span><br><span class="line">                         </span><br><span class="line">    è¿™ä¸ªè¿åˆ†æ•°è®¡ç®—çš„â€œå±‚æ•°â€è¶Šå¤šï¼Œå®ƒçš„å€¼è¶Šæ¥è¿‘é»„é‡‘åˆ†å‰²æ•°ã€‚</span><br><span class="line">    è¯·ä½ åˆ©ç”¨è¿™ä¸€ç‰¹æ€§ï¼Œæ±‚å‡ºé»„é‡‘åˆ†å‰²æ•°çš„è¶³å¤Ÿç²¾ç¡®å€¼ï¼Œè¦æ±‚å››èˆäº”å…¥åˆ°å°æ•°ç‚¹å100ä½ã€‚</span><br><span class="line">    å°æ•°ç‚¹å3ä½çš„å€¼ä¸ºï¼š0.618</span><br><span class="line">    å°æ•°ç‚¹å4ä½çš„å€¼ä¸ºï¼š0.6180</span><br><span class="line">    å°æ•°ç‚¹å5ä½çš„å€¼ä¸ºï¼š0.61803</span><br><span class="line">    å°æ•°ç‚¹å7ä½çš„å€¼ä¸ºï¼š0.6180340</span><br></pre></td></tr></tbody></table></figure>

<p>å¯ä»¥åˆ†æå¾—å‡º</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">ç¬¬äºŒå±‚      1/2    åä¸¤ä½</span><br><span class="line">ç¬¬ä¸‰å±‚      2/3    åä¸‰ä½</span><br><span class="line">ç¬¬å››å±‚      3/5	åå››ä½</span><br><span class="line">ç¬¬äº”å±‚      5/8	åäº”ä½</span><br><span class="line">.....</span><br><span class="line">ä»¥æ­¤ç±»æ¨</span><br><span class="line">å³å100ä½ä¸ºç¨³å®šçš„100å¤šä½çš„æ–æ³¢é‚£å¥‘æ•°ç›¸é™¤ï¼Œåˆ™å¯ä»¥å¾—å‡ºä»£ç </span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">          </span><br><span class="line">        BigInteger a = BigInteger.ONE;</span><br><span class="line">        BigInteger b = BigInteger.ONE;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>; i &lt; <span class="number">500</span>; i++) {</span><br><span class="line">        	BigInteger t = b;</span><br><span class="line">        	b = a.add(b);</span><br><span class="line">        	a = t;</span><br><span class="line">        }</span><br><span class="line">        BigDecimal divide = <span class="keyword">new</span> BigDecimal(a, <span class="number">110</span>).divide(<span class="keyword">new</span> BigDecimal(b, <span class="number">110</span>), BigDecimal.ROUND_HALF_DOWN);</span><br><span class="line">        System.out.println(divide.toPlainString().substring(<span class="number">0</span>, <span class="number">103</span>));</span><br><span class="line">	</span><br><span class="line">	}</span><br><span class="line">    <span class="comment">//æ±‚æ–æ³¢é‚£å¥‘</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> BigDecimal <span class="title">fb</span><span class="params">(<span class="keyword">int</span> n)</span></span>{</span><br><span class="line">        BigDecimal a = BigDecimal.ONE;</span><br><span class="line">        BigDecimal b = BigDecimal.ONE;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) {</span><br><span class="line">            BigDecimal t = b;</span><br><span class="line">            b = a.add(b);</span><br><span class="line">            a=t;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸åœ†å‘¨ç‡ä¸è¿åˆ†æ•°"><a href="#ğŸŒ¸åœ†å‘¨ç‡ä¸è¿åˆ†æ•°" class="headerlink" title="ğŸŒ¸åœ†å‘¨ç‡ä¸è¿åˆ†æ•°"></a>ğŸŒ¸åœ†å‘¨ç‡ä¸è¿åˆ†æ•°</h2><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"> 4                               1</span><br><span class="line">----   = 1 +  ------------------------------</span><br><span class="line"> N(åœ†å‘¨ç‡)                            9</span><br><span class="line">                 1 + ---------------------</span><br><span class="line">                                       25</span><br><span class="line">                        2 + -----------------</span><br><span class="line">                                         </span><br><span class="line">                              2 + .............</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">double</span> x = <span class="number">111</span>; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> n = <span class="number">10000</span>; n&gt;=<span class="number">0</span>; n--){</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">2</span> * n + <span class="number">1</span>;</span><br><span class="line">        x = <span class="number">2</span> + (i*i / x);</span><br><span class="line">    }</span><br><span class="line">   </span><br><span class="line">    System.out.println(String.format(<span class="string">"%.4f"</span>, <span class="number">4</span>/ (x - <span class="number">1</span>)));</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸å‰å§†æ‹‰å°”æ£®å…¬å¼"><a href="#ğŸŒ¸å‰å§†æ‹‰å°”æ£®å…¬å¼" class="headerlink" title="ğŸŒ¸å‰å§†æ‹‰å°”æ£®å…¬å¼"></a>ğŸŒ¸å‰å§†æ‹‰å°”æ£®å…¬å¼</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">whatday</span><span class="params">(<span class="keyword">int</span> y, <span class="keyword">int</span> m, <span class="keyword">int</span> d)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span>(m == <span class="number">1</span>) {</span><br><span class="line">		y--;</span><br><span class="line">		m = <span class="number">13</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(m == <span class="number">2</span>) {</span><br><span class="line">		y--;</span><br><span class="line">		m = <span class="number">14</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> (d + <span class="number">2</span> * m + <span class="number">3</span> * (m + <span class="number">1</span>) / <span class="number">5</span> + y + y / <span class="number">4</span> - y / <span class="number">100</span> + y / <span class="number">400</span>) % <span class="number">7</span> + <span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸å¤æ•°å¹‚ï¼ˆå¤æ•°çš„é˜¶ä¹˜ï¼‰-äº†è§£æ‰“å°æµçš„ä½¿ç”¨æ–‡æœ¬"><a href="#ğŸŒ¸å¤æ•°å¹‚ï¼ˆå¤æ•°çš„é˜¶ä¹˜ï¼‰-äº†è§£æ‰“å°æµçš„ä½¿ç”¨æ–‡æœ¬" class="headerlink" title="ğŸŒ¸å¤æ•°å¹‚ï¼ˆå¤æ•°çš„é˜¶ä¹˜ï¼‰(äº†è§£æ‰“å°æµçš„ä½¿ç”¨æ–‡æœ¬)"></a>ğŸŒ¸å¤æ•°å¹‚ï¼ˆå¤æ•°çš„é˜¶ä¹˜ï¼‰(äº†è§£æ‰“å°æµçš„ä½¿ç”¨æ–‡æœ¬)</h2><p>å¤æ•°è®¡ç®—çš„è§„å¾‹  å°è¯•ç”¨ (a+bi)<em>(c+di) = (a</em>c - b<em>d) + (a</em>d + b*c)i </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException </span>{</span><br><span class="line">		<span class="comment">//System.out.println(getNum(new BigInteger("2"), new BigInteger("3"), new BigInteger("2"), new BigInteger("3")));</span></span><br><span class="line">		</span><br><span class="line">		BigInteger a = <span class="keyword">new</span> BigInteger(<span class="string">"2"</span>);</span><br><span class="line">		BigInteger b = <span class="keyword">new</span> BigInteger(<span class="string">"3"</span>);</span><br><span class="line">		BigInteger c = <span class="keyword">new</span> BigInteger(<span class="string">"2"</span>);</span><br><span class="line">		BigInteger d = <span class="keyword">new</span> BigInteger(<span class="string">"3"</span>);</span><br><span class="line">		<span class="keyword">int</span> n = <span class="number">1</span>;</span><br><span class="line">		BigInteger shi;</span><br><span class="line">		BigInteger xu;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>(n &lt; <span class="number">123456</span>) {</span><br><span class="line">			shi = a.multiply(c).subtract((b.multiply(d)));</span><br><span class="line">			xu = a.multiply(d).add(b.multiply(c));</span><br><span class="line">			n++;</span><br><span class="line">			a = shi;</span><br><span class="line">			b = xu;</span><br><span class="line">		}</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(b.compareTo(<span class="keyword">new</span> BigInteger(<span class="string">"0"</span>)) == <span class="number">1</span>) {</span><br><span class="line">			System.out.println(a + <span class="string">"+"</span> + b + <span class="string">"i"</span>);</span><br><span class="line">		}<span class="keyword">else</span> <span class="keyword">if</span>(b.compareTo(<span class="keyword">new</span> BigInteger(<span class="string">"0"</span>)) == <span class="number">0</span>) {</span><br><span class="line">			System.out.println(a + <span class="string">""</span>);</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			System.out.println(a + <span class="string">""</span> + b + <span class="string">"i"</span>);</span><br><span class="line">		}</span><br><span class="line">		</span><br><span class="line">		PrintStream out = System.out;</span><br><span class="line">		PrintStream ps = <span class="keyword">new</span> PrintStream(<span class="keyword">new</span> File(<span class="string">"ans.txt"</span>));</span><br><span class="line">		System.setOut(ps);;<span class="comment">//è¾“å‡ºåœ¨ans.txt</span></span><br><span class="line">		System.out.println(a.toString() +b.toString() + <span class="string">"i"</span>);</span><br><span class="line">		System.setOut(out);</span><br><span class="line">		System.out.println(a.toString() + b.toString() + <span class="string">"i"</span>);</span><br><span class="line">	}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸æ‰”é¸¡è›‹é—®é¢˜ï¼ˆæ‘”æ‰‹æœºï¼‰ï¼ˆé¢è¯•é¢˜ï¼‰ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰"><a href="#ğŸŒ¸æ‰”é¸¡è›‹é—®é¢˜ï¼ˆæ‘”æ‰‹æœºï¼‰ï¼ˆé¢è¯•é¢˜ï¼‰ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰" class="headerlink" title="ğŸŒ¸æ‰”é¸¡è›‹é—®é¢˜ï¼ˆæ‘”æ‰‹æœºï¼‰ï¼ˆé¢è¯•é¢˜ï¼‰ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰"></a>ğŸŒ¸æ‰”é¸¡è›‹é—®é¢˜ï¼ˆæ‘”æ‰‹æœºï¼‰ï¼ˆé¢è¯•é¢˜ï¼‰ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰</h2><p>ä½ å°†è·å¾— K ä¸ªé¸¡è›‹ï¼Œå¹¶å¯ä»¥ä½¿ç”¨ä¸€æ ‹ä» 1 åˆ° N  å…±æœ‰ N å±‚æ¥¼çš„å»ºç­‘ã€‚</p>
<p>æ¯ä¸ªè›‹çš„åŠŸèƒ½éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¦‚æœä¸€ä¸ªè›‹ç¢äº†ï¼Œä½ å°±ä¸èƒ½å†æŠŠå®ƒæ‰ä¸‹å»ã€‚</p>
<p>ä½ çŸ¥é“å­˜åœ¨æ¥¼å±‚ F ï¼Œæ»¡è¶³ 0 &lt;= F &lt;= N ä»»ä½•ä»é«˜äº F çš„æ¥¼å±‚è½ä¸‹çš„é¸¡è›‹éƒ½ä¼šç¢ï¼Œä» F æ¥¼å±‚æˆ–æ¯”å®ƒä½çš„æ¥¼å±‚è½ä¸‹çš„é¸¡è›‹éƒ½ä¸ä¼šç ´ã€‚</p>
<p>æ¯æ¬¡ç§»åŠ¨ï¼Œä½ å¯ä»¥å–ä¸€ä¸ªé¸¡è›‹ï¼ˆå¦‚æœä½ æœ‰å®Œæ•´çš„é¸¡è›‹ï¼‰å¹¶æŠŠå®ƒä»ä»»ä¸€æ¥¼å±‚ X æ‰”ä¸‹ï¼ˆæ»¡è¶³ 1 &lt;= X &lt;= Nï¼‰ã€‚</p>
<p>ä½ çš„ç›®æ ‡æ˜¯ç¡®åˆ‡åœ°çŸ¥é“ F çš„å€¼æ˜¯å¤šå°‘ã€‚</p>
<p>æ— è®º F çš„åˆå§‹å€¼å¦‚ä½•ï¼Œä½ ç¡®å®š F çš„å€¼çš„æœ€å°ç§»åŠ¨æ¬¡æ•°æ˜¯å¤šå°‘ï¼Ÿ</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> é¸¡è›‹è§£æ³•åŠ›æ‰£ </span>{</span><br><span class="line">    <span class="keyword">static</span> Integer[][] memo = <span class="keyword">null</span>;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">superEggDrop</span><span class="params">(<span class="keyword">int</span> K, <span class="keyword">int</span> N)</span> </span>{</span><br><span class="line">        memo = <span class="keyword">new</span> Integer[K+<span class="number">1</span>][N+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">return</span> dp(K,N);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *å½“å‰Kä¸ªé¸¡è›‹å…±æœ‰Nå±‚æ¥¼çŠ¶æ€æ—¶ è¿”å›è¿™ä¸ªçŠ¶æ€ä¸‹ç¡®å®š Fçš„å€¼çš„æœ€å°ç§»åŠ¨æ¬¡æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">private</span> <span class="keyword">int</span> <span class="title">dp</span><span class="params">(<span class="keyword">int</span> k,<span class="keyword">int</span> n)</span></span>{</span><br><span class="line">        <span class="comment">//base case å±‚æ•°Nç­‰äº0æ—¶ä¸éœ€è¦æ‰”é¸¡è›‹,å½“é¸¡è›‹æ•°Kä¸º1æ—¶ï¼Œåªèƒ½æ¯å±‚é€ä¸ªå°è¯•å‰©ä¸‹æ‰€æœ‰æ¥¼å±‚</span></span><br><span class="line">        <span class="keyword">if</span>(k==<span class="number">1</span>)<span class="keyword">return</span> n;</span><br><span class="line">        <span class="keyword">if</span>(n&lt;=<span class="number">0</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ·»åŠ ä¸€ä¸ªå¤‡å¿˜å½• æ¶ˆé™¤ä¹‹å‰ç®—è¿‡çš„é‡å å­é—®é¢˜</span></span><br><span class="line">        <span class="keyword">if</span>(memo[k][n]!=<span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> memo[k][n];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> tmp = Integer.MAX_VALUE;</span><br><span class="line"></span><br><span class="line">         <span class="comment">//ç¬¬ä¸€ç§ ä»ç¬¬1å±‚æ¥¼åˆ°ç¬¬nå±‚æ¥¼æ¯å±‚æ¥¼å¼€å§‹é€ä¸ªå°è¯•ä½œä¸ºåˆ‡å…¥ç‚¹ (ä¼šè¶…æ—¶)</span></span><br><span class="line">         <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n+<span class="number">1</span>;i++){</span><br><span class="line">             <span class="comment">//å½“é€‰æ‹©åœ¨ç¬¬iå±‚æ¥¼æ‰”äº†é¸¡è›‹ä¹‹å å¯èƒ½å‡ºç°é¸¡è›‹ç¢äº†å’Œé¸¡è›‹æ²¡ç¢ä¸¤ç§æƒ…å†µï¼š</span></span><br><span class="line">             <span class="comment">//å½“é¸¡è›‹ç¢äº† é—®é¢˜çŠ¶æ€è½¬å«ä¸ºæ±‚k-1ä¸ªé¸¡è›‹ æœç´¢çš„æ¥¼å±‚åŒºé—´å˜ä¸º1~i-1å…±i-1å±‚æ¥¼æ—¶æ±‚è§£</span></span><br><span class="line">             <span class="keyword">int</span> eggBreak=dp(k-<span class="number">1</span>,i-<span class="number">1</span>);</span><br><span class="line">             <span class="comment">//å½“é¸¡è›‹æ²¡ç¢ é—®é¢˜çŠ¶æ€è½¬å«ä¸ºé¸¡è›‹çš„ä¸ªæ•°Kä¸å˜ æœç´¢æ¥¼å±‚åŒºé—´å˜ä¸ºi+1~Nå…±N-iå±‚æ¥¼æ—¶æ±‚è§£</span></span><br><span class="line">             <span class="keyword">int</span> eggUnBreak=dp(k,n-i);</span><br><span class="line">             <span class="comment">//æœ€ç»ˆä»¥iå±‚ä¸ºåˆ‡å…¥ç‚¹æ±‚è§£çš„ç­”æ¡ˆ ä¸ºä¸¤ç§çŠ¶æ€çš„æœ€åæƒ…å†µ å¹¶åŠ ä¸Šiå±‚æ—¶æ“ä½œ1 å¹¶æ›´æ–°æœ€å°å€¼</span></span><br><span class="line">             tmp = Math.min(tmp,Math.max(eggBreak,eggUnBreak)+<span class="number">1</span>);</span><br><span class="line">         }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç¬¬äºŒç§ åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼ç›´æ¥æ‰¾åˆ°å¯¹åº”ç‚¹(ACé€šè¿‡)</span></span><br><span class="line">        <span class="comment">//ç¬¬ä¸€ç§çº¿æ€§é€ä¸ªå°è¯•åˆ‡å…¥ç‚¹ ç„¶åæ±‚æ¯ä¸ªåˆ‡å…¥ç‚¹ä¸¤ç§çŠ¶æ€çš„è¾ƒå¤§å€¼ å†æ±‚è¿™äº›æœ€å¤§å€¼ä¹‹ä¸­çš„æœ€å°å€¼ å…¶å®å°±æ˜¯æ±‚è¿™ä¸¤æ¡å•è°ƒé€’å¢å’Œå•è°ƒé€’å‡ç›´çº¿çš„äº¤ç‚¹ ç›¸å½“äºæ±‚ä¸ŠåŠéƒ¨Vå½¢å±±è°·å€¼ äºŒåˆ†æŸ¥æ‰¾æ¥å¿«é€Ÿå¯»æ‰¾è¿™ä¸ªç‚¹</span></span><br><span class="line"><span class="comment">//        int lo=1,hi =n;</span></span><br><span class="line"><span class="comment">//        while(lo&lt;=hi){</span></span><br><span class="line"><span class="comment">//            int mid =(lo+hi)/2;</span></span><br><span class="line"><span class="comment">//            int eggBreak = dp(k-1,mid-1);</span></span><br><span class="line"><span class="comment">//            int eggUnBreak = dp(k,n-mid);</span></span><br><span class="line"><span class="comment">//            if(eggBreak&gt;eggUnBreak){</span></span><br><span class="line"><span class="comment">//                hi = mid-1;</span></span><br><span class="line"><span class="comment">//                tmp = Math.min(tmp,eggBreak+1);</span></span><br><span class="line"><span class="comment">//            }else{</span></span><br><span class="line"><span class="comment">//                lo = mid+1;</span></span><br><span class="line"><span class="comment">//                tmp = Math.min(tmp,eggUnBreak+1);</span></span><br><span class="line"><span class="comment">//            }</span></span><br><span class="line">    <span class="comment">//    }</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ·»åŠ åˆ°å¤‡å¿˜å½•é‡Œ</span></span><br><span class="line">        memo[k][n]=tmp;</span><br><span class="line">        <span class="comment">//è¿”å›å½“å‰kä¸ªé¸¡è›‹nå±‚æ¥¼æ—¶æ±‚è§£çš„å­é—®é¢˜çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        System.out.println(dp(<span class="number">3</span>,<span class="number">1000</span>));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>xæ˜Ÿçƒçš„å±…æ°‘è„¾æ°”ä¸å¤ªå¥½ï¼Œä½†å¥½åœ¨ä»–ä»¬ç”Ÿæ°”çš„æ—¶å€™å”¯ä¸€çš„å¼‚å¸¸ä¸¾åŠ¨æ˜¯ï¼šæ‘”æ‰‹æœºã€‚</p>
<p>å„å¤§å‚å•†ä¹Ÿå°±çº·çº·æ¨å‡ºå„ç§è€æ‘”å‹æ‰‹æœºã€‚xæ˜Ÿçƒçš„è´¨ç›‘å±€è§„å®šäº†æ‰‹æœºå¿…é¡»ç»è¿‡è€æ‘”æµ‹è¯•ï¼Œå¹¶ä¸”è¯„å®šå‡ºä¸€ä¸ªè€æ‘”æŒ‡æ•°æ¥ï¼Œä¹‹åæ‰å…è®¸ä¸Šå¸‚æµé€šã€‚</p>
<p>xæ˜Ÿçƒæœ‰å¾ˆå¤šé«˜è€¸å…¥äº‘çš„é«˜å¡”ï¼Œåˆšå¥½å¯ä»¥ç”¨æ¥åšè€æ‘”æµ‹è¯•ã€‚å¡”çš„æ¯ä¸€å±‚é«˜åº¦éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä¸åœ°çƒä¸Šç¨æœ‰ä¸åŒçš„æ˜¯ï¼Œä»–ä»¬çš„ç¬¬ä¸€å±‚ä¸æ˜¯åœ°é¢ï¼Œè€Œæ˜¯ç›¸å½“äºæˆ‘ä»¬çš„2æ¥¼ã€‚</p>
<p>å¦‚æœæ‰‹æœºä»ç¬¬7å±‚æ‰”ä¸‹å»æ²¡æ‘”åï¼Œä½†ç¬¬8å±‚æ‘”åäº†ï¼Œåˆ™æ‰‹æœºè€æ‘”æŒ‡æ•°=7ã€‚</p>
<p>ç‰¹åˆ«åœ°ï¼Œå¦‚æœæ‰‹æœºä»ç¬¬1å±‚æ‰”ä¸‹å»å°±åäº†ï¼Œåˆ™è€æ‘”æŒ‡æ•°=0ã€‚</p>
<p>å¦‚æœåˆ°äº†å¡”çš„æœ€é«˜å±‚ç¬¬nå±‚æ‰”æ²¡æ‘”åï¼Œåˆ™è€æ‘”æŒ‡æ•°=n</p>
<p>ä¸ºäº†å‡å°‘æµ‹è¯•æ¬¡æ•°ï¼Œä»æ¯ä¸ªå‚å®¶æŠ½æ ·3éƒ¨æ‰‹æœºå‚åŠ æµ‹è¯•ã€‚</p>
<p>æŸæ¬¡æµ‹è¯•çš„å¡”é«˜ä¸º1000å±‚ï¼Œå¦‚æœæˆ‘ä»¬æ€»æ˜¯é‡‡ç”¨æœ€ä½³ç­–ç•¥ï¼Œåœ¨æœ€åçš„è¿æ°”ä¸‹æœ€å¤šéœ€è¦æµ‹è¯•å¤šå°‘æ¬¡æ‰èƒ½ç¡®å®šæ‰‹æœºçš„è€æ‘”æŒ‡æ•°å‘¢ï¼Ÿ</p>
<p>è¯·å¡«å†™è¿™ä¸ªæœ€å¤šæµ‹è¯•æ¬¡æ•°ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span></span>{</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">10000</span>;j++)</span><br><span class="line">                memo[i][j] = <span class="number">99999999</span>;<span class="comment">//æ‰¾æœ€å°,åˆå§‹åŒ–INF</span></span><br><span class="line">        System.out.println(f(<span class="number">3</span>,<span class="number">1000</span>));</span><br><span class="line">        <span class="comment">//f(k,n)  å½“å‰çš„é¸¡è›‹æ•°  k</span></span><br><span class="line">        <span class="comment">//        éœ€è¦æµ‹è¯•çš„æ¥¼å±‚æ•°  n</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span>[][] memo = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>][<span class="number">10000</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> k,<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span>(k==<span class="number">1</span>) <span class="comment">//å½“é¸¡è›‹æ•°åªæœ‰1æ—¶ï¼Œåªèƒ½çº¿æ€§æ‰«ææ‰€æœ‰çš„æ¥¼å±‚ n æœ‰å¤šå°‘å±‚å°±å¾—æ‰”å¤šå°‘æ¬¡ æ³¨æ„é¢˜ç›®æ¡ä»¶æ˜¯è¿æ°”å·®ã€‚</span></span><br><span class="line">            <span class="keyword">return</span> n;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(n&lt;=<span class="number">0</span>) <span class="comment">//å½“æ¥¼å±‚æ•°0æ˜¯ æ²¡æ³•æ‰”é¸¡è›‹</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(memo[k][n]!=<span class="number">99999999</span>)  <span class="comment">//é¿å…é‡å¤è®¡ç®—</span></span><br><span class="line">            <span class="keyword">return</span> memo[k][n];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> result=<span class="number">99999999</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {  <span class="comment">//ç©·ä¸¾æ‰€æœ‰çš„å¯èƒ½é€‰æ‹©</span></span><br><span class="line">            <span class="comment">//å½“é€‰æ‹©åœ¨ç¬¬iå±‚æ¥¼æ‰”äº†é¸¡è›‹ä¹‹å å¯èƒ½å‡ºç°é¸¡è›‹ç¢äº†å’Œé¸¡è›‹æ²¡ç¢ä¸¤ç§æƒ…å†µï¼š</span></span><br><span class="line">            <span class="comment">//å½“é¸¡è›‹ç¢äº† é—®é¢˜çŠ¶æ€è½¬å«ä¸ºæ±‚k-1ä¸ªé¸¡è›‹ æœç´¢çš„æ¥¼å±‚åŒºé—´å˜ä¸º1~i-1å…±i-1å±‚æ¥¼æ—¶æ±‚è§£</span></span><br><span class="line">            <span class="keyword">int</span> eggBreak=f(k-<span class="number">1</span>,i-<span class="number">1</span>);</span><br><span class="line">            <span class="comment">//å½“é¸¡è›‹æ²¡ç¢ é—®é¢˜çŠ¶æ€è½¬å«ä¸ºé¸¡è›‹çš„ä¸ªæ•°Kä¸å˜ æœç´¢æ¥¼å±‚åŒºé—´å˜ä¸ºi+1~Nå…±N-iå±‚æ¥¼æ—¶æ±‚è§£</span></span><br><span class="line">            <span class="keyword">int</span> eggUnBreak=f(k,n-i);</span><br><span class="line">            <span class="comment">//æœ€ç»ˆä»¥iå±‚ä¸ºåˆ‡å…¥ç‚¹æ±‚è§£çš„ç­”æ¡ˆ ä¸ºä¸¤ç§çŠ¶æ€çš„æœ€åæƒ…å†µ å¹¶åŠ ä¸Šiå±‚æ—¶æ“ä½œ1 å¹¶æ›´æ–°æœ€å°å€¼</span></span><br><span class="line"></span><br><span class="line">            result= Math.min(result,</span><br><span class="line">                    Math.max(</span><br><span class="line">                            eggBreak,eggUnBreak</span><br><span class="line">                    )+<span class="number">1</span>    <span class="comment">//1è¡¨ç¤ºåœ¨iå±‚æ—¶è¦æ‰”ä¸€æ¬¡</span></span><br><span class="line">            );</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">        memo[k][n]=result;</span><br><span class="line">        <span class="keyword">return</span> memo[k][n];</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸æ—¥æœŸç±»ï¼ˆSimpleDateFormat-Date"><a href="#ğŸŒ¸æ—¥æœŸç±»ï¼ˆSimpleDateFormat-Date" class="headerlink" title="ğŸŒ¸æ—¥æœŸç±»ï¼ˆSimpleDateFormat +Date)"></a>ğŸŒ¸æ—¥æœŸç±»ï¼ˆSimpleDateFormat +Date)</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span></span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">        SimpleDateFormat format = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-mm-dd"</span>);</span><br><span class="line">        Date date1 = format.parse(<span class="string">"1921-7-23"</span>);</span><br><span class="line">        Date date2 = format.parse(<span class="string">"2020- 7-1"</span>);</span><br><span class="line">        <span class="keyword">int</span> a = (<span class="keyword">int</span>)((date2.getTime() - date1.getTime()) / <span class="number">1000</span> * <span class="number">60</span>);<span class="comment">//ç›¸éš”å¤šå°‘åˆ†é’Ÿ</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//ç›´æ¥ä½¿ç”¨ Date</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span></span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">long</span> sum = <span class="number">36138</span> * <span class="number">24</span> * <span class="number">60L</span>;</span><br><span class="line">        System.out.println(sum);</span><br><span class="line">        System.out.println(<span class="number">36138</span> * <span class="number">24</span> * <span class="number">60</span>);</span><br><span class="line">        <span class="comment">// longå‹å˜é‡åœ¨å®šä¹‰çš„æ—¶å€™ï¼Œå¦‚æœä¸åŠ â€œLâ€,åˆ™é»˜è®¤ä¸ºintå‹å˜é‡</span></span><br><span class="line">        Date date1 = <span class="keyword">new</span> Date(<span class="number">21</span>, <span class="number">7</span>, <span class="number">23</span>, <span class="number">12</span>, <span class="number">0</span>, <span class="number">0</span>); <span class="comment">// 1921</span></span><br><span class="line">        Date date2 = <span class="keyword">new</span> Date(<span class="number">120</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">12</span>, <span class="number">0</span>, <span class="number">0</span>); <span class="comment">// 2020</span></span><br><span class="line">        <span class="keyword">long</span> time = date2.getTime() - date1.getTime();</span><br><span class="line">        System.out.println(time / (<span class="number">60000</span>));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>





<h3 id="ğŸ"><a href="#ğŸ" class="headerlink" title="ğŸ"></a>ğŸ</h3><h4 id="ğŸ‚-fff"><a href="#ğŸ‚-fff" class="headerlink" title="ğŸ‚ fff"></a>ğŸ‚ fff</h4><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>è“æ¡¥æ¯</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
        <tag>è“æ¡¥æ¯javaBç»„çœèµ›</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCodeè‚¡ç¥¨é—®é¢˜ç³»åˆ—é€šè§£</title>
    <url>/general_solutions_to_stock_problems/</url>
    <content><![CDATA[<h3 id="ğŸè¯´æ˜"><a href="#ğŸè¯´æ˜" class="headerlink" title="ğŸè¯´æ˜"></a>ğŸè¯´æ˜</h3><p>åŸæ–‡å‡ºå¤„ï¼š<a href="https://leetcode-cn.com/circle/article/qiAgHn/" target="_blank" rel="noopener">è‚¡ç¥¨é—®é¢˜</a></p>
<h2 id="ğŸŒ¸å‰è¨€"><a href="#ğŸŒ¸å‰è¨€" class="headerlink" title="ğŸŒ¸å‰è¨€"></a>ğŸŒ¸å‰è¨€</h2><p>è‚¡ç¥¨é—®é¢˜ä¸€å…±æœ‰å…­é“é¢˜ï¼Œé“¾æ¥å¦‚ä¸‹ï¼š</p>
<ul>
<li><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/" target="_blank" rel="noopener">121.ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº</a></li>
<li><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/" target="_blank" rel="noopener">122.ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II</a></li>
<li><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/" target="_blank" rel="noopener">123. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III</a></li>
<li><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/" target="_blank" rel="noopener">124.ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV</a></li>
<li><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/" target="_blank" rel="noopener">125.æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ</a></li>
<li><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/" target="_blank" rel="noopener">126.ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹</a></li>
</ul>
<a id="more"></a>

<p>æ¯ä¸ªé—®é¢˜éƒ½æœ‰ä¼˜è´¨çš„é¢˜è§£ï¼Œä½†æ˜¯å¤§å¤šæ•°é¢˜è§£æ²¡æœ‰å»ºç«‹èµ·è¿™äº›é—®é¢˜ä¹‹é—´çš„è”ç³»ï¼Œä¹Ÿæ²¡æœ‰ç»™å‡ºè‚¡ç¥¨é—®é¢˜ç³»åˆ—çš„é€šè§£ã€‚è¿™ç¯‡æ–‡ç« ç»™å‡ºé€‚ç”¨äºå…¨éƒ¨è‚¡ç¥¨é—®é¢˜çš„é€šè§£ï¼Œä»¥åŠå¯¹äºæ¯ä¸ªç‰¹å®šé—®é¢˜çš„ç‰¹è§£ã€‚</p>
<h2 id="ğŸé€šç”¨æƒ…å†µ"><a href="#ğŸé€šç”¨æƒ…å†µ" class="headerlink" title="ğŸé€šç”¨æƒ…å†µ"></a>ğŸé€šç”¨æƒ…å†µ</h2><p>è¿™ä¸ªæƒ³æ³•åŸºäºå¦‚ä¸‹é—®é¢˜ï¼š<strong>ç»™å®šä¸€ä¸ªè¡¨ç¤ºæ¯å¤©è‚¡ç¥¨ä»·æ ¼çš„æ•°ç»„ï¼Œä»€ä¹ˆå› ç´ å†³å®šäº†å¯ä»¥è·å¾—çš„æœ€å¤§æ”¶ç›Šï¼Ÿ</strong></p>
<p>ç›¸ä¿¡å¤§å¤šæ•°äººå¯ä»¥å¾ˆå¿«ç»™å‡ºç­”æ¡ˆï¼Œä¾‹å¦‚ã€Œåœ¨å“ªäº›å¤©è¿›è¡Œäº¤æ˜“ä»¥åŠå…è®¸å¤šå°‘æ¬¡äº¤æ˜“ã€ã€‚è¿™äº›å› ç´ å½“ç„¶é‡è¦ï¼Œåœ¨é—®é¢˜æè¿°ä¸­ä¹Ÿæœ‰è¿™äº›å› ç´ ã€‚ç„¶è€Œè¿˜æœ‰ä¸€ä¸ªéšè—ä½†æ˜¯å…³é”®çš„å› ç´ å†³å®šäº†æœ€å¤§æ”¶ç›Šï¼Œä¸‹æ–‡å°†é˜è¿°è¿™ä¸€ç‚¹ã€‚</p>
<p>é¦–å…ˆä»‹ç»ä¸€äº›ç¬¦å·ï¼š</p>
<ul>
<li>ç”¨ <code>n</code> è¡¨ç¤ºè‚¡ç¥¨ä»·æ ¼æ•°ç»„çš„é•¿åº¦ï¼›<br>ç”¨ <code>i</code> è¡¨ç¤ºç¬¬ i å¤©ï¼ˆi çš„å–å€¼èŒƒå›´æ˜¯ 0 åˆ° n - 1ï¼‰ï¼›<br>ç”¨ <code>k</code> è¡¨ç¤ºå…è®¸çš„æœ€å¤§äº¤æ˜“æ¬¡æ•°ï¼›<br>ç”¨ <code>T[i][k]</code> è¡¨ç¤ºåœ¨ç¬¬ <code>i</code> å¤©ç»“æŸæ—¶ï¼Œæœ€å¤šè¿›è¡Œ <code>k</code> æ¬¡äº¤æ˜“çš„æƒ…å†µä¸‹å¯ä»¥è·å¾—çš„æœ€å¤§æ”¶ç›Šã€‚</li>
</ul>
<p>åŸºå‡†æƒ…å†µæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼š<code>T[-1][k] = T[i][0] = 0</code>ï¼Œè¡¨ç¤ºæ²¡æœ‰è¿›è¡Œè‚¡ç¥¨äº¤æ˜“æ—¶æ²¡æœ‰æ”¶ç›Šï¼ˆæ³¨æ„ç¬¬ä¸€å¤©å¯¹åº” <code>i = 0</code>ï¼Œå› æ­¤ <code>i = -1</code> è¡¨ç¤ºæ²¡æœ‰è‚¡ç¥¨äº¤æ˜“ï¼‰ã€‚ç°åœ¨å¦‚æœå¯ä»¥å°† <code>T[i][k]</code> å…³è”åˆ°å­é—®é¢˜ï¼Œä¾‹å¦‚ <code>T[i - 1][k]ã€T[i][k - 1]ã€T[i - 1][k - 1]</code> ç­‰å­é—®é¢˜ï¼Œå°±èƒ½å¾—åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå¹¶å¯¹è¿™ä¸ªé—®é¢˜æ±‚è§£ã€‚å¦‚ä½•å¾—åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹å‘¢ï¼Ÿ</p>
<p>æœ€ç›´æ¥çš„åŠæ³•æ˜¯çœ‹ç¬¬ <code>i</code> å¤©å¯èƒ½çš„æ“ä½œã€‚æœ‰å¤šå°‘ä¸ªé€‰é¡¹ï¼Ÿç­”æ¡ˆæ˜¯ä¸‰ä¸ªï¼š<strong>ä¹°å…¥ã€å–å‡ºã€ä¼‘æ¯</strong>ã€‚åº”è¯¥é€‰æ‹©å“ªä¸ªæ“ä½œï¼Ÿç­”æ¡ˆæ˜¯ï¼šå¹¶ä¸çŸ¥é“å“ªä¸ªæ“ä½œæ˜¯æœ€å¥½çš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è®¡ç®—å¾—åˆ°é€‰æ‹©æ¯ä¸ªæ“ä½œå¯ä»¥å¾—åˆ°çš„æœ€å¤§æ”¶ç›Šã€‚å‡è®¾æ²¡æœ‰åˆ«çš„é™åˆ¶æ¡ä»¶ï¼Œåˆ™å¯ä»¥å°è¯•æ¯ä¸€ç§æ“ä½œï¼Œå¹¶é€‰æ‹©å¯ä»¥æœ€å¤§åŒ–æ”¶ç›Šçš„ä¸€ç§æ“ä½œã€‚ä½†æ˜¯ï¼Œé¢˜ç›®ä¸­ç¡®å®æœ‰é™åˆ¶æ¡ä»¶ï¼Œè§„å®šä¸èƒ½åŒæ—¶è¿›è¡Œå¤šæ¬¡äº¤æ˜“ï¼Œå› æ­¤å¦‚æœå†³å®šåœ¨ç¬¬ <code>i</code> å¤©<strong>ä¹°å…¥</strong>ï¼Œåœ¨ä¹°å…¥ä¹‹å‰å¿…é¡»æŒæœ‰ 0 ä»½è‚¡ç¥¨ï¼Œå¦‚æœå†³å®šåœ¨ç¬¬ <code>i</code> å¤©<strong>å–å‡º</strong>ï¼Œåœ¨å–å‡ºä¹‹å‰å¿…é¡»æ°å¥½æŒæœ‰ 1 ä»½è‚¡ç¥¨ã€‚æŒæœ‰è‚¡ç¥¨çš„æ•°é‡æ˜¯ä¸Šæ–‡æåŠåˆ°çš„éšè—å› ç´ ï¼Œè¯¥å› ç´ å½±å“ç¬¬ i å¤©å¯ä»¥è¿›è¡Œçš„æ“ä½œï¼Œè¿›è€Œå½±å“æœ€å¤§æ”¶ç›Šã€‚</p>
<p>å› æ­¤å¯¹ <code>T[i][k]</code> çš„å®šä¹‰éœ€è¦åˆ†æˆä¸¤é¡¹ï¼š</p>
<ul>
<li><code>T[i][k][0]</code> è¡¨ç¤ºåœ¨ç¬¬ <code>i</code> å¤©ç»“æŸæ—¶ï¼Œ<strong>æœ€å¤š</strong>è¿›è¡Œ <code>k</code> æ¬¡äº¤æ˜“ä¸”åœ¨è¿›è¡Œæ“ä½œåæŒæœ‰ 0 ä»½è‚¡ç¥¨çš„æƒ…å†µä¸‹å¯ä»¥è·å¾—çš„æœ€å¤§æ”¶ç›Šï¼›</li>
<li><code>T[i][k][1]</code> è¡¨ç¤ºåœ¨ç¬¬ <code>i</code> å¤©ç»“æŸæ—¶ï¼Œ<strong>æœ€å¤š</strong>è¿›è¡Œ <code>k</code> æ¬¡äº¤æ˜“ä¸”åœ¨è¿›è¡Œæ“ä½œåæŒæœ‰ 1 ä»½è‚¡ç¥¨çš„æƒ…å†µä¸‹å¯ä»¥è·å¾—çš„æœ€å¤§æ”¶ç›Šã€‚</li>
</ul>
<p>ä½¿ç”¨æ–°çš„çŠ¶æ€è¡¨ç¤ºä¹‹åï¼Œå¯ä»¥å¾—åˆ°åŸºå‡†æƒ…å†µå’ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚</p>
<p>åŸºå‡†æƒ…å†µï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">T[-1][k][0] = 0, T[-1][k][1] = -Infinity</span><br><span class="line">T[i][0][0] = 0, T[i][0][1] = -Infinity</span><br></pre></td></tr></tbody></table></figure>

<p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">T[i][k][0] = max(T[i - 1][k][0], T[i - 1][k][1] + prices[i])</span><br><span class="line">T[i][k][1] = max(T[i - 1][k][1], T[i - 1][k - 1][0] - prices[i])</span><br></pre></td></tr></tbody></table></figure>

<p>åŸºå‡†æƒ…å†µä¸­ï¼Œ<code>T[-1][k][0] = T[i][0][0] = 0</code> çš„å«ä¹‰å’Œä¸Šæ–‡ç›¸åŒï¼Œ<code>T[-1][k][1] = T[i][0][1] = -Infinity</code> çš„å«ä¹‰æ˜¯åœ¨æ²¡æœ‰è¿›è¡Œè‚¡ç¥¨äº¤æ˜“æ—¶ä¸å…è®¸æŒæœ‰è‚¡ç¥¨ã€‚</p>
<p>å¯¹äºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸­çš„ <code>T[i][k][0]</code>ï¼Œç¬¬ <code>i</code> å¤©è¿›è¡Œçš„æ“ä½œåªèƒ½æ˜¯ä¼‘æ¯æˆ–å–å‡ºï¼Œå› ä¸ºåœ¨ç¬¬ <code>i</code> å¤©ç»“æŸæ—¶æŒæœ‰çš„è‚¡ç¥¨æ•°é‡æ˜¯ 0ã€‚<code>T[i - 1][k][0]</code> æ˜¯ä¼‘æ¯æ“ä½œå¯ä»¥å¾—åˆ°çš„æœ€å¤§æ”¶ç›Šï¼Œ<code>T[i - 1][k][1] + prices[i]</code> æ˜¯å–å‡ºæ“ä½œå¯ä»¥å¾—åˆ°çš„æœ€å¤§æ”¶ç›Šã€‚æ³¨æ„åˆ°å…è®¸çš„æœ€å¤§äº¤æ˜“æ¬¡æ•°æ˜¯ä¸å˜çš„ï¼Œå› ä¸ºæ¯æ¬¡äº¤æ˜“åŒ…å«ä¸¤æ¬¡æˆå¯¹çš„æ“ä½œï¼Œä¹°å…¥å’Œå–å‡ºã€‚åªæœ‰ä¹°å…¥æ“ä½œä¼šæ”¹å˜å…è®¸çš„æœ€å¤§äº¤æ˜“æ¬¡æ•°ã€‚</p>
<p>å¯¹äºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸­çš„ <code>T[i][k][1]</code>ï¼Œç¬¬ <code>i</code> å¤©è¿›è¡Œçš„æ“ä½œåªèƒ½æ˜¯ä¼‘æ¯æˆ–ä¹°å…¥ï¼Œå› ä¸ºåœ¨ç¬¬ <code>i</code> å¤©ç»“æŸæ—¶æŒæœ‰çš„è‚¡ç¥¨æ•°é‡æ˜¯ 1ã€‚<code>T[i - 1][k][1]</code> æ˜¯ä¼‘æ¯æ“ä½œå¯ä»¥å¾—åˆ°çš„æœ€å¤§æ”¶ç›Šï¼Œ<code>T[i - 1][k - 1][0] - prices[i]</code> æ˜¯ä¹°å…¥æ“ä½œå¯ä»¥å¾—åˆ°çš„æœ€å¤§æ”¶ç›Šã€‚æ³¨æ„åˆ°å…è®¸çš„æœ€å¤§äº¤æ˜“æ¬¡æ•°å‡å°‘äº†ä¸€æ¬¡ï¼Œå› ä¸ºæ¯æ¬¡ä¹°å…¥æ“ä½œä¼šä½¿ç”¨ä¸€æ¬¡äº¤æ˜“ã€‚</p>
<p>ä¸ºäº†å¾—åˆ°æœ€åä¸€å¤©ç»“æŸæ—¶çš„æœ€å¤§æ”¶ç›Šï¼Œå¯ä»¥éå†è‚¡ç¥¨ä»·æ ¼æ•°ç»„ï¼Œæ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹è®¡ç®— <code>T[i][k][0]</code> å’Œ <code>T[i][k][1]</code> çš„å€¼ã€‚æœ€ç»ˆç­”æ¡ˆæ˜¯ <code>T[n - 1][k][0]</code>ï¼Œå› ä¸ºç»“æŸæ—¶æŒæœ‰ 0 ä»½è‚¡ç¥¨çš„æ”¶ç›Šä¸€å®šå¤§äºæŒæœ‰ 1 ä»½è‚¡ç¥¨çš„æ”¶ç›Šã€‚</p>
<h2 id="ğŸåº”ç”¨äºç‰¹æ®Šæƒ…å†µ"><a href="#ğŸåº”ç”¨äºç‰¹æ®Šæƒ…å†µ" class="headerlink" title="ğŸåº”ç”¨äºç‰¹æ®Šæƒ…å†µ"></a>ğŸåº”ç”¨äºç‰¹æ®Šæƒ…å†µ</h2><p>ä¸Šè¿°å…­ä¸ªè‚¡ç¥¨é—®é¢˜æ˜¯æ ¹æ® <code>k</code> çš„å€¼è¿›è¡Œåˆ†ç±»çš„ï¼Œå…¶ä¸­ <code>k</code> æ˜¯å…è®¸çš„æœ€å¤§äº¤æ˜“æ¬¡æ•°ã€‚æœ€åä¸¤ä¸ªé—®é¢˜æœ‰é™„åŠ é™åˆ¶ï¼ŒåŒ…æ‹¬ã€Œå†·å†»æœŸã€å’Œã€Œæ‰‹ç»­è´¹ã€ã€‚é€šè§£å¯ä»¥åº”ç”¨äºæ¯ä¸ªè‚¡ç¥¨é—®é¢˜ã€‚</p>
<h4 id="æƒ…å†µä¸€ï¼šk-1"><a href="#æƒ…å†µä¸€ï¼šk-1" class="headerlink" title="æƒ…å†µä¸€ï¼šk = 1"></a><strong>æƒ…å†µä¸€ï¼šk = 1</strong></h4><p>æƒ…å†µä¸€å¯¹åº”çš„é¢˜ç›®æ˜¯<strong>ã€Œ121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºã€</strong>ã€‚</p>
<p>å¯¹äºæƒ…å†µä¸€ï¼Œæ¯å¤©æœ‰ä¸¤ä¸ªæœªçŸ¥å˜é‡ï¼š<code>T[i][1][0]</code> å’Œ <code>T[i][1][1]</code>ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">T[i][1][0] = max(T[i - 1][1][0], T[i - 1][1][1] + prices[i])</span><br><span class="line">T[i][1][1] = max(T[i - 1][1][1], T[i - 1][0][0] - prices[i]) = max(T[i - 1][1][1], -prices[i])</span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬äºŒä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹åˆ©ç”¨äº† <code>T[i][0][0] = 0</code>ã€‚</p>
<p>æ ¹æ®ä¸Šè¿°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå¯ä»¥å†™å‡ºæ—¶é—´å¤æ‚åº¦ä¸º O(n)å’Œç©ºé—´å¤æ‚åº¦ä¸º O(n) çš„è§£æ³•ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> length = prices.length;</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[length][<span class="number">2</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++) {</span><br><span class="line">            dp[i][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">0</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>] + prices[i]);</span><br><span class="line">            dp[i][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>], -prices[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> dp[length - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæ³¨æ„åˆ°ç¬¬ <code>i</code> å¤©çš„æœ€å¤§æ”¶ç›Šåªå’Œç¬¬ <code>i - 1</code> å¤©çš„æœ€å¤§æ”¶ç›Šç›¸å…³ï¼Œç©ºé—´å¤æ‚åº¦å¯ä»¥é™åˆ° O(1)ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> profit0 = <span class="number">0</span>, profit1 = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> length = prices.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++) {</span><br><span class="line">            profit0 = Math.max(profit0, profit1 + prices[i]);</span><br><span class="line">            profit1 = Math.max(profit1, -prices[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> profit0;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨å¯¹ä¸Šè¿°è§£æ³•è¿›è¡Œåˆ†æã€‚å¯¹äºå¾ªç¯ä¸­çš„éƒ¨åˆ†ï¼Œ<code>profit1</code> å®é™…ä¸Šåªæ˜¯è¡¨ç¤ºåˆ°ç¬¬ <code>i</code> å¤©çš„è‚¡ç¥¨ä»·æ ¼çš„ç›¸åæ•°ä¸­çš„æœ€å¤§å€¼ï¼Œæˆ–è€…ç­‰ä»·åœ°è¡¨ç¤ºåˆ°ç¬¬ <code>i</code> å¤©çš„è‚¡ç¥¨ä»·æ ¼çš„æœ€å°å€¼ã€‚å¯¹äº <code>profit0</code>ï¼Œåªéœ€è¦å†³å®šå–å‡ºå’Œä¼‘æ¯ä¸­çš„å“ªé¡¹æ“ä½œå¯ä»¥å¾—åˆ°æ›´é«˜çš„æ”¶ç›Šã€‚å¦‚æœè¿›è¡Œå–å‡ºæ“ä½œï¼Œåˆ™ä¹°å…¥è‚¡ç¥¨çš„ä»·æ ¼ä¸º <code>profit1</code>ï¼Œå³ç¬¬ i å¤©ä¹‹å‰ï¼ˆä¸å«ç¬¬ <code>i</code> å¤©ï¼‰çš„æœ€ä½è‚¡ç¥¨ä»·æ ¼ã€‚è¿™æ­£æ˜¯ç°å®ä¸­ä¸ºäº†è·å¾—æœ€å¤§æ”¶ç›Šä¼šåšçš„äº‹æƒ…ã€‚ä½†æ˜¯è¿™ç§åšæ³•ä¸æ˜¯å”¯ä¸€é€‚ç”¨äºè¿™ç§æƒ…å†µçš„è§£å†³æ–¹æ¡ˆã€‚è¯»è€…å¯èƒ½åœ¨ è¿™é‡Œ æ‰¾åˆ°åˆ«çš„å¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h4 id="æƒ…å†µäºŒï¼šk-ä¸ºæ­£æ— ç©·"><a href="#æƒ…å†µäºŒï¼šk-ä¸ºæ­£æ— ç©·" class="headerlink" title="æƒ…å†µäºŒï¼šk ä¸ºæ­£æ— ç©·"></a><strong>æƒ…å†µäºŒï¼šk ä¸ºæ­£æ— ç©·</strong></h4><p>æƒ…å†µäºŒå¯¹åº”çš„é¢˜ç›®æ˜¯<strong>ã€Œ122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IIã€ã€‚</strong></p>
<p>å¦‚æœ k ä¸ºæ­£æ— ç©·ï¼Œåˆ™ <code>k</code> å’Œ k - 1 å¯ä»¥çœ‹æˆæ˜¯ç›¸åŒçš„ï¼Œå› æ­¤æœ‰ <code>T[i - 1][k - 1][0] = T[i - 1][k][0]</code> å’Œ <code>T[i - 1][k - 1][1] = T[i - 1][k][1]</code>ã€‚æ¯å¤©ä»æœ‰ä¸¤ä¸ªæœªçŸ¥å˜é‡ï¼š<code>T[i][k][0]</code> å’Œ <code>T[i][k][1]</code>ï¼Œå…¶ä¸­ <code>~k~</code> ä¸ºæ­£æ— ç©·ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">T[i][k][0] = max(T[i - 1][k][0], T[i - 1][k][1] + prices[i])</span><br><span class="line">T[i][k][1] = max(T[i - 1][k][1], T[i - 1][k - 1][0] - prices[i]) = max(T[i - 1][k][1], T[i - 1][k][0] - prices[i])</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹åˆ©ç”¨äº† <code>T[i - 1][k - 1][0] = T[i - 1][k][0]</code>ã€‚</p>
<p>æ ¹æ®ä¸Šè¿°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå¯ä»¥å†™å‡ºæ—¶é—´å¤æ‚åº¦ä¸º O(n) å’Œç©ºé—´å¤æ‚åº¦ä¸º O(n) çš„è§£æ³•ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> length = prices.length;</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[length][<span class="number">2</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++) {</span><br><span class="line">            dp[i][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">0</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>] + prices[i]);</span><br><span class="line">            dp[i][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>], dp[i - <span class="number">1</span>][<span class="number">0</span>] - prices[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> dp[length - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæ³¨æ„åˆ°ç¬¬ <code>i</code> å¤©çš„æœ€å¤§æ”¶ç›Šåªå’Œç¬¬ <code>i - 1</code> å¤©çš„æœ€å¤§æ”¶ç›Šç›¸å…³ï¼Œç©ºé—´å¤æ‚åº¦å¯ä»¥é™åˆ° O(1)ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> profit0 = <span class="number">0</span>, profit1 = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> length = prices.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++) {</span><br><span class="line">            <span class="keyword">int</span> newProfit0 = Math.max(profit0, profit1 + prices[i]);</span><br><span class="line">            <span class="keyword">int</span> newProfit1 = Math.max(profit1, profit0 - prices[i]);</span><br><span class="line">            profit0 = newProfit0;</span><br><span class="line">            profit1 = newProfit1;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> profit0;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ªè§£æ³•æä¾›äº†è·å¾—æœ€å¤§æ”¶ç›Šçš„è´ªå¿ƒç­–ç•¥ï¼šå¯èƒ½çš„æƒ…å†µä¸‹ï¼Œåœ¨æ¯ä¸ªå±€éƒ¨æœ€å°å€¼ä¹°å…¥è‚¡ç¥¨ï¼Œç„¶ååœ¨ä¹‹åé‡åˆ°çš„ç¬¬ä¸€ä¸ªå±€éƒ¨æœ€å¤§å€¼å–å‡ºè‚¡ç¥¨ã€‚è¿™ä¸ªåšæ³•ç­‰ä»·äºæ‰¾åˆ°è‚¡ç¥¨ä»·æ ¼æ•°ç»„ä¸­çš„é€’å¢å­æ•°ç»„ï¼Œå¯¹äºæ¯ä¸ªé€’å¢å­æ•°ç»„ï¼Œåœ¨å¼€å§‹ä½ç½®ä¹°å…¥å¹¶åœ¨ç»“æŸä½ç½®å–å‡ºã€‚å¯ä»¥çœ‹åˆ°ï¼Œè¿™å’Œç´¯è®¡æ”¶ç›Šæ˜¯ç›¸åŒçš„ï¼Œåªè¦è¿™æ ·çš„æ“ä½œçš„æ”¶ç›Šä¸ºæ­£ã€‚</p>
<h4 id="æƒ…å†µä¸‰ï¼šk-2"><a href="#æƒ…å†µä¸‰ï¼šk-2" class="headerlink" title="æƒ…å†µä¸‰ï¼šk = 2"></a>æƒ…å†µä¸‰ï¼šk = 2</h4><p>æƒ…å†µä¸‰å¯¹åº”çš„é¢˜ç›®æ˜¯<strong>ã€Œ123. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IIIã€</strong>ã€‚</p>
<p>æƒ…å†µä¸‰å’Œæƒ…å†µä¸€ç›¸ä¼¼ï¼ŒåŒºåˆ«ä¹‹å¤„æ˜¯ï¼Œå¯¹äºæƒ…å†µä¸‰ï¼Œæ¯å¤©æœ‰å››ä¸ªæœªçŸ¥å˜é‡ï¼š<code>T[i][1][0]ã€T[i][1][1]ã€T[i][2][0]ã€T[i][2][1]</code>ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">T[i][2][0] = max(T[i - 1][2][0], T[i - 1][2][1] + prices[i])</span><br><span class="line">T[i][2][1] = max(T[i - 1][2][1], T[i - 1][1][0] - prices[i])</span><br><span class="line">T[i][1][0] = max(T[i - 1][1][0], T[i - 1][1][1] + prices[i])</span><br><span class="line">T[i][1][1] = max(T[i - 1][1][1], T[i - 1][0][0] - prices[i]) = max(T[i - 1][1][1], -prices[i])</span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬å››ä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹åˆ©ç”¨äº† <code>T[i][0][0] = 0</code>ã€‚</p>
<p>æ ¹æ®ä¸Šè¿°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå¯ä»¥å†™å‡ºæ—¶é—´å¤æ‚åº¦ä¸º O(n)å’Œç©ºé—´å¤æ‚åº¦ä¸º O(n)çš„è§£æ³•ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> length = prices.length;</span><br><span class="line">        <span class="keyword">int</span>[][][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[length][<span class="number">3</span>][<span class="number">2</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">2</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">2</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++) {</span><br><span class="line">            dp[i][<span class="number">2</span>][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">2</span>][<span class="number">0</span>], dp[i - <span class="number">1</span>][<span class="number">2</span>][<span class="number">1</span>] + prices[i]);</span><br><span class="line">            dp[i][<span class="number">2</span>][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">2</span>][<span class="number">1</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>][<span class="number">0</span>] - prices[i]);</span><br><span class="line">            dp[i][<span class="number">1</span>][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>][<span class="number">0</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>][<span class="number">1</span>] + prices[i]);</span><br><span class="line">            dp[i][<span class="number">1</span>][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>][<span class="number">1</span>], dp[i - <span class="number">1</span>][<span class="number">0</span>][<span class="number">0</span>] - prices[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> dp[length - <span class="number">1</span>][<span class="number">2</span>][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæ³¨æ„åˆ°ç¬¬ <code>i</code> å¤©çš„æœ€å¤§æ”¶ç›Šåªå’Œç¬¬ <code>i - 1</code> å¤©çš„æœ€å¤§æ”¶ç›Šç›¸å…³ï¼Œç©ºé—´å¤æ‚åº¦å¯ä»¥é™åˆ° O(1)ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> profitOne0 = <span class="number">0</span>, profitOne1 = -prices[<span class="number">0</span>], profitTwo0 = <span class="number">0</span>, profitTwo1 = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> length = prices.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++) {</span><br><span class="line">            profitTwo0 = Math.max(profitTwo0, profitTwo1 + prices[i]);</span><br><span class="line">            profitTwo1 = Math.max(profitTwo1, profitOne0 - prices[i]);</span><br><span class="line">            profitOne0 = Math.max(profitOne0, profitOne1 + prices[i]);</span><br><span class="line">            profitOne1 = Math.max(profitOne1, -prices[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> profitTwo0;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h4 id="æƒ…å†µå››ï¼šk-ä¸ºä»»æ„å€¼"><a href="#æƒ…å†µå››ï¼šk-ä¸ºä»»æ„å€¼" class="headerlink" title="æƒ…å†µå››ï¼šk ä¸ºä»»æ„å€¼"></a>æƒ…å†µå››ï¼šk ä¸ºä»»æ„å€¼</h4><p>æƒ…å†µå››å¯¹åº”çš„é¢˜ç›®æ˜¯<strong>ã€Œ188. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IVã€ã€‚</strong></p>
<p>æƒ…å†µå››æ˜¯æœ€é€šç”¨çš„æƒ…å†µï¼Œå¯¹äºæ¯ä¸€å¤©éœ€è¦ä½¿ç”¨ä¸åŒçš„ <code>k</code> å€¼æ›´æ–°æ‰€æœ‰çš„æœ€å¤§æ”¶ç›Šï¼Œå¯¹åº”æŒæœ‰ 0 ä»½è‚¡ç¥¨æˆ– 1 ä»½è‚¡ç¥¨ã€‚å¦‚æœ <code>k</code> è¶…è¿‡ä¸€ä¸ªä¸´ç•Œå€¼ï¼Œæœ€å¤§æ”¶ç›Šå°±ä¸å†å–å†³äºå…è®¸çš„æœ€å¤§äº¤æ˜“æ¬¡æ•°ï¼Œè€Œæ˜¯å–å†³äºè‚¡ç¥¨ä»·æ ¼æ•°ç»„çš„é•¿åº¦ï¼Œå› æ­¤å¯ä»¥è¿›è¡Œä¼˜åŒ–ã€‚é‚£ä¹ˆè¿™ä¸ªä¸´ç•Œå€¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>ä¸€ä¸ªæœ‰æ”¶ç›Šçš„äº¤æ˜“è‡³å°‘éœ€è¦ä¸¤å¤©ï¼ˆåœ¨å‰ä¸€å¤©ä¹°å…¥ï¼Œåœ¨åä¸€å¤©å–å‡ºï¼Œå‰ææ˜¯ä¹°å…¥ä»·æ ¼ä½äºå–å‡ºä»·æ ¼ï¼‰ã€‚å¦‚æœè‚¡ç¥¨ä»·æ ¼æ•°ç»„çš„é•¿åº¦ä¸º nï¼Œåˆ™æœ‰æ”¶ç›Šçš„äº¤æ˜“çš„æ•°é‡æœ€å¤šä¸º n / 2ï¼ˆæ•´æ•°é™¤æ³•ï¼‰ã€‚å› æ­¤ k çš„ä¸´ç•Œå€¼æ˜¯ <code>n / 2</code>ã€‚å¦‚æœç»™å®šçš„ k ä¸å°äºä¸´ç•Œå€¼ï¼Œå³ <code>k &gt;= n / 2</code>ï¼Œåˆ™å¯ä»¥å°† k æ‰©å±•ä¸ºæ­£æ— ç©·ï¼Œæ­¤æ—¶é—®é¢˜ç­‰ä»·äºæƒ…å†µäºŒã€‚</p>
<p>æ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå¯ä»¥å†™å‡ºæ—¶é—´å¤æ‚åº¦ä¸º O(nk) å’Œç©ºé—´å¤æ‚åº¦ä¸º O(nk) çš„è§£æ³•ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> length = prices.length;</span><br><span class="line">        <span class="keyword">if</span> (k &gt;= length / <span class="number">2</span>) {</span><br><span class="line">            <span class="keyword">return</span> maxProfit(prices);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span>[][][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[length][k + <span class="number">1</span>][<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++) {</span><br><span class="line">            dp[<span class="number">0</span>][i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">            dp[<span class="number">0</span>][i][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &gt; <span class="number">0</span>; j--) {</span><br><span class="line">                dp[i][j][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][j][<span class="number">0</span>], dp[i - <span class="number">1</span>][j][<span class="number">1</span>] + prices[i]);</span><br><span class="line">                dp[i][j][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][j][<span class="number">1</span>], dp[i - <span class="number">1</span>][j - <span class="number">1</span>][<span class="number">0</span>] - prices[i]);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> dp[length - <span class="number">1</span>][k][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> length = prices.length;</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[length][<span class="number">2</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++) {</span><br><span class="line">            dp[i][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">0</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>] + prices[i]);</span><br><span class="line">            dp[i][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>], dp[i - <span class="number">1</span>][<span class="number">0</span>] - prices[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> dp[length - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæ³¨æ„åˆ°ç¬¬ <code>i</code> å¤©çš„æœ€å¤§æ”¶ç›Šåªå’Œç¬¬ <code>i - 1</code> å¤©çš„æœ€å¤§æ”¶ç›Šç›¸å…³ï¼Œç©ºé—´å¤æ‚åº¦å¯ä»¥é™åˆ° O(k)ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> length = prices.length;</span><br><span class="line">        <span class="keyword">if</span> (k &gt;= length / <span class="number">2</span>) {</span><br><span class="line">            <span class="keyword">return</span> maxProfit(prices);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[k + <span class="number">1</span>][<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++) {</span><br><span class="line">            dp[i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">            dp[i][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &gt; <span class="number">0</span>; j--) {</span><br><span class="line">                dp[j][<span class="number">0</span>] = Math.max(dp[j][<span class="number">0</span>], dp[j][<span class="number">1</span>] + prices[i]);</span><br><span class="line">                dp[j][<span class="number">1</span>] = Math.max(dp[j][<span class="number">1</span>], dp[j - <span class="number">1</span>][<span class="number">0</span>] - prices[i]);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> dp[k][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> profit0 = <span class="number">0</span>, profit1 = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> length = prices.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++) {</span><br><span class="line">            <span class="keyword">int</span> newProfit0 = Math.max(profit0, profit1 + prices[i]);</span><br><span class="line">            <span class="keyword">int</span> newProfit1 = Math.max(profit1, profit0 - prices[i]);</span><br><span class="line">            profit0 = newProfit0;</span><br><span class="line">            profit1 = newProfit1;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> profit0;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœä¸æ ¹æ® <code>k</code> çš„å€¼è¿›è¡Œä¼˜åŒ–ï¼Œåœ¨ <code>k</code> çš„å€¼å¾ˆå¤§çš„æ—¶å€™ä¼šè¶…å‡ºæ—¶é—´é™åˆ¶ã€‚</p>
<p>è¯¥è§£æ³•ä¸ <a href="https://discuss.leetcode.com/topic/8984/a-concise-dp-solution-in-java" target="_blank" rel="noopener">è¿™é‡Œ</a> çš„è§£æ³•ç›¸ä¼¼ã€‚å¯¹äº¤æ˜“æ¬¡æ•°çš„å¾ªç¯ä½¿ç”¨åå‘å¾ªç¯æ˜¯ä¸ºäº†é¿å…ä½¿ç”¨ä¸´æ—¶å˜é‡ã€‚</p>
<h4 id="æƒ…å†µäº”ï¼šk-ä¸ºæ­£æ— ç©·ä½†æœ‰å†·å´æ—¶é—´"><a href="#æƒ…å†µäº”ï¼šk-ä¸ºæ­£æ— ç©·ä½†æœ‰å†·å´æ—¶é—´" class="headerlink" title="æƒ…å†µäº”ï¼šk ä¸ºæ­£æ— ç©·ä½†æœ‰å†·å´æ—¶é—´"></a>æƒ…å†µäº”ï¼šk ä¸ºæ­£æ— ç©·ä½†æœ‰å†·å´æ—¶é—´</h4><p>æƒ…å†µäº”å¯¹åº”çš„é¢˜ç›®æ˜¯<strong>ã€Œ309. æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸã€ã€‚</strong></p>
<p>ç”±äºå…·æœ‰ç›¸åŒçš„ <code>k</code> å€¼ï¼Œå› æ­¤æƒ…å†µäº”å’Œæƒ…å†µäºŒéå¸¸ç›¸ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºæƒ…å†µäº”æœ‰ã€Œå†·å´æ—¶é—´ã€çš„é™åˆ¶ï¼Œå› æ­¤éœ€è¦å¯¹çŠ¶æ€è½¬ç§»æ–¹ç¨‹è¿›è¡Œä¸€äº›ä¿®æ”¹ã€‚</p>
<p>æƒ…å†µäºŒçš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">T[i][k][0] = max(T[i - 1][k][0], T[i - 1][k][1] + prices[i])</span><br><span class="line">T[i][k][1] = max(T[i - 1][k][1], T[i - 1][k][0] - prices[i])</span><br></pre></td></tr></tbody></table></figure>

<p>ä½†æ˜¯åœ¨æœ‰ã€Œå†·å´æ—¶é—´ã€çš„æƒ…å†µä¸‹ï¼Œå¦‚æœåœ¨ç¬¬ <code>i - 1</code> å¤©å–å‡ºäº†è‚¡ç¥¨ï¼Œå°±ä¸èƒ½åœ¨ç¬¬ i å¤©ä¹°å…¥è‚¡ç¥¨ã€‚å› æ­¤ï¼Œå¦‚æœè¦åœ¨ç¬¬ i å¤©ä¹°å…¥è‚¡ç¥¨ï¼Œç¬¬äºŒä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸­å°±ä¸èƒ½ä½¿ç”¨ <code>T[i - 1][k][0]</code>ï¼Œè€Œåº”è¯¥ä½¿ç”¨ <code>T[i - 2][k][0]</code>ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸­çš„åˆ«çš„é¡¹ä¿æŒä¸å˜ï¼Œæ–°çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">T[i][k][0] = max(T[i - 1][k][0], T[i - 1][k][1] + prices[i])</span><br><span class="line">T[i][k][1] = max(T[i - 1][k][1], T[i - 2][k][0] - prices[i])</span><br></pre></td></tr></tbody></table></figure>

<p>æ ¹æ®ä¸Šè¿°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå¯ä»¥å†™å‡ºæ—¶é—´å¤æ‚åº¦ä¸º O(n) å’Œç©ºé—´å¤æ‚åº¦ä¸º O(n)çš„è§£æ³•ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> length = prices.length;</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[length][<span class="number">2</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++) {</span><br><span class="line">            dp[i][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">0</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>] + prices[i]);</span><br><span class="line">            dp[i][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>], (i &gt;= <span class="number">2</span> ? dp[i - <span class="number">2</span>][<span class="number">0</span>] : <span class="number">0</span>) - prices[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> dp[length - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæ³¨æ„åˆ°ç¬¬ <code>i</code> å¤©çš„æœ€å¤§æ”¶ç›Šåªå’Œç¬¬ <code>i - 1</code> å¤©å’Œç¬¬ <code>i - 2</code> å¤©çš„æœ€å¤§æ”¶ç›Šç›¸å…³ï¼Œç©ºé—´å¤æ‚åº¦å¯ä»¥é™åˆ° O(1)ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> prevProfit0 = <span class="number">0</span>, profit0 = <span class="number">0</span>, profit1 = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> length = prices.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++) {</span><br><span class="line">            <span class="keyword">int</span> nextProfit0 = Math.max(profit0, profit1 + prices[i]);</span><br><span class="line">            <span class="keyword">int</span> nextProfit1 = Math.max(profit1, prevProfit0 - prices[i]);</span><br><span class="line">            prevProfit0 = profit0;</span><br><span class="line">            profit0 = nextProfit0;</span><br><span class="line">            profit1 = nextProfit1;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> profit0;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><a href="https://leetcode.com/dietpepsi" target="_blank" rel="noopener">dietpepsi</a> åœ¨ <a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/discuss/75927/share-my-thinking-process" target="_blank" rel="noopener">è¿™é‡Œ</a> åˆ†äº«äº†ä¸€ä¸ªå¾ˆå¥½çš„è§£æ³•ï¼Œå¹¶åŠ å…¥äº†æ€è€ƒè¿‡ç¨‹ï¼Œè¯¥è§£æ³•å’Œä¸Šé¢çš„è§£æ³•æ˜¯ç›¸åŒçš„ã€‚</p>
<h4 id="æƒ…å†µå…­ï¼šk-ä¸ºæ­£æ— ç©·ä½†æœ‰æ‰‹ç»­è´¹"><a href="#æƒ…å†µå…­ï¼šk-ä¸ºæ­£æ— ç©·ä½†æœ‰æ‰‹ç»­è´¹" class="headerlink" title="æƒ…å†µå…­ï¼šk ä¸ºæ­£æ— ç©·ä½†æœ‰æ‰‹ç»­è´¹"></a>æƒ…å†µå…­ï¼šk ä¸ºæ­£æ— ç©·ä½†æœ‰æ‰‹ç»­è´¹</h4><p>æƒ…å†µå…­å¯¹åº”çš„é¢˜ç›®æ˜¯<strong>ã€Œ714. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹ã€ã€‚</strong></p>
<p>ç”±äºå…·æœ‰ç›¸åŒçš„ <code>k</code> å€¼ï¼Œå› æ­¤æƒ…å†µå…­å’Œæƒ…å†µäºŒéå¸¸ç›¸ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºæƒ…å†µå…­æœ‰ã€Œæ‰‹ç»­è´¹ã€ï¼Œå› æ­¤éœ€è¦å¯¹çŠ¶æ€è½¬ç§»æ–¹ç¨‹è¿›è¡Œä¸€äº›ä¿®æ”¹ã€‚</p>
<p>æƒ…å†µäºŒçš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">T[i][k][0] = max(T[i - 1][k][0], T[i - 1][k][1] + prices[i])</span><br><span class="line">T[i][k][1] = max(T[i - 1][k][1], T[i - 1][k][0] - prices[i])</span><br></pre></td></tr></tbody></table></figure>

<p>ç”±äºéœ€è¦å¯¹æ¯æ¬¡äº¤æ˜“ä»˜æ‰‹ç»­è´¹ï¼Œå› æ­¤åœ¨æ¯æ¬¡ä¹°å…¥æˆ–å–å‡ºè‚¡ç¥¨ä¹‹åçš„æ”¶ç›Šéœ€è¦æ‰£é™¤æ‰‹ç»­è´¹ï¼Œæ–°çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹æœ‰ä¸¤ç§è¡¨ç¤ºæ–¹æ³•ã€‚</p>
<p>ç¬¬ä¸€ç§è¡¨ç¤ºæ–¹æ³•ï¼Œåœ¨æ¯æ¬¡ä¹°å…¥è‚¡ç¥¨æ—¶æ‰£é™¤æ‰‹ç»­è´¹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">T[i][k][0] = max(T[i - 1][k][0], T[i - 1][k][1] + prices[i])</span><br><span class="line">T[i][k][1] = max(T[i - 1][k][1], T[i - 1][k][0] - prices[i] - fee)</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒç§è¡¨ç¤ºæ–¹æ³•ï¼Œåœ¨æ¯æ¬¡å–å‡ºè‚¡ç¥¨æ—¶æ‰£é™¤æ‰‹ç»­è´¹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">T[i][k][0] = max(T[i - 1][k][0], T[i - 1][k][1] + prices[i] - fee)</span><br><span class="line">T[i][k][1] = max(T[i - 1][k][1], T[i - 1][k][0] - prices[i])</span><br></pre></td></tr></tbody></table></figure>

<p>æ ¹æ®ä¸Šè¿°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå¯ä»¥å†™å‡ºæ—¶é—´å¤æ‚åº¦ä¸º O(n) å’Œç©ºé—´å¤æ‚åº¦ä¸º O(n)çš„è§£æ³•ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices, <span class="keyword">int</span> fee)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> length = prices.length;</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[length][<span class="number">2</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>] - fee;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++) {</span><br><span class="line">            dp[i][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">0</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>] + prices[i]);</span><br><span class="line">            dp[i][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>], dp[i - <span class="number">1</span>][<span class="number">0</span>] - prices[i] - fee);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> dp[length - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæ³¨æ„åˆ°ç¬¬ <code>i</code> å¤©çš„æœ€å¤§æ”¶ç›Šåªå’Œç¬¬ <code>i - 1</code> å¤©çš„æœ€å¤§æ”¶ç›Šç›¸å…³ï¼Œç©ºé—´å¤æ‚åº¦å¯ä»¥é™åˆ° O(1)ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> profit0 = <span class="number">0</span>, profit1 = -prices[<span class="number">0</span>] - fee;</span><br><span class="line">        <span class="keyword">int</span> length = prices.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++) {</span><br><span class="line">            <span class="keyword">int</span> newProfit0 = Math.max(profit0, profit1 + prices[i]);</span><br><span class="line">            <span class="keyword">int</span> newProfit1 = Math.max(profit1, profit0 - prices[i] - fee);</span><br><span class="line">            profit0 = newProfit0;</span><br><span class="line">            profit1 = newProfit1;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> profit0;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> profit0 = <span class="number">0</span>, profit1 = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> length = prices.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++) {</span><br><span class="line">            <span class="keyword">int</span> newProfit0 = Math.max(profit0, profit1 + prices[i] - fee);</span><br><span class="line">            <span class="keyword">int</span> newProfit1 = Math.max(profit1, profit0 - prices[i]);</span><br><span class="line">            profit0 = newProfit0;</span><br><span class="line">            profit1 = newProfit1;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> profit0;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸä¸‰ã€æ€»ç»“"><a href="#ğŸä¸‰ã€æ€»ç»“" class="headerlink" title="ğŸä¸‰ã€æ€»ç»“"></a>ğŸä¸‰ã€æ€»ç»“</h3><p>æ€»è€Œè¨€ä¹‹ï¼Œè‚¡ç¥¨é—®é¢˜æœ€é€šç”¨çš„æƒ…å†µç”±ä¸‰ä¸ªç‰¹å¾å†³å®šï¼šå½“å‰çš„å¤©æ•° <code>i</code>ã€å…è®¸çš„æœ€å¤§äº¤æ˜“æ¬¡æ•° <code>k</code> ä»¥åŠæ¯å¤©ç»“æŸæ—¶æŒæœ‰çš„è‚¡ç¥¨æ•°ã€‚è¿™ç¯‡æ–‡ç« é˜è¿°äº†æœ€å¤§åˆ©æ¶¦çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹å’Œç»ˆæ­¢æ¡ä»¶ï¼Œç”±æ­¤å¯ä»¥å¾—åˆ°æ—¶é—´å¤æ‚åº¦ä¸º O(nk) å’Œç©ºé—´å¤æ‚åº¦ä¸º O(k) çš„è§£æ³•ã€‚è¯¥è§£æ³•å¯ä»¥åº”ç”¨äºå…­ä¸ªé—®é¢˜ï¼Œå¯¹äºæœ€åä¸¤ä¸ªé—®é¢˜ï¼Œéœ€è¦å°†çŠ¶æ€è½¬ç§»æ–¹ç¨‹è¿›è¡Œä¸€äº›ä¿®æ”¹ã€‚è¿™é‡Œæ¨è <a href="https://leetcode.com/peterleetcode/" target="_blank" rel="noopener">peterleetcode</a> çš„ <a href="https://discuss.leetcode.com/topic/4766/a-clean-dp-solution-which-generalizes-to-k-transactions" target="_blank" rel="noopener">è§£æ³•</a>ï¼Œè¯¥è§£æ³•å¯ä»¥æ¨å¹¿åˆ°ä»»æ„çš„ <code>k</code> å€¼ï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥è¿›è¡Œé˜…è¯»ã€‚</p>
<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
        <tag>è‚¡ç¥¨é—®é¢˜</tag>
        <tag>åŠ¨æ€è§„åˆ’çš„ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ¨æ€è§„åˆ’_leetcode.121.ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœŸ</title>
    <url>/The_best_time_to_buy_and_sell_stocks/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ i ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚</p>
<p>å¦‚æœä½ æœ€å¤šåªå…è®¸å®Œæˆä¸€ç¬”äº¤æ˜“ï¼ˆå³ä¹°å…¥å’Œå–å‡ºä¸€æ”¯è‚¡ç¥¨ä¸€æ¬¡ï¼‰ï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚</p>
<p>æ³¨æ„ï¼šä½ ä¸èƒ½åœ¨ä¹°å…¥è‚¡ç¥¨å‰å–å‡ºè‚¡ç¥¨ã€‚</p>
<a id="more"></a>

<p>ç¤ºä¾‹ 1:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: [7,1,5,3,6,4]</span><br><span class="line">è¾“å‡º: 5</span><br><span class="line">è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡ºï¼Œæœ€å¤§åˆ©æ¶¦ = 6-1 = 5 ã€‚</span><br><span class="line">     æ³¨æ„åˆ©æ¶¦ä¸èƒ½æ˜¯ 7-1 = 6, å› ä¸ºå–å‡ºä»·æ ¼éœ€è¦å¤§äºä¹°å…¥ä»·æ ¼ï¼›åŒæ—¶ï¼Œä½ ä¸èƒ½åœ¨ä¹°å…¥å‰å–å‡ºè‚¡ç¥¨ã€‚</span><br></pre></td></tr></tbody></table></figure>


<p>ç¤ºä¾‹ 2:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: [7,6,4,3,1]</span><br><span class="line">è¾“å‡º: 0</span><br><span class="line">è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0</span><br></pre></td></tr></tbody></table></figure>

<h2 id="è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•"><a href="#è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•" class="headerlink" title="è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•"></a>è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•</h2><blockquote>
<p>æš´åŠ›æ±‚è§£ï¼Œä¸è§£é‡Šã€‚</p>
<p>æšä¸¾æ‰€æœ‰å‘ç”Ÿä¸€æ¬¡äº¤æ˜“çš„è‚¡ä»·å·®</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> len = prices.length;</span><br><span class="line">    <span class="keyword">if</span> (len &lt; <span class="number">2</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœ‰å¯èƒ½ä¸å‘ç”Ÿäº¤æ˜“ï¼Œå› æ­¤ç»“æœé›†çš„åˆå§‹å€¼è®¾ç½®ä¸º 0</span></span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æšä¸¾æ‰€æœ‰å‘ç”Ÿä¸€æ¬¡äº¤æ˜“çš„è‚¡ä»·å·®</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; len; j++) {</span><br><span class="line">            res = Math.max(res, prices[j] - prices[i]);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="è§£æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"><a href="#è§£æ³•äºŒï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="è§£æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"></a>è§£æ³•äºŒï¼šåŠ¨æ€è§„åˆ’</h2><p>é¢˜ç›®åªé—®æœ€å¤§åˆ©æ¶¦ï¼Œæ²¡æœ‰é—®è¿™å‡ å¤©å…·ä½“å“ªä¸€å¤©ä¹°ã€å“ªä¸€å¤©å–ï¼Œå› æ­¤å¯ä»¥è€ƒè™‘ä½¿ç”¨ åŠ¨æ€è§„åˆ’ çš„æ–¹æ³•æ¥è§£å†³ã€‚</p>
<p>ä¹°å–è‚¡ç¥¨æœ‰çº¦æŸï¼Œæ ¹æ®é¢˜ç›®æ„æ€ï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªçº¦æŸæ¡ä»¶ï¼š</p>
<ul>
<li>æ¡ä»¶ 1ï¼šä½ ä¸èƒ½åœ¨ä¹°å…¥è‚¡ç¥¨å‰å–å‡ºè‚¡ç¥¨ï¼›</li>
<li>æ¡ä»¶ 2ï¼šæœ€å¤šåªå…è®¸å®Œæˆä¸€ç¬”äº¤æ˜“ã€‚</li>
</ul>
<p>å› æ­¤ <strong>å½“å¤©æ˜¯å¦æŒè‚¡</strong> æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„å› ç´ ï¼Œè€Œå½“å‰æ˜¯å¦æŒè‚¡å’Œæ˜¨å¤©æ˜¯å¦æŒè‚¡æœ‰å…³ç³»ï¼Œä¸ºæ­¤æˆ‘ä»¬éœ€è¦æŠŠ <strong>æ˜¯å¦æŒè‚¡</strong> è®¾è®¡åˆ°çŠ¶æ€æ•°ç»„ä¸­ã€‚</p>
<p><strong>çŠ¶æ€å®šä¹‰ï¼š</strong></p>
<p><code>dp[i] [j]</code>ï¼šä¸‹æ ‡ä¸º <code>i</code> è¿™ä¸€å¤©ç»“æŸçš„æ—¶å€™ï¼Œæ‰‹ä¸ŠæŒè‚¡çŠ¶æ€ä¸º j æ—¶ï¼Œæˆ‘ä»¬æŒæœ‰çš„ç°é‡‘æ•°ã€‚</p>
<ul>
<li>j = 0ï¼Œè¡¨ç¤ºå½“å‰ä¸æŒè‚¡ï¼›</li>
<li>j = 1ï¼Œè¡¨ç¤ºå½“å‰æŒè‚¡ã€‚</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼šè¿™ä¸ªçŠ¶æ€å…·æœ‰å‰ç¼€æ€§è´¨ï¼Œä¸‹æ ‡ä¸º i çš„è¿™ä¸€å¤©çš„è®¡ç®—ç»“æœåŒ…å«äº†åŒºé—´ [0, i] æ‰€æœ‰çš„ä¿¡æ¯ï¼Œå› æ­¤æœ€åè¾“å‡º dp[len - 1] [0]ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨ã€Œç°é‡‘æ•°ã€è¿™ä¸ªè¯´æ³•ä¸»è¦æ˜¯ä¸ºäº†ä½“ç° ä¹°å…¥è‚¡ç¥¨æ‰‹ä¸Šçš„ç°é‡‘æ•°å‡å°‘ï¼Œå–å‡ºè‚¡ç¥¨æ‰‹ä¸Šçš„ç°é‡‘æ•°å¢åŠ  è¿™ä¸ªäº‹å®ï¼›</li>
<li>ã€Œç°é‡‘æ•°ã€ç­‰ä»·äºé¢˜ç›®ä¸­è¯´çš„ã€Œåˆ©æ¶¦ã€ï¼Œå³å…ˆä¹°å…¥è¿™åªè‚¡ç¥¨ï¼Œåä¹°å…¥è¿™åªè‚¡ç¥¨çš„å·®ä»·ï¼›</li>
<li>å› æ­¤åœ¨åˆšå¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„æ‰‹ä¸Šè‚¯å®šæ˜¯æœ‰ä¸€å®šç°é‡‘æ•°èƒ½å¤Ÿä¹°å…¥è¿™åªè‚¡ç¥¨ï¼Œå³åˆšå¼€å§‹çš„æ—¶å€™ç°é‡‘æ•°è‚¯å®šä¸ä¸º 00ï¼Œä½†æ˜¯å†™ä»£ç çš„æ—¶å€™å¯ä»¥è®¾ç½®ä¸º 0ã€‚æç«¯æƒ…å†µä¸‹ï¼ˆè‚¡ä»·æ•°ç»„ä¸º [5, 4, 3, 2, 1]ï¼‰ï¼Œæ­¤æ—¶ä¸å‘ç”Ÿäº¤æ˜“æ˜¯æœ€å¥½çš„ï¼ˆè¿™ä¸€ç‚¹æ˜¯è¡¥å……è¯´æ˜ï¼Œé™äºæˆ‘çš„è¡¨è¾¾ï¼Œå¸Œæœ›ä¸è¦ç»™å¤§å®¶é€ æˆè¿·æƒ‘ï¼‰ã€‚</li>
</ul>
<p><strong>æ¨å¯¼çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</strong></p>
<p>dp[i] [0]ï¼šè§„å®šäº†ä»Šå¤©ä¸æŒè‚¡ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li><p>æ˜¨å¤©ä¸æŒè‚¡ï¼Œä»Šå¤©ä»€ä¹ˆéƒ½ä¸åšï¼›</p>
</li>
<li><p>æ˜¨å¤©æŒè‚¡ï¼Œä»Šå¤©å–å‡ºè‚¡ç¥¨ï¼ˆç°é‡‘æ•°å¢åŠ ï¼‰ï¼Œ<br>dp[i] [1]ï¼šè§„å®šäº†ä»Šå¤©æŒè‚¡ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p>
</li>
<li><p>æ˜¨å¤©æŒè‚¡ï¼Œä»Šå¤©ä»€ä¹ˆéƒ½ä¸åšï¼ˆç°é‡‘æ•°å¢åŠ ï¼‰ï¼›</p>
</li>
<li><p>æ˜¨å¤©ä¸æŒè‚¡ï¼Œä»Šå¤©ä¹°å…¥è‚¡ç¥¨ï¼ˆæ³¨æ„ï¼šåªå…è®¸äº¤æ˜“ä¸€æ¬¡ï¼Œå› æ­¤æ‰‹ä¸Šçš„ç°é‡‘æ•°å°±æ˜¯å½“å¤©çš„è‚¡ä»·çš„ç›¸åæ•°ï¼‰ã€‚<br>çŠ¶æ€è½¬ç§»æ–¹ç¨‹è¯·è§ å‚è€ƒä»£ç  2ã€‚</p>
</li>
</ul>
<p>çŸ¥è¯†ç‚¹ï¼š</p>
<ul>
<li>å¤šé˜¶æ®µå†³ç­–é—®é¢˜ï¼šåŠ¨æ€è§„åˆ’å¸¸å¸¸ç”¨äºæ±‚è§£å¤šé˜¶æ®µå†³ç­–é—®é¢˜ï¼›</li>
<li>æ— åæ•ˆæ€§ï¼šæ¯ä¸€å¤©æ˜¯å¦æŒè‚¡è®¾è®¡æˆçŠ¶æ€å˜é‡çš„ä¸€ç»´ã€‚çŠ¶æ€è®¾ç½®å…·ä½“ï¼Œæ¨å¯¼çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ–¹ä¾¿</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> len = prices.length;</span><br><span class="line">        <span class="comment">// ç‰¹æ®Šåˆ¤æ–­</span></span><br><span class="line">        <span class="keyword">if</span> (len &lt; <span class="number">2</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// dp[i][0] ä¸‹æ ‡ä¸º i è¿™å¤©ç»“æŸçš„æ—¶å€™ï¼Œä¸æŒè‚¡ï¼Œæ‰‹ä¸Šæ‹¥æœ‰çš„ç°é‡‘æ•°</span></span><br><span class="line">        <span class="comment">// dp[i][1] ä¸‹æ ‡ä¸º i è¿™å¤©ç»“æŸçš„æ—¶å€™ï¼ŒæŒè‚¡ï¼Œæ‰‹ä¸Šæ‹¥æœ‰çš„ç°é‡‘æ•°</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–ï¼šä¸æŒè‚¡æ˜¾ç„¶ä¸º 0ï¼ŒæŒè‚¡å°±éœ€è¦å‡å»ç¬¬ 1 å¤©ï¼ˆä¸‹æ ‡ä¸º 0ï¼‰çš„è‚¡ä»·</span></span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä»ç¬¬ 2 å¤©å¼€å§‹éå†</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) {</span><br><span class="line">            dp[i][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">0</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>] + prices[i]);</span><br><span class="line">            dp[i][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>], -prices[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> dp[len - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="è§£æ³•ä¸‰ï¼š-æ»šåŠ¨æ•°ç»„ä¼˜åŒ–"><a href="#è§£æ³•ä¸‰ï¼š-æ»šåŠ¨æ•°ç»„ä¼˜åŒ–" class="headerlink" title="è§£æ³•ä¸‰ï¼š æ»šåŠ¨æ•°ç»„ä¼˜åŒ–"></a>è§£æ³•ä¸‰ï¼š æ»šåŠ¨æ•°ç»„ä¼˜åŒ–</h2><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p><strong>java</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> len = prices.length;</span><br><span class="line">        <span class="keyword">if</span> (len &lt; <span class="number">2</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) {</span><br><span class="line">            dp[i % <span class="number">2</span>][<span class="number">0</span>] = Math.max(dp[(i - <span class="number">1</span>) % <span class="number">2</span>][<span class="number">0</span>], dp[(i - <span class="number">1</span>) % <span class="number">2</span>][<span class="number">1</span>] + prices[i]);</span><br><span class="line">            dp[i % <span class="number">2</span>][<span class="number">1</span>] = Math.max(dp[(i - <span class="number">1</span>) % <span class="number">2</span>][<span class="number">1</span>], -prices[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> dp[(len - <span class="number">1</span>) &amp; <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><code>% 2</code> è¿˜å¯ä»¥å†™æˆ <code>&amp; 1</code>ï¼Œè¿™é‡Œä¸ºäº†ä¿è¯å¯è¯»æ€§ï¼Œé€‰ç”¨ <code>% 2</code>ã€‚</p>
<h2 id="è§£æ³•å››ï¼š-ç©ºé—´ä¼˜åŒ–"><a href="#è§£æ³•å››ï¼š-ç©ºé—´ä¼˜åŒ–" class="headerlink" title="è§£æ³•å››ï¼š ç©ºé—´ä¼˜åŒ–"></a>è§£æ³•å››ï¼š ç©ºé—´ä¼˜åŒ–</h2><p>ç©ºé—´ä¼˜åŒ–åªçœ‹çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚</p>
<p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹é‡Œä¸‹æ ‡ä¸º i çš„è¡Œåªå‚è€ƒä¸‹æ ‡ä¸º i - 1 çš„è¡Œï¼ˆå³åªå‚è€ƒä¸Šä¸€è¡Œï¼‰ï¼Œå¹¶ä¸”ï¼š</p>
<ul>
<li>ä¸‹æ ‡ä¸º i çš„è¡Œå¹¶ä¸”çŠ¶æ€ä¸º 0 çš„è¡Œå‚è€ƒäº†ä¸Šä¸€è¡ŒçŠ¶æ€ä¸º 0 å’Œ 1 çš„è¡Œï¼›</li>
<li>ä¸‹æ ‡ä¸º i çš„è¡Œå¹¶ä¸”çŠ¶æ€ä¸º 1 çš„è¡Œåªå‚è€ƒäº†ä¸Šä¸€è¡ŒçŠ¶æ€ä¸º 1 çš„è¡Œã€‚</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> len = prices.length;</span><br><span class="line">        <span class="keyword">if</span> (len &lt; <span class="number">2</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        dp[<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) {</span><br><span class="line">            dp[<span class="number">0</span>] = Math.max(dp[<span class="number">0</span>], dp[<span class="number">1</span>] + prices[i]);</span><br><span class="line">            dp[<span class="number">1</span>] = Math.max(dp[<span class="number">1</span>], -prices[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
        <tag>æš´åŠ›è§£æ³•</tag>
        <tag>æ»šåŠ¨æ•°ç»„</tag>
        <tag>å¸¸æ•°ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>é«˜çº§æ ‘_LeetCode.327_åŒºé—´å’Œçš„ä¸ªæ•°</title>
    <url>/The_number_of_interval_sums/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œè¿”å›åŒºé—´å’Œåœ¨ [lower, upper] ä¹‹é—´çš„ä¸ªæ•°ï¼ŒåŒ…å« lower å’Œ upperã€‚<br>åŒºé—´å’Œ S(i, j) è¡¨ç¤ºåœ¨ nums ä¸­ï¼Œä½ç½®ä» i åˆ° j çš„å…ƒç´ ä¹‹å’Œï¼ŒåŒ…å« i å’Œ j (i â‰¤ j)ã€‚</p>
<p>è¯´æ˜:<br>æœ€ç›´è§‚çš„ç®—æ³•å¤æ‚åº¦æ˜¯ O(n2) ï¼Œè¯·åœ¨æ­¤åŸºç¡€ä¸Šä¼˜åŒ–ä½ çš„ç®—æ³•ã€‚</p>
<a id="more"></a>

<p>ç¤ºä¾‹:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [-2,5,-1], lower = -2, upper = 2,</span><br><span class="line">è¾“å‡º: 3 </span><br><span class="line">è§£é‡Š: 3ä¸ªåŒºé—´åˆ†åˆ«æ˜¯: [0,0], [2,2], [0,2]ï¼Œå®ƒä»¬è¡¨ç¤ºçš„å’Œåˆ†åˆ«ä¸º: -2, -1, 2ã€‚</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šå½’å¹¶æ’åº"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šå½’å¹¶æ’åº" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šå½’å¹¶æ’åº"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šå½’å¹¶æ’åº</h2><p>è®¾å‰ç¼€å’Œæ•°ç»„ä¸º $\textit{preSum}$ï¼Œåˆ™é—®é¢˜ç­‰ä»·äºæ±‚æ‰€æœ‰çš„ä¸‹æ ‡å¯¹(<em>i</em>,<em>j</em>)ï¼Œæ»¡è¶³</p>
<p><em>preSum</em>[<em>j</em>]âˆ’<em>preSum</em>[<em>i</em>]âˆˆ[<em>lower</em>,<em>upper</em>]</p>
<p><code>æˆ‘ä»¬å…ˆè€ƒè™‘å¦‚ä¸‹çš„é—®é¢˜</code>ï¼šç»™å®šä¸¤ä¸ª<strong>å‡åºæ’åˆ—</strong>çš„æ•°ç»„ n1,<em>n</em>2ï¼Œè¯•æ‰¾å‡ºæ‰€æœ‰çš„ä¸‹æ ‡å¯¹ (i,j)ï¼Œæ»¡è¶³<em>n</em>2[<em>j</em>]âˆ’<em>n</em>1[<em>i</em>]âˆˆ[<em>lower</em>,<em>upper</em>]</p>
<p>åœ¨å·²çŸ¥ä¸¤ä¸ªæ•°ç»„å‡ä¸ºå‡åºçš„æƒ…å†µä¸‹ï¼Œè¿™ä¸€é—®é¢˜æ˜¯ç›¸å¯¹ç®€å•çš„ï¼šæˆ‘ä»¬åœ¨ n2ä¸­ç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆ l,rã€‚èµ·åˆï¼Œå®ƒä»¬éƒ½æŒ‡å‘ n 2 çš„èµ·å§‹ä½ç½®ã€‚éšåï¼Œæˆ‘ä»¬è€ƒå¯Ÿ n 1 çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚é¦–å…ˆï¼Œä¸æ–­åœ°å°†æŒ‡é’ˆ l å‘å³ç§»åŠ¨ï¼Œç›´åˆ°$$ n_2[l] \ge n_1[0] + \textit{lower}$$ä¸ºæ­¢ï¼Œæ­¤æ—¶ï¼Œ ll åŠå…¶å³è¾¹çš„å…ƒç´ å‡å¤§äºæˆ–ç­‰äº $n_1[0] + \textit{lower}$ï¼›éšåï¼Œå†ä¸æ–­åœ°å°†æŒ‡é’ˆ r å‘å³ç§»åŠ¨ï¼Œç›´åˆ° $n_2[r] &gt; n_1[0] + \textit{upper}$ä¸ºæ­¢ï¼Œåˆ™ rå·¦è¾¹çš„å…ƒç´ å‡å°äºæˆ–ç­‰äº $n_1[0] + \textit{upper}$,æ•…åŒºé—´ [l,r) ä¸­çš„æ‰€æœ‰ä¸‹æ ‡ jï¼Œéƒ½æ»¡è¶³<em>n</em>2[<em>j</em>]âˆ’<em>n</em>1[0]âˆˆ[<em>lower</em>,<em>upper</em>]</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è€ƒå¯Ÿ n 1 çš„ç¬¬äºŒä¸ªå…ƒç´ ã€‚ç”±äºn1 æ˜¯é€’å¢çš„ï¼Œä¸éš¾å‘ç° l,r åªå¯èƒ½å‘å³ç§»åŠ¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸æ–­åœ°è¿›è¡Œä¸Šè¿°è¿‡ç¨‹ï¼Œå¹¶å¯¹äº n 1ä¸­çš„æ¯ä¸€ä¸ªä¸‹æ ‡ï¼Œéƒ½è®°å½•ç›¸åº”çš„åŒºé—´ [l,r) çš„å¤§å°ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬å°±ç»Ÿè®¡å¾—åˆ°äº†æ»¡è¶³æ¡ä»¶çš„ä¸‹æ ‡å¯¹ (i,j) çš„æ•°é‡ã€‚</p>
<p>åœ¨è§£å†³è¿™ä¸€é—®é¢˜åï¼ŒåŸé—®é¢˜å°±è¿åˆƒè€Œè§£äº†ï¼šæˆ‘ä»¬é‡‡ç”¨å½’å¹¶æ’åºçš„æ–¹å¼ï¼Œèƒ½å¤Ÿå¾—åˆ°å·¦å³ä¸¤ä¸ªæ•°ç»„æ’åºåçš„å½¢å¼ï¼Œä»¥åŠå¯¹åº”çš„ä¸‹æ ‡å¯¹æ•°é‡ã€‚å¯¹äºåŸæ•°ç»„è€Œè¨€ï¼Œè‹¥è¦æ‰¾å‡ºå…¨éƒ¨çš„ä¸‹æ ‡å¯¹æ•°é‡ï¼Œåªéœ€è¦å†é¢å¤–æ‰¾å‡ºå·¦ç«¯ç‚¹åœ¨å·¦ä¾§æ•°ç»„ï¼ŒåŒæ—¶å³ç«¯ç‚¹åœ¨å³ä¾§æ•°ç»„çš„ä¸‹æ ‡å¯¹æ•°é‡ï¼Œè€Œè¿™æ­£æ˜¯æˆ‘ä»¬æ­¤å‰è®¨è®ºçš„é—®é¢˜ã€‚</p>
<p>ä»£ç </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countRangeSum</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> lower, <span class="keyword">int</span> upper)</span> </span>{</span><br><span class="line">        <span class="keyword">long</span> s = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">long</span>[] sum = <span class="keyword">new</span> <span class="keyword">long</span>[nums.length + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) {</span><br><span class="line">            s += nums[i];</span><br><span class="line">            sum[i + <span class="number">1</span>] = s;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> countRangeSumRecursive(sum, lower, upper, <span class="number">0</span>, sum.length - <span class="number">1</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countRangeSumRecursive</span><span class="params">(<span class="keyword">long</span>[] sum, <span class="keyword">int</span> lower, <span class="keyword">int</span> upper, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (left == right) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">int</span> n1 = countRangeSumRecursive(sum, lower, upper, left, mid);</span><br><span class="line">            <span class="keyword">int</span> n2 = countRangeSumRecursive(sum, lower, upper, mid + <span class="number">1</span>, right);</span><br><span class="line">            <span class="keyword">int</span> ret = n1 + n2;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// é¦–å…ˆç»Ÿè®¡ä¸‹æ ‡å¯¹çš„æ•°é‡</span></span><br><span class="line">            <span class="keyword">int</span> i = left;</span><br><span class="line">            <span class="keyword">int</span> l = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> r = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (i &lt;= mid) {</span><br><span class="line">                <span class="keyword">while</span> (l &lt;= right &amp;&amp; sum[l] - sum[i] &lt; lower) {</span><br><span class="line">                    l++;</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">while</span> (r &lt;= right &amp;&amp; sum[r] - sum[i] &lt;= upper) {</span><br><span class="line">                    r++;</span><br><span class="line">                }</span><br><span class="line">                ret += r - l;</span><br><span class="line">                i++;</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="comment">// éšååˆå¹¶ä¸¤ä¸ªæ’åºæ•°ç»„</span></span><br><span class="line">            <span class="keyword">int</span>[] sorted = <span class="keyword">new</span> <span class="keyword">int</span>[right - left + <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">int</span> p1 = left, p2 = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> p = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (p1 &lt;= mid || p2 &lt;= right) {</span><br><span class="line">                <span class="keyword">if</span> (p1 &gt; mid) {</span><br><span class="line">                    sorted[p++] = (<span class="keyword">int</span>) sum[p2++];</span><br><span class="line">                } <span class="keyword">else</span> <span class="keyword">if</span> (p2 &gt; right) {</span><br><span class="line">                    sorted[p++] = (<span class="keyword">int</span>) sum[p1++];</span><br><span class="line">                } <span class="keyword">else</span> {</span><br><span class="line">                    <span class="keyword">if</span> (sum[p1] &lt; sum[p2]) {</span><br><span class="line">                        sorted[p++] = (<span class="keyword">int</span>) sum[p1++];</span><br><span class="line">                    } <span class="keyword">else</span> {</span><br><span class="line">                        sorted[p++] = (<span class="keyword">int</span>) sum[p2++];</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; sorted.length; j++) {</span><br><span class="line">                sum[left + j] = sorted[j];</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">return</span> ret;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸è§£æ³•äºŒï¼šçº¿æ®µæ ‘"><a href="#ğŸŒ¸è§£æ³•äºŒï¼šçº¿æ®µæ ‘" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼šçº¿æ®µæ ‘"></a>ğŸŒ¸è§£æ³•äºŒï¼šçº¿æ®µæ ‘</h2><p>ä¾ç„¶è€ƒè™‘å‰ç¼€å’Œæ•°ç»„$ \textit{preSum}$</p>
<p>å¯¹äºæ¯ä¸ªä¸‹æ ‡ jï¼Œä»¥ j ä¸ºå³ç«¯ç‚¹çš„ä¸‹æ ‡å¯¹çš„æ•°é‡ï¼Œå°±ç­‰äºæ•°ç»„ $\textit{preSum}$[0..j-1] ä¸­çš„æ‰€æœ‰æ•´æ•°ï¼Œå‡ºç°åœ¨åŒºé—´$ [\textit{preSum}[j]-\textit{upper}, \textit{preSum}[j]-\textit{lower}]$ çš„æ¬¡æ•°ã€‚æ•…å¾ˆå®¹æ˜“æƒ³åˆ°åŸºäºçº¿æ®µæ ‘çš„è§£æ³•ã€‚</p>
<p>æˆ‘ä»¬ä»å·¦åˆ°å³æ‰«æå‰ç¼€å’Œæ•°ç»„ã€‚æ¯é‡åˆ°ä¸€ä¸ªæ•°$ \textit{preSum}[j]$ï¼Œæˆ‘ä»¬å°±åœ¨çº¿æ®µæ ‘ä¸­æŸ¥è¯¢åŒºé—´$ [\textit{preSum}[j]-\textit{upper}, \textit{preSum}[j]-\textit{lower}]$å†…çš„æ•´æ•°æ•°é‡ï¼Œéšåï¼Œå°† $\textit{preSum}[j]$ æ’å…¥åˆ°çº¿æ®µæ ‘å½“ä¸­ã€‚</p>
<p>æ³¨æ„åˆ°æ•´æ•°çš„èŒƒå›´å¯èƒ½å¾ˆå¤§ï¼Œæ•…éœ€è¦åˆ©ç”¨å“ˆå¸Œè¡¨å°†æ‰€æœ‰å¯èƒ½å‡ºç°çš„æ•´æ•°ï¼Œæ˜ å°„åˆ°è¿ç»­çš„æ•´æ•°åŒºé—´å†…ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countRangeSum</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> lower, <span class="keyword">int</span> upper)</span> </span>{</span><br><span class="line">        <span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">long</span>[] preSum = <span class="keyword">new</span> <span class="keyword">long</span>[nums.length + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) {</span><br><span class="line">            sum += nums[i];</span><br><span class="line">            preSum[i + <span class="number">1</span>] = sum;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        Set&lt;Long&gt; allNumbers = <span class="keyword">new</span> TreeSet&lt;Long&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">long</span> x : preSum) {</span><br><span class="line">            allNumbers.add(x);</span><br><span class="line">            allNumbers.add(x - lower);</span><br><span class="line">            allNumbers.add(x - upper);</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// åˆ©ç”¨å“ˆå¸Œè¡¨è¿›è¡Œç¦»æ•£åŒ–</span></span><br><span class="line">        Map&lt;Long, Integer&gt; values = <span class="keyword">new</span> HashMap&lt;Long, Integer&gt;();</span><br><span class="line">        <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">long</span> x : allNumbers) {</span><br><span class="line">            values.put(x, idx);</span><br><span class="line">            idx++;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        SegNode root = build(<span class="number">0</span>, values.size() - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">long</span> x : preSum) {</span><br><span class="line">            <span class="keyword">int</span> left = values.get(x - upper), right = values.get(x - lower);</span><br><span class="line">            ret += count(root, left, right);</span><br><span class="line">            insert(root, values.get(x));</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SegNode <span class="title">build</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>{</span><br><span class="line">        SegNode node = <span class="keyword">new</span> SegNode(left, right);</span><br><span class="line">        <span class="keyword">if</span> (left == right) {</span><br><span class="line">            <span class="keyword">return</span> node;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">        node.lchild = build(left, mid);</span><br><span class="line">        node.rchild = build(mid + <span class="number">1</span>, right);</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">(SegNode root, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (left &gt; root.hi || right &lt; root.lo) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (left &lt;= root.lo &amp;&amp; root.hi &lt;= right) {</span><br><span class="line">            <span class="keyword">return</span> root.add;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> count(root.lchild, left, right) + count(root.rchild, left, right);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(SegNode root, <span class="keyword">int</span> val)</span> </span>{</span><br><span class="line">        root.add++;</span><br><span class="line">        <span class="keyword">if</span> (root.lo == root.hi) {</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> mid = (root.lo + root.hi) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (val &lt;= mid) {</span><br><span class="line">            insert(root.lchild, val);</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            insert(root.rchild, val);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SegNode</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> lo, hi, add;</span><br><span class="line">    SegNode lchild, rchild;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SegNode</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>{</span><br><span class="line">        lo = left;</span><br><span class="line">        hi = right;</span><br><span class="line">        add = <span class="number">0</span>;</span><br><span class="line">        lchild = <span class="keyword">null</span>;</span><br><span class="line">        rchild = <span class="keyword">null</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸è§£æ³•ä¸‰ï¼šåŠ¨æ€å¢åŠ èŠ‚ç‚¹çš„çº¿æ®µæ ‘"><a href="#ğŸŒ¸è§£æ³•ä¸‰ï¼šåŠ¨æ€å¢åŠ èŠ‚ç‚¹çš„çº¿æ®µæ ‘" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸‰ï¼šåŠ¨æ€å¢åŠ èŠ‚ç‚¹çš„çº¿æ®µæ ‘"></a>ğŸŒ¸è§£æ³•ä¸‰ï¼šåŠ¨æ€å¢åŠ èŠ‚ç‚¹çš„çº¿æ®µæ ‘</h2><p>ä¸æ–¹æ³•äºŒç±»ä¼¼ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä¸å®ç”¨å“ˆå¸Œè¡¨è¿›è¡Œæ˜ å°„ï¼Œè€Œæ˜¯åªåœ¨çº¿æ®µæ ‘çš„æ’å…¥æ“ä½œè¿‡ç¨‹ä¸­åŠ¨æ€åœ°å¢åŠ æ ‘ä¸­çš„èŠ‚ç‚¹ã€‚è€Œå½“æˆ‘ä»¬è¿›è¡ŒæŸ¥è¯¢æ“ä½œæ—¶ï¼Œå¦‚æœåˆ°è¾¾ä¸€ä¸ªç©ºèŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯´æ˜å¯¹åº”çš„åŒºé—´ä¸­æš‚æ—¶è¿˜æ²¡æœ‰å€¼ï¼Œå°±å¯ä»¥ç›´æ¥è¿”å› 0ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countRangeSum</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> lower, <span class="keyword">int</span> upper)</span> </span>{</span><br><span class="line">        <span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">long</span>[] preSum = <span class="keyword">new</span> <span class="keyword">long</span>[nums.length + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) {</span><br><span class="line">            sum += nums[i];</span><br><span class="line">            preSum[i + <span class="number">1</span>] = sum;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">long</span> lbound = Long.MAX_VALUE, rbound = Long.MIN_VALUE;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">long</span> x : preSum) {</span><br><span class="line">            lbound = Math.min(Math.min(lbound, x), Math.min(x - lower, x - upper));</span><br><span class="line">            rbound = Math.max(Math.max(rbound, x), Math.max(x - lower, x - upper));</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        SegNode root = <span class="keyword">new</span> SegNode(lbound, rbound);</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">long</span> x : preSum) {</span><br><span class="line">            ret += count(root, x - upper, x - lower);</span><br><span class="line">            insert(root, x);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">(SegNode root, <span class="keyword">long</span> left, <span class="keyword">long</span> right)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (left &gt; root.hi || right &lt; root.lo) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (left &lt;= root.lo &amp;&amp; root.hi &lt;= right) {</span><br><span class="line">            <span class="keyword">return</span> root.add;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> count(root.lchild, left, right) + count(root.rchild, left, right);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(SegNode root, <span class="keyword">long</span> val)</span> </span>{</span><br><span class="line">        root.add++;</span><br><span class="line">        <span class="keyword">if</span> (root.lo == root.hi) {</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">long</span> mid = (root.lo + root.hi) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (val &lt;= mid) {</span><br><span class="line">            <span class="keyword">if</span> (root.lchild == <span class="keyword">null</span>) {</span><br><span class="line">                root.lchild = <span class="keyword">new</span> SegNode(root.lo, mid);</span><br><span class="line">            }</span><br><span class="line">            insert(root.lchild, val);</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">if</span> (root.rchild == <span class="keyword">null</span>) {</span><br><span class="line">                root.rchild = <span class="keyword">new</span> SegNode(mid + <span class="number">1</span>, root.hi);</span><br><span class="line">            }</span><br><span class="line">            insert(root.rchild, val);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SegNode</span> </span>{</span><br><span class="line">    <span class="keyword">long</span> lo, hi;</span><br><span class="line">    <span class="keyword">int</span> add;</span><br><span class="line">    SegNode lchild, rchild;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SegNode</span><span class="params">(<span class="keyword">long</span> left, <span class="keyword">long</span> right)</span> </span>{</span><br><span class="line">        lo = left;</span><br><span class="line">        hi = right;</span><br><span class="line">        add = <span class="number">0</span>;</span><br><span class="line">        lchild = <span class="keyword">null</span>;</span><br><span class="line">        rchild = <span class="keyword">null</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸è§£æ³•å››ï¼šæ ‘çŠ¶æ•°ç»„"><a href="#ğŸŒ¸è§£æ³•å››ï¼šæ ‘çŠ¶æ•°ç»„" class="headerlink" title="ğŸŒ¸è§£æ³•å››ï¼šæ ‘çŠ¶æ•°ç»„"></a>ğŸŒ¸è§£æ³•å››ï¼šæ ‘çŠ¶æ•°ç»„</h2><p>æ ‘çŠ¶æ•°ç»„ä¸çº¿æ®µæ ‘åŸºäºç±»ä¼¼çš„æ€æƒ³ï¼Œä¸è¿‡æ ‘çŠ¶æ•°ç»„æ”¯æŒçš„åŸºæœ¬æŸ¥è¯¢ä¸ºæ±‚å‡º $[0, \textit{val}]$ ä¹‹é—´çš„æ•´æ•°æ•°é‡ã€‚ä¸ºäº†æŸ¥è¯¢åŒºé—´$ [\textit{preSum}[j]-\textit{upper}, \textit{preSum}[j]-\textit{lower}]$å†…çš„æ•´æ•°æ•°é‡ï¼Œéœ€è¦æ‰§è¡Œä¸¤æ¬¡æŸ¥è¯¢ï¼Œå³åˆ†åˆ«æŸ¥è¯¢ $[0, \textit{preSum}[j]-\textit{upper}-1]$ åŒºé—´çš„æ•´æ•°æ•°é‡ L å’Œ$[0,\textit{preSum}[j]-\textit{lower}]$ åŒºé—´çš„æ•´æ•°æ•°é‡ Rï¼Œç­”æ¡ˆå³ä¸ºä¸¤è€…ä½œå·® R-Lã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countRangeSum</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> lower, <span class="keyword">int</span> upper)</span> </span>{</span><br><span class="line">        <span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">long</span>[] preSum = <span class="keyword">new</span> <span class="keyword">long</span>[nums.length + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) {</span><br><span class="line">            sum += nums[i];</span><br><span class="line">            preSum[i + <span class="number">1</span>] = sum;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        Set&lt;Long&gt; allNumbers = <span class="keyword">new</span> TreeSet&lt;Long&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">long</span> x : preSum) {</span><br><span class="line">            allNumbers.add(x);</span><br><span class="line">            allNumbers.add(x - lower);</span><br><span class="line">            allNumbers.add(x - upper);</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// åˆ©ç”¨å“ˆå¸Œè¡¨è¿›è¡Œç¦»æ•£åŒ–</span></span><br><span class="line">        Map&lt;Long, Integer&gt; values = <span class="keyword">new</span> HashMap&lt;Long, Integer&gt;();</span><br><span class="line">        <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">long</span> x: allNumbers) {</span><br><span class="line">            values.put(x, idx);</span><br><span class="line">            idx++;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        BIT bit = <span class="keyword">new</span> BIT(values.size());</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; preSum.length; i++) {</span><br><span class="line">            <span class="keyword">int</span> left = values.get(preSum[i] - upper), right = values.get(preSum[i] - lower);</span><br><span class="line">            ret += bit.query(right + <span class="number">1</span>) - bit.query(left);</span><br><span class="line">            bit.update(values.get(preSum[i]) + <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BIT</span> </span>{</span><br><span class="line">    <span class="keyword">int</span>[] tree;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BIT</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">        <span class="keyword">this</span>.tree = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> d)</span> </span>{</span><br><span class="line">        <span class="keyword">while</span> (x &lt;= n) {</span><br><span class="line">            tree[x] += d;</span><br><span class="line">            x += lowbit(x);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> x)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (x != <span class="number">0</span>) {</span><br><span class="line">            ans += tree[x];</span><br><span class="line">            x -= lowbit(x);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸è§£æ³•äº”ï¼šå¹³è¡¡äºŒå‰æœç´¢æ ‘"><a href="#ğŸŒ¸è§£æ³•äº”ï¼šå¹³è¡¡äºŒå‰æœç´¢æ ‘" class="headerlink" title="ğŸŒ¸è§£æ³•äº”ï¼šå¹³è¡¡äºŒå‰æœç´¢æ ‘"></a>ğŸŒ¸è§£æ³•äº”ï¼šå¹³è¡¡äºŒå‰æœç´¢æ ‘</h2><p>è€ƒè™‘ä¸€æ£µå¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚è‹¥å…¶èŠ‚ç‚¹æ•°é‡ä¸º Nï¼Œåˆ™æ·±åº¦ä¸º O(log N)ã€‚äºŒå‰æœç´¢æ ‘èƒ½å¤Ÿåœ¨ O(logN) çš„æ—¶é—´å†…ï¼Œå¯¹ä»»æ„ç»™å®šçš„å€¼ $\textit{val}$,æŸ¥è¯¢æ ‘ä¸­æ‰€æœ‰å°äºæˆ–ç­‰äºè¯¥å€¼çš„æ•°é‡ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä»å·¦åˆ°å³æ‰«æå‰ç¼€å’Œæ•°ç»„ã€‚å¯¹äº$ \textit{preSum}[j]$ è€Œè¨€ï¼Œé¦–å…ˆè¿›è¡Œä¸¤æ¬¡æŸ¥è¯¢ï¼Œå¾—åˆ°åŒºé—´ $[\textit{preSum}[j]-\textit{upper}, \textit{preSum}[j]-\textit{lower}]$å†…çš„æ•´æ•°æ•°é‡ï¼›éšåå†å°† $\textit{preSum}[j]$ æ’å…¥åˆ°å¹³è¡¡æ ‘ä¸­ã€‚</p>
<p>å¹³è¡¡äºŒå‰æœç´¢æ ‘æœ‰å¤šç§ä¸åŒçš„å®ç°ï¼Œæœ€ç»å…¸çš„ä¸º AVL æ ‘ä¸çº¢é»‘æ ‘ã€‚æ­¤å¤–ï¼Œåœ¨ç®—æ³•ç«èµ›ä¸­ï¼Œè¿˜åŒ…æ‹¬ Treapã€SBT ç­‰æ•°æ®ç»“æ„ã€‚</p>
<p>ä¸‹é¢ç»™å‡ºåŸºäº Treap çš„å®ç°ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countRangeSum</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> lower, <span class="keyword">int</span> upper)</span> </span>{</span><br><span class="line">        <span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">long</span>[] preSum = <span class="keyword">new</span> <span class="keyword">long</span>[nums.length + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) {</span><br><span class="line">            sum += nums[i];</span><br><span class="line">            preSum[i + <span class="number">1</span>] = sum;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        BalancedTree treap = <span class="keyword">new</span> BalancedTree();</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">long</span> x : preSum) {</span><br><span class="line">            <span class="keyword">long</span> numLeft = treap.lowerBound(x - upper);</span><br><span class="line">            <span class="keyword">int</span> rankLeft = (numLeft == Long.MAX_VALUE ? (<span class="keyword">int</span>) (treap.getSize() + <span class="number">1</span>) : treap.rank(numLeft)[<span class="number">0</span>]);</span><br><span class="line">            <span class="keyword">long</span> numRight = treap.upperBound(x - lower);</span><br><span class="line">            <span class="keyword">int</span> rankRight = (numRight == Long.MAX_VALUE ? (<span class="keyword">int</span>) treap.getSize() : treap.rank(numRight)[<span class="number">0</span>] - <span class="number">1</span>);</span><br><span class="line">            ret += rankRight - rankLeft + <span class="number">1</span>;</span><br><span class="line">            treap.insert(x);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BalancedTree</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">BalancedNode</span> </span>{</span><br><span class="line">        <span class="keyword">long</span> val;</span><br><span class="line">        <span class="keyword">long</span> seed;</span><br><span class="line">        <span class="keyword">int</span> count;</span><br><span class="line">        <span class="keyword">int</span> size;</span><br><span class="line">        BalancedNode left;</span><br><span class="line">        BalancedNode right;</span><br><span class="line"></span><br><span class="line">        BalancedNode(<span class="keyword">long</span> val, <span class="keyword">long</span> seed) {</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">            <span class="keyword">this</span>.seed = seed;</span><br><span class="line">            <span class="keyword">this</span>.count = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">this</span>.size = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">this</span>.left = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">this</span>.right = <span class="keyword">null</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="function">BalancedNode <span class="title">leftRotate</span><span class="params">()</span> </span>{</span><br><span class="line">            <span class="keyword">int</span> prevSize = size;</span><br><span class="line">            <span class="keyword">int</span> currSize = (left != <span class="keyword">null</span> ? left.size : <span class="number">0</span>) + (right.left != <span class="keyword">null</span> ? right.left.size : <span class="number">0</span>) + count;</span><br><span class="line">            BalancedNode root = right;</span><br><span class="line">            right = root.left;</span><br><span class="line">            root.left = <span class="keyword">this</span>;</span><br><span class="line">            root.size = prevSize;</span><br><span class="line">            size = currSize;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="function">BalancedNode <span class="title">rightRotate</span><span class="params">()</span> </span>{</span><br><span class="line">            <span class="keyword">int</span> prevSize = size;</span><br><span class="line">            <span class="keyword">int</span> currSize = (right != <span class="keyword">null</span> ? right.size : <span class="number">0</span>) + (left.right != <span class="keyword">null</span> ? left.right.size : <span class="number">0</span>) + count;</span><br><span class="line">            BalancedNode root = left;</span><br><span class="line">            left = root.right;</span><br><span class="line">            root.right = <span class="keyword">this</span>;</span><br><span class="line">            root.size = prevSize;</span><br><span class="line">            size = currSize;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> BalancedNode root;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line">    <span class="keyword">private</span> Random rand;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BalancedTree</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.root = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">this</span>.size = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.rand = <span class="keyword">new</span> Random();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getSize</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">long</span> x)</span> </span>{</span><br><span class="line">        ++size;</span><br><span class="line">        root = insert(root, x);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">lowerBound</span><span class="params">(<span class="keyword">long</span> x)</span> </span>{</span><br><span class="line">        BalancedNode node = root;</span><br><span class="line">        <span class="keyword">long</span> ans = Long.MAX_VALUE;</span><br><span class="line">        <span class="keyword">while</span> (node != <span class="keyword">null</span>) {</span><br><span class="line">            <span class="keyword">if</span> (x == node.val) {</span><br><span class="line">                <span class="keyword">return</span> x;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span> (x &lt; node.val) {</span><br><span class="line">                ans = node.val;</span><br><span class="line">                node = node.left;</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                node = node.right;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">upperBound</span><span class="params">(<span class="keyword">long</span> x)</span> </span>{</span><br><span class="line">        BalancedNode node = root;</span><br><span class="line">        <span class="keyword">long</span> ans = Long.MAX_VALUE;</span><br><span class="line">        <span class="keyword">while</span> (node != <span class="keyword">null</span>) {</span><br><span class="line">            <span class="keyword">if</span> (x &lt; node.val) {</span><br><span class="line">                ans = node.val;</span><br><span class="line">                node = node.left;</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                node = node.right;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] rank(<span class="keyword">long</span> x) {</span><br><span class="line">        BalancedNode node = root;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (node != <span class="keyword">null</span>) {</span><br><span class="line">            <span class="keyword">if</span> (x &lt; node.val) {</span><br><span class="line">                node = node.left;</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                ans += (node.left != <span class="keyword">null</span> ? node.left.size : <span class="number">0</span>) + node.count;</span><br><span class="line">                <span class="keyword">if</span> (x == node.val) {</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]{ans - node.count + <span class="number">1</span>, ans};</span><br><span class="line">                }</span><br><span class="line">                node = node.right;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]{Integer.MIN_VALUE, Integer.MAX_VALUE};</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> BalancedNode <span class="title">insert</span><span class="params">(BalancedNode node, <span class="keyword">long</span> x)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> BalancedNode(x, rand.nextInt());</span><br><span class="line">        }</span><br><span class="line">        ++node.size;</span><br><span class="line">        <span class="keyword">if</span> (x &lt; node.val) {</span><br><span class="line">            node.left = insert(node.left, x);</span><br><span class="line">            <span class="keyword">if</span> (node.left.seed &gt; node.seed) {</span><br><span class="line">                node = node.rightRotate();</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span> (x &gt; node.val) {</span><br><span class="line">            node.right = insert(node.right, x);</span><br><span class="line">            <span class="keyword">if</span> (node.right.seed &gt; node.seed) {</span><br><span class="line">                node = node.leftRotate();</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            ++node.count;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸è§£æ³•ä¸€è¯´æ˜ï¼šä¸ºä»€ä¹ˆå¯ä»¥å½’å¹¶"><a href="#ğŸŒ¸è§£æ³•ä¸€è¯´æ˜ï¼šä¸ºä»€ä¹ˆå¯ä»¥å½’å¹¶" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€è¯´æ˜ï¼šä¸ºä»€ä¹ˆå¯ä»¥å½’å¹¶"></a>ğŸŒ¸è§£æ³•ä¸€è¯´æ˜ï¼šä¸ºä»€ä¹ˆå¯ä»¥å½’å¹¶</h2><p>çœ‹å®Œåæˆ‘æ˜ç™½å¦‚æœæ•°ç»„æ˜¯æœ‰åºçš„ï¼Œé‚£ä¹ˆå¯ä»¥å®¹æ˜“çš„æ±‚å‡ºåŒºé—´æ•°é‡ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆå¯¹æ•°ç»„æ’åºå‰åæ‰€æ±‚çš„åŒºé—´æ•°é‡ä¸ä¼šæ”¹å˜å‘¢ï¼Œä¸‹é¢æˆ‘æ¥è¯´æ˜ä¸€ä¸‹ï¼ˆå®˜æ–¹å¹¶æ²¡æœ‰å®é™…è¯´æ˜è¿™ä¸€ç‚¹ï¼‰</p>
<p><strong>åˆå§‹å½’å¹¶ï¼š</strong><br>æ­¤æ—¶åªä¼šæœ‰0æˆ–1ä¸ªå…ƒç´ ï¼Œä¸æ¶‰åŠå·¦å³ä¸¤æ®µçš„æƒ…å†µï¼Œæ˜¯å¯ä»¥çš„</p>
<p><strong>åˆå¹¶å½’å¹¶ï¼š</strong>æ­¤æ—¶æ˜¯æœ‰å·¦å³ä¸¤æ®µçš„ï¼Œå·¦å³ä¸¤æ®µæ˜¯åˆ†åˆ«æœ‰åºçš„ï¼Œ<strong>å¯¹å‰ç¼€å’Œæ•°ç»„æ’åºå¹¶ä¸ä¼šä¿®æ”¹æ•°ç»„ä¸­å…ƒç´ çš„å€¼ï¼Œåªæ˜¯æ”¹å˜äº†å…ƒç´ æ˜¯ä½ç½®ï¼Œå¦‚å¯¹left ~ right=3~5ä½ç½®çš„å‰ç¼€å’Œæ’åºï¼Œæ’åºåå‰ç¼€å’Œ3 ~ 5ä½ç½®çš„æ•°è¿˜æ˜¯åŸæ¥3 ~ 5ä½ç½®çš„æ•°ï¼Œåªæ˜¯æ’åˆ—å˜åŒ–äº†</strong></p>
<p>è®¾æƒ³ä¸€ä¸ªä¸€èˆ¬çš„æƒ…å†µï¼Œç°åœ¨æ˜¯æŸä¸€å±‚çš„é€’å½’ï¼Œå·¦ï¼Œå³ä¸¤æ®µåŒºé—´left ~ mid, mid+1 ~ rightçš„ç¬¦åˆè¦æ±‚çš„åŒºé—´æ•°é‡å·²ç»é€šè¿‡countRangeSumRecursiveè®¡ç®—äº†å‡ºæ¥ï¼Œæ•´ä¸ªleft ~ rightåŒºé—´ä¸­å¯èƒ½çš„ç¬¦åˆè¦æ±‚çš„åŒºé—´æƒ…å†µæ˜¯ä¸¤ç«¯ç‚¹åœ¨left ~ midä¸­ï¼›ä¸¤ç«¯ç‚¹åœ¨mid+1 ~ rightï¼›ä¸€ä¸ªç«¯ç‚¹åœ¨left~ midä¸­ï¼Œä¸€ä¸ªç«¯ç‚¹åœ¨mid+1~ rightä¸­ï¼Œæ‰€ä»¥ç°åœ¨åªè¦æ±‚å‡ºç¬¬ä¸‰ç§æƒ…å†µçš„åŒºé—´æ•°é‡å°±å¯ä»¥äº†<br>é€šè¿‡ä¸Šé¢çš„è¯´æ˜ï¼Œleft ~ mid,mid+1~ rightåŒºé—´ä¸­çš„æ•°è¿˜æ˜¯åŸæ¥åŒºé—´ä¸­çš„æ•°ï¼Œåªæ˜¯é¡ºåºå˜æˆäº†æœ‰åºï¼Œè€Œæœ‰åºæ˜¯å®¹æ˜“è®¡ç®—ç¬¦åˆè¦æ±‚çš„åŒºé—´æ•°é‡çš„ï¼Œä¸€ä¸ªå›¾è¯´æ˜ä¸ºä»€ä¹ˆç¬¬ä¸‰ç§æƒ…å†µæ’åºå‰åç¬¦åˆæ•°é‡çš„åŒºé—´æ•°é‡æ˜¯ä¸å˜çš„</p>
<h2 id="ğŸŒ¸æŒ‡è·¯ï¼šå¦‚ä½•å­¦ä¹ æœ¬é¢˜çš„ç®—æ³•å’Œæ•°æ®ç»“æ„"><a href="#ğŸŒ¸æŒ‡è·¯ï¼šå¦‚ä½•å­¦ä¹ æœ¬é¢˜çš„ç®—æ³•å’Œæ•°æ®ç»“æ„" class="headerlink" title="ğŸŒ¸æŒ‡è·¯ï¼šå¦‚ä½•å­¦ä¹ æœ¬é¢˜çš„ç®—æ³•å’Œæ•°æ®ç»“æ„"></a>ğŸŒ¸æŒ‡è·¯ï¼šå¦‚ä½•å­¦ä¹ æœ¬é¢˜çš„ç®—æ³•å’Œæ•°æ®ç»“æ„</h2><p>å¿½ç•¥å®˜æ–¹é¢˜è§£ä¸­çš„æ–¹æ³•ä¸€ï¼Œå‰©ä½™çš„å››ç§æ–¹æ³•åˆ†åˆ«ä½¿ç”¨äº†çº¿æ®µæ ‘ã€æ ‘çŠ¶æ•°ç»„å’Œå¹³è¡¡æ ‘ã€‚è¿™äº›æ–¹æ³•éƒ½ä¸æ˜¯é¢è¯•çš„è€ƒç‚¹ï¼Œç”šè‡³åœ¨ç¬”è¯•ä¸­ä¹Ÿå¾ˆå°‘å‡ºç°ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†è¯»è€…åº”è¯¥æ˜¯å®Œå…¨ä¸çŸ¥é“è¿™äº›éƒ½æ˜¯å•¥ç¥å¥‡çš„æ•°æ®ç»“æ„çš„ã€‚æ‰€ä»¥æˆ‘è§‰å¾—è¿™é‡Œæœ‰å¿…è¦è¡¥å……ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p>
<ul>
<li>è¿™é“é¢˜éœ€è¦å“ªäº›æ¥å£ã€‚</li>
<li>ä¸Šé¢çš„è¿™äº›ç¥å¥‡çš„æ•°æ®ç»“æ„å¯ä»¥æä¾›å“ªäº›æ¥å£ã€‚</li>
</ul>
<h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®šæ•°ç»„ Aï¼Œå®ƒçš„é•¿åº¦ä¸º nï¼Œå¯¹åº”çš„å…ƒç´ ä»¥åŠä¸‹æ ‡ä¸ºA[0],A[1],â‹¯,A[nâˆ’1]ã€‚</p>
<p>ä»¤ S(i,j) ä¸ºA[i] åˆ° A[j] çš„å’Œï¼Œå³</p>
<p>$S(i, j) = \sum_{k=i}^j A[k]$</p>
<p>é¢˜ç›®éœ€è¦æ±‚å‡ºæ»¡è¶³$ \textit{lower} \leq S(i, j) \leq \textit{upper}$ çš„äºŒå…ƒç»„ (i, j)(i,j) çš„ä¸ªæ•°ã€‚</p>
<p>æ¢æˆäººè¯å°±æ˜¯ï¼Œé—®æ•°ç»„ A æœ‰å¤šå°‘ä¸ªè¿ç»­çš„å­æ•°ç»„ï¼Œå…¶å…ƒç´ åªå’Œåœ¨ $[\textit{lower}, \textit{upper}]$ çš„èŒƒå›´å†…ã€‚</p>
<h3 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>æš´åŠ›çš„åšæ³•æ˜¯ä½¿ç”¨å‰ç¼€å’Œã€‚ä»¤ P ä¸º A çš„å‰ç¼€å’Œæ•°ç»„ï¼Œé‚£ä¹ˆ</p>
<p>S(i, j) = P[j] - P[i-1]</p>
<p>å¯ä»¥åœ¨O(1) çš„æ—¶é—´æ±‚å‡ºã€‚è¿™é‡Œæˆ‘ä»¬è§„å®šè¾¹ç•Œ P[-1] = 0ã€‚</p>
<p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬æšä¸¾æ‰€æœ‰çš„äºŒå…ƒç»„ (i, j)ï¼Œç®—å‡ºS(i,j) å¹¶åˆ¤æ–­å…¶æ˜¯å¦åœ¨èŒƒå›´å†…å³å¯ã€‚æ—¶é—´å¤æ‚åº¦ä¸º$ O(n^2)$ã€‚</p>
<p>é‚£ä¹ˆæ€ä¹ˆè¿›è¡Œä¼˜åŒ–å‘¢ï¼Ÿæˆ‘ä»¬è€ƒè™‘ä»å°åˆ°å¤§æšä¸¾ jï¼Œç”±äº</p>
<p>$\textit{lower} \leq P[j] - P[i-1] \leq \textit{upper}$</p>
<p>æˆ‘ä»¬å¯ä»¥å¾—åˆ° P[i-1] åº”è¯¥æ»¡è¶³çš„ä¸ç­‰å¼</p>
<p>$P[j] - \textit{upper} \leq P[i-1] \leq P[j] - \textit{lower}$</p>
<p>å› æ­¤æœ¬è´¨ä¸Šï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ•°æ®ç»“æ„æ”¯æŒä¸‹é¢çš„ä¸¤ä¸ªæ“ä½œï¼š</p>
<p>æ“ä½œ 1ã€ŒæŸ¥è¯¢ã€ï¼šç»™å®šä¸€ä¸ªèŒƒå›´ $[\textit{left}, \textit{right}]$ï¼ŒæŸ¥è¯¢æ•°æ®ç»“æ„ä¸­åœ¨è¯¥èŒƒå›´å†…çš„å…ƒç´ ä¸ªæ•°ã€‚å¯¹åº”åˆ°æœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬ç»™å®šçš„èŒƒå›´å°±æ˜¯$ \big[P[j] - \textit{upper}, P[j] - \textit{lower}\big]$ï¼›</p>
<p>æ“ä½œ 2ã€Œæ›´æ–°ã€ï¼šç»™å®šä¸€ä¸ªå…ƒç´  xxï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒæ·»åŠ åˆ°æ•°æ®ç»“æ„ä¸­ã€‚å¯¹åº”åˆ°æœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬ç»™å®šçš„å…ƒç´ å°±æ˜¯ P[j]ã€‚</p>
<p>å¦‚æœæœ‰äº†è¿™æ ·ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°åšå‡ºæœ¬é¢˜ï¼š</p>
<p>æˆ‘ä»¬é¦–å…ˆå°† 00 æ”¾å…¥æ•°æ®ç»“æ„ä¸­ï¼Œéšåæˆ‘ä»¬ä»å°åˆ°å¤§æšä¸¾ jï¼ŒæŸ¥è¯¢ $\big[P[j] - \textit{upper}, P[j] - \textit{lower}\big]$ èŒƒå›´å†…çš„å…ƒç´ ä¸ªæ•°å¹¶è®¡å…¥ç­”æ¡ˆã€‚åœ¨æŸ¥è¯¢å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°†P[j] æ·»åŠ è¿›æ•°æ®ç»“æ„ï¼Œå°±å¯ä»¥è¿›è¡Œä¸‹ä¸€æ¬¡æšä¸¾ã€‚</p>
<h3 id="é¢‘æ•°æ•°ç»„"><a href="#é¢‘æ•°æ•°ç»„" class="headerlink" title="é¢‘æ•°æ•°ç»„"></a>é¢‘æ•°æ•°ç»„</h3><p>å¾ˆå¤šæ•°æ®ç»“æ„éƒ½æ˜¯åŸºäºã€Œé¢‘æ•°æ•°ç»„ã€ã€‚</p>
<p>ç»™å®šæ•°ç»„ t ä»¥åŠå®ƒçš„ä¸‹æ ‡èŒƒå›´ [L, R][L,R]ï¼Œt[x] å°±è¡¨ç¤ºå…ƒç´  x åœ¨æ•°æ®ç»“æ„ä¸­çš„å‡ºç°æ¬¡æ•°ã€‚åŸºäºæ­¤ï¼Œä¸Šè¿°çš„ä¸¤ä¸ªæ“ä½œå¯ä»¥å˜ä¸ºï¼š</p>
<p>æ“ä½œ 1ã€ŒæŸ¥è¯¢ã€ï¼šç»™å®šä¸€ä¸ªèŒƒå›´$ [\textit{left}, \textit{right}]$ï¼ŒæŸ¥è¯¢$ t[\textit{left}]$åˆ° $t[\textit{right}]$ çš„å’Œï¼›</p>
<p>æ“ä½œ 2ã€Œæ›´æ–°ã€ï¼šç»™å®šä¸€ä¸ªå…ƒç´  xï¼Œå°† t[x] å¢åŠ  1ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯çº¿æ®µæ ‘å’Œæ ‘çŠ¶æ•°ç»„çš„åŸºç¡€ï¼Œå®ƒä»¬éœ€è¦çš„ç©ºé—´éƒ½ä¸æ•°ç»„ t çš„ä¸‹æ ‡èŒƒå›´ [L, R][L,R] æ­£ç›¸å…³ã€‚åœ¨æœ¬é¢˜æ•°æ®è§„æ¨¡è¾ƒå¤§çš„æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚æµ‹è¯•æ•°æ®ä¸­ï¼Œå‡ºç°äº†å…ƒç´ å€¼è¾¾åˆ° 32 ä½æœ‰ç¬¦å·æ•´æ•°çš„ä¸Šä¸‹ç•Œï¼‰ï¼Œçº¿æ®µæ ‘å’Œæ ‘çŠ¶æ•°ç»„éƒ½ä¼šè¶…å‡ºç©ºé—´é™åˆ¶ï¼Œå› æ­¤éœ€è¦å€ŸåŠ©ã€Œç¦»æ•£åŒ–ã€æ“ä½œï¼Œå°†è¿™äº›å…ƒç´ æ˜ å°„åˆ°ä¸€ä¸ªè¾ƒå°è§„æ¨¡çš„åŒºé—´å†…ã€‚</p>
<h3 id="ç¦»æ•£åŒ–"><a href="#ç¦»æ•£åŒ–" class="headerlink" title="ç¦»æ•£åŒ–"></a>ç¦»æ•£åŒ–</h3><p>ç»™å®šæ•°ç»„å…ƒç´  [1, 22, 333, 4444, 55555]ï¼Œå¦‚æœæˆ‘ä»¬åªå…³æ³¨å®ƒä»¬ä¹‹é—´çš„å¤§å°å…³ç³»ï¼Œé‚£ä¹ˆè¯¥æ•°ç»„å…¶å®å’Œ [1, 2, 3, 4, 5] æ˜¯ç­‰ä»·çš„ã€‚</p>
<p>è¿™å°±æ˜¯ç¦»æ•£åŒ–çš„æŠ€å·§ã€‚æˆ‘ä»¬å°†æ‰€æœ‰ä¼šæ¶‰åŠåˆ°æ¯”è¾ƒæ“ä½œçš„æ•°å…¨éƒ¨æ”¾å…¥ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œè¿›è¡Œæ’åºï¼Œå†ä»å°åˆ°å¤§ä¾æ¬¡ç»™å®ƒä»¬èµ‹äºˆä¸€ä¸ªæ–°çš„å€¼ã€‚åœ¨ç¦»æ•£åŒ–å®Œæˆåï¼Œä»»ä½•ä¸¤ä¸ªæ•°ä¹‹é—´çš„ç›¸å¯¹å¤§å°éƒ½ä¸ä¼šæ”¹å˜ï¼Œä½†æ˜¯å…ƒç´ çš„ä¸Šä¸‹ç•ŒèŒƒå›´è¢«é™åˆ¶ä½ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨ä¸€äº›æ•°æ®ç»“æ„ã€‚</p>
<p>åœ¨æœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰çš„ $P[j], P[j] - \textit{upper}, P[j] - \textit{lower}$ä¸€èµ·è¿›è¡Œç¦»æ•£åŒ–ï¼Œå¹¶å°†å®ƒä»¬ä»å°åˆ°å¤§ï¼Œä¾æ¬¡èµ‹äºˆä¸€ä¸ªä» 1 å¼€å§‹çš„æ•´æ•°å€¼ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬æ‰€æœ‰æ¶‰åŠåˆ°çš„å…ƒç´ å€¼éƒ½ä¼šåœ¨ [1, 3(n+1)]çš„èŒƒå›´å†…ã€‚</p>
<h3 id="çº¿æ®µæ ‘"><a href="#çº¿æ®µæ ‘" class="headerlink" title="çº¿æ®µæ ‘"></a>çº¿æ®µæ ‘</h3><p>å½“æˆ‘ä»¬å°†å…ƒç´ ç¦»æ•£åŒ–åï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨çº¿æ®µæ ‘äº†ã€‚æœ€åŸºç¡€çš„çº¿æ®µæ ‘æ°å¥½å°±æ”¯æŒè¿™ä¸¤ç§æ“ä½œï¼š</p>
<p>æ“ä½œ 1ã€ŒæŸ¥è¯¢ã€ï¼šç»™å®šä¸€ä¸ªèŒƒå›´$ [\textit{left}, \textit{right}]$,æŸ¥è¯¢$ t[\textit{left}] $åˆ° $t[\textit{right}]$ çš„å’Œï¼›</p>
<p>æ“ä½œ 2ã€Œæ›´æ–°ã€ï¼šç»™å®šä¸€ä¸ªå…ƒç´  xï¼Œå°† t[x] å¢åŠ  $\delta$ã€‚</p>
<p>æˆ‘ä»¬åªéœ€è¦æ—¶åˆ»ä»¤$\delta$=1å³å¯ã€‚ä¸¤ç§æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å‡ä¸º$ O(\log n)$</p>
<h3 id="æ ‘çŠ¶æ•°ç»„"><a href="#æ ‘çŠ¶æ•°ç»„" class="headerlink" title="æ ‘çŠ¶æ•°ç»„"></a>æ ‘çŠ¶æ•°ç»„</h3><p>å½“æˆ‘ä»¬å°†å…ƒç´ ç¦»æ•£åŒ–åï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æ ‘çŠ¶æ•°ç»„äº†ã€‚æœ€åŸºç¡€çš„çº¿æ®µæ ‘æ”¯æŒè¿™ä¸¤ç§æ“ä½œï¼š</p>
<p>æ“ä½œ 1ã€ŒæŸ¥è¯¢ã€ï¼šç»™å®šä¸€ä¸ªä¸‹æ ‡$ \textit{right}$ï¼ŒæŸ¥è¯¢ t[1] åˆ°$ t[\textit{right}]$ çš„å’Œï¼ˆå³å‰ç¼€å’Œï¼‰ï¼›</p>
<p>æ“ä½œ 2ã€Œæ›´æ–°ã€ï¼šç»™å®šä¸€ä¸ªå…ƒç´  xï¼Œå°†t[x] å¢åŠ  $\deltaÎ´$ã€‚</p>
<p>æˆ‘ä»¬åªéœ€è¦æ—¶åˆ»ä»¤ $\delta=1$ å³å¯ï¼Œå¹¶ä¸”é€šè¿‡è°ƒç”¨æ“ä½œ 1 ä¸¤æ¬¡ï¼ˆå³ $\textit{right}$ å’Œ$ \textit{left}-1leftâˆ’1ï¼‰ç›¸å‡å¾—åˆ° t[\textit{left}]$ åˆ° $t[\textit{right}]$ çš„å’Œã€‚ä¸¤ç§æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å‡ä¸º $O(\log n)$ã€‚</p>
<h3 id="å¹³è¡¡æ ‘"><a href="#å¹³è¡¡æ ‘" class="headerlink" title="å¹³è¡¡æ ‘"></a>å¹³è¡¡æ ‘</h3><p>å¹³è¡¡æ ‘å®é™…ä¸Šå°±æ˜¯ã€Œå¹³è¡¡ã€çš„äºŒå‰æœç´¢æ ‘ï¼Œå®ƒä¸çº¿æ®µæ ‘å’Œæ ‘çŠ¶æ•°ç»„ä¸åŒï¼Œå¹¶ä¸”å®ƒä¸éœ€è¦å€ŸåŠ©ç¦»æ•£åŒ–æ“ä½œã€‚æ”¯æŒçš„æ“ä½œï¼ˆåœ¨æœ¬é¢˜ä¸­ä¼šä½¿ç”¨åˆ°çš„ï¼‰ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<p>æ“ä½œ 1ã€Œlower boundã€ï¼šç»™å®šä¸€ä¸ªå…ƒç´  xï¼ŒæŸ¥è¯¢å¹³è¡¡æ ‘ä¸­æœ€å°çš„å¤§äºç­‰äº x çš„å…ƒç´ ï¼›</p>
<p>æ“ä½œ 2ã€Œupper boundã€ï¼šç»™å®šä¸€ä¸ªå…ƒç´  xï¼ŒæŸ¥è¯¢å¹³è¡¡æ ‘ä¸­æœ€å°çš„å¤§äº x çš„å…ƒç´ ï¼›</p>
<p>æ“ä½œ 3ã€Œrankã€ï¼šç»™å®šä¸€ä¸ªå…ƒç´  xï¼ˆå®ƒå¿…é¡»åœ¨å¹³è¡¡æ ‘ä¸­ï¼‰ï¼Œæ±‚å®ƒæ˜¯ç¬¬å‡ å°çš„å…ƒç´ ã€‚å½“å­˜åœ¨é‡å¤å…ƒç´ æ—¶ï¼Œä¼šè®¡å…¥å¤šæ¬¡ï¼›</p>
<p>æ“ä½œ 4ã€Œinsertã€ï¼šç»™å®šä¸€ä¸ªå…ƒç´  xï¼Œå°†å®ƒæ”¾å…¥å¹³è¡¡æ ‘ä¸­ã€‚</p>
<p>æ‰€æœ‰æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å‡ä¸º $O(\log n)$ã€‚å¤§éƒ¨åˆ†è¯­è¨€è‡ªå¸¦çš„å¹³è¡¡æ ‘æ”¯æŒæ“ä½œ 1 å’Œ 2 å’Œ 4 ä½†ä¸æ”¯æŒæ“ä½œ 3ã€‚</p>
<p>é‚£ä¹ˆå¯¹äºæœ¬é¢˜ä¸­éœ€è¦çš„ä¸¤ç§æ“ä½œï¼š</p>
<p>ã€ŒæŸ¥è¯¢ã€ï¼šæˆ‘ä»¬ä»¤ $u = P[j] - \textit{upper}$ï¼Œ$v = P[j] - \textit{lower}$ã€‚å¯¹ u ä½¿ç”¨æ“ä½œ 11 å¾—åˆ° uâ€™â€²<br> ï¼Œå¯¹ v ä½¿ç”¨æ“ä½œ 2 å¾—åˆ° vâ€™  ã€‚æˆ‘ä»¬å†ä½¿ç”¨æ“ä½œ 3 å¾—åˆ° uâ€™çš„$ rank r_u$ ä»¥åŠ vâ€™<br>  çš„$ rank r_v$ ï¼Œé‚£ä¹ˆ$ r_vâ€™-r_uâ€™$â€²ï¼Œ å°±æ˜¯$ \big[P[j] - \textit{upper}, P[j] - \textit{lower}\big]$ ä¸­çš„å…ƒç´ ä¸ªæ•°ã€‚</p>
<p>ã€Œæ›´æ–°ã€ï¼šæˆ‘ä»¬å¯¹ x ä½¿ç”¨æ“ä½œ 4 å³å¯ã€‚</p>
<h3 id="å­¦ä¹ æ–¹æ³•"><a href="#å­¦ä¹ æ–¹æ³•" class="headerlink" title="å­¦ä¹ æ–¹æ³•"></a>å­¦ä¹ æ–¹æ³•</h3><p>å…³äºè¿™äº›ç«èµ›éš¾åº¦çš„çŸ¥è¯†ç‚¹ï¼Œæˆ‘å»ºè®®è¯»è€…åœ¨å­¦æœ‰ä½™åŠ›çš„æƒ…å†µä¸‹å­¦ä¹ ã€‚è¿™äº›çŸ¥è¯†ç‚¹å¯¹é¢è¯•å‡ ä¹æ²¡æœ‰ä»»ä½•å¸®åŠ©ï¼›ç›¸åï¼Œåœ¨æ²¡æœ‰å®Œå…¨æŒæ¡è¿™äº›çŸ¥è¯†ç‚¹çš„å‰æä¸‹ï¼Œå¯èƒ½ä¼šå½±å“è¯»è€…åŸæœ¬æ­£å¸¸çš„æ€ç»´ï¼Œäº§ç”Ÿã€Œçœ‹ä»€ä¹ˆé¢˜éƒ½æ˜¯çº¿æ®µæ ‘ã€ä¹‹ç±»çš„åæœã€‚</p>
<p>è¿™é‡Œæˆ‘æ¨èä¸¤ä¸ªå‚è€ƒèµ„æ–™ï¼š</p>
<ul>
<li><a href="https://oi-wiki.org/" target="_blank" rel="noopener">OI Wiki</a>ï¼Œæ˜¯ä¸€ä¸ªä¿¡æ¯å­¦ç«èµ›çˆ±å¥½è€…ç”¨çˆ±å‘ç”µçš„ç®—æ³•å°ç™¾ç§‘ã€‚</li>
<li><a href="https://github.com/atcoder/ac-library" target="_blank" rel="noopener">ac-library</a>ï¼Œæ˜¯æ—¥æœ¬è‘—åç®—æ³•ç«èµ›å¹³å° AtCoder æ•´ç†çš„ç®—æ³•æ¨¡æ¿ï¼Œä½†å…¶ä¸­æ²¡æœ‰å¹³è¡¡æ ‘ã€‚</li>
</ul>
<p>è¯»è€…ä¹Ÿå¯ä»¥å‚è€ƒå…¶å®ƒäº’è”ç½‘ä¸Šçš„åšå®¢ã€‚çº¿æ®µæ ‘ã€æ ‘çŠ¶æ•°ç»„å’Œå¹³è¡¡æ ‘åœ¨ç®—æ³•ç«èµ›åœˆä¸­æ˜¯éå¸¸åŸºç¡€çš„çŸ¥è¯†ç‚¹ï¼Œä¼˜è´¨çš„åšå®¢æ•°é‡ä¹Ÿå¾ˆå¤š</p>
<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>æ ‘çŠ¶æ•°ç»„</tag>
        <tag>å½’å¹¶æ’åº</tag>
        <tag>çº¿æ®µæ ‘</tag>
        <tag>åŠ¨æ€çº¿æ®µæ ‘</tag>
        <tag>å¹³è¡¡äºŒå‰æœç´¢æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>å²ä¸Šæœ€å…¨çš„éå†äºŒå‰æ ‘è¯¦è§£</title>
    <url>/Detailed_explanation_of_tree/</url>
    <content><![CDATA[<h1 id="X-éå†äºŒå‰æ ‘çš„æ–¹æ³•åˆé›†"><a href="#X-éå†äºŒå‰æ ‘çš„æ–¹æ³•åˆé›†" class="headerlink" title="X.éå†äºŒå‰æ ‘çš„æ–¹æ³•åˆé›†"></a>X.éå†äºŒå‰æ ‘çš„æ–¹æ³•åˆé›†</h1><ol>
<li><ol>
<li>äºŒå‰æ ‘çš„ä¸­åºéå†</li>
</ol>
</li>
<li><ol>
<li>äºŒå‰æ ‘çš„å‰åºéå†</li>
</ol>
</li>
<li><ol>
<li>äºŒå‰æ ‘çš„ååºéå†</li>
</ol>
</li>
</ol>
<h2 id="é€’å½’è§£æ³•"><a href="#é€’å½’è§£æ³•" class="headerlink" title="é€’å½’è§£æ³•"></a>é€’å½’è§£æ³•</h2><a id="more"></a>

<h3 id="å‰åºéå†"><a href="#å‰åºéå†" class="headerlink" title="å‰åºéå†"></a>å‰åºéå†</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">preOrderRecur</span><span class="params">(TreeNode head)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span>) {</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    System.out.print(head.value + <span class="string">" "</span>);</span><br><span class="line">    preOrderRecur(head.left);</span><br><span class="line">    preOrderRecur(head.right);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ä¸­åºéå†"><a href="#ä¸­åºéå†" class="headerlink" title="ä¸­åºéå†"></a>ä¸­åºéå†</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">preOrderRecur</span><span class="params">(TreeNode head)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span>) {</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    preOrderRecur(head.left);</span><br><span class="line">    System.out.print(head.value + <span class="string">" "</span>);</span><br><span class="line">    preOrderRecur(head.right);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ååºéå†"><a href="#ååºéå†" class="headerlink" title="ååºéå†"></a>ååºéå†</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">postOrderRecur</span><span class="params">(TreeNode head)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span>) {</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    postOrderRecur(head.left);</span><br><span class="line">    postOrderRecur(head.right);</span><br><span class="line">    System.out.print(head.value + <span class="string">" "</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ä»£ç è§£é‡Š"><a href="#ä»£ç è§£é‡Š" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><p>è¿™é‡Œæ²¡æœ‰å¯¹é€’å½’éå†åšè¿‡å¤šçš„è§£é‡Šï¼Œä»…ä»…ç»™å‡ºäº†ç®€å•çš„åŠ¨ç”»æ¼”ç¤ºã€‚<br>è¦ç†è§£é€’å½’çš„æ€è·¯å¹¶ä¸”ç†Ÿç»ƒçš„ä½¿ç”¨å®ƒï¼Œå°±æ˜¯è¦æƒ³æ¸…æ¥šä½ æƒ³åšä»€ä¹ˆï¼Œä»€ä¹ˆæ—¶å€™åœæ­¢ã€‚</p>
<h3 id="å¦‚å‰åºéå†ï¼š"><a href="#å¦‚å‰åºéå†ï¼š" class="headerlink" title="å¦‚å‰åºéå†ï¼š"></a>å¦‚å‰åºéå†ï¼š</h3><p>æˆ‘æƒ³å…ˆæ‰“å°å¤´èŠ‚ç‚¹å¯¹å§ï¼Ÿé‚£æˆ‘æ‰“å°å®Œäº†å¤´èŠ‚ç‚¹ï¼Œæˆ‘ç°åœ¨æƒ³æ‰“å°å·¦è¾¹èŠ‚ç‚¹äº†ï¼Œæˆ‘åªæ˜¯å‘Šè¯‰è®¡ç®—æœºæˆ‘æƒ³æ‰“å°å·¦è¾¹ç»“ç‚¹ï¼Œä¹‹åæ‰“å°å³è¾¹ç»“ç‚¹ã€‚</p>
<h3 id="é‚£ä¹ˆååºéå†å‘¢ï¼Ÿ"><a href="#é‚£ä¹ˆååºéå†å‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¹ˆååºéå†å‘¢ï¼Ÿ"></a>é‚£ä¹ˆååºéå†å‘¢ï¼Ÿ</h3><p>è¿™ä¸ªæ—¶å€™ä½ åº”è¯¥çŸ¥é“äº†ï¼Œæˆ‘å°±æ˜¯æƒ³æ“ä½œå·¦è¾¹ç„¶åå³è¾¹ï¼Œæœ€åæ‰“å°ä¸­é—´çš„å…ƒç´ ã€‚</p>
<p>æˆ‘ä»¬å¹¶ä¸éœ€è¦å¤ªè¿‡äºåœ¨æ„å…·ä½“çš„é€’å½’è¿‡ç¨‹ï¼Œè€Œæ˜¯è¦æƒ³æ¸…æ¥šè®©è®¡ç®—æœºå¹²ä»€ä¹ˆã€‚</p>
<p>è®¡ç®—æœºéƒ½å¯èƒ½æº¢å‡ºï¼Œç”¨äººè„‘å»éå†å°±ä¸ç°å®äº†ã€‚</p>
<h2 id="è¿­ä»£è§£æ³•"><a href="#è¿­ä»£è§£æ³•" class="headerlink" title="è¿­ä»£è§£æ³•"></a>è¿­ä»£è§£æ³•</h2><p>æœ¬è´¨ä¸Šæ˜¯åœ¨æ¨¡æ‹Ÿé€’å½’ï¼Œå› ä¸ºåœ¨é€’å½’çš„è¿‡ç¨‹ä¸­ä½¿ç”¨äº†ç³»ç»Ÿæ ˆï¼Œæ‰€ä»¥åœ¨è¿­ä»£çš„è§£æ³•ä¸­å¸¸ç”¨Stackæ¥æ¨¡æ‹Ÿç³»ç»Ÿæ ˆã€‚</p>
<h3 id="å‰åºéå†-1"><a href="#å‰åºéå†-1" class="headerlink" title="å‰åºéå†"></a>å‰åºéå†</h3><p>é¦–å…ˆæˆ‘ä»¬åº”è¯¥åˆ›å»ºä¸€ä¸ªStackç”¨æ¥å­˜æ”¾èŠ‚ç‚¹ï¼Œé¦–å…ˆæˆ‘ä»¬æƒ³è¦æ‰“å°æ ¹èŠ‚ç‚¹çš„æ•°æ®ï¼Œæ­¤æ—¶Stacké‡Œé¢çš„å†…å®¹ä¸ºç©ºï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼˜å…ˆå°†å¤´ç»“ç‚¹åŠ å…¥Stackï¼Œç„¶åæ‰“å°ã€‚</p>
<p>ä¹‹åæˆ‘ä»¬åº”è¯¥å…ˆæ‰“å°å·¦å­æ ‘ï¼Œç„¶åå³å­æ ‘ã€‚æ‰€ä»¥å…ˆåŠ å…¥Stackçš„å°±æ˜¯å³å­æ ‘ï¼Œç„¶åå·¦å­æ ‘ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">preOrderIteration</span><span class="params">(TreeNode head)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span> (head == <span class="keyword">null</span>) {</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">	stack.push(head);</span><br><span class="line">	<span class="keyword">while</span> (!stack.isEmpty()) {</span><br><span class="line">		TreeNode node = stack.pop();</span><br><span class="line">		System.out.print(node.value + <span class="string">" "</span>);</span><br><span class="line">		<span class="keyword">if</span> (node.right != <span class="keyword">null</span>) {</span><br><span class="line">			stack.push(node.right);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span> (node.left != <span class="keyword">null</span>) {</span><br><span class="line">			stack.push(node.left);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ä¸­åºéå†-1"><a href="#ä¸­åºéå†-1" class="headerlink" title="ä¸­åºéå†"></a>ä¸­åºéå†</h3><p>åŒç†åˆ›å»ºä¸€ä¸ªStackï¼Œç„¶åæŒ‰ å·¦ ä¸­ å³çš„é¡ºåºè¾“å‡ºèŠ‚ç‚¹ã€‚<br>å°½å¯èƒ½çš„å°†è¿™ä¸ªèŠ‚ç‚¹çš„å·¦å­æ ‘å‹å…¥Stackï¼Œæ­¤æ—¶æ ˆé¡¶çš„å…ƒç´ æ˜¯æœ€å·¦ä¾§çš„å…ƒç´ ï¼Œå…¶ç›®çš„æ˜¯æ‰¾åˆ°ä¸€ä¸ªæœ€å°å•ä½çš„å­æ ‘(ä¹Ÿå°±æ˜¯æœ€å·¦ä¾§çš„ä¸€ä¸ªèŠ‚ç‚¹)ï¼Œå¹¶ä¸”åœ¨å¯»æ‰¾çš„è¿‡ç¨‹ä¸­è®°å½•äº†æ¥æºï¼Œæ‰èƒ½è¿”å›ä¸Šå±‚,åŒæ—¶åœ¨è¿”å›ä¸Šå±‚çš„æ—¶å€™å·²ç»å¤„ç†å®Œæ¯•å·¦å­æ ‘äº†ã€‚ã€‚å½“å¤„ç†å®Œæœ€å°å•ä½çš„å­æ ‘æ—¶ï¼Œè¿”å›åˆ°ä¸Šå±‚å¤„ç†äº†ä¸­é—´èŠ‚ç‚¹ã€‚ï¼ˆå¦‚æœæŠŠæ•´ä¸ªå·¦ä¸­å³çš„éå†éƒ½ç†è§£æˆå­æ ‘çš„è¯ï¼Œå°±æ˜¯å¤„ç†å®Œ <code>å·¦å­æ ‘-&gt;ä¸­é—´(å°±æ˜¯ä¸€ä¸ªèŠ‚ç‚¹)-&gt;å³å­æ ‘ï¼‰</code><br>å¦‚æœæœ‰å³èŠ‚ç‚¹ï¼Œå…¶ä¹Ÿè¦è¿›è¡Œä¸­åºéå†ã€‚</p>
<p><a href="https://imgchr.com/i/B84oZt" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/10/29/B84oZt.png" alt="B84oZt.png"></a></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">inOrderIteration</span><span class="params">(TreeNode head)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span> (head == <span class="keyword">null</span>) {</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	TreeNode cur = head;</span><br><span class="line">	Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">	<span class="keyword">while</span> (!stack.isEmpty() || cur != <span class="keyword">null</span>) {</span><br><span class="line">		<span class="keyword">while</span> (cur != <span class="keyword">null</span>) {</span><br><span class="line">			stack.push(cur);</span><br><span class="line">			cur = cur.left;</span><br><span class="line">		}</span><br><span class="line">		TreeNode node = stack.pop();</span><br><span class="line">		System.out.print(node.value + <span class="string">" "</span>);</span><br><span class="line">		<span class="keyword">if</span> (node.right != <span class="keyword">null</span>) {</span><br><span class="line">			cur = node.right;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ååºéå†-1"><a href="#ååºéå†-1" class="headerlink" title="ååºéå†"></a>ååºéå†</h3><h4 id="ä»£ç ç‰‡æ®µ-1"><a href="#ä»£ç ç‰‡æ®µ-1" class="headerlink" title="ä»£ç ç‰‡æ®µ 1"></a>ä»£ç ç‰‡æ®µ 1</h4><ul>
<li>å‰åºéå†çš„è¿‡ç¨‹ æ˜¯ ä¸­å·¦å³ã€‚</li>
<li>å°†å…¶è½¬åŒ–æˆ ä¸­å³å·¦ã€‚ä¹Ÿå°±æ˜¯å‹æ ˆçš„è¿‡ç¨‹ä¸­ä¼˜å…ˆå‹å…¥å·¦å­æ ‘ï¼Œåœ¨å‹å…¥å³å­æ ‘ã€‚</li>
<li>ç„¶åå°†è¿™ä¸ªç»“æœè¿”å›æ¥ï¼Œè¿™é‡Œæ˜¯åˆ©ç”¨æ ˆçš„å…ˆè¿›åå‡ºå€’åºæ‰“å°ã€‚</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">postOrderIteration</span><span class="params">(TreeNode head)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span> (head == <span class="keyword">null</span>) {</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		}</span><br><span class="line">		Stack&lt;TreeNode&gt; stack1 = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">		Stack&lt;TreeNode&gt; stack2 = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">		stack1.push(head);</span><br><span class="line">		<span class="keyword">while</span> (!stack1.isEmpty()) {</span><br><span class="line">			TreeNode node = stack1.pop();</span><br><span class="line">			stack2.push(node);</span><br><span class="line">			<span class="keyword">if</span> (node.left != <span class="keyword">null</span>) {</span><br><span class="line">				stack1.push(node.left);</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span> (node.right != <span class="keyword">null</span>) {</span><br><span class="line">				stack1.push(node.right);</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">while</span> (!stack2.isEmpty()) {</span><br><span class="line">			System.out.print(stack2.pop().value + <span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">	}</span><br></pre></td></tr></tbody></table></figure>

<h4 id="ä»£ç ç‰‡æ®µ-2"><a href="#ä»£ç ç‰‡æ®µ-2" class="headerlink" title="ä»£ç ç‰‡æ®µ 2"></a>ä»£ç ç‰‡æ®µ 2</h4><ul>
<li>bnç”¨ä¸€ä¸ªæŒ‡é’ˆcuræ ‡è®°å½“å‰é€€å‡ºçš„èŠ‚ç‚¹æ˜¯ä»€ä¹ˆã€‚</li>
<li>ååºéå†çš„è¿‡ç¨‹ä¸­åœ¨éå†å®Œå·¦å­æ ‘è·Ÿå³å­æ ‘curéƒ½ä¼šå›åˆ°æ ¹ç»“ç‚¹ã€‚æ‰€ä»¥å½“å‰ä¸ç®¡æ˜¯ä»å·¦å­æ ‘è¿˜æ˜¯å³å­æ ‘å›åˆ°æ ¹ç»“ç‚¹éƒ½ä¸åº”è¯¥å†æ“ä½œäº†ï¼Œåº”è¯¥é€€å›ä¸Šå±‚ã€‚</li>
<li>å¦‚æœæ˜¯ä»å³è¾¹å†è¿”å›æ ¹ç»“ç‚¹ï¼Œåº”è¯¥å›åˆ°ä¸Šå±‚ã€‚</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">postOrderIteration2</span><span class="params">(TreeNode head)</span> </span>{ æ„Ÿè°¢[<span class="meta">@ben</span>-ben-niu](/u/ben-ben-niu/)æŒ‡å‡ºé”™è¯¯ï¼Œä»£ç ç¡®å®å­˜åœ¨é—®é¢˜ï¼Œå·²ç»åœ¨åŸæ–‡ä¸­ä¿®å¤</span><br><span class="line">	<span class="keyword">if</span> (head == <span class="keyword">null</span>) {</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	TreeNode cur = head;</span><br><span class="line">	Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">	stack.push(head);</span><br><span class="line">	<span class="keyword">while</span> (!stack.isEmpty()) {</span><br><span class="line">		TreeNode peek = stack.peek();</span><br><span class="line">		<span class="keyword">if</span> (peek.left != <span class="keyword">null</span> &amp;&amp; peek.left != cur &amp;&amp; peek.right != cur) {</span><br><span class="line">			stack.push(peek.left);</span><br><span class="line">		} <span class="keyword">else</span> <span class="keyword">if</span> (peek.right != <span class="keyword">null</span> &amp;&amp; peek.right != cur) {</span><br><span class="line">			stack.push(peek.right);</span><br><span class="line">		} <span class="keyword">else</span> {</span><br><span class="line">			System.out.print(stack.pop().val + <span class="string">" "</span>);</span><br><span class="line">			cur = peek;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="Morrisè§£æ³•"><a href="#Morrisè§£æ³•" class="headerlink" title="Morrisè§£æ³•"></a>Morrisè§£æ³•</h2><p>Morriséå†ä½¿ç”¨äºŒå‰æ ‘èŠ‚ç‚¹ä¸­å¤§é‡æŒ‡å‘nullçš„æŒ‡é’ˆï¼Œç”±Joseph Morris äº1979å¹´å‘æ˜ã€‚<br>æ—¶é—´å¤æ‚åº¦ï¼šO(n)<br>é¢å¤–ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p>
<p>åœ¨ä½ é˜…è¯»ä»¥ä¸‹ä»£ç ä¹‹å‰ï¼Œåœ¨è¿™è¾¹å…ˆè®²è§£ä¸€ä¸‹Morrisçš„é€šç”¨è§£æ³•è¿‡ç¨‹ã€‚</p>
<p><a href="https://imgchr.com/i/B84OzQ" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/10/29/B84OzQ.png" alt="B84OzQ.png"></a></p>
<p>Morrisçš„æ•´ä½“æ€è·¯å°±æ˜¯å°† ä»¥æŸä¸ªæ ¹ç»“ç‚¹å¼€å§‹ï¼Œæ‰¾åˆ°å®ƒå·¦å­æ ‘çš„æœ€å³ä¾§èŠ‚ç‚¹ä¹‹åä¸è¿™ä¸ªæ ¹ç»“ç‚¹è¿›è¡Œè¿æ¥<br>æˆ‘ä»¬å¯ä»¥ä» å›¾2 çœ‹åˆ°ï¼Œå¦‚æœè¿™ä¹ˆè¿æ¥ä¹‹åï¼Œcur è¿™ä¸ªæŒ‡é’ˆæ˜¯å¯ä»¥å®Œæ•´çš„ä»ä¸€ä¸ªèŠ‚ç‚¹é¡ºç€ä¸‹ä¸€ä¸ªèŠ‚ç‚¹éå†ï¼Œå°†æ•´æ£µæ ‘éå†å®Œæ¯•ï¼Œç›´åˆ° 7 è¿™ä¸ªèŠ‚ç‚¹å³ä¾§æ²¡æœ‰æŒ‡å‘ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">preOrderMorris</span><span class="params">(TreeNode head)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span> (head == <span class="keyword">null</span>) {</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	TreeNode cur1 = head;<span class="comment">//å½“å‰å¼€å§‹éå†çš„èŠ‚ç‚¹</span></span><br><span class="line">	TreeNode cur2 = <span class="keyword">null</span>;<span class="comment">//è®°å½•å½“å‰ç»“ç‚¹çš„å·¦å­æ ‘</span></span><br><span class="line">	<span class="keyword">while</span> (cur1 != <span class="keyword">null</span>) {</span><br><span class="line">		cur2 = cur1.left;</span><br><span class="line">		<span class="keyword">if</span> (cur2 != <span class="keyword">null</span>) {</span><br><span class="line">			<span class="keyword">while</span> (cur2.right != <span class="keyword">null</span> &amp;&amp; cur2.right != cur1) {<span class="comment">//æ‰¾åˆ°å½“å‰å·¦å­æ ‘çš„æœ€å³ä¾§èŠ‚ç‚¹ï¼Œä¸”è¿™ä¸ªèŠ‚ç‚¹åº”è¯¥åœ¨æŒ‡å‘æ ¹ç»“ç‚¹ä¹‹å‰ï¼Œå¦åˆ™æ•´ä¸ªèŠ‚ç‚¹åˆå›åˆ°äº†æ ¹ç»“ç‚¹ã€‚</span></span><br><span class="line">				cur2 = cur2.right;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span> (cur2.right == <span class="keyword">null</span>) {<span class="comment">//è¿™ä¸ªæ—¶å€™å¦‚æœæœ€å³ä¾§è¿™ä¸ªèŠ‚ç‚¹çš„å³æŒ‡é’ˆæ²¡æœ‰æŒ‡å‘æ ¹ç»“ç‚¹ï¼Œåˆ›å»ºè¿æ¥ç„¶åå¾€ä¸‹ä¸€ä¸ªå·¦å­æ ‘çš„æ ¹ç»“ç‚¹è¿›è¡Œè¿æ¥æ“ä½œã€‚</span></span><br><span class="line">				cur2.right = cur1;</span><br><span class="line">				cur1 = cur1.left;</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			} <span class="keyword">else</span> {<span class="comment">//å½“å·¦å­æ ‘çš„æœ€å³ä¾§èŠ‚ç‚¹æœ‰æŒ‡å‘æ ¹ç»“ç‚¹ï¼Œæ­¤æ—¶è¯´æ˜æˆ‘ä»¬å·²ç»å›åˆ°äº†æ ¹ç»“ç‚¹å¹¶é‡å¤äº†ä¹‹å‰çš„æ“ä½œï¼ŒåŒæ—¶åœ¨å›åˆ°æ ¹ç»“ç‚¹çš„æ—¶å€™æˆ‘ä»¬åº”è¯¥å·²ç»å¤„ç†å®Œ å·¦å­æ ‘çš„æœ€å³ä¾§èŠ‚ç‚¹ äº†ï¼ŒæŠŠè·¯æ–­å¼€ã€‚</span></span><br><span class="line">				cur2.right = <span class="keyword">null</span>;</span><br><span class="line">			}</span><br><span class="line">		} </span><br><span class="line">		cur1 = cur1.right;<span class="comment">//ä¸€ç›´å¾€å³è¾¹èµ°ï¼Œå‚è€ƒå›¾</span></span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="å‰åºéå†-2"><a href="#å‰åºéå†-2" class="headerlink" title="å‰åºéå†"></a>å‰åºéå†</h3><ol>
<li>åœ¨æŸä¸ªæ ¹ç»“ç‚¹åˆ›å»ºè¿çº¿çš„æ—¶å€™æ‰“å°ã€‚å› ä¸ºæˆ‘ä»¬æ˜¯é¡ºç€å·¦è¾¹çš„æ ¹èŠ‚ç‚¹æ¥åˆ›å»ºè¿çº¿ï¼Œä¸”åˆ›å»ºçš„è¿‡ç¨‹åªæœ‰ä¸€æ¬¡ã€‚</li>
<li>æ‰“å°æŸäº›è‡ªèº«æ— æ³•åˆ›å»ºè¿çº¿çš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å¶å­èŠ‚ç‚¹ã€‚</li>
</ol>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">preOrderMorris</span><span class="params">(TreeNode head)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span> (head == <span class="keyword">null</span>) {</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	TreeNode cur1 = head;</span><br><span class="line">	TreeNode cur2 = <span class="keyword">null</span>;</span><br><span class="line">	<span class="keyword">while</span> (cur1 != <span class="keyword">null</span>) {</span><br><span class="line">		cur2 = cur1.left;</span><br><span class="line">		<span class="keyword">if</span> (cur2 != <span class="keyword">null</span>) {</span><br><span class="line">			<span class="keyword">while</span> (cur2.right != <span class="keyword">null</span> &amp;&amp; cur2.right != cur1) {</span><br><span class="line">				cur2 = cur2.right;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span> (cur2.right == <span class="keyword">null</span>) {</span><br><span class="line">				cur2.right = cur1;</span><br><span class="line">				System.out.print(cur1.value + <span class="string">" "</span>);</span><br><span class="line">				cur1 = cur1.left;</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			} <span class="keyword">else</span> {</span><br><span class="line">				cur2.right = <span class="keyword">null</span>;</span><br><span class="line">			}</span><br><span class="line">		} <span class="keyword">else</span> {</span><br><span class="line">			System.out.print(cur1.value + <span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">		cur1 = cur1.right;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ä¸­åºéå†-2"><a href="#ä¸­åºéå†-2" class="headerlink" title="ä¸­åºéå†"></a>ä¸­åºéå†</h3><p>ä»æœ€å·¦ä¾§å¼€å§‹é¡ºç€å³èŠ‚ç‚¹æ‰“å°ã€‚ä¹Ÿå°±æ˜¯åœ¨å°†cu1åˆ‡æ¢åˆ°ä¸Šå±‚èŠ‚ç‚¹çš„æ—¶å€™</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">inOrderMorris</span><span class="params">(TreeNode head)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span> (head == <span class="keyword">null</span>) {</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	TreeNode cur1 = head;</span><br><span class="line">	TreeNode cur2 = <span class="keyword">null</span>;</span><br><span class="line">	<span class="keyword">while</span> (cur1 != <span class="keyword">null</span>) {</span><br><span class="line">		cur2 = cur1.left;</span><br><span class="line">		<span class="comment">//æ„å»ºè¿æ¥çº¿</span></span><br><span class="line">		<span class="keyword">if</span> (cur2 != <span class="keyword">null</span>) {</span><br><span class="line">			<span class="keyword">while</span> (cur2.right != <span class="keyword">null</span> &amp;&amp; cur2.right != cur1) {</span><br><span class="line">				cur2 = cur2.right;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span> (cur2.right == <span class="keyword">null</span>) {</span><br><span class="line">				cur2.right = cur1;</span><br><span class="line">				cur1 = cur1.left;</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			} <span class="keyword">else</span> {</span><br><span class="line">				cur2.right = <span class="keyword">null</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		System.out.print(cur1.value + <span class="string">" "</span>);</span><br><span class="line">		cur1 = cur1.right;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ååºéå†-2"><a href="#ååºéå†-2" class="headerlink" title="ååºéå†"></a>ååºéå†</h3><p>ååºéå†å°±æ¯”è¾ƒå¤æ‚äº†å“ˆï¼Œå…ˆçœ‹ä¸€ä¸‹å›¾</p>
<p><a href="https://imgchr.com/i/B84vss" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/10/29/B84vss.png" alt="B84vss.png"></a></p>
<p>å½“æˆ‘ä»¬åˆ°è¾¾æœ€å·¦ä¾§ï¼Œä¹Ÿå°±æ˜¯å·¦è¾¹è¿çº¿å·²ç»åˆ›å»ºå®Œæ¯•äº†ã€‚<br>æ‰“å° 4<br>æ‰“å° 5 2<br>æ‰“å° 6<br>æ‰“å° 7 3 1<br>æˆ‘ä»¬å°†ä¸€ä¸ªèŠ‚ç‚¹çš„è¿ç»­å³èŠ‚ç‚¹å½“æˆä¸€ä¸ªå•é“¾è¡¨æ¥çœ‹å¾…ã€‚<br>å½“æˆ‘ä»¬è¿”å›ä¸Šå±‚ä¹‹åï¼Œä¹Ÿå°±æ˜¯å°†è¿çº¿æ–­å¼€çš„æ—¶å€™ï¼Œæ‰“å°ä¸‹å±‚çš„å•é“¾è¡¨ã€‚<br>æ¯”å¦‚è¿”å›åˆ°ã€€ï¼’ï¼Œæ­¤æ—¶æ‰“å°ã€€ï¼”<br>æ¯”å¦‚è¿”å›åˆ°ã€€ï¼‘ï¼Œæ­¤æ—¶æ‰“å°ã€€ï¼•ã€€ï¼’<br>æ¯”å¦‚è¿”å›åˆ°ã€€ï¼“ï¼Œæ­¤æ—¶æ‰“å°ã€€ï¼–<br>é‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦å°†è¿™ä¸ªå•é“¾è¡¨é€†åºæ‰“å°å°±è¡Œäº†ï¼Œä¸‹æ–‡ä¹Ÿç»™å‡ºäº† å•é“¾è¡¨é€†åºä»£ç <br>è¿™é‡Œä¸åº”è¯¥æ‰“å°å½“å‰å±‚ï¼Œè€Œæ˜¯ä¸‹ä¸€å±‚ï¼Œå¦åˆ™æ ¹ç»“ç‚¹ä¼šå…ˆä¸å³è¾¹æ‰“å°ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//ååºMorris</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">postOrderMorris</span><span class="params">(TreeNode head)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span> (head == <span class="keyword">null</span>) {</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	TreeNode cur1 = head;<span class="comment">//éå†æ ‘çš„æŒ‡é’ˆå˜é‡</span></span><br><span class="line">	TreeNode cur2 = <span class="keyword">null</span>;<span class="comment">//å½“å‰å­æ ‘çš„æœ€å³èŠ‚ç‚¹</span></span><br><span class="line">	<span class="keyword">while</span> (cur1 != <span class="keyword">null</span>) {</span><br><span class="line">		cur2 = cur1.left;</span><br><span class="line">		<span class="keyword">if</span> (cur2 != <span class="keyword">null</span>) {</span><br><span class="line">			<span class="keyword">while</span> (cur2.right != <span class="keyword">null</span> &amp;&amp; cur2.right != cur1) {</span><br><span class="line">				cur2 = cur2.right;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span> (cur2.right == <span class="keyword">null</span>) {</span><br><span class="line">				cur2.right = cur1;</span><br><span class="line">				cur1 = cur1.left;</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			} <span class="keyword">else</span> {</span><br><span class="line">				cur2.right = <span class="keyword">null</span>;</span><br><span class="line">				postMorrisPrint(cur1.left);</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		cur1 = cur1.right;</span><br><span class="line">	}</span><br><span class="line">	postMorrisPrint(head);</span><br><span class="line">}</span><br><span class="line"><span class="comment">//æ‰“å°å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">postMorrisPrint</span><span class="params">(TreeNode head)</span> </span>{</span><br><span class="line">	TreeNode reverseList = postMorrisReverseList(head);</span><br><span class="line">	TreeNode cur = reverseList;</span><br><span class="line">	<span class="keyword">while</span> (cur != <span class="keyword">null</span>) {</span><br><span class="line">		System.out.print(cur.value + <span class="string">" "</span>);</span><br><span class="line">		cur = cur.right;</span><br><span class="line">	}</span><br><span class="line">	postMorrisReverseList(reverseList);</span><br><span class="line">}</span><br><span class="line"><span class="comment">//ç¿»è½¬å•é“¾è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> TreeNode <span class="title">postMorrisReverseList</span><span class="params">(TreeNode head)</span> </span>{</span><br><span class="line">	TreeNode cur = head;</span><br><span class="line">	TreeNode pre = <span class="keyword">null</span>;</span><br><span class="line">	<span class="keyword">while</span> (cur != <span class="keyword">null</span>) {</span><br><span class="line">		TreeNode next = cur.right;</span><br><span class="line">		cur.right = pre;</span><br><span class="line">		pre = cur;</span><br><span class="line">		cur = next;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> pre;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>é€’å½’</tag>
        <tag>è¿­ä»£</tag>
        <tag>ä¸­åºéå†</tag>
        <tag>å‰åºéå†</tag>
        <tag>ååºéå†</tag>
        <tag>Morrisè§£æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>è„‘ç­‹æ€¥è½¬å¼¯_leetcode.1227.é£æœºåº§ä½åˆ†é…æ¦‚ç‡</title>
    <url>/Aircraft_seat_allocation_probability/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸæœ‰ n ä½ä¹˜å®¢å³å°†ç™»æœºï¼Œé£æœºæ­£å¥½æœ‰ n ä¸ªåº§ä½ã€‚ç¬¬ä¸€ä½ä¹˜å®¢çš„ç¥¨ä¸¢äº†ï¼Œä»–éšä¾¿é€‰äº†ä¸€ä¸ªåº§ä½åä¸‹ã€‚</p>
<p>å‰©ä¸‹çš„ä¹˜å®¢å°†ä¼šï¼š</p>
<p>å¦‚æœä»–ä»¬è‡ªå·±çš„åº§ä½è¿˜ç©ºç€ï¼Œå°±ååˆ°è‡ªå·±çš„åº§ä½ä¸Šï¼Œ</p>
<p>å½“ä»–ä»¬è‡ªå·±çš„åº§ä½è¢«å ç”¨æ—¶ï¼Œéšæœºé€‰æ‹©å…¶ä»–åº§ä½<br>ç¬¬ n ä½ä¹˜å®¢ååœ¨è‡ªå·±çš„åº§ä½ä¸Šçš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Ÿ</p>
 <a id="more"></a>

<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 1</span><br><span class="line">è¾“å‡ºï¼š1.00000</span><br><span class="line">è§£é‡Šï¼šç¬¬ä¸€ä¸ªäººåªä¼šååœ¨è‡ªå·±çš„ä½ç½®ä¸Šã€‚</span><br></pre></td></tr></tbody></table></figure>


<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: n = 2</span><br><span class="line">è¾“å‡º: 0.50000</span><br><span class="line">è§£é‡Šï¼šåœ¨ç¬¬ä¸€ä¸ªäººé€‰å¥½åº§ä½åä¸‹åï¼Œç¬¬äºŒä¸ªäººååœ¨è‡ªå·±çš„åº§ä½ä¸Šçš„æ¦‚ç‡æ˜¯ 0.5ã€‚</span><br></pre></td></tr></tbody></table></figure>


<p>æç¤ºï¼š</p>
<ul>
<li>1 &lt;= n &lt;= 10^5</li>
</ul>
<h2 id="ğŸŒ¸è§£æ³•ï¼šåˆ†ç±»è®¨è®º"><a href="#ğŸŒ¸è§£æ³•ï¼šåˆ†ç±»è®¨è®º" class="headerlink" title="ğŸŒ¸è§£æ³•ï¼šåˆ†ç±»è®¨è®º"></a>ğŸŒ¸è§£æ³•ï¼šåˆ†ç±»è®¨è®º</h2><p>è¿™é“é¢˜ä»£ç å¾ˆç®€å•ï¼Œä½†æ˜¯å°±çœ‹ä½ çš„è„‘è¢‹æƒ³ä¸æƒ³å¾—åˆ°äº†ï¼Œæ•°å­¦æ¨ç†ä¹ŸæŒºéš¾æ‡‚å¾—ï¼Œåœ¨è¿™é‡Œå¤§è‡´è¯´ä¸€ä¸‹æˆ‘çš„ç†è§£å§</p>
<ul>
<li><p>ç¬¬ä¸€ï¼Œé¢˜ç›®å¹¶æ²¡æœ‰æŒ‰ç…§åº§ä½å·1-nçš„é¡ºåºè¿›è¡Œä¹˜å®¢ç™»å½•é£æœºï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬ä¸€ä¸ªä¹˜å®¢çš„åº§ä½å·å¹¶ä¸æ˜¯1ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹å·§å¦™çš„ç‚¹å°±åœ¨äºè¿™ä¸ªé¢˜å¹¶ä¸ç®¡ä¹˜å®¢çš„åº§ä½å·æ˜¯å¦‚ä½•ç¼–æ’çš„ï¼Œå› ä¸ºåº§ä½å·ä¹ŸåŒæ ·æ˜¯1-nï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»¥ä¹˜å®¢çš„ç™»å½•é£æœºçš„é¡ºåºä¸ºä¹˜å®¢é‡æ–°è¿›è¡Œç¼–å·ï¼Œå³ç¬¬ä¸€ä¸ªä¹˜å®¢æ‰€å¯¹åº”çš„åº§ä½å·(ç¼–å·ä»£è¡¨çš„æ˜¯å…¥åœºçš„æ¬¡åºï¼Œè€Œä¸æ˜¯å®é™…çš„åº§ä½å·)ã€‚</p>
</li>
<li><p>ç¬¬äºŒï¼ŒæŒ‰ç…§æ‰€æœ‰çš„æƒ…å†µè¿›è¡Œåˆ†ç±»è®¨è®º</p>
<ul>
<li><p>å½“n ç­‰äº1ï¼Œæ¯«æ— ç–‘é—®ï¼Œç¬¬nä¸ªä¹˜å®¢å°±æ˜¯ä»–è‡ªå·±ï¼Œåå›ä»–è‡ªå·±åº§ä½çš„æ¦‚ç‡ä¸º1.0</p>
</li>
<li><p>å½“n ä¸ç­‰äº1ï¼Œç¬¬ä¸€ä¸ªä¹˜å®¢è¿›å…¥é£æœºåï¼Œå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§æƒ…å†µã€‚</p>
<ul>
<li><p>ä»–æœ‰1/nçš„æ¦‚ç‡å»é€‰æ‹©åˆ°åŸæœ¬å±äºä»–è‡ªå·±çš„åº§ä½ï¼Œä¹Ÿå°±æ˜¯è¯´ä»–é€‰æ‹©å¯¹äº†ï¼Œåˆ™åé¢çš„æ‰€æœ‰äººä½ç½®éƒ½æ˜¯å¯¹çš„ï¼Œæ‰€ä»¥ç¬¬nä¸ªäººçš„æ¦‚ç‡ä¸º1</p>
</li>
<li><p>ä»–æœ‰1/nçš„æ¦‚ç‡é€‰æ‹©åˆ°ç¬¬nä¸ªäººåº§ä½ï¼Œå³ç¬¬nä¸ªäººæ— è®ºå¦‚ä½•ä¹Ÿé€‰æ‹©ä¸äº†è‡ªå·±çš„åº§ä½ï¼Œæ¦‚ç‡ä¸º0</p>
</li>
<li><p>å¦‚æœç¬¬ä¸€ä¸ªäººé€‰æ‹©åˆ°äº†ç¬¬iä¸ªäººçš„åº§ä½ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªäººåˆ°ç¬¬i- 1ä¸ªäººçš„ä½ç½®éƒ½æ˜¯å¯¹çš„ï¼Œè½®åˆ°ç¬¬iä¸ªäººæ—¶å°±ä¼šæ„Ÿè§‰åˆ°è¿·èŒ«ã€‚å› ä¸ºè‡ªå·±çš„ä½ç½®è¢«å æ®äº†ï¼Œå¦‚æœç¬¬iä¸ªäººé€‰æ‹©ç¬¬ä¸€ä¸ªäººçš„åº§ä½ï¼Œé‚£ä¹ˆåé¢çš„äººä½ç½®éƒ½æ˜¯å®Œå…¨æ­£ç¡®çš„ï¼Œå¦‚æœä»–é€‰æ‹©åˆ°äº†ç¬¬i + 1åˆ°ç¬¬nä¸ªåº§ä½ï¼Œé‚£ä¹ˆåé¢çš„äººä¹Ÿä¼šé‡åˆ°åŒæ ·è¿·èŒ«çš„é—®é¢˜ï¼Œé‚£ä¹ˆï¼Œæ€ä¹ˆåšå‘¢ï¼Ÿ</p>
</li>
<li><p>å…¶å®ï¼Œå½“è½®åˆ°ç¬¬iä¸ªäººçš„æ—¶å€™ï¼Œiæ„Ÿè§‰åˆ°äº†è¿·èŒ«ï¼Œå°±åƒä¸€å¼€å§‹ç¬¬ä¸€ä¸ªäººä¸€æ ·ä¸çŸ¥é“è‡ªå·±åº”è¯¥åå“ªå„¿ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥å°†iå’Œ1èº«ä»½äº’æ¢ä¸€ä¸‹ï¼Œä»¤ç¬¬ä¸€ä¸ªä½ç½®å°±æ˜¯iæœ¬èº«çš„åº§ä½ï¼Œè¿™æ ·å°±ä¼šæœ‰ié€‰æ‹©ç¬¬ä¸€ä¸ªåº§ä½ï¼Œåé¢çš„äººåº§ä½è‚¯å®šæ˜¯å¯¹çš„ï¼Œå¦‚æœiä¸é€‰æ‹©1å·ï¼ŒåŒæ ·æ˜¯ä¼šä»¤ä¸‹ä¸€ä¸ªiæ„Ÿåˆ°è¿·èŒ«ï¼Œè¿™æ ·å°±å¯ä»¥äº§ç”Ÿé€’å½’äº†ï¼Œå¹¶ä¸”å°†é—®é¢˜çš„è§„æ¨¡ç¼©å‡åˆ°äº†n - i + 1(å³è¿˜å‰©ä¸‹å¤šå°‘ä¸ªåº§ä½æ²¡æœ‰æ²¡æœ‰è¢«é€‰æˆ–è€…è¿˜å‰©ä¸‹å¤šå°‘ä¸ªäººæ²¡æœ‰é€‰ï¼Œn - iä»£è¡¨iåé¢çš„äººï¼Œå†åŠ ä¸Šè¿·èŒ«çš„iå°±æ˜¯n - i + 1)</p>
</li>
<li><p>æˆ‘ä»¬ä»¤f(n)ä¸ºç¬¬nä¸ªäººååˆ°è‡ªå·±åŸæœ¬åº§ä½çš„æ¦‚ç‡ï¼ŒæŒ‰ç…§é€’æ¨è§„å¾‹å¯æœ‰</p>
<ul>
<li><p>$f(n) = \frac{1}{n}\left(1 + \sum_{i=2}^{n-1}{f(n-i+1)}\right)$</p>
</li>
<li><p>è¿™ä¸ªé€’æ¨å¼æƒ³å¿…å¤§å®¶é«˜ä¸­å°±ä¼šæ±‚äº†ï¼Œä»¤ n = n-1å†å†™å‡ºä¸€é¡¹ï¼š</p>
</li>
<li><p>$f(n-1) = \frac{1}{n-1}\left(1 + \sum_{i=2}^{n-2}{f(n-i)}\right)$</p>
</li>
<li><p>ç„¶åä¸¤å¼ç›¸å‡å¾—åˆ°ï¼š$nf(n) - (n-1)f(n-1) = f(n-1)$</p>
<p>å³ï¼š$f(n) = f(n-1) = \cdots = f(2)$</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°æœ€ç»ˆçš„ç­”æ¡ˆäº†ï¼Œå¯¹ä»»æ„çš„ $n \ge 2nâ‰¥2 $éƒ½æœ‰ <code>f(n) = f(2) = 0.5</code></p>
</li>
</ul>
</li>
<li><p>å¦ä¸€ç§ç†è§£ï¼šå¯ä»¥æŠŠ0åˆ°n-1çœ‹æˆä¸€ä¸ªæ•´ä½“ï¼Œé‚£å¯¹äºnæ¥è¯´ï¼Œæ— éå°±ä¸¤ç§æƒ…å†µï¼Œå‰0åˆ°n-1å·æ˜¯å¦ä¼šæŠŠnçš„ä½ç½®å æ®ï¼Œæ¦‚ç‡å°±æ˜¯0.5ï¼›åªæœ‰ä¸€ä¸ªäººçš„æƒ…å†µæ¦‚ç‡ä¸º1ï¼ˆä¸€å®šååœ¨è‡ªå·±çš„ä½ç½®ä¸Šï¼‰ã€‚</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">nthPersonGetsNthSeat</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> n == <span class="number">1</span> ? <span class="number">1.0</span> : <span class="number">0.5</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>æ¨¡æ‹Ÿ</tag>
        <tag>åˆ†ç±»è®¨è®º</tag>
      </tags>
  </entry>
  <entry>
    <title>è„‘ç­‹æ€¥è½¬å¼¯_leetcode.1033.ç§»åŠ¨çŸ³å­ç›´åˆ°è¿ç»­</title>
    <url>/Move_the_stone_until_continuous/</url>
    <content><![CDATA[<blockquote>
<p>å“ï¼Œæœ€è¿‘å¿™ç€ACMå’Œè“æ¡¥æ¯ï¼ˆæ¯•ç«Ÿéƒ½æ˜¯ç¬¬ä¸€æ¬¡å‚èµ›çš„å°ç™½ï¼‰ï¼Œå¯æŠŠè‡ªå·±æ•´è¿·ç³Šäº†ï¼Œå½“ä¸¤é¡¹æ¯”èµ›å…¨éƒ¨å‘Šä¸€æ®µè½ï¼Œè‡ªå·±æ‰æ˜¯çœŸçš„è§‰æ‚Ÿåˆ°è‡ªå·±ä¸åˆ«äººçš„å·®è·ä»¥åŠè‡ªå·±çš„å¤§è„‘æ€è€ƒé—®é¢˜çš„èƒ½åŠ›å¾ˆæ˜¯æ¬ ç¼ºï¼Œè¿˜æœ‰å°±æ˜¯æ€è€ƒä¸å¤Ÿå…¨é¢ï¼Œå¾€å¾€ä¸€é“é¢˜æ˜æ˜è‡ªå·±å·²ç»å†™å‡ºäº†æ–¹æ³•ï¼Œä½†ç¡¬æ˜¯åœ¨æ¯”èµ›é€”ä¸­æƒ³ä¸å‡ºä¸€ç§æœ‰æ•ˆçš„æ–¹æ³•å»ä¼˜åŒ–æ–¹æ³•å’Œæ›´å¿«çš„å¾—å‡ºç­”æ¡ˆï¼Œæ€»æ˜¯èµ›åè¯¸è‘›äº®çš„æƒ³å‡ºè¿™è¯¥æ€ä¹ˆåšï¼Œé‚£è¯¥æ€ä¹ˆåšï¼Œè¿™äº›æ¬ ç¼ºéƒ½å¯¼è‡´è‡ªå·±åœ¨ACMå’Œè“æ¡¥æ¯ä¸­ä¸¢å¤±å¾—åˆ†ï¼Œçœ‹æ¥è¿˜æ˜¯å¾—åŠªåŠ›å‘€ï¼Œä¸è®©è‡ªå·±å˜å¾—æ›´å¼ºåˆä½•èƒ½å¾æˆ˜æ˜Ÿè¾°å¤§æµ·å‘¢ï¼Œå…ˆæ¥ç»ƒç»ƒæ€ç»´èƒ½åŠ›å§ï¼Œä»æœ€ç®€å•çš„è„‘ç­‹æ€¥è½¬å¼¯å¼€å§‹ï¼</p>
</blockquote>
<a id="more"></a>

<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸä¸‰æšçŸ³å­æ”¾ç½®åœ¨æ•°è½´ä¸Šï¼Œä½ç½®åˆ†åˆ«ä¸º aï¼Œbï¼Œcã€‚</p>
<p>æ¯ä¸€å›åˆï¼Œæˆ‘ä»¬å‡è®¾è¿™ä¸‰æšçŸ³å­å½“å‰åˆ†åˆ«ä½äºä½ç½® x, y, z ä¸” x &lt; y &lt; zã€‚ä»ä½ç½® x æˆ–è€…æ˜¯ä½ç½® z æ‹¿èµ·ä¸€æšçŸ³å­ï¼Œå¹¶å°†è¯¥çŸ³å­ç§»åŠ¨åˆ°æŸä¸€æ•´æ•°ä½ç½® k å¤„ï¼Œå…¶ä¸­ x &lt; k &lt; z ä¸” k != yã€‚</p>
<p>å½“ä½ æ— æ³•è¿›è¡Œä»»ä½•ç§»åŠ¨æ—¶ï¼Œå³ï¼Œè¿™äº›çŸ³å­çš„ä½ç½®è¿ç»­æ—¶ï¼Œæ¸¸æˆç»“æŸã€‚</p>
<p>è¦ä½¿æ¸¸æˆç»“æŸï¼Œä½ å¯ä»¥æ‰§è¡Œçš„æœ€å°å’Œæœ€å¤§ç§»åŠ¨æ¬¡æ•°åˆ†åˆ«æ˜¯å¤šå°‘ï¼Ÿ ä»¥é•¿åº¦ä¸º 2 çš„æ•°ç»„å½¢å¼è¿”å›ç­”æ¡ˆï¼šanswer = [minimum_moves, maximum_moves]</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼ša = 1, b = 2, c = 5</span><br><span class="line">è¾“å‡ºï¼š[1, 2]</span><br><span class="line">è§£é‡Šï¼šå°†çŸ³å­ä» 5 ç§»åŠ¨åˆ° 4 å†ç§»åŠ¨åˆ° 3ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥ç›´æ¥å°†çŸ³å­ç§»åŠ¨åˆ° 3ã€‚</span><br><span class="line">ç¤ºä¾‹ 2ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼ša = 4, b = 3, c = 2</span><br><span class="line">è¾“å‡ºï¼š[0, 0]</span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬æ— æ³•è¿›è¡Œä»»ä½•ç§»åŠ¨ã€‚</span><br></pre></td></tr></tbody></table></figure>


<p>æç¤ºï¼š</p>
<ul>
<li>1 &lt;= a &lt;= 100</li>
<li>1 &lt;= b &lt;= 100</li>
<li>1 &lt;= c &lt;= 100</li>
<li>a != b, b != c, c != a</li>
</ul>
<h2 id="ğŸŒ¸è§£æ³•ï¼šåˆ†ç±»è®¨è®º"><a href="#ğŸŒ¸è§£æ³•ï¼šåˆ†ç±»è®¨è®º" class="headerlink" title="ğŸŒ¸è§£æ³•ï¼šåˆ†ç±»è®¨è®º"></a>ğŸŒ¸è§£æ³•ï¼šåˆ†ç±»è®¨è®º</h2><p>è¿™é“é¢˜ç»™å‡ºçš„æ•°æ®å¹¶æ²¡æœ‰ç›´æ¥ç»™ä½ æ’å¥½åºäº†çš„ï¼Œä»–çš„æ•°æ®é¡ºåºæ˜¯ä¹±çš„ï¼ˆè¿™æ˜¯ä¸€ä¸ªå°å°çš„å‘ï¼‰</p>
<p>å‡è®¾å·²ç»æ’å¥½åºäº†é‚£ä¹ˆè¦æ±‚å‡ºæœ€å¤§æ¬¡æ•°å’Œæœ€å°æ¬¡æ•°ï¼Œå³</p>
<ul>
<li>æœ€å¤§æ¬¡æ•°ï¼Œæ— ç–‘å°±æ˜¯ä¸€æ­¥ä¸€æ­¥çš„èµ°ï¼Œå³æœ€åä¸€ä¸ªå…ƒç´ å‡å»ç¬¬ä¸€ä¸ªå…ƒç´  å†å‡äºŒï¼ˆè¿™å¾ˆå¥½æ¨æ–­ï¼Œè‡ªå·±ç”»ä¸€ä¸ªæ•°è½´å°±çŸ¥é“äº†ï¼‰</li>
<li>æœ€å°æ¬¡æ•°ï¼Œåªèƒ½æ˜¯1æˆ–è€…2ï¼Œè¿™å°±è¦åˆ†ç±»è®¨è®ºäº†<ul>
<li>æœ€å°æ¬¡æ•°ä¸ºä¸€ï¼Œå³åªéœ€è¦åŠ¨ä¸€æ­¥ï¼Œå³å·²ç»æœ‰ä¸¤ä¸ªæ•°æ˜¯è¿ç»­çš„äº†æˆ–è€…ä¸¤ä¸ªæ•°ä¹‹é—´åªæœ‰ä¸€ä¸ªç©ºçš„æ—¶å€™,ä¾‹å¦‚ <code>1  2  5</code>ã€<code>1  3  5</code>ã€‚</li>
<li>æœ€å°æ¬¡æ•°ä¸ºäºŒï¼Œå³é™¤ä¸Šé¢æƒ…å†µä¹‹åçš„æ‰€æœ‰æƒ…å†µ</li>
</ul>
</li>
</ul>
<p>ä»£ç å°±å¾ˆå¥½å¾—å‡ºäº†</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Text</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		</span><br><span class="line">	}</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] numMovesStones(<span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> c) {</span><br><span class="line">    	<span class="keyword">int</span> max = Math.max(Math.max(a, b), c);<span class="comment">//æ‰¾åˆ°æœ€å¤§å€¼</span></span><br><span class="line">    	<span class="keyword">int</span> min = Math.min(Math.min(a, b), c);<span class="comment">//æ‰¾åˆ°æœ€å°å€¼</span></span><br><span class="line">    	<span class="keyword">int</span> cur = a + b + c - max - min; <span class="comment">// æ‰¾åˆ°ä¸­é—´é‚£ä¸ªæ•°</span></span><br><span class="line">    	<span class="keyword">if</span>(max - cur == <span class="number">1</span> &amp;&amp; cur - min == <span class="number">1</span>) { <span class="comment">//å¦‚æœå·²ç»æ˜¯è¿ç»­çš„äº†ï¼Œåˆ™ä¸ç”¨ç§»åŠ¨</span></span><br><span class="line">    		<span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]{<span class="number">0</span>, <span class="number">0</span>};</span><br><span class="line">    	}</span><br><span class="line">    	<span class="keyword">if</span>(max - cur &lt;= <span class="number">2</span> || cur - min &lt;= <span class="number">2</span>) { <span class="comment">//ä¸è¿ç»­ä½†æ˜¯æœ‰å…¶ä¸­ä¸¤ä¸ªä¸­é—´åªæœ‰ä¸€ä¸ªä½ç½®æ—¶å€™ä¾‹å¦‚ï¼š1 3 4 ã€ 1 3 5ï¼Œéƒ½åªéœ€è¦æœ€å°ç§»åŠ¨ä¸€æ¬¡å³å¯è¿ç»­</span></span><br><span class="line">    		<span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] {<span class="number">1</span>, max - min - <span class="number">2</span>};</span><br><span class="line">    	}<span class="keyword">else</span> {<span class="comment">//å¦åˆ™æœ€å°‘ç§»åŠ¨ä¸¤æ¬¡æ‰å¯ä»¥è¿ç»­</span></span><br><span class="line">    		<span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] {<span class="number">2</span>, max - min - <span class="number">2</span>};</span><br><span class="line">    	}</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸é¢˜ç›®-1"><a href="#ğŸŒ¸é¢˜ç›®-1" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ä½ å’Œä½ çš„æœ‹å‹ï¼Œä¸¤ä¸ªäººä¸€èµ·ç© Nim æ¸¸æˆï¼š</p>
<p>æ¡Œå­ä¸Šæœ‰ä¸€å †çŸ³å¤´ã€‚<br>ä½ ä»¬è½®æµè¿›è¡Œè‡ªå·±çš„å›åˆï¼Œä½ ä½œä¸ºå…ˆæ‰‹ã€‚<br>æ¯ä¸€å›åˆï¼Œè½®åˆ°çš„äººæ‹¿æ‰ 1 - 3 å—çŸ³å¤´ã€‚<br>æ‹¿æ‰æœ€åä¸€å—çŸ³å¤´çš„äººå°±æ˜¯è·èƒœè€…ã€‚<br>jå‡è®¾ä½ ä»¬æ¯ä¸€æ­¥éƒ½æ˜¯æœ€ä¼˜è§£ã€‚è¯·ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ¥åˆ¤æ–­ä½ æ˜¯å¦å¯ä»¥åœ¨ç»™å®šçŸ³å¤´æ•°é‡ä¸º n çš„æƒ…å†µä¸‹èµ¢å¾—æ¸¸æˆã€‚å¦‚æœå¯ä»¥èµ¢ï¼Œè¿”å› trueï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚</p>
<p>ç¤ºä¾‹1ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 4</span><br><span class="line">è¾“å‡ºï¼šfalse </span><br><span class="line">è§£é‡Šï¼šå¦‚æœå †ä¸­æœ‰ 4 å—çŸ³å¤´ï¼Œé‚£ä¹ˆä½ æ°¸è¿œä¸ä¼šèµ¢å¾—æ¯”èµ›ï¼›</span><br><span class="line">     å› ä¸ºæ— è®ºä½ æ‹¿èµ° 1 å—ã€2 å— è¿˜æ˜¯ 3 å—çŸ³å¤´ï¼Œæœ€åä¸€å—çŸ³å¤´æ€»æ˜¯ä¼šè¢«ä½ çš„æœ‹å‹æ‹¿</span><br></pre></td></tr></tbody></table></figure>

<p>èµ°ã€‚<br>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 1</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">ç¤ºä¾‹ 3ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šn = 2</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></tbody></table></figure>


<p>æç¤ºï¼š</p>
<ul>
<li>1 &lt;= n &lt;= 2^31 - 1</li>
</ul>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šè®°å¿†åŒ–é€’å½’"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šè®°å¿†åŒ–é€’å½’" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šè®°å¿†åŒ–é€’å½’"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šè®°å¿†åŒ–é€’å½’</h2><ul>
<li>ä¸ºä»€ä¹ˆåœ¨ä¸¤ä¸ªäººã€Œè¶³å¤Ÿèªæ˜ã€ï¼ˆä½ ä»¬æ˜¯èªæ˜äººï¼Œæ¯ä¸€æ­¥éƒ½æ˜¯æœ€ä¼˜è§£ï¼‰è¿™ä¸ªå‰æä¸‹ï¼Œæ¯”èµ›çš„ç»“æœæ˜¯ã€Œç”±è¾“å…¥æ•°æ®ç¡®å®šçš„ã€</li>
</ul>
<p>ç”¨å…·ä½“çš„ä¾‹å­ 8 è¿›è¡Œåˆ†æå¯ä»¥å¾—å‡ºç»“è®ºï¼š</p>
<p>å½“ N = 3 çš„æ—¶å€™ï¼Œå½“å‰åšå‡ºé€‰æ‹©çš„äººå¯ä»¥æ‹¿æ‰æœ€åä¸€å—çŸ³å¤´ï¼Œè·å¾—èƒœåˆ©ï¼›<br>ç„¶åæˆ‘ä»¬é€å±‚å‘ä¸Šåˆ†æï¼Œå½“ N = 4çš„æ—¶å€™ï¼Œæ— è®ºå½“å‰åšå‡ºå“ªä¸€ç§é€‰æ‹©ï¼Œå¯¹æ–¹éƒ½ä¼šèµ¢ï¼Œæ‰€ä»¥å½“å‰åªèƒ½è¾“æ‰æ¯”èµ›ï¼›<br>å¦‚æœå½“å‰è¿™ä¸€å±‚çš„ç»“ç‚¹é‡Œã€Œæœ‰è¾“æœ‰èµ¢ã€ï¼Œå› ä¸ºæˆ‘ä»¬ã€Œè¶³å¤Ÿèªæ˜ã€ï¼Œæ‰€ä»¥å¿…é¡»é€‰æ‹©å¯ä»¥è®©å¯¹æ–¹è¾“æ‰çš„åˆ†æ”¯ï¼Œå¥½è®©è‡ªå·±èµ¢ï¼›<br>å¯¹äºè¿™ä¸ªé—®é¢˜çš„ç‰¹ç‚¹æ˜¯ï¼Œå½“ Nä¸æ˜¯ 4 çš„å€æ•°çš„æ—¶å€™ï¼Œå…ˆæ‰‹ï¼ˆå½“å‰åšå‡ºé€‰æ‹©çš„äººï¼‰ï¼Œæˆ–è€…è¯´æ¸¸æˆä¸€å¼€å§‹åšå‡ºé€‰æ‹©çš„ç©å®¶ä¸€å®šä¼šè¾“ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canWinNim</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">    <span class="comment">// ä½¿ç”¨åŒ…è£…ç±»å‹çš„å¸ƒå°”æ•°ç»„ï¼Œå¯ä»¥ç”¨ null è¿™ä¸ªçŠ¶æ€ï¼Œè¡¨ç¤ºå½“å‰ n çš„ç»“æœè¿˜æ²¡æœ‰è¢«è®¡ç®—å‡ºæ¥</span></span><br><span class="line">    Boolean[] memo = <span class="keyword">new</span> Boolean[n + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> dfs(n, memo);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> n, Boolean[] memo)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">3</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (memo[n] != <span class="keyword">null</span>) {</span><br><span class="line">        <span class="keyword">return</span> memo[n];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœ 3 ç§é€‰æ‹©ï¼Œåªè¦æœ‰ä¸€ç§å¯¹æ–¹è¾“æ‰ï¼Œè‡ªå·±å°±å¯ä»¥èµ¢</span></span><br><span class="line">    <span class="keyword">if</span> (!dfs(n - <span class="number">1</span>, memo) || !dfs(n - <span class="number">2</span>, memo) || !dfs(n - <span class="number">3</span>, memo)) {</span><br><span class="line">        memo[n] = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// å¦åˆ™è‡ªå·±è¾“</span></span><br><span class="line">    memo[n] = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"><a href="#ğŸŒ¸è§£æ³•äºŒï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"></a>ğŸŒ¸è§£æ³•äºŒï¼šåŠ¨æ€è§„åˆ’</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canWinNim</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">3</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">boolean</span>[] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[n + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// dp[0] çš„å€¼å¯ä»¥ä¸ç®¡ï¼Œæ²¡æœ‰æ„ä¹‰</span></span><br><span class="line">    dp[<span class="number">1</span>] = <span class="keyword">true</span>;</span><br><span class="line">    dp[<span class="number">2</span>] = <span class="keyword">true</span>;</span><br><span class="line">    dp[<span class="number">3</span>] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">4</span>; i &lt;= n; i++) {</span><br><span class="line">        dp[i] = !dp[i - <span class="number">1</span>] || !dp[i - <span class="number">2</span>] || !dp[i - <span class="number">3</span>];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æ»šåŠ¨æ•°ç»„ä¼˜åŒ–</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canWinNim</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">3</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">boolean</span>[] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">4</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="keyword">false</span>;</span><br><span class="line">    dp[<span class="number">1</span>] = <span class="keyword">true</span>;</span><br><span class="line">    dp[<span class="number">2</span>] = <span class="keyword">true</span>;</span><br><span class="line">    dp[<span class="number">3</span>] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">4</span>; i &lt;= n; i++) {</span><br><span class="line">        dp[i % <span class="number">4</span>] = !dp[(i - <span class="number">1</span>) % <span class="number">4</span>] || !dp[(i - <span class="number">2</span>) % <span class="number">4</span>] || !dp[(i - <span class="number">3</span>) % <span class="number">4</span>];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[n % <span class="number">4</span>];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•ä¸‰ï¼šæ•°å­¦æ–¹æ³•"><a href="#ğŸŒ¸è§£æ³•ä¸‰ï¼šæ•°å­¦æ–¹æ³•" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸‰ï¼šæ•°å­¦æ–¹æ³•"></a>ğŸŒ¸è§£æ³•ä¸‰ï¼šæ•°å­¦æ–¹æ³•</h2><p>è®©æˆ‘ä»¬è€ƒè™‘ä¸€äº›å°ä¾‹å­ã€‚æ˜¾è€Œæ˜“è§çš„æ˜¯ï¼Œå¦‚æœçŸ³å¤´å †ä¸­åªæœ‰ä¸€å—ã€ä¸¤å—ã€æˆ–æ˜¯ä¸‰å—çŸ³å¤´ï¼Œé‚£ä¹ˆåœ¨ä½ çš„å›åˆï¼Œä½ å°±å¯ä»¥æŠŠå…¨éƒ¨çŸ³å­æ‹¿èµ°ï¼Œä»è€Œåœ¨æ¸¸æˆä¸­å–èƒœã€‚è€Œå¦‚æœå°±åƒé¢˜ç›®æè¿°é‚£æ ·ï¼Œå †ä¸­æ°å¥½æœ‰å››å—çŸ³å¤´ï¼Œä½ å°±ä¼šå¤±è´¥ã€‚å› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ä¸ç®¡ä½ å–èµ°å¤šå°‘çŸ³å¤´ï¼Œæ€»ä¼šä¸ºä½ çš„å¯¹æ‰‹ç•™ä¸‹å‡ å—ï¼Œä½¿å¾—ä»–å¯ä»¥åœ¨æ¸¸æˆä¸­æ‰“è´¥ä½ ã€‚å› æ­¤ï¼Œè¦æƒ³è·èƒœï¼Œåœ¨ä½ çš„å›åˆä¸­ï¼Œå¿…é¡»é¿å…çŸ³å¤´å †ä¸­çš„çŸ³å­æ•°ä¸º 4 çš„æƒ…å†µã€‚</p>
<p>åŒæ ·åœ°ï¼Œå¦‚æœæœ‰äº”å—ã€å…­å—ã€æˆ–æ˜¯ä¸ƒå—çŸ³å¤´ï¼Œä½ å¯ä»¥æ§åˆ¶è‡ªå·±æ‹¿å–çš„çŸ³å¤´æ•°ï¼Œæ€»æ˜¯æ°å¥½ç»™ä½ çš„å¯¹æ‰‹ç•™ä¸‹å››å—çŸ³å¤´ï¼Œä½¿ä»–è¾“æ‰è¿™åœºæ¯”èµ›ã€‚ä½†æ˜¯å¦‚æœçŸ³å¤´å †é‡Œæœ‰å…«å—çŸ³å¤´ï¼Œä½ å°±ä¸å¯é¿å…åœ°ä¼šè¾“æ‰ï¼Œå› ä¸ºä¸ç®¡ä½ ä»ä¸€å †çŸ³å¤´ä¸­æŒ‘å‡ºä¸€å—ã€ä¸¤å—è¿˜æ˜¯ä¸‰å—ï¼Œä½ çš„å¯¹æ‰‹éƒ½å¯ä»¥é€‰æ‹©ä¸‰å—ã€ä¸¤å—æˆ–ä¸€å—ï¼Œä»¥ç¡®ä¿åœ¨å†ä¸€æ¬¡è½®åˆ°ä½ çš„æ—¶å€™ï¼Œä½ ä¼šé¢å¯¹å››å—çŸ³å¤´ã€‚</p>
<p>æ˜¾ç„¶ï¼Œå®ƒä»¥ç›¸åŒçš„æ¨¡å¼ä¸æ–­é‡å¤ n=4,8,12,16,â€¦ï¼ŒåŸºæœ¬å¯ä»¥çœ‹å‡ºæ˜¯ 4 çš„å€æ•°ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canWinNim</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> (n % <span class="number">4</span>) != <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¯æ€•å¯æ€•ã€‚ã€‚ã€‚</p>
<h2 id="ğŸŒ¸é¢˜ç›®-2"><a href="#ğŸŒ¸é¢˜ç›®-2" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä½ ä»è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­æ‰¾å‡ºæœ€é•¿çš„ç‰¹æ®Šåºåˆ—ã€‚</p>
<p>ã€Œæœ€é•¿ç‰¹æ®Šåºåˆ—ã€å®šä¹‰å¦‚ä¸‹ï¼šè¯¥åºåˆ—ä¸ºæŸå­—ç¬¦ä¸²ç‹¬æœ‰çš„æœ€é•¿å­åºåˆ—ï¼ˆå³ä¸èƒ½æ˜¯å…¶ä»–å­—ç¬¦ä¸²çš„å­åºåˆ—ï¼‰ã€‚</p>
<p>å­åºåˆ— å¯ä»¥é€šè¿‡åˆ å»å­—ç¬¦ä¸²ä¸­çš„æŸäº›å­—ç¬¦å®ç°ï¼Œä½†ä¸èƒ½æ”¹å˜å‰©ä½™å­—ç¬¦çš„ç›¸å¯¹é¡ºåºã€‚ç©ºåºåˆ—ä¸ºæ‰€æœ‰å­—ç¬¦ä¸²çš„å­åºåˆ—ï¼Œä»»ä½•å­—ç¬¦ä¸²ä¸ºå…¶è‡ªèº«çš„å­åºåˆ—ã€‚</p>
<p>è¾“å…¥ä¸ºä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œè¾“å‡ºæœ€é•¿ç‰¹æ®Šåºåˆ—çš„é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› -1ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: "aba", "cdc"</span><br><span class="line">è¾“å‡º: 3</span><br><span class="line">è§£é‡Š: æœ€é•¿ç‰¹æ®Šåºåˆ—å¯ä¸º "aba" (æˆ– "cdc")ï¼Œä¸¤è€…å‡ä¸ºè‡ªèº«çš„å­åºåˆ—ä¸”ä¸æ˜¯å¯¹æ–¹çš„å­åºåˆ—ã€‚</span><br></pre></td></tr></tbody></table></figure>


<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼ša = "aaa", b = "bbb"</span><br><span class="line">è¾“å‡ºï¼š3</span><br></pre></td></tr></tbody></table></figure>


<p>ç¤ºä¾‹ 3ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼ša = "aaa", b = "aaa"</span><br><span class="line">è¾“å‡ºï¼š-1</span><br></pre></td></tr></tbody></table></figure>


<p>æç¤ºï¼š</p>
<ul>
<li>ä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦å‡å¤„äºåŒºé—´ [1 - 100] ã€‚</li>
<li>å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ä»…å«æœ‰ â€˜aâ€™~â€™zâ€™ ã€‚</li>
</ul>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•</h2><p>æš´åŠ›è§£æ³•ä¸­ï¼Œç”Ÿæˆä¸¤ä¸ªå­—ç¬¦ä¸²æ‰€æœ‰çš„å­åºåˆ—å…± 2^n<br>  ä¸ªï¼Œå°†å…¶å­˜å‚¨åœ¨ hashmap ä¸­ï¼Œå¹¶è®°å½•æ¯ä¸ªå­åºåˆ—å‡ºç°çš„æ¬¡æ•°ã€‚ç„¶åæ‰¾å‡ºå‡ºç°æ¬¡æ•°ä¸º 11 çš„æœ€é•¿å­åºåˆ—ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„å­åºåˆ—ï¼Œè¿”å› -1ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findLUSlength</span><span class="params">(String a, String b)</span> </span>{</span><br><span class="line">    HashMap &lt; String, Integer &gt; map = <span class="keyword">new</span> HashMap &lt; &gt; ();</span><br><span class="line">    <span class="keyword">for</span> (String s: <span class="keyword">new</span> String[] {a, b}) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; (<span class="number">1</span> &lt;&lt; s.length()); i++) {</span><br><span class="line">            String t = <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; s.length(); j++) {</span><br><span class="line">                <span class="keyword">if</span> (((i &gt;&gt; j) &amp; <span class="number">1</span>) != <span class="number">0</span>)</span><br><span class="line">                    t += s.charAt(j);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span> (map.containsKey(t))</span><br><span class="line">                map.put(t, map.get(t) + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                map.put(t, <span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">int</span> res = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (String s: map.keySet()) {</span><br><span class="line">        <span class="keyword">if</span> (map.get(s) == <span class="number">1</span>)</span><br><span class="line">            res = Math.max(res, s.length());</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•äºŒï¼šå¯»æ‰¾è§„å¾‹"><a href="#ğŸŒ¸è§£æ³•äºŒï¼šå¯»æ‰¾è§„å¾‹" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼šå¯»æ‰¾è§„å¾‹"></a>ğŸŒ¸è§£æ³•äºŒï¼šå¯»æ‰¾è§„å¾‹</h2><p>å­—ç¬¦ä¸² a å’Œ b å…±æœ‰ 3 ç§æƒ…å†µï¼š</p>
<ul>
<li><p>a=bã€‚å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŒï¼Œåˆ™æ²¡æœ‰ç‰¹æ®Šå­åºåˆ—ï¼Œè¿”å› -1ã€‚</p>
</li>
<li><p>length(a)=length(b) ä¸” a != bã€‚ä¾‹å¦‚ï¼šabc å’Œ abdã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²ä¸€å®šä¸ä¼šæ˜¯å¦å¤–ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­åºåˆ—ï¼Œå› æ­¤å¯ä»¥å°†ä»»æ„ä¸€ä¸ªå­—ç¬¦ä¸²çœ‹ä½œæ˜¯ç‰¹æ®Šå­åºåˆ—ï¼Œè¿”å› length(a) æˆ– length(b)</p>
</li>
<li><p>length(a)&gt; =length(b)ã€‚ä¾‹å¦‚ï¼šabcd å’Œ abcã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œé•¿çš„å­—ç¬¦ä¸²ä¸€å®šä¸ä¼šæ˜¯çŸ­å­—ç¬¦ä¸²çš„å­åºåˆ—ï¼Œå› æ­¤å¯ä»¥å°†é•¿å­—ç¬¦ä¸²çœ‹ä½œæ˜¯ç‰¹æ®Šå­åºåˆ—ï¼Œè¿”å› max(length(a),length(b))ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findLUSlength</span><span class="params">(String a, String b)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span>(a.equals(b)){</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    }<span class="keyword">else</span>{</span><br><span class="line">        <span class="keyword">return</span> Math.max(a.length(), b.length());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
        <tag>è®°å¿†åŒ–é€’å½’</tag>
        <tag>å–æ¨¡è¿ç®—</tag>
        <tag>æ‰¾è§„å¾‹</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€æ–‡æå®šå¸¸è§çš„é“¾è¡¨é—®é¢˜</title>
    <url>/Linked_list_problem/</url>
    <content><![CDATA[<p>ä½œä¸ºçº¿æ€§è¡¨çš„ä¸¤ç§å­˜å‚¨æ–¹å¼ â€”â€” é“¾è¡¨å’Œæ•°ç»„ï¼Œè¿™å¯¹ç›¸çˆ±ç›¸æ€çš„å¥½åŸºå‹æœ‰ç€å„è‡ªçš„ä¼˜ç¼ºç‚¹ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¢³ç†ä¸€ä¸‹è¿™ä¸¤ç§æ–¹å¼ã€‚</p>
<p>æ•°ç»„ï¼Œæ‰€æœ‰å…ƒç´ éƒ½è¿ç»­çš„å­˜å‚¨äºä¸€æ®µå†…å­˜ä¸­ï¼Œä¸”æ¯ä¸ªå…ƒç´ å ç”¨çš„å†…å­˜å¤§å°ç›¸åŒã€‚è¿™ä½¿å¾—æ•°ç»„å…·å¤‡äº†é€šè¿‡ä¸‹æ ‡å¿«é€Ÿè®¿é—®æ•°æ®çš„èƒ½åŠ›ã€‚<br>ä½†è¿ç»­å­˜å‚¨çš„ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå¢åŠ å®¹é‡ï¼Œå¢åˆ å…ƒç´ çš„æˆæœ¬å¾ˆé«˜ï¼Œæ—¶é—´å¤æ‚åº¦å‡ä¸º O(n)ã€‚</p>
<a id="more"></a>

<p>å¢åŠ æ•°ç»„å®¹é‡éœ€è¦å…ˆç”³è¯·ä¸€å—æ–°çš„å†…å­˜ï¼Œç„¶åå¤åˆ¶åŸæœ‰çš„å…ƒç´ ã€‚å¦‚æœéœ€è¦çš„è¯ï¼Œå¯èƒ½è¿˜è¦åˆ é™¤åŸå…ˆçš„å†…å­˜ã€‚</p>
<p>åˆ é™¤å…ƒç´ æ—¶éœ€è¦ç§»åŠ¨è¢«åˆ é™¤å…ƒç´ ä¹‹åçš„æ‰€æœ‰å…ƒç´ ä»¥ä¿è¯æ‰€æœ‰å…ƒç´ æ˜¯è¿ç»­çš„ã€‚å¢åŠ å…ƒç´ æ—¶éœ€è¦ç§»åŠ¨æŒ‡å®šä½ç½®åŠä¹‹åçš„æ‰€æœ‰å…ƒç´ ï¼Œç„¶åå°†æ–°å¢å…ƒç´ æ’å…¥åˆ°æŒ‡å®šä½ç½®ï¼Œå¦‚æœå®¹é‡ä¸è¶³çš„è¯è¿˜éœ€è¦å…ˆè¿›è¡Œæ‰©å®¹æ“ä½œã€‚</p>
<p>æ€»ç»“ä¸€ä¸‹æ•°ç»„çš„ä¼˜ç¼ºç‚¹ï¼š</p>
<p>ä¼˜ç‚¹ï¼šå¯ä»¥æ ¹æ®åç§»å®ç°å¿«é€Ÿçš„éšæœºè¯»å†™ã€‚<br>ç¼ºç‚¹ï¼šæ‰©å®¹ï¼Œå¢åˆ å…ƒç´ ææ…¢ã€‚<br>é“¾è¡¨ï¼Œç”±è‹¥å¹²ä¸ªç»“ç‚¹ç»„æˆï¼Œæ¯ä¸ªç»“ç‚¹åŒ…å«æ•°æ®åŸŸå’ŒæŒ‡é’ˆåŸŸã€‚ç»“ç‚¹ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p>ä¸€èˆ¬æ¥è®²ï¼Œé“¾è¡¨ä¸­åªä¼šæœ‰ä¸€ä¸ªç»“ç‚¹çš„æŒ‡é’ˆåŸŸä¸ºç©ºï¼Œè¯¥ç»“ç‚¹ä¸ºå°¾ç»“ç‚¹ï¼Œå…¶ä»–ç»“ç‚¹çš„æŒ‡é’ˆåŸŸéƒ½ä¼šå­˜å‚¨ä¸€ä¸ªç»“ç‚¹çš„å†…å­˜åœ°å€ã€‚é“¾è¡¨ä¸­ä¹Ÿåªä¼šæœ‰ä¸€ä¸ªç»“ç‚¹çš„å†…å­˜åœ°å€æ²¡æœ‰å­˜å‚¨åœ¨å…¶ä»–ç»“ç‚¹çš„æŒ‡é’ˆåŸŸï¼Œè¯¥ç»“ç‚¹ç§°ä¸ºå¤´ç»“ç‚¹ã€‚</p>
<p>é“¾è¡¨çš„å­˜å‚¨æ–¹å¼ä½¿å¾—å®ƒå¯ä»¥é«˜æ•ˆçš„åœ¨æŒ‡å®šä½ç½®æ’å…¥ä¸åˆ é™¤ï¼Œæ—¶é—´å¤æ‚åº¦å‡ä¸º O(1)ã€‚<br>åœ¨ç»“ç‚¹ p ä¹‹åå¢åŠ ä¸€ä¸ªç»“ç‚¹ q æ€»å…±åˆ†ä¸‰æ­¥ï¼š</p>
<p>ç”³è¯·ä¸€æ®µå†…å­˜ç”¨ä»¥å­˜å‚¨ q (å¯ä»¥ä½¿ç”¨å†…å­˜æ± é¿å…é¢‘ç¹ç”³è¯·å’Œé”€æ¯å†…å­˜)ã€‚<br>å°† p çš„æŒ‡é’ˆåŸŸæ•°æ®å¤åˆ¶åˆ° q çš„æŒ‡é’ˆåŸŸã€‚<br>æ›´æ–° p çš„æŒ‡é’ˆåŸŸä¸º q çš„åœ°å€ã€‚</p>
<p>åˆ é™¤ç»“ç‚¹ p ä¹‹åçš„ç»“ç‚¹ q æ€»å…±åˆ†ä¸¤æ­¥ï¼š</p>
<ol>
<li><p>å°† q çš„æŒ‡é’ˆåŸŸå¤åˆ¶åˆ° p çš„æŒ‡é’ˆåŸŸã€‚</p>
</li>
<li><p>é‡Šæ”¾ q ç»“ç‚¹çš„å†…å­˜ã€‚</p>
<p>é“¾è¡¨çš„ä¸»è¦ä»£ç </p>
</li>
</ol>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªç»“ç‚¹æ¨¡æ¿</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> {</span></span><br><span class="line">	T data;</span><br><span class="line">	Node *next;</span><br><span class="line">	Node() : next(<span class="literal">nullptr</span>) {}</span><br><span class="line">	Node(<span class="keyword">const</span> T &amp;d) : data(d), next(<span class="literal">nullptr</span>) {}</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤ p ç»“ç‚¹åé¢çš„å…ƒç´ </span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Remove</span><span class="params">(Node&lt;T&gt; *p)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span> (p == <span class="literal">nullptr</span> || p-&gt;next == <span class="literal">nullptr</span>) {</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">auto</span> tmp = p-&gt;next-&gt;next;</span><br><span class="line">	<span class="keyword">delete</span> p-&gt;next;</span><br><span class="line">	p-&gt;next = tmp;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨ p ç»“ç‚¹åé¢æ’å…¥å…ƒç´ </span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(Node&lt;T&gt; *p, <span class="keyword">const</span> T &amp;data)</span> </span>{</span><br><span class="line">	<span class="keyword">auto</span> tmp = <span class="keyword">new</span> Node&lt;T&gt;(data);</span><br><span class="line">	tmp-&gt;next = p-&gt;next;</span><br><span class="line">	p-&gt;next = tmp;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//éå†é“¾è¡¨</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> V&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Walk</span><span class="params">(Node&lt;T&gt; *p, <span class="keyword">const</span> V &amp;vistor)</span> </span>{</span><br><span class="line">	<span class="keyword">while</span>(p != <span class="literal">nullptr</span>) {</span><br><span class="line">		vistor(p);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">auto</span> p = <span class="keyword">new</span> Node&lt;<span class="keyword">int</span>&gt;(<span class="number">1</span>);</span><br><span class="line">	Insert(p, <span class="number">2</span>);</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	Walk(p, [&amp;sum](<span class="keyword">const</span> Node&lt;<span class="keyword">int</span>&gt; *p) -&gt; <span class="keyword">void</span> { sum += p-&gt;data; });</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; sum &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	Remove(p);</span><br><span class="line">	sum = <span class="number">0</span>;</span><br><span class="line">	Walk(p, [&amp;sum](<span class="keyword">const</span> Node&lt;<span class="keyword">int</span>&gt; *p) -&gt; <span class="keyword">void</span> { sum += p-&gt;data; });</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; sum &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line">    ListNode() {}</span><br><span class="line">    ListNode(<span class="keyword">int</span> val) { <span class="keyword">this</span>.val = val; }</span><br><span class="line">    ListNode(<span class="keyword">int</span> val, ListNode next) { <span class="keyword">this</span>.val = val; <span class="keyword">this</span>.next = next; }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p> <strong>é¢è¯•é—®é¢˜æ€»ç»“</strong></p>
<p>æ— æ³•é«˜æ•ˆè·å–é•¿åº¦ï¼Œæ— æ³•æ ¹æ®åç§»å¿«é€Ÿè®¿é—®å…ƒç´ ï¼Œæ˜¯é“¾è¡¨çš„ä¸¤ä¸ªåŠ£åŠ¿ã€‚ç„¶è€Œé¢è¯•çš„æ—¶å€™ç»å¸¸ç¢°è§è¯¸å¦‚è·å–å€’æ•°ç¬¬kä¸ªå…ƒç´ ï¼Œè·å–ä¸­é—´ä½ç½®çš„å…ƒç´ ï¼Œåˆ¤æ–­é“¾è¡¨æ˜¯å¦å­˜åœ¨ç¯ï¼Œåˆ¤æ–­ç¯çš„é•¿åº¦ç­‰å’Œé•¿åº¦ä¸ä½ç½®æœ‰å…³çš„é—®é¢˜ã€‚è¿™äº›é—®é¢˜éƒ½å¯ä»¥é€šè¿‡çµæ´»è¿ç”¨åŒæŒ‡é’ˆæ¥è§£å†³ã€‚</p>
<p>Tipsï¼šåŒæŒ‡é’ˆå¹¶ä¸æ˜¯å›ºå®šçš„å…¬å¼ï¼Œè€Œæ˜¯ä¸€ç§æ€ç»´æ–¹å¼~</p>
<p>å…ˆæ¥çœ‹â€å€’æ•°ç¬¬kä¸ªå…ƒç´ çš„é—®é¢˜â€ã€‚è®¾æœ‰ä¸¤ä¸ªæŒ‡é’ˆ p å’Œ qï¼Œåˆå§‹æ—¶å‡æŒ‡å‘å¤´ç»“ç‚¹ã€‚é¦–å…ˆï¼Œå…ˆè®© p æ²¿ç€ next ç§»åŠ¨ k æ¬¡ã€‚æ­¤æ—¶ï¼Œp æŒ‡å‘ç¬¬ k+1ä¸ªç»“ç‚¹ï¼Œq æŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œä¸¤ä¸ªæŒ‡é’ˆçš„è·ç¦»ä¸º k ã€‚ç„¶åï¼ŒåŒæ—¶ç§»åŠ¨ p å’Œ qï¼Œç›´åˆ° p æŒ‡å‘ç©ºï¼Œæ­¤æ—¶ q å³æŒ‡å‘å€’æ•°ç¬¬ k ä¸ªç»“ç‚¹ã€‚å¯ä»¥å‚è€ƒä¸‹å›¾æ¥ç†è§£ï¼š</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> {</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">getKthFromEnd</span><span class="params">(ListNode* head, <span class="keyword">int</span> k)</span> </span>{</span><br><span class="line">        ListNode *p = head, *q = head; <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">while</span>(k--) {   <span class="comment">//å°† pæŒ‡é’ˆç§»åŠ¨ k æ¬¡</span></span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">while</span>(p != <span class="literal">nullptr</span>) {<span class="comment">//åŒæ—¶ç§»åŠ¨ï¼Œç›´åˆ° p == nullptr</span></span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">            q = q-&gt;next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> q;</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p>è·å–ä¸­é—´å…ƒç´ çš„é—®é¢˜ã€‚è®¾æœ‰ä¸¤ä¸ªæŒ‡é’ˆ fast å’Œ slowï¼Œåˆå§‹æ—¶æŒ‡å‘å¤´èŠ‚ç‚¹ã€‚æ¯æ¬¡ç§»åŠ¨æ—¶ï¼Œfastå‘åèµ°ä¸¤æ¬¡ï¼Œslowå‘åèµ°ä¸€æ¬¡ï¼Œç›´åˆ° fast æ— æ³•å‘åèµ°ä¸¤æ¬¡ã€‚è¿™ä½¿å¾—åœ¨æ¯è½®ç§»åŠ¨ä¹‹åã€‚fast å’Œ slow çš„è·ç¦»å°±ä¼šå¢åŠ ä¸€ã€‚è®¾é“¾è¡¨æœ‰ n ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆæœ€å¤šç§»åŠ¨ n/2 è½®ã€‚å½“ n ä¸ºå¥‡æ•°æ—¶ï¼Œslow æ°å¥½æŒ‡å‘ä¸­é—´ç»“ç‚¹ï¼Œå½“ n ä¸º å¶æ•°æ—¶ï¼Œslow æ°å¥½æŒ‡å‘ä¸­é—´ä¸¤ä¸ªç»“ç‚¹çš„é å‰ä¸€ä¸ª(å¯ä»¥è€ƒè™‘ä¸‹å¦‚ä½•ä½¿å…¶æŒ‡å‘åä¸€ä¸ªç»“ç‚¹å‘¢ï¼Ÿ)ã€‚</p>
<p>ä¸‹è¿°ä»£ç å®ç°äº† n ä¸º<strong>å¶æ•°</strong>æ—¶æ…¢æŒ‡é’ˆæŒ‡å‘<strong>é åç»“ç‚¹</strong>ã€‚</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> {</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">middleNode</span><span class="params">(ListNode* head)</span> </span>{</span><br><span class="line">        ListNode *p = head, *q = head;</span><br><span class="line">        <span class="keyword">while</span>(q != <span class="literal">nullptr</span> &amp;&amp; q-&gt;next != <span class="literal">nullptr</span>) {</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">            q = q-&gt;next-&gt;next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    } </span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p>æ˜¯å¦å­˜åœ¨ç¯çš„é—®é¢˜ã€‚å¦‚æœå°†å°¾ç»“ç‚¹çš„ next æŒ‡é’ˆæŒ‡å‘å…¶ä»–ä»»æ„ä¸€ä¸ªç»“ç‚¹ï¼Œé‚£ä¹ˆé“¾è¡¨å°±å­˜åœ¨äº†ä¸€ä¸ªç¯ã€‚</p>
<p>ä¸€éƒ¨åˆ†ä¸­ï¼Œæ€»ç»“å¿«æ…¢æŒ‡é’ˆçš„ç‰¹æ€§ â€”â€” æ¯è½®ç§»åŠ¨ä¹‹åä¸¤è€…çš„è·ç¦»ä¼šåŠ ä¸€ã€‚ä¸‹é¢ä¼šç»§ç»­ç”¨è¯¥ç‰¹æ€§è§£å†³ç¯çš„é—®é¢˜ã€‚<br>å½“ä¸€ä¸ªé“¾è¡¨æœ‰ç¯æ—¶ï¼Œå¿«æ…¢æŒ‡é’ˆéƒ½ä¼šé™·å…¥ç¯ä¸­è¿›è¡Œæ— é™æ¬¡ç§»åŠ¨ï¼Œç„¶åå˜æˆäº†è¿½åŠé—®é¢˜ã€‚æƒ³è±¡ä¸€ä¸‹åœ¨æ“åœºè·‘æ­¥çš„åœºæ™¯ï¼Œåªè¦ä¸€ç›´è·‘ä¸‹å»ï¼Œå¿«çš„æ€»ä¼šè¿½ä¸Šæ…¢çš„ã€‚å½“ä¸¤ä¸ªæŒ‡é’ˆéƒ½è¿›å…¥ç¯åï¼Œæ¯è½®ç§»åŠ¨ä½¿å¾—æ…¢æŒ‡é’ˆåˆ°å¿«æŒ‡é’ˆçš„è·ç¦»å¢åŠ ä¸€ï¼ŒåŒæ—¶å¿«æŒ‡é’ˆåˆ°æ…¢æŒ‡é’ˆçš„è·ç¦»ä¹Ÿå‡å°‘ä¸€ï¼Œåªè¦ä¸€ç›´ç§»åŠ¨ä¸‹å»ï¼Œå¿«æŒ‡é’ˆæ€»ä¼šè¿½ä¸Šæ…¢æŒ‡é’ˆã€‚</p>
<p>æ ¹æ®ä¸Šè¿°è¡¨è¿°å¾—å‡ºï¼Œå¦‚æœä¸€ä¸ªé“¾è¡¨å­˜åœ¨ç¯ï¼Œé‚£ä¹ˆå¿«æ…¢æŒ‡é’ˆå¿…ç„¶ä¼šç›¸é‡ã€‚å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> {</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">hasCycle</span><span class="params">(ListNode *head)</span> </span>{</span><br><span class="line">        ListNode *slow = head;</span><br><span class="line">        ListNode *fast = head;</span><br><span class="line">        <span class="keyword">while</span>(fast != <span class="literal">nullptr</span>) {</span><br><span class="line">            fast = fast-&gt;next;</span><br><span class="line">            <span class="keyword">if</span>(fast != <span class="literal">nullptr</span>) {</span><br><span class="line">                fast = fast-&gt;next;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(fast == slow) {</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            }</span><br><span class="line">            slow = slow-&gt;next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p>åä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœå­˜åœ¨ç¯ï¼Œå¦‚ä½•åˆ¤æ–­ç¯çš„é•¿åº¦å‘¢ï¼Ÿæ–¹æ³•æ˜¯ï¼Œå¿«æ…¢æŒ‡é’ˆç›¸é‡åç»§ç»­ç§»åŠ¨ï¼Œç›´åˆ°ç¬¬äºŒæ¬¡ç›¸é‡ã€‚ä¸¤æ¬¡ç›¸é‡é—´çš„ç§»åŠ¨æ¬¡æ•°å³ä¸ºç¯çš„é•¿åº¦ã€‚</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>é“¾è¡¨</tag>
        <tag>æ•°ç»„</tag>
        <tag>æŒ‡é’ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>DFS_é¢è¯•é¢˜_08.10_é¢œè‰²å¡«å……</title>
    <url>/Color_fill/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç¼–å†™å‡½æ•°ï¼Œå®ç°è®¸å¤šå›¾ç‰‡ç¼–è¾‘è½¯ä»¶éƒ½æ”¯æŒçš„ã€Œé¢œè‰²å¡«å……ã€åŠŸèƒ½ã€‚</p>
<p>å¾…å¡«å……çš„å›¾åƒç”¨äºŒç»´æ•°ç»„ image è¡¨ç¤ºï¼Œå…ƒç´ ä¸ºåˆå§‹é¢œè‰²å€¼ã€‚åˆå§‹åæ ‡ç‚¹çš„æ¨ªåæ ‡ä¸º sr çºµåæ ‡ä¸º scã€‚éœ€è¦å¡«å……çš„æ–°é¢œè‰²ä¸º newColor ã€‚</p>
<p>ã€Œå‘¨å›´åŒºåŸŸã€æ˜¯æŒ‡é¢œè‰²ç›¸åŒä¸”åœ¨ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘ä¸Šå­˜åœ¨ç›¸è¿æƒ…å†µçš„è‹¥å¹²å…ƒç´ ã€‚</p>
<p>è¯·ç”¨æ–°é¢œè‰²å¡«å……åˆå§‹åæ ‡ç‚¹çš„å‘¨å›´åŒºåŸŸï¼Œå¹¶è¿”å›å¡«å……åçš„å›¾åƒã€‚</p>
 <a id="more"></a>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">image = [[1,1,1],[1,1,0],[1,0,1]] </span><br><span class="line">sr = 1, sc = 1, newColor = 2</span><br><span class="line">è¾“å‡ºï¼š[[2,2,2],[2,2,0],[2,0,1]]</span><br><span class="line">è§£é‡Š: </span><br><span class="line">åˆå§‹åæ ‡ç‚¹ä½äºå›¾åƒçš„æ­£ä¸­é—´ï¼Œåæ ‡ (sr,sc)=(1,1) ã€‚</span><br><span class="line">åˆå§‹åæ ‡ç‚¹å‘¨å›´åŒºåŸŸä¸Šæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„åƒç´ ç‚¹çš„é¢œè‰²éƒ½è¢«æ›´æ”¹æˆ 2 ã€‚</span><br><span class="line">æ³¨æ„ï¼Œå³ä¸‹è§’çš„åƒç´ æ²¡æœ‰æ›´æ”¹ä¸º 2 ï¼Œå› ä¸ºå®ƒä¸å±äºåˆå§‹åæ ‡ç‚¹çš„å‘¨å›´åŒºåŸŸã€‚</span><br></pre></td></tr></tbody></table></figure>


<p>æç¤ºï¼š</p>
<ul>
<li>image å’Œ image[0] çš„é•¿åº¦å‡åœ¨èŒƒå›´ [1, 50] å†…ã€‚</li>
<li>åˆå§‹åæ ‡ç‚¹ (sr,sc) æ»¡è¶³ 0 &lt;= sr &lt; image.length å’Œ 0 &lt;= sc &lt; image[0].length ã€‚</li>
<li>image[i] [j] å’Œ newColor è¡¨ç¤ºçš„é¢œè‰²å€¼åœ¨èŒƒå›´ [0, 65535] å†…ã€‚</li>
</ul>
<h2 id="ğŸŒ¸è§£æ³•ï¼šDFS"><a href="#ğŸŒ¸è§£æ³•ï¼šDFS" class="headerlink" title="ğŸŒ¸è§£æ³•ï¼šDFS"></a>ğŸŒ¸è§£æ³•ï¼šDFS</h2><p>å› ä¸ºåªæ˜¯ä¿®æ”¹é¢œè‰²ï¼Œæ‰€ä»¥ä¸éœ€è¦è®°å½•è·¯å¾„ï¼Œåªéœ€è¦4ä¸ªæ–¹å‘æš´åŠ›æœç´¢å°±è¡Œ.</p>
<p>æ¨¡æ¿</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">if (è¶Šç•Œ||è·¯å¾„ä¸èƒ½èµ°){</span><br><span class="line">    return;</span><br><span class="line">}</span><br><span class="line">image[x][y] = newColor;    //æ ‡è®°ï¼Œæ›´æ¢é¢œè‰²</span><br><span class="line">for (int k = 0; k &lt; 4; k++){</span><br><span class="line">    helpfunc(image, x + next[k][0], y + next[k][1], oldColor, newColor);</span><br><span class="line">}</span><br><span class="line">//å¦‚æœéœ€è¦å›æº¯ï¼Œåœ¨è¿™é‡Œè¿›è¡Œæ¢å¤</span><br><span class="line">//image[x][y] = unchange_val;</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ä¸€ä¸ªå°å‘"><a href="#ä¸€ä¸ªå°å‘" class="headerlink" title="ä¸€ä¸ªå°å‘"></a>ä¸€ä¸ªå°å‘</h3><p>â€‹      å¦‚æœèµ·å§‹ç‚¹çš„é¢œè‰²æœ¬æ¥å°±æ˜¯ç›®æ ‡é¢œè‰²ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦è¿›è¡Œéå†æ›´æ”¹ã€‚å› ä¸ºæ‰€æœ‰ä»èµ·å§‹ç‚¹å¯è¾¾ä¸”é¢œè‰²ç›¸åŒçš„ç‚¹ï¼Œå®ƒä»¬çš„é¢œè‰²ä¹Ÿéƒ½å·²ç»æ˜¯ç›®æ ‡é¢œè‰²äº†ï¼Œä¸å¿…æ›´æ”¹ï¼›è€Œä¸èµ·å§‹ç‚¹é¢œè‰²ä¸åŒçš„é‚£äº›ç‚¹ï¼Œæœ¬æ¥å°±ä¸èƒ½æ›´æ”¹ï¼Œæ‰€ä»¥ä¸éœ€è¦è¿›è¡Œéå†</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] floodFill(<span class="keyword">int</span>[][] image, <span class="keyword">int</span> sr, <span class="keyword">int</span> sc, <span class="keyword">int</span> newColor) {</span><br><span class="line">	dfs(image, sr, sc, image[sr][sc], newColor);</span><br><span class="line">	<span class="keyword">return</span> image;</span><br><span class="line">	</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] image, <span class="keyword">int</span> sr, <span class="keyword">int</span> sc, <span class="keyword">int</span> val, <span class="keyword">int</span> newColor)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span>(sr &lt; <span class="number">0</span> || sr &gt; image.length - <span class="number">1</span> || sc &lt; <span class="number">0</span> || sc &gt; image[<span class="number">0</span>].length - <span class="number">1</span> || image[sr][sc] != val || val == newColor) {</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}<span class="keyword">else</span> {</span><br><span class="line">		image[sr][sc] = newColor;</span><br><span class="line"></span><br><span class="line">		dfs(image, sr + <span class="number">1</span>, sc, val, newColor);</span><br><span class="line">		dfs(image, sr, sc + <span class="number">1</span>, val, newColor);</span><br><span class="line">		dfs(image, sr - <span class="number">1</span>, sc, val, newColor);</span><br><span class="line">		dfs(image, sr, sc - <span class="number">1</span>, val, newColor);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
      </tags>
  </entry>
  <entry>
    <title>ACMåŸºç¡€æ•°å­¦</title>
    <url>/ACM_basic_mathematics/</url>
    <content><![CDATA[<p><strong>1.æœ€å¤§å…¬çº¦æ•°ï¼Œæœ€å°å…¬å€æ•°</strong></p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> z=y;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(x%y!=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">        z=x%y;</span><br><span class="line"></span><br><span class="line">        x=y;</span><br><span class="line"></span><br><span class="line">        y=zï¼›</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> z;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lcm</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> x*y/gcd(x,y);</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<a id="more"></a>

<p><strong>2.å¿«é€Ÿå¹‚</strong></p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">qpow</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> mod)</span><span class="comment">//a^b</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)</span><br><span class="line">        {</span><br><span class="line">            t=(t*a)%mod;</span><br><span class="line">            b--;</span><br><span class="line">        }</span><br><span class="line">        a=(a*a)%mod;</span><br><span class="line">        b&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> t;</span><br></pre></td></tr></tbody></table></figure>

<p><strong>&gt;&gt;çŸ©é˜µå¿«é€Ÿå¹‚ å¾ˆä¹…ä»¥å‰æ”¶é›†çš„æ¨¡æ¿ï¼Œäº²æµ‹å¯ç”¨</strong></p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Matrix</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">int</span> m[<span class="number">3</span>][<span class="number">3</span>];</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function">Matrix <span class="title">Mul</span><span class="params">(Matrix a,Matrix b)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"></span><br><span class="line">    Matrix c;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(c.m,<span class="number">0</span>,<span class="keyword">sizeof</span>(c.m));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">3</span>;j++)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;<span class="number">3</span>;k++)</span><br><span class="line"></span><br><span class="line">                c.m[i][j] += ((a.m[i][k]*b.m[k][j])%SMod + SMod)%SMod;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">Matrix <span class="title">fastm</span><span class="params">(Matrix a,<span class="keyword">int</span> n)</span> </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Matrix res;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(res.m,<span class="number">0</span>,<span class="keyword">sizeof</span>(res.m));</span><br><span class="line"></span><br><span class="line">    res.m[<span class="number">0</span>][<span class="number">0</span>] = res.m[<span class="number">1</span>][<span class="number">1</span>] = res.m[<span class="number">2</span>][<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(n)</span><br><span class="line"></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span>(n&amp;<span class="number">1</span>)</span><br><span class="line">            res = Mul(res,a);</span><br><span class="line"></span><br><span class="line">        n&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">        a = Mul(a,a);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">Matrix <span class="title">MPow</span><span class="params">(Matrix a,<span class="keyword">int</span> n)</span>  <span class="comment">//ç¬¬äºŒç§å†™æ³•,æ…ç”¨,æ˜“RE</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line"></span><br><span class="line">    Matrix res = fastm(a,n/<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    res = Mul(res,res);</span><br><span class="line">   <span class="keyword">if</span>(n&amp;<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        res = Mul(res,a);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p> <strong>å¦å¤–ä¸€ç§</strong></p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Matrix</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"></span><br><span class="line">    lll m[<span class="number">13</span>][<span class="number">13</span>];</span><br><span class="line"></span><br><span class="line">    Matrix()</span><br><span class="line"></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">        <span class="built_in">memset</span>(m,<span class="number">0</span>,<span class="keyword">sizeof</span>(m));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n+<span class="number">2</span>;i++)</span><br><span class="line"></span><br><span class="line">            m[i][i] = <span class="number">1L</span>L;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function">Matrix <span class="title">Mul</span><span class="params">(Matrix a,Matrix b)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"></span><br><span class="line">    Matrix res;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> i,j,k;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n+<span class="number">2</span>;i++)</span><br><span class="line"></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=n+<span class="number">2</span>;j++)</span><br><span class="line"></span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">            res.m[i][j] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(k=<span class="number">1</span>;k&lt;=n+<span class="number">2</span>;k++)</span><br><span class="line">                res.m[i][j] = (res.m[i][j]+(a.m[i][k]*b.m[k][j])%SMod + SMod)%SMod;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">Matrix <span class="title">fastm</span><span class="params">(Matrix a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"></span><br><span class="line">    Matrix res;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line"></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)</span><br><span class="line">            res = Mul(res,a);</span><br><span class="line">        a = Mul(a,a);</span><br><span class="line"></span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p> <strong>å¯¹å…ƒç´ 0è¾ƒå¤šçš„çŸ©é˜µå–å¿«é€Ÿå¹‚æ—¶å¯åœ¨Mulå‡½æ•°ä¸­åŠ ä¸€ä¸ªå°ä¼˜åŒ–ï¼š</strong></p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function">Matrix <span class="title">Mul</span><span class="params">(Matrix a,Matrix b)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Matrix res;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> i,j,k;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(res.m,<span class="number">0</span>,<span class="keyword">sizeof</span>(res.m));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(k=<span class="number">1</span>;k&lt;=n+<span class="number">2</span>;k++)</span><br><span class="line"></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n+<span class="number">2</span>;i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(a.m[i][k])</span><br><span class="line"></span><br><span class="line">            {</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=n+<span class="number">2</span>;j++)</span><br><span class="line"></span><br><span class="line">                    res.m[i][j] = (res.m[i][j]+(a.m[i][k]*b.m[k][j])%SMod + SMod)%SMod;</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>3.æ’åˆ—ç»„åˆ</strong></p>
<p><strong><img src="https://images2018.cnblogs.com/blog/1458413/201808/1458413-20180806171419851-479703983.png" alt="img"></strong></p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function">LL <span class="title">A</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> m)</span><span class="comment">//n&gt;=m</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;m)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(m--)</span><br><span class="line"></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">        ans*=n;</span><br><span class="line">  n--;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function">LL <span class="title">C</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> m)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(n&lt;m)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> A(n,m)/A(m,m);</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p> ç»„åˆæ•°æ€§è´¨ï¼šä»è¿™çœ‹åˆ°çš„ï¼š<a href="https://blog.csdn.net/litble/article/details/75913032" target="_blank" rel="noopener">https://blog.csdn.net/litble/article/details/75913032</a></p>
<p><img src="https://images2018.cnblogs.com/blog/1458413/201808/1458413-20180807092033984-886826912.png" alt="img"></p>
<p><img src="https://images2018.cnblogs.com/blog/1458413/201808/1458413-20180807092042262-2121295377.png" alt="img"></p>
<p><img src="https://images2018.cnblogs.com/blog/1458413/201808/1458413-20180807092055838-1849485820.png" alt="img"></p>
<p><img src="https://images2018.cnblogs.com/blog/1458413/201808/1458413-20180807092106829-1242924198.png" alt="img"></p>
<p><img src="https://images2018.cnblogs.com/blog/1458413/201808/1458413-20180807092115984-915400971.png" alt="img"></p>
<p><img src="https://images2018.cnblogs.com/blog/1458413/201808/1458413-20180807092130715-1600490627.png" alt="img"></p>
<p><img src="https://images2018.cnblogs.com/blog/1458413/201808/1458413-20180807092226548-1935049046.png" alt="img"></p>
<p><strong>4.é”™æ’</strong></p>
<p><strong>D(n) = (n-1) [D(n-2) + D(n-1)]ï¼ˆnç‰©å“å…¨éƒ¨é”™ä½çš„æ–¹æ¡ˆæ•°ï¼‰</strong></p>
<p><strong>D(n) = n! [(-1)^2/2! + â€¦ + (-1)^(n-1)/(n-1)! + (-1)^n/n!].</strong></p>
<p><strong>è®°ä½å…¬å¼å°±çŸ¥é“ä»£ç äº†</strong></p>
<p><strong>5.è´¹é©¬å°å®šç†ï¼š</strong> å‡å¦‚pæ˜¯<a href="https://baike.baidu.com/item/è´¨æ•°" target="_blank" rel="noopener">è´¨æ•°</a>ï¼Œä¸”gcd(a,p)=1ï¼Œé‚£ä¹ˆ a^(p-1)â‰¡1(mod p)ã€‚ï¼ˆå¦‚æœaä¸ºæ•´æ•°ï¼Œpä¸ºè´¨æ•°ï¼Œaå’Œpäº’è´¨ï¼Œåˆ™açš„p-1æ¬¡å¹‚å¯¹på–æ¨¡æ°¸è¿œç­‰äº1ï¼‰</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>æ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>ACMä¼ å¥‡ä¹‹è·¯(ç´§æ¡ç€è‡ªå·±é¢¤æŠ–çš„åŒæ‰‹)</title>
    <url>/acm_road/</url>
    <content><![CDATA[<p>ä»æˆ‘æ¥è§¦ç¨‹åºç«èµ›åˆ°ç°åœ¨åº”è¯¥æœ‰åå¤šå¹´äº†ï¼Œå•è¯´ACMç«èµ›ï¼Œä»ç¬¬ä¸€æ¬¡éæ­£å¼å‚èµ›åˆ°ç°åœ¨ä¹Ÿå·®ä¸å¤šæœ‰7å¹´å¤šçš„æ ·å­ã€‚æœ‰å¤ªå¤šçš„æ•…äº‹ï¼Œæƒ³è¯´çš„è¯ï¼Œå´ä¸€ç›´æ²¡èƒ½æœ‰æœºä¼šå†™ä¸‹æ¥ã€‚ä¸€æ–¹é¢æ˜¯è‡ªå·±å¿™ï¼Œä¸€æ–¹é¢ä¹Ÿæ˜¯è‡ªå·±æ‡’ã€‚æ‰€ä»¥å¾ˆæ„Ÿè°¢èƒ½æœ‰äººâ€œé€¼â€æˆ‘æ¥å†™ç‚¹ä»€ä¹ˆã€‚æƒ³åˆ°ä¼šæœ‰å¾ˆå¤šäººæ¥è¯»æˆ‘å†™çš„æ–‡å­—ï¼Œè‡ªå·±ä¹Ÿè§‰å¾—å¾ˆå¼€å¿ƒã€‚å…¶å®æ¯ä¸ªäººçš„ç”Ÿæ´»éƒ½æ˜¯ä¸€éƒ¨ç”µå½±ï¼Œåªæ˜¯æ²¡æœ‰é‚£ä¹ˆå¤šå¹¸è¿çš„äººæœ‰æœºä¼šå»è¯‰è¯´ã€‚è¿™é‡Œï¼Œä¸”è¯´ä¸‰ä¸ªå°æ•…äº‹ã€‚ </p>
<a id="more"></a>

<p>ä¸€ä¸ªå…³äºä»°æœ›ï¼Œå´‡æ‹œå’Œæ¢¦æƒ³çš„æ•…äº‹ </p>
<p>2000å¹´ï¼Œæœ‰ä¸€ä¸ªå¤©æ‰çš„é«˜ä¸­ç”Ÿï¼Œåœ¨IMOï¼ˆå›½é™…æ•°å­¦å¥¥æ—åŒ¹å…‹ç«èµ›ï¼‰ä¸­ä»¥æ»¡åˆ†è·å¾—äº†é‡‘ç‰Œå¹¶æå‰ä¸€å¹´è¿›å…¥åŒ—å¤§è¯»ä¹¦ã€‚åœ¨ä»–å‰å¾€åŒ—å¤§ä¹‹å‰ï¼Œä»–å—é‚€åˆ°ä»–æ¯•ä¸šçš„å°å­¦ç»™äº†ä¸€ä¸ªæ¼”è®²ã€‚è€Œå¬ä¼—é‡Œé¢æœ‰ä¸€ä¸ªä¸‰å¹´çº§çš„å°æ­£å¤ªï¼Œæ¼”è®²å•¥ä¹Ÿæ²¡è®°ä½ï¼Œå€’æ˜¯åœ¨å¿ƒé‡ŒåŸ‹ä¸‹äº†ä¸€ä¸ªå°å°çš„æ¢¦æƒ³ï¼šâ€œæˆ‘ä¹Ÿæƒ³ä»£è¡¨ä¸­å›½å»æ‹¿é‡‘ç‰Œâ€ã€‚ </p>
<p>10å¹´åè¿™ä¸ªå¤©æ‰é«˜ä¸­ç”Ÿåšå£«æ¯•ä¸šï¼Œå¹¶å—é‚€å›åˆ°ä»–æ¯•ä¸šçš„é«˜ä¸­åˆç»™äº†ä¸€ä¸ªæ¼”è®²ï¼Œå½“å¹´çš„å°æ­£å¤ªå˜æˆäº†å°‘å¹´ï¼Œåˆæ°å¥½åœ¨å¬ä¼—å¸­é‡Œã€‚è¿™ä¸ªå°‘å¹´åˆšåˆšå…¥é€‰äº†ä¿¡æ¯å­¦å¥¥æ—åŒ¹å…‹ä¸­å›½å›½å®¶é˜Ÿï¼Œå°†ä»£è¡¨ä¸­å›½å»åŠ æ‹¿å¤§å‚åŠ å›½é™…æ¯”èµ›ã€‚ </p>
<p>è¿™ä¸ªå¤©æ‰é«˜ä¸­ç”Ÿå«æ½ä¹‹ç®ï¼Œæ‹‰é©¬åŠªé‡‘å¥–å¾—ä¸»ï¼Œç›®å‰åœ¨æ–¯å¦ç¦å¤§å­¦ä»»æ•™ï¼›è€Œé‚£ä¸ªå°æ­£å¤ªï¼Œä¹Ÿå°±æ˜¯é‚£ä¸ªå°‘å¹´ï¼Œåæ¥éå¸¸ä¸¢äººçš„æ‹¿åˆ°äº†å›½é™…æ¯”èµ›çš„é“¶ç‰Œï¼Œåˆåœ¨ACMç«èµ›åœˆå­é‡Œæ™ƒæ‚ äº†ä¸€åœˆï¼Œç°åœ¨ä¹Ÿè·‘åˆ°ç¾å›½è¯»åšå£«äº†ã€‚å¾ˆä¸å¹¸ï¼Œä¸–ç•Œæ²¡èƒ½ç‹—è¡€åˆ°å†åº¦äº§ç”Ÿä¸€ä¸ªè«æ‰ç‰¹å’Œè´å¤šèŠ¬çš„æ•…äº‹ã€‚å°‘å¹´è‡ªç„¶æ²¡æ³•å’Œå¤©æ‰ç›¸æ¯”æ‹Ÿï¼Œä¸è¿‡èµ·ç åœ¨éœ€è¦å†™å†™æ–‡å­—çš„æ—¶å€™ï¼Œå°‘å¹´çš„æ•…äº‹å¯ä»¥è¿™æ ·å¼€å¤´ï¼šâ€œæˆ‘æœ‰ä¸€ä¸ªæ¢¦æƒ³â€ã€‚ </p>
<p>å°å­¦çš„æ—¶å€™å‚åŠ è®¡ç®—æœºå…´è¶£å°ç»„ï¼Œä»é‚£é‡Œæ¥è§¦äº†ç¼–ç¨‹ã€‚ä¸è¿‡ï¼Œè¦è¯´çœŸæ­£è¢«å¸¦å…¥äº†ç¨‹åºç«èµ›è¿™æ¡ä¸å½’è·¯ï¼Œé‚£è¿˜å¾—å½’åŠŸäºæˆ‘çš„æ©å¸ˆï¼Œå¸¸å·é«˜çº§ä¸­å­¦çš„æ›¹æ–‡è€å¸ˆçš„é¡¶çº§å¿½æ‚ èƒ½åŠ›ã€‚ </p>
<p>æˆ‘ä»åˆä¸€å¼€å§‹è·Ÿç€æ›¹è€å¸ˆå­¦ä¹ ä¿¡æ¯å­¦ç«èµ›ï¼Œæ›¹è€å¸ˆæœ€å–œæ¬¢æœ‰äº‹æ²¡äº‹çš„æ‰¯ä»–è¿‡å»çš„å­¦ç”Ÿçš„æ•…äº‹ï¼Œä»¥åŠç«èµ›åœˆé‡Œçš„å…«å¦ã€‚ä¹Ÿæ­£æ˜¯é‚£ä¸ªæ—¶å€™ï¼Œä»æ›¹è€å¸ˆçš„å£ä¸­ï¼Œæˆ‘çŸ¥é“äº†ä¸–ç•Œä¸Šè¿˜æœ‰ACMè¿™ä¹ˆä¸ªç©æ„ã€‚è¿˜è®°å¾—æŸä¸€å¤©ï¼Œæ›¹è€å¸ˆåˆåœ¨èƒ¡ä¾ƒï¼šâ€œACMæ¯”èµ›ä¸€å…±æœ‰4æ‰€å¤§å­¦å¤ºå¾—è¿‡2æ¬¡ä¸–ç•Œå† å†›ï¼šä¸Šæµ·äº¤é€šå¤§å­¦ï¼Œåœ£å½¼å¾—å ¡ITMOï¼Œåæ²™å¤§å­¦è¿˜æœ‰æ–¯å¦ç¦å¤§å­¦ã€‚â€è¯´å‡ºæ¥ä¸æ€•ç¬‘è¯ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡å¬åˆ°æ–¯å¦ç¦å¤§å­¦è¿™ä¸ªåå­—ã€‚æ‰€ä»¥æ–¯å¦ç¦å¤§å­¦ç»™æˆ‘çš„ç¬¬ä¸€å°è±¡å°±æ˜¯ï¼šä¸¤æ¬¡ä¸–ç•Œå† å†›çš„å­¦æ ¡ï¼è¯´å¥é¢˜å¤–è¯ï¼šå› ä¸ºæ½ä¹‹ç®çš„åŸå› ï¼Œæˆ‘å–œæ¬¢äº†åŒ—å¤§å¾ˆé•¿æ—¶é—´ï¼Œä¹Ÿå› ä¸ºæ›¹è€å¸ˆçš„è¿™å¥èƒ¡ä¾ƒï¼Œè®©æ–¯å¦ç¦æˆäº†æˆ‘æœ€å‘å¾€çš„å¤§å­¦ï¼›ä¸è¿‡é€ åŒ–å¼„äººï¼Œæˆ‘çš„æœ¬ç§‘åœ¨åŒ—å¤§çš„éš”å£åº¦è¿‡ï¼Œè€Œåšå£«ï¼Œåˆè·‘åˆ°äº†æ–¯å¦ç¦çš„éš”å£ã€‚ </p>
<p>æ›¹è€å¸ˆå…«å¦çš„æ€§æ ¼ï¼Œä¹Ÿæ½œç§»é»˜åŒ–çš„å½±å“äº†æˆ‘ã€‚å¹³æ—¶æ²¡äº‹çš„æ—¶å€™ï¼Œå°±ç‰¹åˆ«å–œæ¬¢ç¿»é˜…å¾€å¹´çš„OIæ¯”èµ›çš„æˆç»©å•ï¼Œè¿˜æœ‰ACMä¸–ç•Œæ€»å†³èµ›çš„åå•ã€‚ç›´åˆ°ç°åœ¨ï¼Œæˆ‘éƒ½å¯ä»¥å¦‚æ•°å®¶ççš„è¯´å‡ºä¹‹å‰è¿‘10å¹´çš„ä¿¡æ¯å­¦ç«èµ›ä¸­å›½å›½å®¶é˜Ÿï¼ˆç”šè‡³ç¾å›½å›½å®¶é˜Ÿï¼‰çš„é˜Ÿå‘˜åå•ï¼Œæˆ–è€…ACMä¸–ç•Œæ€»å†³èµ›æ¸…åï¼Œäº¤å¤§çš„é˜Ÿå‘˜åå­—ï¼Œä»¥åŠä»–ä»¬çš„åæ¬¡ã€‚å¯¹äºä¸€ä¸ªåˆä¸­çš„å­©å­ï¼Œç¿»ç€è¿™äº›åå­—ï¼Œå¬ç€è¿™äº›æ•…äº‹ï¼Œæˆ‘æ— æ³•ç”¨è¨€è¯­æè¿°é‚£æ˜¯æˆ‘å¿ƒä¸­çš„æ¿€åŠ¨ï¼Œå¥½åƒè¿™äº›æ•…äº‹ï¼Œå‘ç”Ÿåœ¨ä¸€ä¸ªæ— ä¸ä¼¦æ¯”çš„ï¼Œå¹¿é˜”çš„ä¸–ç•Œï¼Œè€Œè¿™äº›åå­—ï¼Œå°±çŠ¹å¦‚å¤œç©ºä¸­çš„æ˜Ÿæ˜Ÿä¸€æ ·ï¼Œé—ªè€€ï¼Œå¤ºç›®ã€‚åæ¥çš„å¾ˆå¤šå¹´ä¸­ï¼Œæˆ‘å¾ˆæœ‰å¹¸å‡ ä¹å…¨éƒ¨è§è¿‡æˆ–è€…æ¥è§¦è¿‡äº†è¿™äº›å½“å¹´åœ¨æˆ‘å¿ƒä¸­çŠ¹å¦‚æµ©ç€šæ˜Ÿè¾°èˆ¬çš„ç¥ä»¬ã€‚ä»–ä»¬åº”è¯¥å¾ˆéš¾æƒ³è±¡ï¼Œå½“æˆ‘ç¬¬ä¸€æ¬¡è§åˆ°ä»–ä»¬çš„æ¿€åŠ¨çš„å¿ƒæƒ…ã€‚é‚£ç§æ„Ÿè§‰ï¼Œå’Œæ­Œè¿·è§åˆ°ä»–ä»¬çš„å¶åƒä¸€æ ·ã€‚é‚£æ—¶å€™å¿ƒä¸­åŸ‹è—å¾ˆå¤šå¹´çš„å°å°çš„æ‰§å¿µï¼Œä¹Ÿä¸è¿‡å°±æ˜¯è§ä»–ä»¬ä¸€æ¬¡ã€‚ç”šè‡³ç›´åˆ°ç°åœ¨ï¼Œå¯¹ä¸€äº›äººï¼Œè¿˜æ˜¯è¿™æ ·ã€‚ </p>
<p>åˆä¸­çš„æ—¶å€™æœ€å–œæ¬¢å‚åŠ çœé‡Œçš„å¤ä»¤è¥ï¼Œå†¬ä»¤è¥ï¼Œé‚£æ—¶å€™å¹´çºªå°ï¼Œæœ€å–œæ¬¢è·Ÿåœ¨å¸ˆå…„çš„åé¢ï¼Œå¬ç€å¸ˆå…„ä»¬è®²ç€æˆ‘å¬ä¸æ‡‚çš„ç®—æ³•ï¼Œæ‰“ç€æˆ‘æ²¡ç©è¿‡çš„æ¸¸æˆï¼ˆæˆ‘å¯¹ä»™å‰‘çš„æ‰§å¿µä¹Ÿæ˜¯ä»é‚£ä¸ªæ—¶å€™å¼€å§‹çš„ï¼‰ï¼›åˆä¸‰çš„æš‘å‡æˆ‘æœ‰å¹¸åˆ°äº†ä¸Šæµ·äº¤é€šå¤§å­¦ACMé˜Ÿè®­ç»ƒäº†ä¸€ä¸ªæœˆï¼Œä½œä¸ºä¸€ä¸ªåˆä¸­ç”Ÿï¼Œæˆ‘ç¬¬ä¸€æ¬¡è§åˆ°äº†ï¼Œå›½å†…é¡¶å°–çš„å¤§å­¦ï¼Œé¡¶å°–çš„å¤§å­¦ç”Ÿæ˜¯æ€ä¹ˆæ ·çš„ï¼Œä¹Ÿé‡åˆ°äº†æˆ‘æ— æ¯”å°Šæ•¬å’Œæ„Ÿæ©çš„ï¼Œä¸Šæµ·äº¤é€šå¤§å­¦ACMç­çš„ä¿å‹‡è€å¸ˆï¼›åˆ°äº†é«˜ä¸­å¼€å§‹ä»¥éæ­£å¼é˜Ÿä¼çš„èº«ä»½å‚åŠ ACMåŒºåŸŸèµ›ï¼Œä¹Ÿå°±æ€»ç®—å¯ä»¥äº²çœ¼çœ‹ä¸€çœ‹ï¼Œé‚£äº›ä¼ è¯´ä¸­çš„äººï¼Œè¿˜å¯ä»¥å†²ä¸Šå»å’Œä»–ä»¬åˆä¸€å¼ å½±ï¼Œç„¶åæ¿€åŠ¨çš„æ™šä¸Šç¡ä¸ç€è§‰ï¼›ä¸Šäº†å¤§å­¦ï¼Œå¤§äºŒæš‘å‡æˆ‘åˆ°ç¾å›½Facebookå…¬å¸æ€»éƒ¨å®ä¹ ï¼Œåœ¨æ¹¾åŒºè§åˆ°äº†æ›´è€ä¸€è¾ˆçš„ï¼Œé‚£äº›å¦‚é›·è´¯è€³çš„åå­—ã€‚ </p>
<p>å…‰é˜´èè‹’ï¼Œæ—¶å…‰åŒ†åŒ†æµé€ï¼Œå¥½äº›ç”»é¢åœ¨å¿ƒé‡Œä¾ç„¶æ˜¯é‚£ä¹ˆæ¸…æ™°ã€‚è®²è®²é‚£äº›åå­—å§ã€‚åˆä¸­æ¯æ¬¡å‚åŠ çœé‡Œç»„ç»‡çš„ä¿¡æ¯å­¦å†¬ä»¤è¥å¤ä»¤è¥éƒ½ä¼šåš·åš·ï¼Œæˆ‘è¦æ˜¯èƒ½è§ä¸€é¢æœ±æ³½å›­ï¼ˆIOIé‡‘ç‰Œï¼ŒACMæ€»å†³èµ›äºšå†›ï¼ŒMITåšå£«ï¼‰å°±å¥½äº†ï¼Œåæ¥é«˜äºŒæ—¶åœ¨ACMæ­å·èµ›åŒºæ€»ç®—è§åˆ°äº†ï¼Œå½“æ—¶è¿˜è§åˆ°äº†ä»–çš„ä¸¤ä½é˜Ÿå‹ï¼šæ¥¼å¤©æˆï¼ˆæ¥¼æ•™ä¸»ï¼Œåœˆå†…äººå£«åº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰ï¼‰å’Œå‘¨æºï¼ˆIOIæ»¡åˆ†ï¼ŒACMæ€»å†³èµ›äºšå†›ï¼ŒCMUåšå£«ï¼‰ï¼Œå½“æ—¶æ§ç€é‚£å¼ åˆå½±ï¼Œç®€ç›´æ¯”æ‹¿äº†å† å†›è¿˜æ¿€åŠ¨ï¼›åˆä¸‰æš‘å‡åœ¨äº¤å¤§ï¼Œç¬¬ä¸€æ¬¡åœ¨æœºæˆ¿é‡Œè§åˆ°äº†ä»°æ…•å·²ä¹…çš„æˆ´æ–‡æ¸Šï¼ˆACMä¸–ç•Œå† å†›ï¼Œç›®å‰å°±èŒäºåä¸ºè¯ºäºšæ–¹èˆŸå®éªŒå®¤ï¼‰ï¼Œåæ¥æ¯æ¬¡åªè¦æœ‰æœºä¼šéƒ½è¦è¹¦è¹¦è·³è·³çš„è·‘å»æ‰¾æˆ´æ–‡æ¸Šåˆå½±ï¼›é«˜ä¸€åœ¨ACMå—äº¬èµ›åŒºï¼Œç¬¬ä¸€æ¬¡è§åˆ°äº†å”æ–‡æ–Œï¼ˆACMæ€»å†³èµ›ä¸–ç•Œç¬¬å…­ï¼ŒFace++ CEOï¼‰ï¼Œä»¥åŠä»–çš„ä¸¤ä¸ªé˜Ÿå‹ç‹æ ‹ï¼ˆIOIé‡‘ç‰Œï¼‰å’Œé¾™å‡¡ï¼ˆIOIé‡‘ç‰Œï¼ŒMITåšå£«ï¼‰ï¼Œå½“ç„¶è¿˜è§åˆ°äº†å› ä¸ºæ¯”ç ¸äº†å¿ƒæƒ…ä¸å¥½è€Œæ‹’ç»æˆ‘åˆå½±è¯·æ±‚çš„éƒ­åé˜³ï¼ˆIOIé‡‘ç‰Œï¼Œå°±èŒäºFacebookï¼‰ã€‚å½“æ—¶æˆ‘å¯èƒ½åšæ¢¦ä¹Ÿæƒ³ä¸åˆ°ï¼Œè¿‡äº†è‹¥å¹²å¹´ï¼Œæˆ‘ä¼šå’Œå”æ–‡æ–Œä¸€èµ·ååœ¨ç«è½¦çš„é¤è½¦åœ°ä¸Šæ‰“ç‰Œï¼Œä¼šå’Œéƒ­åé˜³åœ¨çº½çº¦æ›¼å“ˆé¡¿ç¡ä¸Šä¸‹é“ºã€‚åæ¥è¿›äº†å¤§å­¦ï¼Œå’Œè´å°è¾‰æˆäº†å¥½æœ‹å‹ï¼Œæ¥¼å¤©æˆæˆäº†æˆ‘çš„åŠ©æ•™ï¼Œèƒ¡ä¼Ÿæ ‹ï¼ˆIOIé‡‘ç‰Œï¼ŒACMä¸–ç•Œäºšå†›ï¼‰ä¼šè¯·æˆ‘åƒé¥­ï¼›æˆ‘æ›´ä¸ä¼šæƒ³åˆ°ï¼Œå†åæ¥ï¼Œå¼ ä¸€é£ï¼ˆIOIä¸¤æšé‡‘ç‰Œå¾—ä¸»ï¼Œå°±èŒäºFacebookï¼‰ä¼šç»™æˆ‘æ¨èç®€å†ï¼Œæˆ‘ä¼šå’Œç¬¦æ–‡æ°ï¼ˆä¸­å›½å”¯ä¸€IOIï¼ŒIMOåŒå›½å®¶é˜Ÿæˆå‘˜ï¼Œå°±èŒäºFacebookï¼‰ä¸€èµ·åƒé¥­ï¼Œå’Œä¾¯å¯æ˜ï¼ˆNOIå†å²ä¸Šå”¯ä¸€çš„æ»¡åˆ†ï¼ŒIOIé‡‘ç‰Œï¼Œæµ™æ±Ÿå¤§å­¦å‰¯æ•™æˆï¼‰ä¸€èµ·æ‰¯æ·¡ã€‚å½“ç„¶äº†ï¼Œè¿›å…¥å¤§å­¦ä»¥åï¼Œæˆ‘ä¸ä¼šå†ç«¯ç€ç›¸æœºå››å¤„åˆå½±äº†ã€‚ </p>
<p>ç°åœ¨çœ‹ï¼Œè¿™äº›åå­—ä¹Ÿå¾ˆæ™®é€šï¼Œä¹Ÿå¾ˆå¹³å¸¸ï¼Œå¾ˆå¤šè¿‡å»çš„æ•…äº‹ï¼Œå¯èƒ½åœ¨èŒ¶ä½™é¥­åéƒ½ä¸ä¼šè¢«æèµ·äº†ã€‚ä½†æ˜¯ä¸–ç•Œä¸Šæ¯•ç«Ÿæœ‰è¿™ä¹ˆä¸€ä¸ªå°æ•…äº‹æ›¾å‘ç”Ÿè¿‡ï¼šåœ¨å¾ˆå¤šå¾ˆå¤šå¹´å‰ï¼Œæ›¾ç»æœ‰ä¸€ä¸ªå°æ­£å¤ªï¼Œæ¯å¤©å¿µå¨ç€è¿™äº›åå­—ï¼Œåœ¨å¿ƒé‡ŒåŸ‹ä¸‹å°å°çš„æ¢¦æƒ³ï¼Œç„¶åä¸€æ­¥ä¸€æ­¥çš„ï¼Œä»–è§åˆ°äº†è¿™äº›ä»–æˆå¤©å¿µå¨çš„äººï¼Œå’Œä»–ä»¬æˆäº†æœ‹å‹ã€‚å¤šå¹´ä»¥åï¼Œä»–çš„æ¢¦æƒ³æœ¬èº«ï¼Œä¹Ÿè®¸æ­¤æ—¶æ­£åŒ–ä½œä¸€ä¸ªæ·¡ç„¶çš„å¾®ç¬‘ã€‚ </p>
<p>ä¸€ä¸ªå…³äºå›ºæ‰§ï¼ŒåšæŒå’Œè‡ªä¿¡çš„æ•…äº‹ </p>
<p>ä»å°å­¦å¼€å§‹å‚åŠ ä¿¡æ¯å­¦æ¯”èµ›ï¼Œé«˜ä¸€å¼€å§‹å‚åŠ ACMåŒºåŸŸèµ›ï¼Œä¸€ç›´åˆ°ç°åœ¨åšå£«è¿˜åœ¨å‚èµ›ã€‚è¿™ä¹ˆå¤šå¹´äº†ï¼Œæœ‰æ—¶è‡ªå·±éƒ½ä¼šæ„Ÿæ…¨ã€‚æ¯å¹´å‚åŠ æ¯”èµ›è¿™ä»¶äº‹æƒ…ï¼Œå¥½åƒå·²ç»å¿«æˆä¸ºæˆ‘ç”Ÿæ´»çš„ä¸€éƒ¨åˆ†äº†ã€‚è®°å¾—æœ‰ä¸€æ¬¡åœ¨ACMåŒºåŸŸèµ›çš„æ—¶å€™å‘è¨€ï¼Œæˆ‘è¯´ACMæ˜¯æˆ‘çš„åˆæ‹ï¼Œç°åœ¨çœ‹ï¼Œå¯èƒ½ACMæˆäº†æˆ‘çš„ç”Ÿæ´»äº†å§ã€‚æ‡µæ‡‚ï¼Œçƒ­çƒˆï¼ŒåšæŒï¼Œæ·¡ç„¶ï¼Œå…¶å®çˆ±æƒ…ä¹Ÿä¸è¿‡å¦‚æ­¤ï¼Œæœ€åæ‰€æœ‰çš„ä¸€åˆ‡ï¼Œéƒ½åŒ–ä½œäº†ç”Ÿæ´»ã€‚ </p>
<p>å¾ˆå¤šäººé—®æˆ‘ï¼Œè¿™ä¹ˆå¤šå¹´äº†ä½ æ€ä¹ˆè¿˜åœ¨å‚èµ›å‘¢ï¼ŒèŠ±è´¹è¿™ä¹ˆå¤šç²¾åŠ›ï¼Œæ—¶é—´ï¼Œåˆ°åº•æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå…¶å®æˆ‘ä¹Ÿå¿«è¯´ä¸æ¸…æ¥šäº†ã€‚å¾ˆå°å¾ˆå°çš„æ—¶å€™ï¼Œé‚£æ—¶å€™æ•™æ•°å­¦å¥¥èµ›çš„è€å¸ˆå«Œæˆ‘è´ªç©è®­æ–¥æˆ‘é„™è§†æˆ‘çš„æ™ºå•†ã€‚å°å­©å­è‡ªå°Šå¿ƒæ€»æ˜¯ç‰¹åˆ«å¼ºï¼Œæƒ³ç€æˆ‘æ¢ä¸ªåœ°æ–¹è¯æ˜æˆ‘æ¯”é‚£äº›ä½ å–œæ¬¢çš„äººéƒ½å‰å®³ï¼Œæœ€åå·®ä¸å¤šæ˜¯åšåˆ°äº†ï¼›åˆ°äº†åˆä¸­ï¼Œæˆ‘æƒ³æ¯”é‚£äº›å¸ˆå…„å¸ˆå§ä»¬éƒ½å‰å®³ï¼Œè¦åšå…¨å›½ä¸€æµçš„é€‰æ‰‹ï¼Œåæ¥å·®ä¸å¤šä¹Ÿåšåˆ°äº†ï¼›åˆ°äº†é«˜ä¸­å‘ç°å¥½åƒåœ¨æˆ‘èº«è¾¹çš„å¸ˆå…„ï¼ŒåŒå­¦è¶…ä¸è¿‡äº†ï¼ˆæä¸€ä¸‹ï¼Œæœ‰ä¸€ä¸ªé«˜ä¸­å¸ˆå…„å«é‡‘æ–Œï¼ŒTCOä¸–ç•Œå† å†›ï¼ŒACMæ€»å†³èµ›å† å†›äºšå†›å„ä¸€æ¬¡ï¼Œè¿˜æœ‰ä¸€ä¸ªé«˜ä¸­å¸ˆå…„å«å´å“æ°ï¼ŒACMæ€»å†³èµ›å† å†›ï¼Œç›®å‰éƒ½å°±èŒäºGoogleï¼‰ï¼Œæˆ‘å°±æƒ³æˆ‘å¯ä»¥åˆ°äº†å¤§å­¦å‚åŠ ACMï¼Œåœ¨ACMèµ›åœºä¸Šè¶…è¿‡ä»–ä»¬ï¼›åˆ°äº†å¤§å­¦ï¼Œåšå·¥ç¨‹çš„ä¸æ–­å®ä¹ åšé¡¹ç›®ï¼Œåšç§‘ç ”çš„ä¸€ç¯‡æ¥ä¸€ç¯‡çš„å‘è®ºæ–‡ï¼Œåˆ·GPAçš„å‡ ä¹æ¯é—¨è¯¾éƒ½æ˜¯æ»¡åˆ†ã€‚æˆ‘çœ‹çœ‹è‡ªå·±ä¼¼ä¹æ²¡æœ‰ä¸€æ ·èƒ½åšåˆ°æœ€å¥½çš„ï¼Œäºæ˜¯å°±æƒ³ï¼Œè¦ä¸ç„¶å°±åšä¸€ä¸ªç§‘ç ”ç•ŒACMæ¯”çš„æœ€å¥½çš„ï¼Œè€ŒACMç•Œåˆç§‘ç ”åšçš„æœ€å¥½çš„äººå§ï¼›å†åˆ°åæ¥ï¼Œæˆ‘çŸ¥é“ä¸–ç•Œä¸Šè¿˜æœ‰Percy Liangï¼ˆæ–¯å¦ç¦å¤§å­¦åŠ©ç†æ•™æˆï¼ŒACMæ€»å†³èµ›äºšå†›ï¼‰ï¼ŒMatei Zahariaï¼ˆMITåŠ©ç†æ•™æˆï¼ŒSparkçš„å¼€å‘è€…ï¼ŒACMæ€»å†³èµ›ç¬¬å››ï¼‰è¿™äº›äººï¼Œé‚å‘ç°è‡ªå·±å®åœ¨æ˜¯å·®è·å¤ªå¤§äº†ï¼Œå®åœ¨è¿ä¸ªç†ç”±éƒ½ç¼–ä¸å‡ºäº†ï¼ˆä¹Ÿè®¸å¯èƒ½æ˜¯å¸¸å·æ–¹è¨€è®²çš„æœ€å¥½çš„ï¼Ÿï¼‰ã€‚å¯èƒ½è¿™ä¸ªæ—¶å€™ï¼ŒACMå¯¹æˆ‘è€Œè¨€ï¼Œæ›´åƒæ˜¯å¯¹è‡ªå·±çš„æ•¬ç¤¼ã€‚æ¯•ç«Ÿï¼Œè‡ªå·±å·²ç»åšæŒäº†å¾ˆä¹…å¾ˆä¹…ï¼Œä»æ±Ÿå—ï¼Œåˆ°å¸éƒ½ï¼Œå†åˆ°ç¾åˆ©åšåŠ åˆ©ç¦å°¼äºšã€‚å°±åƒå”±ä¸€é¦–æ­Œï¼Œè·³ä¸€æ”¯èˆï¼Œå†™ä¸€æ®µæ–‡å­—ï¼Œå“ªæ€•æ ¹æœ¬æ²¡æœ‰è§‚ä¼—ï¼Œä¹Ÿæ€»å¸Œæœ›èƒ½å¤Ÿæœ€åè½ä¸‹ä¼´ç€å¾®ç¬‘çš„å¥ç‚¹ã€‚åšä¸€ä»¶äº‹ä¸ä¸€å®šéè¦æœ‰ä¸€ä¸ªæ„ä¹‰ï¼Œå› ä¸ºåšæŒçš„æœ¬èº«ï¼Œå°±æœ‰æ„ä¹‰ï¼Œä¹Ÿå› ä¸ºï¼ŒåšæŒæ€»èƒ½ä¼´ç€ä¸€ä»½æ„ŸåŠ¨ï¼Œæ—¶ä¸æ—¶çš„åœ¨å¿ƒä¸­ç¿»æ¶Œã€‚ </p>
<p>åšæŒæ˜¯è¦æœ‰ä¿¡å¿µçš„ï¼Œä¿¡å¿µæ˜¯ä»€ä¹ˆï¼Ÿå½“ç„¶æ˜¯â€œèµ¢â€ã€‚æƒ³æƒ³è¿˜æŒºä¸å®¹æ˜“ä¹ŸæŒºå¯ç¬‘çš„ï¼Œåˆ°ç°åœ¨è¿˜åœ¨ä¹ç€è¾“èµ¢ï¼Œå°¤å…¶è¾“èµ¢å·²ç»æ—©å°±æ²¡æœ‰äº†æ„ä¹‰ã€‚ä¸è¿‡ä¹Ÿä¸é‚£ä¹ˆå¯ç¬‘ï¼Œå› ä¸ºæˆ‘å¹¶ä¸æ‰§å¿µã€‚â€œèµ¢â€ä¹Ÿè®¸åªæ˜¯å¯¹ç”Ÿæ´»çš„çƒ­æƒ…çš„ç®€å†™å§ã€‚å°æ—¶å€™æƒ³æ‰“è´¥æ‰€æœ‰çš„äººï¼Œåšæœ€å¥½çš„é€‰æ‰‹ï¼Œç»“æœè¿‡äº†åå¹´å‚åŠ å›½é™…æ¯”èµ›æ‹¿äº†å—ä¸¢äººçš„é“¶ç‰Œï¼Œåœ¨ä¸­å›½é˜Ÿé‡Œå«äº†åº•ï¼›é«˜ä¸­å‚åŠ ACMï¼Œæ¯æ¬¡éƒ½ä¸ºå‡»è´¥ä¸€æ”¯æ¸…åçš„é˜Ÿä¼æ„Ÿåˆ°æŒ¯å¥‹ï¼Œè€Œå½“è‡ªå·±åˆ°äº†æ¸…åï¼Œç¬¬ä¸€æ¬¡å‚èµ›å°±åœ¨æ¸…åå†…éƒ¨æ’åœ¨äº†æœ€åï¼›å¤§å­¦å¹»æƒ³ç€ä»¥è‡ªå·±ä½œä¸ºé˜Ÿä¼çš„æ ¸å¿ƒæˆ˜æ–—åŠ›ï¼Œä»£è¡¨æ¸…åæ‹¿å† å†›ï¼Œå‚åŠ æ€»å†³èµ›ï¼Œç»“æœè¿ç»­æ‹¿åˆ°äº†4æ¬¡åŒºåŸŸèµ›çš„äºšå†›ï¼ˆæ¸…åçš„è§„çŸ©æ˜¯ï¼Œåªæœ‰å† å†›æ‰æœ‰èµ„æ ¼ä»£è¡¨å­¦æ ¡å‚åŠ æ€»å†³èµ›ï¼‰ï¼Œå¹¶ä¸”å…¶ä¸­ä¸‰æ¬¡éƒ½æ˜¯åœ¨æœ€åæ—¶åˆ»è¢«åè¶…ï¼ŒåŒé¢˜æ•°è¾“ç½šæ—¶ï¼›å¤§ä¸‰é‚£å¹´æ€»ç®—è¿›äº†æ€»å†³èµ›ï¼Œå¹»æƒ³ç€èƒ½å¤Ÿå±Œä¸é€†è¢­ä¸€æ¬¡è¿›ä¸ªå‰å…«ï¼Œç»“æœæœ€åæƒŠé™©æ‹¿åˆ°äº†é¢†å¥–é˜Ÿä¼çš„æœ€åä¸€åï¼ˆæ€»å†³èµ›ä¸€å…±12æ”¯é˜Ÿä¼å¯ä»¥è·å¾—å¥–ç‰Œï¼Œé‡‘é“¶é“œå„4æ”¯ï¼Œæˆ‘åœ¨2013å¹´çš„æ€»å†³èµ›è·å¾—ç¬¬12åï¼‰ï¼Œå¹¶ä¸”è¿˜è¾“ç»™äº†CMUï¼ˆåæ¥åœ¨CMUé‡åˆ°äº†ä»–ä»¬çš„æ•™ç»ƒï¼Œè¢«è°ƒä¾ƒï¼šâ€œOh, we beat you, right?â€ï¼‰ï¼›å¤§å››ç»ƒäº†å¾ˆä¹…çš„ä¿„ç½—æ–¯é£æ ¼çš„é¢˜ç›®ï¼Œæƒ³ç€å†å»ä¸€æ¬¡åœ¨ä¿„ç½—æ–¯ä¸¾åŠçš„æ€»å†³èµ›ï¼Œè¯æ˜ä¸€ä¸‹è‡ªå·±ï¼Œç»“æœåœ¨æœ€åä¸€æ¬¡åŒºåŸŸèµ›è¾“ç»™äº†å½“æ—¶å®Œç¾å‘æŒ¥çš„äº¤å¤§ï¼Œæœ€åç”šè‡³è¿äºšå†›éƒ½æ²¡æœ‰æ‹¿åˆ°ã€‚ä»Šå¹´8æœˆæˆ‘åœ¨åŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡å¼€å§‹äº†è‡ªå·±åšå£«ç”Ÿæ¶¯ã€‚å¾ˆæœ‰å¹¸ï¼Œæˆ‘æ‰¾åˆ°äº†ä¸¤ä¸ªè€æœ‹å‹ä½œä¸ºè‡ªå·±çš„é˜Ÿå‹ï¼Œç„¶åæˆ‘ä»¬è½»æ¾çš„æ‹¿åˆ°äº†è¥¿åŒ—å¤ªå¹³æ´‹èµ›åŒºçš„å† å†›ã€‚äºæ˜¯ï¼Œæˆ‘å¯ä»¥ä»£è¡¨åŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡ï¼Œå‚åŠ 5æœˆä»½çš„ACMä¸–ç•Œæ€»å†³èµ›äº†ã€‚è¿™æ˜¯æˆ‘çš„ç¬¬äºŒæ¬¡æ€»å†³èµ›ï¼Œä¹Ÿå°†æ˜¯æœ€åä¸€æ¬¡ã€‚ä¸è¿‡æˆ‘å¸Œæœ›åé¢çš„æ•…äº‹ä¸è¦å†ç»§ç»­æŒ‰ç…§ä¹‹å‰çš„èµ°åŠ¿äº†ã€‚ </p>
<p>è¿™é‡Œç€é‡è¯´ä¸€ä¸‹æˆ‘å¤§ä¸‰é‚£å¹´ï¼ˆ2012ï¼‰å‚åŠ ACMçš„ç»å†ã€‚å½“å¹´æˆ‘ä»¬çš„é˜Ÿåå«Again And Againï¼Œç†ç”±å¾ˆç®€å•ï¼Œé˜Ÿé‡Œé¢ä¸‰ä¸ªäººï¼Œæˆ‘ï¼Œæ¯›æ°æ˜ï¼ˆIOIé‡‘ç‰Œï¼Œç›®å‰åœ¨æ™®æ—æ–¯é¡¿è¯»åšå£«ï¼‰ï¼Œè«æ¶›ï¼ˆNOIç¬¬ä¸€ï¼Œç›®å‰åœ¨é¦™æ¸¯ä¸­æ–‡è¯»åšå£«ï¼‰ï¼Œåœ¨è¿‡å»çš„2å¹´é‡Œï¼ˆ2010å’Œ2011ï¼‰åˆ†åˆ«å‚åŠ è¿‡8ä¸ªä¸åŒçš„èµ›åŒºï¼Œä¸€å…±è·å¾—äº†å…¶ä¸­çš„6ä¸ªäºšå†›ï¼Œå¹¶ä¸”åˆåœ¨2012å¹´çš„é•¿æ˜¥èµ›åŒºï¼Œä¸€èµ·æºæ‰‹æ‹¿åˆ°äº†æˆ‘ä»¬çš„ç¬¬7ä¸ªäºšå†›ã€‚9æ¬¡æ¯”èµ›7æ¬¡äºšå†›ï¼Œæˆ‘æƒ³è¿™ä¸ªè®°å½•ä¹Ÿæ˜¯æŒºéš¾è¶…è¶Šçš„äº†ã€‚ </p>
<p>æˆ‘æ˜¯ä¸€ä¸ªå›ºæ‰§çš„äººï¼Œä¸€æ—¦è®¤å®šçš„äº‹æƒ…å¾ˆéš¾å†è¢«æ”¹å˜ï¼›æˆ‘ä¹Ÿæ˜¯ä¸€ä¸ªå¹¸è¿çš„äººï¼Œå¤§éƒ¨åˆ†æˆ‘è®¤å®šçš„äº‹æƒ…éƒ½èµ·ç æ²¡æœ‰å¤±è´¥ã€‚ä¹Ÿè®¸ï¼Œè€å¤©çœŸçš„ä¼šåçˆ±ä¸€ä¸ªæ„¿æ„ä¸€ç›´ä»…ä»…å› ä¸ºå–œæ¬¢è€ŒåšæŒçš„äººå§ã€‚ä¸­å­¦çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯æˆ‘ä¸€ä¸ªäººå‘†åœ¨æœºæˆ¿é‡Œï¼Œæˆ–è€…ä¸€ä¸ªäººåœ¨å®¶é‡ŒæŠ±ç€ç”µè„‘æƒ³é—®é¢˜ï¼Œé‚£æ—¶å€™å‚åŠ ç¼–ç¨‹æ¯”èµ›æ˜¯æœ‰ç†æœ‰æ®çš„ï¼Œå› ä¸ºå¯ä»¥ä¿é€å¤§å­¦ï¼Œå¯ä»¥ç»™å­¦æ ¡äº‰å…‰ï¼Œå®¶é•¿å’Œå­¦æ ¡ä¹Ÿéƒ½æ”¯æŒã€‚åˆ°äº†æ¸…åï¼Œäº‹æƒ…å°±ä¸ä¸€æ ·äº†ã€‚æˆ‘çŸ¥é“ï¼Œç°åœ¨å‚åŠ ç¨‹åºæ¯”èµ›è¶Šæ¥è¶Šå¤šçš„æœ‰äº†åŠŸåˆ©æ€§ï¼Œæ‹¿å¥–å¯ä»¥ä¿ç ”ï¼Œå¯ä»¥æ‰¾å·¥ä½œï¼Œæˆ–è€…ç»™å­¦æ ¡ç»™é¢†å¯¼äº‰å…‰ã€‚ä¸è¿‡è¿™äº›ç†ç”±åœ¨æ¸…åï¼Œéƒ½æ˜¯ä¸æˆç«‹çš„ã€‚æˆ‘çš„å¤§éƒ¨åˆ†å¤©æ‰åŒå­¦ä»¬ï¼Œéƒ½åœ¨åŒ—ç¾æœ€å¥½çš„å­¦æ ¡è¯»åšå£«ï¼Œè‡³äºç»™å­¦æ ¡å’Œé¢†å¯¼äº‰å…‰ï¼Œæˆ‘æƒ³ä¹Ÿè®¸æˆ‘ä»¬æ‹¿åˆ°äº†ä¸–ç•Œå† å†›ï¼Œå¯èƒ½ä¼šæœ‰æœºä¼šä¸Šä¸€æ¬¡æ¸…åé¦–é¡µå§ï¼Œä¸è¿‡è¿™ä¹Ÿåªæ˜¯æˆ‘çš„çŒœæµ‹â€”â€”æ¯•ç«Ÿæ¸…åä»æ¥æ²¡æœ‰åœ¨ACMæ€»å†³èµ›ä¸Šå¤ºå† è¿‡ã€‚æ¸…åæ²¡æœ‰ä»€ä¹ˆACMé˜Ÿï¼Œæ²¡æœ‰ACMè®­ç»ƒæˆ–è€…é€‰æ‹”ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¥–é‡‘æˆ–è€…è¯„ä¼˜åŠ åˆ†ã€‚åœ¨æ¸…åï¼ŒACMä¸è¿‡æ˜¯ä¼—å¤šå­¦ç”Ÿæ´»åŠ¨ä¸­æ™®é€šçš„ä¸€é¡¹ã€‚æˆ‘ä»¬è¿™äº›è€äººæœ‰ä¸€ä¸ªè€ç¬‘è¯ï¼šâ€œå¦‚ä½•åœ¨å¼€å¹•å¼è¿…é€Ÿè¯†åˆ«å‡ºæ¸…åçš„å­¦ç”Ÿï¼Ÿåœ¨é‚£é‡Œåšä½œä¸šçš„ï¼â€åœ¨å¾ˆå¤šå­¦æ ¡ï¼Œä¹Ÿè®¸æœ‰å¾ˆå¤šACMé˜Ÿçš„é»‘è¯ï¼Œä¼ ç»Ÿï¼Œæ•…äº‹ï¼›è€Œæ¸…åä¹Ÿæœ‰ä»–è‡ªå·±çš„æ•…äº‹ï¼Œè¿™äº›æ•…äº‹å¯èƒ½æœ€ç‰¹åˆ«ä¹Ÿæœ€æ™®é€šã€‚ç‰¹åˆ«åœ¨äºï¼Œæ¸…åä¹Ÿæœ‰ä¸ä¼—ä¸åŒçš„æ•…äº‹ï¼Œä¸è¿‡è¿™äº›æ•…äº‹å‡ ä¹æ²¡æœ‰å•çº¯å…³äºACMçš„ï¼šæ¯”å¦‚é¬²èçš„æ•…äº‹ï¼ˆæ¸…åçš„ä¸€æ®µä¼ è¯´ï¼Œè®¡ç®—æœºç³»å†å²æœ€é«˜GPAï¼ŒIOIé‡‘ç‰Œï¼ŒACMæ€»å†³èµ›äºšå†›ï¼Œæ™®æ—æ–¯é¡¿å¤§å­¦åšå£«ï¼‰ï¼Œå‘¨æºçš„æ•…äº‹ï¼Œæˆ–è€…æ¥¼å¤©æˆçš„æ•…äº‹ï¼›æ™®é€šåœ¨äºï¼Œè¿™äº›æ•…äº‹å¹¶æ²¡æœ‰ä¸€ä¸ªæ˜ç¡®çš„æ ‡ç­¾ï¼ŒACMæ¯”èµ›åªæ˜¯è¿™äº›æ•…äº‹é‡Œé¢ï¼Œå¾ˆå°å¾ˆå°çš„ä¸€éƒ¨åˆ†ã€‚å¤§å®¶æ˜¯æ¸…åäººï¼Œè¦åšæœ€å¥½çš„å­¦ç”Ÿï¼Œè¦å‘è®ºæ–‡ï¼Œè¦æå¥½è¯¾ä¸šï¼Œè¦è·‘3000ç±³ï¼Œåªæ˜¯å¤§å®¶éƒ½å–œæ¬¢ACMï¼Œè§‰å¾—å¥¹æœ‰è¶£ã€‚ </p>
<p>â€œæœ‰è¶£â€äºŒå­—ï¼Œè¯´æ¥è½»å·§ï¼Œå¯æ˜¯ï¼Œæˆ‘ä¼¼ä¹ä¹Ÿæ‰¾ä¸å‡ºæ›´å¥½çš„è¯æ±‡æ¥è¯„ä»·ACMè¿™é¡¹æ´»åŠ¨äº†ã€‚è¯»åšå£«äº†ä¹‹åå¾ˆå¤šäººåŠæˆ‘è¯´ï¼šâ€œä½ éƒ½è¯»åšå£«äº†è¿˜ç©è¿™äº›å¹´è½»äººçš„æ´»åŠ¨ã€‚â€æˆ‘åŒæ„è¿™ä¸ªè§‚ç‚¹ã€‚ä¸è¿‡å› ä¸ºæˆ‘è¿˜æ˜¯è§‰å¾—å‚åŠ ACMå¾ˆæœ‰è¶£ï¼Œæ‰€ä»¥æˆ‘åˆå›ºæ‰§çš„æ¥ç€å‚åŠ äº†ã€‚äºæ˜¯ä½œä¸ºä¸€ä¸ªè€åšå£«ï¼Œæˆ‘åˆå¾—ç»§ç»­å¿½æ‚ ç€åŒä¸ºåšå£«çš„é˜Ÿå‹ä»¬åœ¨å‘¨æœ«æŠ½å‡ºæ—¶é—´æ¥è®­ç»ƒï¼Œç»§ç»­åœ¨é—²ç€æ— èŠçš„æ—¶å€™ä½œç€æˆ‘è‡ªå·±å…³äºâ€œèµ¢â€çš„æ˜¥ç§‹å¤§æ¢¦ã€‚ </p>
<p>ä¸€ä¸ªå…³äºé’æ˜¥ï¼Œçƒ­æƒ…å’Œå‹è°Šçš„æ•…äº‹ </p>
<p>å‚åŠ ACM ICPCç«èµ›ï¼Œç»™äº†æˆ‘å¤ªå¤šå¤ªå¤šç¾å¥½çš„å›å¿†ï¼Œè®©æˆ‘æ”¶è·äº†å¤ªå¤šå¤ªå¤šå®è´µçš„å‹è°Šã€‚æ¯å½“å›å¿†ç¿»æ¶Œï¼Œæ€»ä¼šæ„Ÿæ…¨å½“æ—¶çš„çº¯ç²¹ï¼Œçƒ­æƒ…å’ŒçœŸæŒšâ€”â€”è‡ªå·±ä¹Ÿç®—ï¼Œæœ‰ä¸€æ®µå¥‹æ–—è¿‡çš„é’æ˜¥ã€‚ </p>
<p>åˆä¸‰çš„æš‘å‡å’Œä¸¤ä¸ªå¸ˆå…„ï¼Œå´æ²›å‡¡ï¼ˆç›®å‰åœ¨çº½çº¦å¤§å­¦è¯»ç»æµåšå£«ï¼‰å’Œé‡‘æ–Œåœ¨ä¸Šæµ·äº¤å¤§ACMé˜Ÿè®­ç»ƒäº†ä¸€ä¸ªæœˆã€‚æœŸé—´æ¯å¤©ä¸Šåˆåšä¸€å¥—çœŸé¢˜ï¼Œä¸‹åˆä¿®è®¢å’Œè®¨è®ºã€‚è¿˜è®°å¾—é‚£æ—¶å€™é‡‘æ–Œç¬¬ä¸€æ¬¡æ´—å†·æ°´æ¾¡çš„æ—¶å€™çˆ†å‘å‡ºçš„æƒŠäººæƒ¨å«ï¼›è®°å¾—æœ€åä¸€éƒ¨å“ˆåˆ©æ³¢ç‰¹é—®ä¸–ï¼Œæˆ‘æ™šä¸Šæ‹½ç€æ²›å‡¡ç»™æˆ‘æ¶è¡¥å“ˆåˆ©æ³¢ç‰¹ï¼›è®°å¾—ç¬¬ä¸€æ¬¡çŸ¥é“äº¤å¤§çš„BBSå«æœªåï¼Œæ¸…åçš„BBSå«æ°´æœ¨ï¼›è®°å¾—ç¬¬ä¸€æ¬¡çŸ¥é“äº†å½“æ—¶è¿˜å¾—å®¡æ ¸å¤§å­¦ç”Ÿèº«ä»½çš„äººäººç½‘ï¼Œå½“æ—¶å´å“æ°è¿˜ç”¨äººäººç½‘çš„bugç©ä¸Šé¢ä¹°è½¦ä½çš„ç½‘é¡µæ¸¸æˆï¼›è®°å¾—ç¬¬ä¸€æ¬¡å»é—®äº¤å¤§å¸ˆå§ä¸€é“é¢˜æ€ä¹ˆåšçš„æ—¶å€™çº¢ç€è„¸è¸Œèº‡äº†å¥½åŠå¤©ï¼›è®°å¾—å½“æ—¶æ›´è€çš„å¸ˆå…„ä»¬éª‘è½¦è½½ç€æˆ‘ä»¬å»åƒç›–æµ‡é¥­ï¼›æ›´è®°å¾—ç¬¬ä¸€æ¬¡ä¸‰äººç»„é˜Ÿèµ¢äº†äº¤å¤§ä¸€é˜Ÿæ—¶å€™çš„å…´å¥‹å’Œæ¿€åŠ¨ï¼›ä¹Ÿè®°å¾—ç¬¬ä¸€æ¬¡è§åˆ°äº¤å¤§ACMç­çš„ä¿å‹‡è€å¸ˆæ—¶å€™çš„èƒ†æ€¯å’Œå®³ç¾â€¦â€¦é‚£æ®µæ—¶å…‰æ˜¯æˆ‘æ•´ä¸ªä¸­å­¦ç”Ÿæ¶¯ä¸­æœ€å¥½çš„æ—¶å…‰ï¼Œæ¯å¤©éƒ½å¾ˆå¿«ä¹ï¼Œæ¯å¤©éƒ½æœ‰è¿›æ­¥ã€‚æˆ‘ä¸å¾—ä¸æ‰¿è®¤ï¼Œä»é‚£æ—¶å€™å¼€å§‹ï¼Œäº¤å¤§æˆäº†æˆ‘é«˜ä¸­æ—¶æœŸæœ€å‘å¾€çš„åœ°æ–¹ï¼šä¸ºäº†å»äº¤å¤§è€Œä¸å»æ¸…åï¼Œæˆ‘è¿˜åœ¨é«˜ä¸‰çš„æ—¶å€™å’Œæˆ‘çš„å¦ˆå¦ˆè¿›è¡Œäº†æ¥è¿‘ä¸‰ä¸ªæœˆçš„æ¿€çƒˆæ–—äº‰ã€‚å¥½å¤šå¥½å¤šå¹´è¿‡å»äº†ï¼Œå½“å¹´çš„ACMé˜Ÿå¸ˆå…„å¸ˆå§ä»¬ï¼Œæ—©å°±å·¥ä½œï¼Œæˆ–è€…å¿«åšå£«æ¯•ä¸šäº†ï¼›ä¸‰ä¸ªååœ¨ååº§çš„å°å±å­©ï¼Œç°åœ¨ä¸¤ä¸ªåœ¨è¯»åšå£«ï¼Œä¸€ä¸ªæ‹¿äº†ä¸–ç•Œå† å†›ï¼Œå»äº†è°·æ­Œï¼›ä¿å‹‡è€å¸ˆè€äº†å¾ˆå¤šå²ã€‚æ®æˆ‘å¾ˆå¤šäº¤å¤§çš„åŒå­¦è¯´ï¼Œä¿å‹‡è€å¸ˆå¾ˆä¸¥å‰ã€‚ä¹Ÿè®¸æ­£å› ä¸ºæˆ‘æ²¡çœŸæ­£åšè¿‡ä¿è€å¸ˆçš„å­¦ç”Ÿï¼Œæ‰€ä»¥èµ·ç åœ¨æˆ‘è¿™é‡Œï¼Œä¿è€å¸ˆç»™æˆ‘çš„å°è±¡æ˜¯ä¸€ä¸ªæ¸©å’Œè´Ÿè´£çš„å¯¼å¸ˆï¼Œæ¯æ¬¡æˆ‘å‚åŠ æ¯”èµ›è§åˆ°ä¿è€å¸ˆï¼Œéƒ½ä¼šç‰¹åˆ«äº²åˆ‡çš„æ‰“æ‹›å‘¼ï¼Œäº¤è°ˆã€‚ä¹Ÿè®¸æˆ‘åº”è¯¥å¯¹æˆ‘å»äº†æ¸…åæ„Ÿåˆ°åº†å¹¸å§ï¼Œå› ä¸ºï¼Œä»æ­¤äº¤å¤§åœ¨æˆ‘å¿ƒé‡Œå°±åªç•™ä¸‹äº†å¥¹æœ€ç¾å¥½çš„æ ·å­ã€‚ </p>
<p>å¤§å­¦åœ¨æ¸…åç¢°åˆ°äº†æ¯›æ°æ˜å’Œè«æ¶›ä¸¤ä¸ªæ­»å…šï¼Œä¸€èµ·åƒå¤–å–ï¼Œä¸€èµ·äº’é»‘ï¼Œä¸€èµ·æ—…æ¸¸ã€‚é‚£æ—¶å€™æˆ‘è‡ªå°åå‹¤é˜Ÿé•¿ï¼ˆå…¶å®æˆ‘åœ¨æ¯ä¸€ä¸ªé˜Ÿä¼é‡Œçš„è§’è‰²éƒ½æ˜¯è¿™ä¸ªï¼‰ï¼Œè´Ÿè´£ç ”ç©¶å»ä»€ä¹ˆèµ›åŒºï¼Œæ¯æ¬¡åè°ƒå¤§å®¶ä»€ä¹ˆæ—¶å€™è®­ç»ƒï¼Œè®­ç»ƒä»€ä¹ˆé¢˜ï¼Œè¿˜è´Ÿè´£ä»£è´­ç«è½¦ç¥¨é£æœºç¥¨ä»¥åŠå’Œæ•™ç»ƒæ²Ÿé€šï¼Œå¹¶ä¸”ä¹æ­¤ä¸ç–²ã€‚ä»–ä¿©ä¹Ÿå¾…æˆ‘ä¸è–„ï¼Œå› ä¸ºæ¯›æ°æ˜ï¼Œæˆ‘åœ¨å¤§å­¦é‡Œå°‘èµ°äº†å¾ˆå¤šå¼¯è·¯ï¼Œåˆå› ä¸ºè«æ¶›ï¼Œè®©æˆ‘å¤šäº†ä¸€ä¸ªç‰¹åˆ«é“æ†çš„åŸºå‹ã€‚ </p>
<p>2011å¹´ç¦å·èµ›åŒºï¼Œåªè¦å¦ä¸€æ”¯æ¸…åçš„é˜Ÿä¼ä¸èƒ½åœ¨30åˆ†é’Ÿå†…é€šè¿‡æœ€åä¸€é¢˜ï¼Œæˆ‘å’Œæ¯›æ°æ˜å°±èƒ½æ™‹çº§æ€»å†³èµ›ã€‚åªæ˜¯å¾ˆå¯æƒœï¼Œ20åˆ†é’Ÿåï¼Œé‚£æ”¯é˜Ÿä¼å‰ï¼Œå‡èµ·äº†å¯¹åº”é¢œè‰²çš„æ°”çƒã€‚æˆ‘è¿˜æ¸…æ¥šçš„è®°å¾—ï¼Œåœ¨å›ç¨‹çš„é£æœºä¸Šï¼Œå¿ƒæƒ…éƒé—·çš„æˆ‘å’Œå¦é—¨èˆªç©ºçš„ç©ºä¹˜åµäº†èµ·æ¥ã€‚æ¯›æ°æ˜ä¸åœçš„å®‰æ…°æˆ‘ä¸ç”¨è·Ÿäººä¸€èˆ¬è§è¯†ã€‚æˆ‘åæ¥åˆå»è¿‡ä¸å°‘æ¬¡ç¦å»ºï¼Œä¸è¿‡ä¹Ÿå†æ²¡åšè¿‡å¦é—¨èˆªç©ºçš„é£æœºã€‚ </p>
<p>2012å¹´æˆ‘å’Œæ¯›æ°æ˜è¿˜æœ‰è«æ¶›ç»„é˜Ÿã€‚é‚£å¹´çš„é•¿æ˜¥èµ›åŒºï¼Œæ¯”èµ›å‰æˆ‘ä»¬ä¸‰ä¸ªåƒç‰›æ’åˆ®å‡ºäº†ä¸€å¼ å¥–åŠ±2å…ƒé’±çš„å‘ç¥¨ï¼Œè¦çŸ¥é“å½“æ—¶æˆ‘ä»¬å·²ç»æ‹¿äº†6æ¬¡äºšå†›äº†ã€‚è«æ¶›è§‰å¾—2å…ƒé’±å¤ªæ™¦æ°”ï¼Œè¿˜åˆ»æ„ç¬¬äºŒå¤©æ—©ä¸Šç»™æœåŠ¡å‘˜é€å‡º1å…ƒçš„å°è´¹å¸Œæœ›è®¨ä¸ªå‰åˆ©ã€‚ç»“æœèµ›åœºä¸Šï¼Œæˆ‘ä»¬ç«™åœ¨ä¸­å±±å¤§å­¦çš„èº«åï¼Œè¿‘è·ç¦»ç›®ç¹äº†ä»–ä»¬åœ¨æ¯”èµ›ç»“æŸå5åˆ†é’Ÿå¾—åˆ°ç³»ç»Ÿè¿”å›çš„ä¸€ä¸ªYESï¼Œå¹¶ä»¥ç½šæ—¶ä¼˜åŠ¿å°†æˆ‘ä»¬åè¶…å¹¶å¤ºå† çš„æ¬£å–œè‹¥ç‹‚ã€‚æ›´ç‹—è¡€çš„æ˜¯ï¼Œåœ¨æ¥ä¸‹æ¥çš„ç”±ä¸­å±±å¤§å­¦è´Ÿè´£å‘½é¢˜çš„å¤©æ´¥èµ›åŒºï¼Œæœ‰ä¸€é“é¢˜ç›®å’Œä¹‹å‰åœ¨é•¿æ˜¥èµ›åŒºä¸­å±±åè¶…æˆ‘ä»¬çš„é‚£é¢˜ä¸€æ¨¡ä¸€æ ·ã€‚äºæ˜¯ï¼Œåœ¨ä¸­å¤§çš„å¥½å¿ƒä¿é€ä¸‹ï¼Œæˆ‘ä»¬æ€»ç®—æ‹¿åˆ°äº†å† å†›ã€‚ </p>
<p>2013å¹´åœ£å½¼å¾—å ¡çš„æ€»å†³èµ›ï¼Œä»æ¥ä¸å–å’–å•¡çš„æˆ‘åœ¨èµ›å‰å–äº†å’–å•¡ï¼Œä¸è¿‡ä¼¼ä¹å’–å•¡å¯¹äºç´§å¼ æ²¡æœ‰ä»€ä¹ˆå¥½çš„ç–—æ•ˆã€‚è™½ç„¶è¿™ä¹ˆå¤šå¹´æ¥æˆ‘æ¯é€¢ACMæ¯”èµ›éƒ½ä¼šç´§å¼ ï¼Œå¿ƒè·³åŠ é€Ÿï¼Œè¡€å‹å‡é«˜ï¼Œä¸è¿‡é‚£ä¸€å¤©ä¼¼ä¹å¤§å®¶éƒ½ç´§å¼ çš„ç‰¹åˆ«ä¸¥é‡ï¼šåœºä¸Šä¸‰ä¸ªäººå¯¹ç€ä¸¤é“é¢˜çœ‹äº†1ä¸ªå¤šå°æ—¶å±…ç„¶éƒ½ä¸ä¼šåšï¼Œè€Œä¸€å‡ºèµ›åœºå°±éƒ½ä¼šäº†ã€‚å›å¿†åˆ°å½“æ—¶çœ‹ç»“æœå…¬å¸ƒæ—¶è‡ªå·±çš„ç„¦è™‘å’Œä¸å®‰ï¼Œæˆ‘è§‰å¾—ä»¥åä¼°è®¡ä¹Ÿä¸ä¼šæœ‰æœºä¼šèƒ½å¤Ÿè®©è‡ªå·±çš„å¿ƒå¾‹æ¯”é‚£ä¸ªæ—¶å€™æ›´å¿«ä¸€ç‚¹äº†ã€‚è®°å¾—æ¯”èµ›å…¥åœºçš„æ—¶å€™æˆ‘å’Œæˆ‘çš„ä¸€ä¸ªä¿„ç½—æ–¯æœ‹å‹ï¼Œå½“æ—¶è«æ–¯ç§‘å¤§å­¦çš„é€‰æ‰‹Sergeyæ¡äº†ä¸€ä¸ªæ‰‹ï¼Œç„¶åé‚£ä¸€å¹´è«æ–¯ç§‘å¤§å­¦å’Œæˆ‘ä»¬éƒ½æ‹¿äº†é“œç‰Œã€‚æ¯›æ°æ˜å’Œè«æ¶›éƒ½è¯´ï¼Œä¼°è®¡æ˜¯æˆ‘å¸æ¥äº†è«æ–¯ç§‘å¤§å­¦çš„ä»™æ°”ï¼ŒæŠŠäººå®¶æ‹‰æˆäº†é“œç‰Œï¼ŒæŠŠæˆ‘ä»¬ä»èƒ¸ç‰Œï¼Œæåˆ°äº†å¥–ç‰Œã€‚è¿™äº‹æˆ‘åæ¥ä¸€ç›´æ²¡å¥½æ„æ€å’ŒSergeyè¯´ï¼Œå¸Œæœ›ä»–ä¸ä¼šåœ¨å¿ƒé‡Œéª‚æˆ‘ã€‚ </p>
<p>2013å¹´ä¸‹åŠå¹´ï¼Œæ¯›æ°æ˜å»äº†æ™®æ—æ–¯é¡¿è¯»åšå£«ï¼Œæˆ‘å’Œè«æ¶›æ‹‰æ¥äº†é™ˆé«˜è¿œï¼ˆTopcoder Targetï¼ŒUSCç¡•å£«åœ¨è¯»ï¼‰ã€‚æˆ‘ä»¬ä¸‰ä¸ªå¤§å››ç‹—ç»„äº†ä¸ªé˜Ÿï¼Œå”¤ä½œâ€œè€æµæ°“â€ã€‚ä½œä¸ºæµæ°“å¤´å­ï¼Œæˆ‘æ„£æ˜¯è‡ªå·±è”ç³»ï¼ŒåŠç†æ‰‹ç»­ï¼Œç„¶åå¿½æ‚ å¦å¤–ä¸¤ä¸ªè€å®¶ä¼™ä»¬æå‡ºäº†ä¹‹å‰çš„æ¯”èµ›çš„å¥–é‡‘ä¹°äº†é£å¾€æ—¥æœ¬çš„æœºç¥¨ï¼Œä½¿æˆ‘ä»¬é˜Ÿæˆä¸ºäº†è¿‘10å¹´æ¥æ¸…åç¬¬ä¸€æ”¯å‚åŠ æµ·å¤–ACMèµ›åŒºçš„é˜Ÿä¼ï¼ˆæ¸…åç”±äºç»è´¹ä¸å¤Ÿï¼ŒåŠ ä¸Šä¸€äº›å†å²åŸå› ï¼Œæ˜¯ä¸å‚åŠ æµ·å¤–èµ›åŒºçš„ï¼‰ã€‚æ¯”èµ›æ¯”çš„å¾ˆç³Ÿï¼Œä¸è¿‡ä¸‰ä¸ªè€å®¶ä¼™åœ¨å¯Œå£«å±±ä¸‹æ³¡æ¸©æ³‰ï¼Œåœ¨ä¸œäº¬ç±³å…¶æ—é¤å…åƒå¯¿å¸ï¼Œçˆ¬ä¸œäº¬å¡”ä¹Ÿæ˜¯æŒºå€¼å¾—æ€€å¿µçš„ã€‚è¿˜è®°å¾—å½“æ—¶è«æ¶›ç—´è¿·æŸæ—¥å‰§ï¼ˆå…·ä½“åŸå› æˆ‘åæ¥é»‘äº†ä»–å¥½ä¹…ï¼‰ï¼Œæˆ‘ä»¬è¢«å¿½æ‚ ç€æ•´ä¸ªä¸€å¤©ä¸œäº¬çš„è¡Œç¨‹éƒ½æŒ‰ç…§å‰§é‡Œç”·ä¸»å’Œå¥³ä¸»çš„çº¦ä¼šè·¯çº¿è¿›è¡Œã€‚å‚æ™šï¼Œåœ¨ä¸œäº¬çš„å°åœºï¼Œè«æ¶›æœ›ç€è¿œå¤„çš„å½©è™¹æ¡¥ï¼Œæå‡ºäº†ä»–çš„iTouchå’Œæˆ‘è¯´ï¼šâ€œä½ çœ‹ï¼Œå‰§é‡Œå°±æ˜¯è¿™ä¸ªä½ç½®ï¼Œè¿™ä¸ªè§’åº¦ï¼Œè¿™ä¸ªæ—¶é—´ï¼â€é‚£è¡æ¼¾çš„çœ¼ç¥ï¼Œä¸€å®šä¼šæˆä¸ºæœªæ¥å¾ˆå¤šå¾ˆå¤šå¹´ï¼Œä¸€ä¸ªå…³äºè«æ¶›çš„ç»å…¸æ§½ç‚¹ã€‚ </p>
<p>2014å¹´ï¼Œæˆ‘æ¥åˆ°äº†åŠ å·ä¼¯å…‹åˆ©å¤§å­¦è¯»åšå£«ã€‚å¾ˆå¹¸è¿ï¼Œæˆ‘é‡åˆ°äº†ä¸¤ä¸ªä¹Ÿå†è¯»åšå£«çš„ä¸­å›½é˜Ÿå‹ï¼Œå§œç¢§é‡ï¼ˆNOI2009é‡‘ç‰Œï¼Œåœ¨æ¸…åACMåŒºåŸŸèµ›å’Œè«æ¶›ä¸€èµ·æ‹¿è¿‡3æ¬¡äºšå†›ï¼Œä»£è¡¨ä¼¯å…‹åˆ©å‚åŠ äº†2014å¹´ACMæ€»å†³èµ›ï¼‰å’Œèµ–é™†èˆªï¼ˆæ•°å­¦åšå£«ï¼ŒIOI2010é‡‘ç‰Œï¼Œä»£è¡¨åŒ—å¤§å‚åŠ äº†2011å¹´ACMæ€»å†³èµ›ï¼‰ï¼Œç»„æˆäº†ä¼¯å…‹åˆ©ä¸­å›½é˜Ÿã€‚äºæ˜¯æˆ‘åˆå¼€å§‹äº†æˆ‘åå‹¤éƒ¨é•¿å…¼é˜Ÿå†…ä¸»ç çš„èº«ä»½â€”â€”åæ­£æˆ‘å¯¹è¿™ä¸ªè§’è‰²æ—©å·²é©¾è½»å°±ç†Ÿã€‚æˆ‘ä»¬å¾ˆè½»æ¾çš„æ™‹çº§äº†2015å¹´5æœˆä»½å°†åœ¨æ‘©æ´›å“¥ä¸¾è¡Œçš„ACMæ€»å†³èµ›ã€‚è¿™å¯¹æˆ‘ä»¬ä¸‰ä¸ªäººæ¥è¯´ï¼Œéƒ½æ˜¯ç¬¬äºŒæ¬¡ï¼Œä¹Ÿæ˜¯æœ€åä¸€æ¬¡æ€»å†³èµ›ï¼Œä¹Ÿå°†æ˜¯ç«èµ›ç”Ÿæ¶¯çš„æœ€åä¸€åœºæ¯”èµ›äº†ã€‚æƒ³æƒ³æ—¶é—´è¿‡å¾—çœŸå¿«ï¼Œä»ä¸€ä¸ªå°å­©åˆ°ä¸€ä¸ªåšå£«ï¼Œå…³äºé’æ˜¥çš„æ•…äº‹ï¼Œä¹Ÿç»ˆè¦ç”»ä¸Šå¥å·äº†ã€‚ </p>
<p>è¿™æ®µé’æ˜¥é‡Œï¼Œæœ‰å¤ªå¤šæœ‰è¶£çš„äº‹ï¼Œæœ‰è¶£çš„äººã€‚å¾ˆå¤šå¾ˆå¤šå¹´ä»¥åï¼Œè¿™äº›è¯´ä¸å®Œã€é“ä¸å°½ï¼Œä¹Ÿéƒ½åŒ–ä¸ºè€å‹ç›¸èšæ—¶çš„è°ƒä¾ƒå’Œç›¸é€¢ä¸€ç¬‘ã€‚æˆ‘è§‰å¾—ï¼Œè¿™ä¹Ÿè®¸å°±æ˜¯ç”Ÿæ´»é‡Œï¼Œæœ€ç¾çš„å–œå‰§ã€‚ </p>
<p>æœ€åçš„ä¸€äº›è¯ </p>
<p>è¿™æ˜¯æˆ‘çš„æ•…äº‹ï¼Œæ„Ÿè°¢æˆ‘æœ‰è¿™ä¸ªæœºä¼šèƒ½æŠŠæˆ‘çš„æ•…äº‹å†™ä¸‹æ¥ï¼Œä¹Ÿæ„Ÿè°¢å‰æ¥é˜…è¯»çš„äººã€‚ACMä¸æ˜¯ç”Ÿæ´»çš„å…¨éƒ¨ï¼Œç”šè‡³è¿ä¸€å°éƒ¨åˆ†éƒ½ç®—ä¸ä¸Šâ€”â€”å°±åƒï¼Œå†™å®Œè¿™äº›æ–‡å­—ï¼Œæˆ‘è¿˜å¾—æŠ“ç´§æ—¶é—´ç»§ç»­å‡†å¤‡æˆ‘çš„è®ºæ–‡ï¼Œç»§ç»­æˆ‘çš„ç ”ç©¶å·¥ä½œã€‚ä¹Ÿç¡®å®æ˜¯è¿™æ ·ï¼Œä¸€ä¸ªäººçš„ç”Ÿæ´»åº”è¯¥æ˜¯ä¸°å¯Œçš„ï¼Œå……å®çš„å’Œå¤šå½©çš„ã€‚ç”Ÿæ´»åº”å½“åƒæµ©ç€šçš„å®‡å®™ï¼Œå£®é˜”å´åˆé™è°§ï¼ŒACMä¸è¿‡æ˜¯é‚£ç»šçƒ‚æ˜Ÿè¾°ä¸­çš„ä¸€é¢—ã€‚å®‡å®™ä¸åº”å› ä¸ºå°‘äº†ä¸€é¢—æ˜Ÿè€Œæš—æ·¡ï¼Œä½†æ˜¯å´å¯èƒ½å› ä¸ºå¤šäº†ä¸€é¢—æ˜Ÿè€Œå¤šäº†ä¸€æ®µç’€ç’¨çš„æ–‡æ˜ã€‚</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>ç»éªŒ</tag>
      </tags>
  </entry>
  <entry>
    <title>DFS_leetcode.22.æ‹¬å·ç”Ÿæˆ</title>
    <url>/bracket_generating/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸå­— n ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” æœ‰æ•ˆçš„ æ‹¬å·ç»„åˆã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 3</span><br><span class="line">è¾“å‡ºï¼š[</span><br><span class="line">       "((()))",</span><br><span class="line">       "(()())",</span><br><span class="line">       "(())()",</span><br><span class="line">       "()(())",</span><br><span class="line">       "()()()"</span><br><span class="line">     ]</span><br></pre></td></tr></tbody></table></figure>

<a id="more"></a>

<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›DFS"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›DFS" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›DFS"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›DFS</h2><p>æˆ‘ä»¬å¯ä»¥ç”Ÿæˆæ‰€æœ‰$ 2^{2n}$ ä¸ª <code>'('</code> å’Œ <code>')'</code> å­—ç¬¦æ„æˆçš„åºåˆ—ï¼Œç„¶åæˆ‘ä»¬æ£€æŸ¥æ¯ä¸€ä¸ªæ˜¯å¦æœ‰æ•ˆå³å¯ã€‚</p>
<p>ä¸ºäº†ç”Ÿæˆæ‰€æœ‰åºåˆ—ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€’å½’ã€‚é•¿åº¦ä¸º n çš„åºåˆ—å°±æ˜¯åœ¨é•¿åº¦ä¸º n-1 çš„åºåˆ—å‰åŠ ä¸€ä¸ª â€˜(â€˜ æˆ– â€˜)â€™ã€‚</p>
<p>ä¸ºäº†æ£€æŸ¥åºåˆ—æ˜¯å¦æœ‰æ•ˆï¼Œæˆ‘ä»¬éå†è¿™ä¸ªåºåˆ—ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªå˜é‡ balance è¡¨ç¤ºå·¦æ‹¬å·çš„æ•°é‡å‡å»å³æ‹¬å·çš„æ•°é‡ã€‚å¦‚æœåœ¨éå†è¿‡ç¨‹ä¸­ balance çš„å€¼å°äºé›¶ï¼Œæˆ–è€…ç»“æŸæ—¶ balance çš„å€¼ä¸ä¸ºé›¶ï¼Œé‚£ä¹ˆè¯¥åºåˆ—å°±æ˜¯æ— æ•ˆçš„ï¼Œå¦åˆ™å®ƒæ˜¯æœ‰æ•ˆçš„</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">generateParenthesis</span><span class="params">(<span class="keyword">int</span> n)</span></span>{</span><br><span class="line">	List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	dfs(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">2</span> * n], <span class="number">0</span>, res);</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[] cur, <span class="keyword">int</span> pos, List&lt;String&gt; res)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="keyword">if</span>(pos == cur.length) {</span><br><span class="line">		<span class="keyword">if</span>(valid(cur)) {</span><br><span class="line">			res.add(<span class="keyword">new</span> String(cur));</span><br><span class="line">		}</span><br><span class="line">	}<span class="keyword">else</span> {</span><br><span class="line">		cur[pos] = <span class="string">'('</span>;</span><br><span class="line">		dfs(cur, pos + <span class="number">1</span>, res);</span><br><span class="line">		cur[pos] = <span class="string">')'</span>;</span><br><span class="line">		dfs(cur, pos + <span class="number">1</span>, res);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">valid</span><span class="params">(<span class="keyword">char</span>[] cur)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> balance = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">char</span> c : cur) {</span><br><span class="line">		<span class="keyword">if</span>(c == <span class="string">'('</span>) {</span><br><span class="line">			balance++;</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			balance--;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(balance &lt; <span class="number">0</span>) {</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> balance == <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>python</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">generateParenthesis</span><span class="params">(self, n: int)</span> -&gt; List[str]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">generate</span><span class="params">(A)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> len(A) == <span class="number">2</span>*n:</span><br><span class="line">                <span class="keyword">if</span> valid(A):</span><br><span class="line">                    ans.append(<span class="string">""</span>.join(A))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                A.append(<span class="string">'('</span>)</span><br><span class="line">                generate(A)</span><br><span class="line">                A.pop()</span><br><span class="line">                A.append(<span class="string">')'</span>)</span><br><span class="line">                generate(A)</span><br><span class="line">                A.pop()</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">valid</span><span class="params">(A)</span>:</span></span><br><span class="line">            bal = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> A:</span><br><span class="line">                <span class="keyword">if</span> c == <span class="string">'('</span>: bal += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>: bal -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> bal &lt; <span class="number">0</span>: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">return</span> bal == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        ans = []</span><br><span class="line">        generate([])</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸è§£æ³•äºŒï¼š-DFSå‰ªæ"><a href="#ğŸŒ¸è§£æ³•äºŒï¼š-DFSå‰ªæ" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼š DFSå‰ªæ"></a>ğŸŒ¸è§£æ³•äºŒï¼š DFSå‰ªæ</h2><ul>
<li><p>å½“å‰å·¦å³æ‹¬å·éƒ½æœ‰å¤§äº 0ä¸ªå¯ä»¥ä½¿ç”¨çš„æ—¶å€™ï¼Œæ‰äº§ç”Ÿåˆ†æ”¯ï¼›</p>
</li>
<li><p>äº§ç”Ÿå·¦åˆ†æ”¯çš„æ—¶å€™ï¼Œåªçœ‹å½“å‰æ˜¯å¦è¿˜æœ‰å·¦æ‹¬å·å¯ä»¥ä½¿ç”¨ï¼›</p>
</li>
<li><p>äº§ç”Ÿå³åˆ†æ”¯çš„æ—¶å€™ï¼Œè¿˜å—åˆ°å·¦åˆ†æ”¯çš„é™åˆ¶ï¼Œå³è¾¹å‰©ä½™å¯ä»¥ä½¿ç”¨çš„æ‹¬å·æ•°é‡ä¸€å®šå¾—åœ¨ä¸¥æ ¼å¤§äºå·¦è¾¹å‰©ä½™çš„æ•°é‡çš„æ—¶å€™ï¼Œæ‰å¯ä»¥äº§ç”Ÿåˆ†æ”¯</p>
</li>
<li><p>åœ¨å·¦è¾¹å’Œå³è¾¹å‰©ä½™çš„æ‹¬å·æ•°éƒ½ç­‰äº 0 çš„æ—¶å€™ç»“ç®—ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">generateParenthesis2</span><span class="params">(<span class="keyword">int</span> n)</span></span>{</span><br><span class="line">	List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	<span class="comment">//ç‰¹åˆ¤</span></span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">0</span>) {</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//å›æº¯</span></span><br><span class="line">	dfs2(<span class="string">""</span>, n, n, res);</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> cur å½“å‰é€’å½’å¾—åˆ°çš„ç»“æœ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> left å·¦æ‹¬å·è¿˜æœ‰å‡ ä¸ªå¯ä»¥ä½¿ç”¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> n å³æ‹¬å·è¿˜æœ‰å‡ ä¸ªå¯ä»¥ä½¿ç”¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> res ç»“æœé›†</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs2</span><span class="params">(String cur, <span class="keyword">int</span> left, <span class="keyword">int</span> right, List&lt;String&gt; res)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="comment">//å› ä¸ºæ¯ä¸€æ¬¡å°è¯•ï¼Œéƒ½ä½¿ç”¨æ–°çš„å­—ç¬¦ä¸²å˜é‡ï¼Œæ‰€ä»¥æ— éœ€å›æº¯</span></span><br><span class="line">	<span class="comment">//åœ¨é€’å½’ç»“æŸçš„æ—¶å€™ï¼Œç›´æ¥æŠŠä»–æ·»åŠ åˆ°ç»“æœé›†å³å¯ï¼Œ</span></span><br><span class="line">	<span class="keyword">if</span>(left == <span class="number">0</span> &amp;&amp; right == <span class="number">0</span>) {</span><br><span class="line">		res.add(cur);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//å‰ªæï¼ˆå·¦æ‹¬å·å¯ä½¿ç”¨ä¸ªæ•°ä¸¥æ ¼å¤§äºå³æ‹¬å·ä½¿ç”¨ä¸ªæ•°ï¼Œæ‰å‰ªæï¼‰</span></span><br><span class="line">	<span class="keyword">if</span>(left &gt; right) {</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(left &gt; <span class="number">0</span>) {</span><br><span class="line">		dfs2(cur + <span class="string">"("</span>, left - <span class="number">1</span>, right, res);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(right &gt; <span class="number">0</span>) {</span><br><span class="line">		dfs2(cur + <span class="string">")"</span>, left, right - <span class="number">1</span>, res);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>python</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> List</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">generateParenthesis</span><span class="params">(self, n: int)</span> -&gt; List[str]:</span></span><br><span class="line"></span><br><span class="line">        res = []</span><br><span class="line">        cur_str = <span class="string">''</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(cur_str, left, right)</span>:</span></span><br><span class="line">            <span class="string">"""</span></span><br><span class="line"><span class="string">            :param cur_str: ä»æ ¹ç»“ç‚¹åˆ°å¶å­ç»“ç‚¹çš„è·¯å¾„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">            :param left: å·¦æ‹¬å·è¿˜å¯ä»¥ä½¿ç”¨çš„ä¸ªæ•°</span></span><br><span class="line"><span class="string">            :param right: å³æ‹¬å·è¿˜å¯ä»¥ä½¿ç”¨çš„ä¸ªæ•°</span></span><br><span class="line"><span class="string">            :return:</span></span><br><span class="line"><span class="string">            """</span></span><br><span class="line">            <span class="keyword">if</span> left == <span class="number">0</span> <span class="keyword">and</span> right == <span class="number">0</span>:</span><br><span class="line">                res.append(cur_str)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">if</span> right &lt; left:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">if</span> left &gt; <span class="number">0</span>:</span><br><span class="line">                dfs(cur_str + <span class="string">'('</span>, left - <span class="number">1</span>, right)</span><br><span class="line">            <span class="keyword">if</span> right &gt; <span class="number">0</span>:</span><br><span class="line">                dfs(cur_str + <span class="string">')'</span>, left, right - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        dfs(cur_str, n, n)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•ä¸‰ï¼š-DFSå‰ªæï¼ˆåšåŠ æ³•ï¼‰"><a href="#ğŸŒ¸è§£æ³•ä¸‰ï¼š-DFSå‰ªæï¼ˆåšåŠ æ³•ï¼‰" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸‰ï¼š DFSå‰ªæï¼ˆåšåŠ æ³•ï¼‰"></a>ğŸŒ¸è§£æ³•ä¸‰ï¼š DFSå‰ªæï¼ˆåšåŠ æ³•ï¼‰</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">generateParenthesis3</span><span class="params">(<span class="keyword">int</span> n)</span></span>{</span><br><span class="line">	List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	<span class="comment">//ç‰¹åˆ¤</span></span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">0</span>) {</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//å›æº¯</span></span><br><span class="line">	dfs3(<span class="string">""</span>, <span class="number">0</span>, <span class="number">0</span>, n, res);</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> cur å½“å‰é€’å½’å¾—åˆ°çš„ç»“æœ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> left å·¦æ‹¬å·å·²ç»ç”¨äº†å‡ ä¸ª</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> n å·¦æ‹¬å·ã€å³æ‹¬å·ä¸€å…±å¾—ç”¨å‡ ä¸ª</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> res ç»“æœé›†</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs3</span><span class="params">(String cur, <span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> n, List&lt;String&gt; res)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="comment">//å› ä¸ºæ¯ä¸€æ¬¡å°è¯•ï¼Œéƒ½ä½¿ç”¨æ–°çš„å­—ç¬¦ä¸²å˜é‡ï¼Œæ‰€ä»¥æ— éœ€å›æº¯</span></span><br><span class="line">	<span class="comment">//åœ¨é€’å½’ç»“æŸçš„æ—¶å€™ï¼Œç›´æ¥æŠŠä»–æ·»åŠ åˆ°ç»“æœé›†å³å¯ï¼Œ</span></span><br><span class="line">	<span class="keyword">if</span>(left == n &amp;&amp; right == n) {</span><br><span class="line">		res.add(cur);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//å‰ªæï¼ˆå·¦æ‹¬å·å¯ä½¿ç”¨ä¸ªæ•°ä¸¥æ ¼å¤§äºå³æ‹¬å·ä½¿ç”¨ä¸ªæ•°ï¼Œæ‰å‰ªæï¼‰</span></span><br><span class="line">	<span class="keyword">if</span>(left &lt; right) {</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(left &lt; n) {</span><br><span class="line">		dfs3(cur + <span class="string">"("</span>, left + <span class="number">1</span>, right, n, res);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(right &lt; n) {</span><br><span class="line">		dfs3(cur + <span class="string">")"</span>, left, right + <span class="number">1</span>, n, res);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> List</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">generateParenthesis</span><span class="params">(self, n: int)</span> -&gt; List[str]:</span></span><br><span class="line"></span><br><span class="line">        res = []</span><br><span class="line">        cur_str = <span class="string">''</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(cur_str, left, right, n)</span>:</span></span><br><span class="line">            <span class="string">"""</span></span><br><span class="line"><span class="string">            :param cur_str: ä»æ ¹ç»“ç‚¹åˆ°å¶å­ç»“ç‚¹çš„è·¯å¾„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">            :param left: å·¦æ‹¬å·å·²ç»ä½¿ç”¨çš„ä¸ªæ•°</span></span><br><span class="line"><span class="string">            :param right: å³æ‹¬å·å·²ç»ä½¿ç”¨çš„ä¸ªæ•°</span></span><br><span class="line"><span class="string">            :return:</span></span><br><span class="line"><span class="string">            """</span></span><br><span class="line">            <span class="keyword">if</span> left == n <span class="keyword">and</span> right == n:</span><br><span class="line">                res.append(cur_str)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">if</span> left &lt; right:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> left &lt; n:</span><br><span class="line">                dfs(cur_str + <span class="string">'('</span>, left + <span class="number">1</span>, right, n)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> right &lt; n:</span><br><span class="line">                dfs(cur_str + <span class="string">')'</span>, left, right + <span class="number">1</span>, n)</span><br><span class="line"></span><br><span class="line">        dfs(cur_str, <span class="number">0</span>, <span class="number">0</span>, n)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•å››ï¼š-BFS"><a href="#ğŸŒ¸è§£æ³•å››ï¼š-BFS" class="headerlink" title="ğŸŒ¸è§£æ³•å››ï¼š BFS"></a>ğŸŒ¸è§£æ³•å››ï¼š BFS</h2><p>å¹¿åº¦ä¼˜å…ˆéå†ï¼Œå¾—è‡ªå·±ç¼–å†™ç»“ç‚¹ç±»ï¼Œæ˜¾ç¤ºä½¿ç”¨é˜Ÿåˆ—è¿™ä¸ªæ•°æ®ç»“æ„ã€‚æ·±åº¦ä¼˜å…ˆéå†çš„æ—¶å€™ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ç³»ç»Ÿæ ˆï¼Œåœ¨é€’å½’æ–¹æ³•æ‰§è¡Œå®Œæˆçš„æ—¶å€™ï¼Œç³»ç»Ÿæ ˆé¡¶å°±æŠŠæˆ‘ä»¬æ‰€éœ€è¦çš„çŠ¶æ€ä¿¡æ¯ç›´æ¥å¼¹å‡ºï¼Œè€Œæ— é¡»ç¼–å†™ç»“ç‚¹ç±»å’Œæ˜¾ç¤ºä½¿ç”¨æ ˆã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>{</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å½“å‰å¾—åˆ°çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String res;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‰©ä½™å·¦æ‹¬å·æ•°é‡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> left;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‰©ä½™å³æ‹¬å·æ•°é‡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> right;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(String res, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.res = res;</span><br><span class="line">        <span class="keyword">this</span>.left = left;</span><br><span class="line">        <span class="keyword">this</span>.right = right;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Node{"</span> +</span><br><span class="line">                <span class="string">"res='"</span> + res + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", left="</span> + left +</span><br><span class="line">                <span class="string">", right="</span> + right +</span><br><span class="line">                <span class="string">'}'</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">generateParenthesis4</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">    List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    }</span><br><span class="line">    Queue&lt;Node&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(<span class="keyword">new</span> Node(<span class="string">""</span>, n, n));</span><br><span class="line">    <span class="comment">// æ€»å…±éœ€è¦æ‹¼å‡‘çš„å­—ç¬¦æ€»æ•°æ˜¯ 2 * n</span></span><br><span class="line">    n = <span class="number">2</span> * n;</span><br><span class="line">    <span class="keyword">while</span> (n &gt; <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) {</span><br><span class="line">            Node curNode = queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (curNode.left &gt; <span class="number">0</span>) {</span><br><span class="line">                queue.offer(<span class="keyword">new</span> Node(curNode.res + <span class="string">"("</span>, curNode.left - <span class="number">1</span>, curNode.right));</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span> (curNode.right &gt; <span class="number">0</span> &amp;&amp; curNode.left &lt; curNode.right) {</span><br><span class="line">                queue.offer(<span class="keyword">new</span> Node(curNode.res + <span class="string">")"</span>, curNode.left, curNode.right - <span class="number">1</span>));</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        n--;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœ€åä¸€å±‚å°±æ˜¯é¢˜ç›®è¦æ±‚çš„ç»“æœé›†</span></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) {</span><br><span class="line">        res.add(queue.poll().res);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸è§£æ³•å››ï¼šåŠ¨æ€è§„åˆ’"><a href="#ğŸŒ¸è§£æ³•å››ï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="ğŸŒ¸è§£æ³•å››ï¼šåŠ¨æ€è§„åˆ’"></a>ğŸŒ¸è§£æ³•å››ï¼šåŠ¨æ€è§„åˆ’</h2><p><strong>ç¬¬ 1 æ­¥ï¼šå®šä¹‰çŠ¶æ€ dp[i]</strong>ï¼šä½¿ç”¨ i å¯¹æ‹¬å·èƒ½å¤Ÿç”Ÿæˆçš„ç»„åˆã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šæ¯ä¸€ä¸ªçŠ¶æ€éƒ½æ˜¯åˆ—è¡¨çš„å½¢å¼ã€‚</p>
<p>ç¬¬ 2 æ­¥ï¼šçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p>
<ul>
<li>i å¯¹æ‹¬å·çš„ä¸€ä¸ªç»„åˆï¼Œåœ¨ i - 1 å¯¹æ‹¬å·çš„åŸºç¡€ä¸Šå¾—åˆ°ï¼Œè¿™æ˜¯æ€è€ƒ â€œçŠ¶æ€è½¬ç§»æ–¹ç¨‹â€ çš„åŸºç¡€ï¼›</li>
<li>i å¯¹æ‹¬å·çš„ä¸€ä¸ªç»„åˆï¼Œä¸€å®šä»¥å·¦æ‹¬å· â€œ(â€œ å¼€å§‹ï¼Œä¸ä¸€å®šä»¥ â€œ)â€ ç»“å°¾ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æšä¸¾æ–°çš„å³æ‹¬å· â€œ)â€ å¯èƒ½æ‰€å¤„çš„ä½ç½®ï¼Œå¾—åˆ°æ‰€æœ‰çš„ç»„åˆï¼›</li>
<li>æšä¸¾çš„æ–¹å¼å°±æ˜¯æšä¸¾å·¦æ‹¬å· â€œ(â€œ å’Œå³æ‹¬å· â€œ)â€ <strong>ä¸­é—´å¯èƒ½çš„åˆæ³•çš„æ‹¬å·å¯¹æ•°</strong>ï¼Œè€Œå‰©ä¸‹çš„åˆæ³•çš„æ‹¬å·å¯¹æ•°åœ¨ä¸ç¬¬ä¸€ä¸ªå·¦æ‹¬å· â€œ(â€œ é…å¯¹çš„å³æ‹¬å· â€œ)â€ çš„åé¢ï¼Œè¿™å°±ç”¨åˆ°äº†ä»¥å‰çš„çŠ¶æ€ã€‚</li>
</ul>
<p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ˜¯ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">dp[i] = "(" + dp[å¯èƒ½çš„æ‹¬å·å¯¹æ•°] + ")" + dp[å‰©ä¸‹çš„æ‹¬å·å¯¹æ•°]</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>â€œå¯èƒ½çš„æ‹¬å·å¯¹æ•°â€ ä¸ â€œå‰©ä¸‹çš„æ‹¬å·å¯¹æ•°â€ ä¹‹å’Œå¾—ä¸º i - 1ï¼Œæ•… â€œå¯èƒ½çš„æ‹¬å·å¯¹æ•°â€ j å¯ä»¥ä» 0 å¼€å§‹ï¼Œæœ€å¤šä¸èƒ½è¶…è¿‡ iï¼Œ å³ i - 1ï¼›</li>
<li>â€œå‰©ä¸‹çš„æ‹¬å·å¯¹æ•°â€ + j = i - 1ï¼Œæ•… â€œå‰©ä¸‹çš„æ‹¬å·å¯¹æ•°â€ = i - j - 1ã€‚</li>
</ul>
<p>æ•´ç†å¾—ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">dp[i] = "(" + dp[j] + ")" + dp[i- j - 1] , j = 0, 1, ..., i - 1</span><br></pre></td></tr></tbody></table></figure>

<p><strong>ç¬¬ 3 æ­¥ï¼š æ€è€ƒåˆå§‹çŠ¶æ€å’Œè¾“å‡ºï¼š</strong></p>
<ul>
<li>åˆå§‹çŠ¶æ€ï¼šå› ä¸ºæˆ‘ä»¬éœ€è¦ 0 å¯¹æ‹¬å·è¿™ç§çŠ¶æ€ï¼Œå› æ­¤çŠ¶æ€æ•°ç»„ dp ä» 0 å¼€å§‹ï¼Œ0 ä¸ªæ‹¬å·å½“ç„¶å°±æ˜¯ <code>[""]</code>ã€‚</li>
<li>è¾“å‡ºï¼š<code>dp[n]</code> ã€‚<br>è¿™ä¸ªæ–¹æ³•æš‚ä¸”å°±å«å®ƒåŠ¨æ€è§„åˆ’ï¼Œè¿™ä¹ˆç”¨ä¹Ÿæ˜¯å¾ˆç¥å¥‡çš„ï¼Œå®ƒæœ‰ä¸‹é¢ä¸¤ä¸ªç‰¹ç‚¹ï¼š</li>
</ul>
<p>1ã€è‡ªåº•å‘ä¸Šï¼šä»å°è§„æ¨¡é—®é¢˜å¼€å§‹ï¼Œé€æ¸å¾—åˆ°å¤§è§„æ¨¡é—®é¢˜çš„è§£é›†ï¼›</p>
<p>2ã€æ— åæ•ˆæ€§ï¼šåé¢çš„ç»“æœçš„å¾—åˆ°ï¼Œä¸ä¼šå½±å“åˆ°å‰é¢çš„ç»“æœã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// æŠŠç»“æœé›†ä¿å­˜åœ¨åŠ¨æ€è§„åˆ’çš„æ•°ç»„é‡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">generateParenthesis5</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// è¿™é‡Œ dp æ•°ç»„æˆ‘ä»¬æŠŠå®ƒå˜æˆåˆ—è¡¨çš„æ ·å­ï¼Œæ–¹ä¾¿è°ƒç”¨è€Œå·²</span></span><br><span class="line">    List&lt;List&lt;String&gt;&gt; dp = <span class="keyword">new</span> ArrayList&lt;&gt;(n);</span><br><span class="line"></span><br><span class="line">    List&lt;String&gt; dp0 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    dp0.add(<span class="string">""</span>);</span><br><span class="line">    dp.add(dp0);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">        List&lt;String&gt; cur = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) {</span><br><span class="line">            List&lt;String&gt; str1 = dp.get(j);</span><br><span class="line">            List&lt;String&gt; str2 = dp.get(i - <span class="number">1</span> - j);</span><br><span class="line">            <span class="keyword">for</span> (String s1 : str1) {</span><br><span class="line">                <span class="keyword">for</span> (String s2 : str2) {</span><br><span class="line">                    <span class="comment">// æšä¸¾å³æ‹¬å·çš„ä½ç½®</span></span><br><span class="line">                    cur.add(<span class="string">"("</span> + s1 + <span class="string">")"</span> + s2);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        dp.add(cur);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp.get(n);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>@é¢˜è§£æ¥è‡ª<a href="https://leetcode-cn.com/problems/generate-parentheses/solution/hui-su-suan-fa-by-liweiwei1419/" target="_blank" rel="noopener">liweiwei</a></p>
<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>BFS</tag>
        <tag>å‰ªæ</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
        <tag>é€’å½’</tag>
      </tags>
  </entry>
  <entry>
    <title>DFS-BFS_leetcode.637.äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼</title>
    <url>/Layer_average_of_binary_tree/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ç»™å®šä¸€ä¸ªéç©ºäºŒå‰æ ‘, è¿”å›ä¸€ä¸ªç”±æ¯å±‚èŠ‚ç‚¹å¹³å‡å€¼ç»„æˆçš„æ•°ç»„ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">    3</span><br><span class="line">   / \</span><br><span class="line">  9  20</span><br><span class="line">    /  \</span><br><span class="line">   15   7</span><br><span class="line">è¾“å‡ºï¼š[3, 14.5, 11]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ç¬¬ 0 å±‚çš„å¹³å‡å€¼æ˜¯ 3 ,  ç¬¬1å±‚æ˜¯ 14.5 , ç¬¬2å±‚æ˜¯ 11 ã€‚å› æ­¤è¿”å› [3, 14.5, 11] ã€‚</span><br></pre></td></tr></tbody></table></figure>


<p>æç¤ºï¼š</p>
<ul>
<li>èŠ‚ç‚¹å€¼çš„èŒƒå›´åœ¨32ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´å†…ã€‚</li>
</ul>
<a id="more"></a>

<h2 id="ğŸæ–¹æ³•ä¸€ï¼šDFS"><a href="#ğŸæ–¹æ³•ä¸€ï¼šDFS" class="headerlink" title="ğŸæ–¹æ³•ä¸€ï¼šDFS"></a>ğŸæ–¹æ³•ä¸€ï¼šDFS</h2><p>ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢è®¡ç®—äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼ï¼Œéœ€è¦ç»´æŠ¤ä¸¤ä¸ªæ•°ç»„ï¼Œcounts ç”¨äºå­˜å‚¨äºŒå‰æ ‘çš„æ¯ä¸€å±‚çš„èŠ‚ç‚¹æ•°ï¼Œsums ç”¨äºå­˜å‚¨äºŒå‰æ ‘çš„æ¯ä¸€å±‚çš„èŠ‚ç‚¹å€¼ä¹‹å’Œã€‚æœç´¢è¿‡ç¨‹ä¸­éœ€è¦è®°å½•å½“å‰èŠ‚ç‚¹æ‰€åœ¨å±‚ï¼Œå¦‚æœè®¿é—®åˆ°çš„èŠ‚ç‚¹åœ¨ç¬¬ i å±‚ï¼Œåˆ™å°†counts[i] çš„å€¼åŠ  11ï¼Œå¹¶å°†è¯¥èŠ‚ç‚¹çš„å€¼åŠ åˆ° sums[i]ã€‚</p>
<p>éå†ç»“æŸä¹‹åï¼Œç¬¬ ii å±‚çš„å¹³å‡å€¼å³ä¸º<code>sums[i]/counts[i]</code>ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Double&gt; <span class="title">averageOfLevels</span><span class="params">(TreeNode root)</span> </span>{</span><br><span class="line">	List&lt;Double&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	List&lt;Double&gt; sum = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	List&lt;Integer&gt; counts = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	dfs(<span class="number">0</span>, root, sum, counts);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sum.size(); i++) {</span><br><span class="line">		res.add(sum.get(i) / counts.get(i));</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> level, TreeNode root, List&lt;Double&gt; sum, List&lt;Integer&gt; counts)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span>(root == <span class="keyword">null</span>) {</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(level &lt; sum.size()) {</span><br><span class="line">		sum.set(level, sum.get(level) + root.val);</span><br><span class="line">		counts.set(level, counts.get(level) + <span class="number">1</span>);</span><br><span class="line">	}<span class="keyword">else</span> {</span><br><span class="line">		sum.add(<span class="number">1.0</span> * root.val);</span><br><span class="line">		counts.add(<span class="number">1</span>);</span><br><span class="line">	}</span><br><span class="line">	dfs(level + <span class="number">1</span>, root.left, sum, counts);</span><br><span class="line">	dfs(level + <span class="number">1</span>, root.right, sum, counts);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">averageOfLevels</span><span class="params">(self, root: TreeNode)</span> -&gt; List[float]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(root: TreeNode, level: int)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">if</span> level &lt; len(totals):</span><br><span class="line">                totals[level] += root.val</span><br><span class="line">                counts[level] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                totals.append(root.val)</span><br><span class="line">                counts.append(<span class="number">1</span>)</span><br><span class="line">            dfs(root.left, level + <span class="number">1</span>)</span><br><span class="line">            dfs(root.right, level + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        counts = list()</span><br><span class="line">        totals = list()</span><br><span class="line">        dfs(root, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> [total / count <span class="keyword">for</span> total, count <span class="keyword">in</span> zip(totals, counts)]</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸè§£æ³•äºŒï¼š-BFS"><a href="#ğŸè§£æ³•äºŒï¼š-BFS" class="headerlink" title="ğŸè§£æ³•äºŒï¼š BFS"></a>ğŸè§£æ³•äºŒï¼š BFS</h2><p>ä¹Ÿå¯ä»¥ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢è®¡ç®—äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼ã€‚ä»æ ¹èŠ‚ç‚¹å¼€å§‹æœç´¢ï¼Œæ¯ä¸€è½®éå†åŒä¸€å±‚çš„å…¨éƒ¨èŠ‚ç‚¹ï¼Œè®¡ç®—è¯¥å±‚çš„èŠ‚ç‚¹æ•°ä»¥åŠè¯¥å±‚çš„èŠ‚ç‚¹å€¼ä¹‹å’Œï¼Œç„¶åè®¡ç®—è¯¥å±‚çš„å¹³å‡å€¼ã€‚</p>
<p>å¦‚ä½•ç¡®ä¿æ¯ä¸€è½®éå†çš„æ˜¯åŒä¸€å±‚çš„å…¨éƒ¨èŠ‚ç‚¹å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å€Ÿé‰´å±‚æ¬¡éå†çš„åšæ³•ï¼Œå¹¿åº¦ä¼˜å…ˆæœç´¢ä½¿ç”¨é˜Ÿåˆ—å­˜å‚¨å¾…è®¿é—®èŠ‚ç‚¹ï¼Œåªè¦ç¡®ä¿åœ¨æ¯ä¸€è½®éå†æ—¶ï¼Œé˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹æ˜¯åŒä¸€å±‚çš„å…¨éƒ¨èŠ‚ç‚¹å³å¯ã€‚å…·ä½“åšæ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆå§‹æ—¶ï¼Œå°†æ ¹èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼›</li>
<li>æ¯ä¸€è½®éå†æ—¶ï¼Œå°†é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹å…¨éƒ¨å–å‡ºï¼Œè®¡ç®—è¿™äº›èŠ‚ç‚¹çš„æ•°é‡ä»¥åŠå®ƒä»¬çš„èŠ‚ç‚¹å€¼ä¹‹å’Œï¼Œå¹¶è®¡ç®—è¿™äº›èŠ‚ç‚¹çš„å¹³å‡å€¼ï¼Œç„¶åå°†è¿™äº›èŠ‚ç‚¹çš„å…¨éƒ¨éç©ºå­èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œé‡å¤ä¸Šè¿°æ“ä½œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºï¼Œéå†ç»“æŸã€‚</li>
</ul>
<p>ç”±äºåˆå§‹æ—¶é˜Ÿåˆ—ä¸­åªæœ‰æ ¹èŠ‚ç‚¹ï¼Œæ»¡è¶³é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹æ˜¯åŒä¸€å±‚çš„å…¨éƒ¨èŠ‚ç‚¹ï¼Œæ¯ä¸€è½®éå†æ—¶éƒ½ä¼šå°†é˜Ÿåˆ—ä¸­çš„å½“å‰å±‚èŠ‚ç‚¹å…¨éƒ¨å–å‡ºï¼Œå¹¶å°†ä¸‹ä¸€å±‚çš„å…¨éƒ¨èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œå› æ­¤å¯ä»¥ç¡®ä¿æ¯ä¸€è½®éå†çš„æ˜¯åŒä¸€å±‚çš„å…¨éƒ¨èŠ‚ç‚¹ã€‚</p>
<p>å…·ä½“å®ç°æ–¹é¢ï¼Œå¯ä»¥åœ¨æ¯ä¸€è½®éå†ä¹‹å‰è·å¾—é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹æ•°é‡sizeï¼Œéå†æ—¶åªéå† size ä¸ªèŠ‚ç‚¹ï¼Œå³å¯æ»¡è¶³æ¯ä¸€è½®éå†çš„æ˜¯åŒä¸€å±‚çš„å…¨éƒ¨èŠ‚ç‚¹ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Double&gt; <span class="title">averageOfLevels2</span><span class="params">(TreeNode root)</span> </span>{</span><br><span class="line">	List&lt;Double&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">	queue.offer(root);</span><br><span class="line">	<span class="keyword">while</span>(!queue.isEmpty()) {</span><br><span class="line">		<span class="keyword">double</span> sum = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> size = queue.size();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) {</span><br><span class="line">			TreeNode curNode = queue.poll();</span><br><span class="line">			sum += curNode.val;</span><br><span class="line">			TreeNode left = curNode.left, right = curNode.right;</span><br><span class="line">			<span class="keyword">if</span>(left != <span class="keyword">null</span>) {</span><br><span class="line">				queue.offer(left);</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span>(right != <span class="keyword">null</span>) {</span><br><span class="line">				queue.offer(right);</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		res.add(sum / size);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">averageOfLevels</span><span class="params">(self, root: TreeNode)</span> -&gt; List[float]:</span></span><br><span class="line">        averages = list()</span><br><span class="line">        queue = collections.deque([root])</span><br><span class="line">        <span class="keyword">while</span> queue:</span><br><span class="line">            total = <span class="number">0</span></span><br><span class="line">            size = len(queue)</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(size):</span><br><span class="line">                node = queue.popleft()</span><br><span class="line">                total += node.val</span><br><span class="line">                left, right = node.left, node.right</span><br><span class="line">                <span class="keyword">if</span> left:</span><br><span class="line">                    queue.append(left)</span><br><span class="line">                <span class="keyword">if</span> right:</span><br><span class="line">                    queue.append(right)</span><br><span class="line">            averages.append(total / size)</span><br><span class="line">        <span class="keyword">return</span> averages</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>BFS</tag>
      </tags>
  </entry>
  <entry>
    <title>å›æº¯_leetcode.78.å­é›†</title>
    <url>/Subset/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ç»„ä¸å«é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„ numsï¼Œè¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚</p>
<p>è¯´æ˜ï¼šè§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„å­é›†ã€‚</p>
<p>ç¤ºä¾‹:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [1,2,3]</span><br><span class="line">è¾“å‡º:</span><br><span class="line">[</span><br><span class="line">  [3],</span><br><span class="line">  [1],</span><br><span class="line">  [2],</span><br><span class="line">  [1,2,3],</span><br><span class="line">  [1,3],</span><br><span class="line">  [2,3],</span><br><span class="line">  [1,2],</span><br><span class="line">  []</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></figure>

<a id="more"></a>

<h2 id="ğŸŒ¸åˆ†æ"><a href="#ğŸŒ¸åˆ†æ" class="headerlink" title="ğŸŒ¸åˆ†æ"></a>ğŸŒ¸åˆ†æ</h2><h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šé€’å½’"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šé€’å½’" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šé€’å½’"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šé€’å½’</h2><p>å¼€å§‹å‡è®¾è¾“å‡ºå­é›†ä¸ºç©ºï¼Œæ¯ä¸€æ­¥éƒ½å‘å­é›†æ·»åŠ æ–°çš„æ•´æ•°ï¼Œå¹¶ç”Ÿæˆæ–°çš„å­é›†ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; subsets(<span class="keyword">int</span>[] nums) {</span><br><span class="line">  List&lt;List&lt;Integer&gt;&gt; output = <span class="keyword">new</span> ArrayList();</span><br><span class="line">  output.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) {</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; newSubsets = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    <span class="keyword">for</span> (List&lt;Integer&gt; curr : output) {</span><br><span class="line">      newSubsets.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(curr){{add(num);}});</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (List&lt;Integer&gt; curr : newSubsets) {</span><br><span class="line">      output.add(curr);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> output;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>





<h2 id="ğŸŒ¸è§£æ³•äºŒï¼šå›æº¯"><a href="#ğŸŒ¸è§£æ³•äºŒï¼šå›æº¯" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼šå›æº¯"></a>ğŸŒ¸è§£æ³•äºŒï¼šå›æº¯</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;List&lt;Integer&gt;&gt; subsets1(<span class="keyword">int</span>[] nums) {</span><br><span class="line">	 List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	 dfs(<span class="number">0</span>, nums, nums.length, res, <span class="keyword">new</span> ArrayList&lt;Integer&gt;());</span><br><span class="line">	 <span class="keyword">return</span> res;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span>[] nums, <span class="keyword">int</span> length, List&lt;List&lt;Integer&gt;&gt; res, ArrayList&lt;Integer&gt; curList)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	res.add(<span class="keyword">new</span> ArrayList&lt;&gt;(curList));</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; length; j++) {</span><br><span class="line">		curList.add(nums[j]);</span><br><span class="line">		dfs(j + <span class="number">1</span>, nums, length, res, curList);</span><br><span class="line">		curList.remove(curList.size() - <span class="number">1</span>);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h3><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>é€’å½’</tag>
        <tag>å›æº¯</tag>
        <tag>DFSï¼Œ æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
      </tags>
  </entry>
  <entry>
    <title>å›æº¯_leetcode.77.ç»„åˆ</title>
    <url>/combination/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸¤ä¸ªæ•´æ•° n å’Œ kï¼Œè¿”å› 1 â€¦ n ä¸­æ‰€æœ‰å¯èƒ½çš„ k ä¸ªæ•°çš„ç»„åˆã€‚</p>
<p>ç¤ºä¾‹:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: n = 4, k = 2</span><br><span class="line">è¾“å‡º:</span><br><span class="line">[</span><br><span class="line">  [2,4],</span><br><span class="line">  [3,4],</span><br><span class="line">  [2,3],</span><br><span class="line">  [1,2],</span><br><span class="line">  [1,3],</span><br><span class="line">  [1,4],</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></figure>

<a id="more"></a>

<h2 id="ğŸŒ¸åˆ†æ"><a href="#ğŸŒ¸åˆ†æ" class="headerlink" title="ğŸŒ¸åˆ†æ"></a>ğŸŒ¸åˆ†æ</h2><ul>
<li>å¦‚æœè§£å†³ä¸€ä¸ªé—®é¢˜æœ‰å¤šä¸ªæ­¥éª¤ï¼Œæ¯ä¸€ä¸ªæ­¥éª¤æœ‰å¤šç§æ–¹æ³•ï¼Œé¢˜ç›®åˆè¦æˆ‘ä»¬æ‰¾å‡ºæ‰€æœ‰çš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨å›æº¯ç®—æ³•ï¼›</li>
<li>å›æº¯ç®—æ³•æ˜¯åœ¨ä¸€æ£µæ ‘ä¸Šçš„ æ·±åº¦ä¼˜å…ˆéå†ï¼ˆå› ä¸ºè¦æ‰¾æ‰€æœ‰çš„è§£ï¼Œæ‰€ä»¥éœ€è¦éå†ï¼‰ï¼›</li>
<li>ç»„åˆé—®é¢˜ï¼Œç›¸å¯¹äºæ’åˆ—é—®é¢˜è€Œè¨€ï¼Œä¸è®¡è¾ƒä¸€ä¸ªç»„åˆå†…å…ƒç´ çš„é¡ºåºæ€§ï¼ˆå³ [1, 2, 3] ä¸ [1, 3, 2] è®¤ä¸ºæ˜¯åŒä¸€ä¸ªç»„åˆï¼‰ï¼Œå› æ­¤å¾ˆå¤šæ—¶å€™éœ€è¦æŒ‰æŸç§é¡ºåºå±•å¼€æœç´¢ï¼Œè¿™æ ·æ‰èƒ½åšåˆ°ä¸é‡ä¸æ¼ã€‚</li>
</ul>
<p>å›æº¯ç®—æ³•é¦–å…ˆéœ€è¦ç”»å‡ºé€’å½’æ ‘ï¼Œä¸åŒçš„æ ‘å†³å®šäº†ä¸åŒçš„ä»£ç å®ç°ã€‚</p>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šæ ¹æ®æœç´¢èµ·ç‚¹ç”»å‡ºäºŒå‰æ ‘"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šæ ¹æ®æœç´¢èµ·ç‚¹ç”»å‡ºäºŒå‰æ ‘" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šæ ¹æ®æœç´¢èµ·ç‚¹ç”»å‡ºäºŒå‰æ ‘"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šæ ¹æ®æœç´¢èµ·ç‚¹ç”»å‡ºäºŒå‰æ ‘</h2><p>æ—¢ç„¶æ˜¯æ ‘å½¢é—®é¢˜ä¸Šçš„ æ·±åº¦ä¼˜å…ˆéå†ï¼Œå› æ­¤é¦–å…ˆç”»å‡ºæ ‘å½¢ç»“æ„ã€‚ä¾‹å¦‚è¾“å…¥ï¼šn = 4, k = 2ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°å¦‚ä¸‹é€’å½’ç»“æ„ï¼š</p>
<ul>
<li>å¦‚æœç»„åˆé‡Œæœ‰ 1 ï¼Œé‚£ä¹ˆéœ€è¦åœ¨ [2, 3, 4] é‡Œå†æ‰¾ 1 ä¸ªæ•°ï¼›</li>
<li>å¦‚æœç»„åˆé‡Œæœ‰ 2 ï¼Œé‚£ä¹ˆéœ€è¦åœ¨ [3, 4] é‡Œå†æ‰¾ 1æ•°ã€‚æ³¨æ„ï¼šè¿™é‡Œä¸èƒ½å†è€ƒè™‘ 1ï¼Œå› ä¸ºåŒ…å« 1 çš„ç»„åˆï¼Œåœ¨ç¬¬ 1 ç§æƒ…å†µä¸­å·²ç»åŒ…å«ã€‚</li>
</ul>
<p>ä¾æ¬¡ç±»æ¨ï¼ˆåé¢éƒ¨åˆ†çœç•¥ï¼‰ï¼Œä»¥ä¸Šæè¿°ä½“ç°çš„ é€’å½’ ç»“æ„æ˜¯ï¼šåœ¨ä»¥ n ç»“å°¾çš„å€™é€‰æ•°ç»„é‡Œï¼Œé€‰å‡ºè‹¥å¹²ä¸ªå…ƒç´ ã€‚</p>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>å¶å­ç»“ç‚¹çš„ä¿¡æ¯ä½“ç°åœ¨ä»æ ¹ç»“ç‚¹åˆ°å¶å­ç»“ç‚¹çš„è·¯å¾„ä¸Šï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªè¡¨ç¤ºè·¯å¾„çš„å˜é‡ pathï¼Œå®ƒæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œç‰¹åˆ«åœ°ï¼Œpath æ˜¯ä¸€ä¸ªæ ˆï¼›</li>
<li>æ¯ä¸€ä¸ªç»“ç‚¹é€’å½’åœ°åœ¨åšåŒæ ·çš„äº‹æƒ…ï¼ŒåŒºåˆ«åœ¨äºæœç´¢èµ·ç‚¹ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªå˜é‡ start ï¼Œè¡¨ç¤ºåœ¨åŒºé—´ [begin, n] é‡Œé€‰å‡ºè‹¥å¹²ä¸ªæ•°çš„ç»„åˆï¼›</li>
<li>å¯èƒ½æœ‰ä¸€äº›åˆ†æ”¯æ²¡æœ‰å¿…è¦æ‰§è¡Œï¼Œæˆ‘ä»¬æ”¾åœ¨ä¼˜åŒ–ä¸­ä»‹ç»ã€‚</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combine(<span class="keyword">int</span> n, <span class="keyword">int</span> k){</span><br><span class="line">	List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	<span class="keyword">if</span>(k &lt;= <span class="number">0</span> || n &lt; k) {</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//ä»1å¼€å§‹æ˜¯é¢˜ç›®çš„è®¾å®š</span></span><br><span class="line">	Deque&lt;Integer&gt; path = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">	dfs(n, k, <span class="number">1</span>, path, res);</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k, <span class="keyword">int</span> begin, Deque&lt;Integer&gt; path, List&lt;List&lt;Integer&gt;&gt; res)</span> </span>{</span><br><span class="line">	<span class="comment">//é€’å½’ç»ˆæ­¢æ¡ä»¶æ˜¯ï¼špathçš„é•¿åº¦ç­‰äºK</span></span><br><span class="line">	<span class="keyword">if</span>(k == path.size()) {</span><br><span class="line">		res.add(<span class="keyword">new</span> ArrayList&lt;&gt;(path));</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//éå†å¯èƒ½çš„æœç´¢èµ·ç‚¹</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = begin; i &lt;= n; i++) {</span><br><span class="line">		<span class="comment">//å‘è·¯å¾„å˜é‡é‡Œæ·»åŠ ä¸€ä¸ªæ•°</span></span><br><span class="line">		path.addLast(i);</span><br><span class="line">		<span class="comment">//ä¸‹ä¸€è½®æœç´¢ï¼Œè®¾ç½®æœç´¢èµ·ç‚¹è¦åŠ ä¸€ï¼Œå› ä¸ºç»„åˆæ•°é‡Œåº”è¯¥ä¸æ¬²å¥´å¾å‡ºç°é‡å¤æ•°</span></span><br><span class="line">		dfs(n, k, begin + <span class="number">1</span>, path, res);</span><br><span class="line">		<span class="comment">//æ·±åº¦ä¼˜å…ˆæœç´¢éå†æœ‰å›å¤´çš„æ—¶å€™ï¼Œå› æ­¤éœ€è¦å›æº¯</span></span><br><span class="line">		path.removeLast();</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>





<h2 id="ğŸŒ¸è§£æ³•äºŒï¼šåˆ†ææœç´¢èµ·ç‚¹çš„ä¸Šç•Œè¿›è¡Œå‰ªæ"><a href="#ğŸŒ¸è§£æ³•äºŒï¼šåˆ†ææœç´¢èµ·ç‚¹çš„ä¸Šç•Œè¿›è¡Œå‰ªæ" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼šåˆ†ææœç´¢èµ·ç‚¹çš„ä¸Šç•Œè¿›è¡Œå‰ªæ"></a>ğŸŒ¸è§£æ³•äºŒï¼šåˆ†ææœç´¢èµ·ç‚¹çš„ä¸Šç•Œè¿›è¡Œå‰ªæ</h2><p>äº‹å®ä¸Šï¼Œå¦‚æœ n = 7, k = 4ï¼Œä» 55 å¼€å§‹æœç´¢å°±å·²ç»æ²¡æœ‰æ„ä¹‰äº†ï¼Œè¿™æ˜¯å› ä¸ºï¼šå³ä½¿æŠŠ 55 é€‰ä¸Šï¼Œåé¢çš„æ•°åªæœ‰ 66 å’Œ 77ï¼Œä¸€å…±å°± 33 ä¸ªå€™é€‰æ•°ï¼Œå‡‘ä¸å‡º 44 ä¸ªæ•°çš„ç»„åˆã€‚å› æ­¤ï¼Œæœç´¢èµ·ç‚¹æœ‰ä¸Šç•Œï¼Œè¿™ä¸ªä¸Šç•Œæ˜¯å¤šå°‘ï¼Œå¯ä»¥ä¸¾å‡ ä¸ªä¾‹å­åˆ†æã€‚</p>
<p>åˆ†ææœç´¢èµ·ç‚¹çš„ä¸Šç•Œï¼Œå…¶å®æ˜¯åœ¨æ·±åº¦ä¼˜å…ˆéå†çš„è¿‡ç¨‹ä¸­å‰ªæï¼Œå‰ªæå¯ä»¥é¿å…ä¸å¿…è¦çš„éå†ï¼Œå‰ªæå‰ªå¾—å¥½ï¼Œå¯ä»¥å¤§å¹…åº¦èŠ‚çº¦ç®—æ³•çš„æ‰§è¡Œæ—¶é—´ã€‚</p>
<p>å½“ n å¾ˆå¤§çš„æ—¶å€™ï¼Œèƒ½å°‘éå†å¾ˆå¤šç»“ç‚¹ï¼ŒèŠ‚çº¦äº†æ—¶é—´ã€‚</p>
<p>ä¾‹å¦‚<code>ï¼šn = 6 ï¼Œk = 4</code>ã€‚</p>
<p><code>path.size() == 1</code> çš„æ—¶å€™ï¼Œæ¥ä¸‹æ¥è¦é€‰æ‹© 3ä¸ªæ•°ï¼Œæœç´¢èµ·ç‚¹æœ€å¤§æ˜¯ 4ï¼Œæœ€åä¸€ä¸ªè¢«é€‰çš„ç»„åˆæ˜¯ <code>[4, 5, 6]</code>ï¼›<br><code>path.size() == 2</code> çš„æ—¶å€™ï¼Œæ¥ä¸‹æ¥è¦é€‰æ‹© 2 ä¸ªæ•°ï¼Œæœç´¢èµ·ç‚¹æœ€å¤§æ˜¯ 5ï¼Œæœ€åä¸€ä¸ªè¢«é€‰çš„ç»„åˆæ˜¯ <code>[5, 6]</code>ï¼›<br><code>path.size() == 3</code> çš„æ—¶å€™ï¼Œæ¥ä¸‹æ¥è¦é€‰æ‹© 1 ä¸ªæ•°ï¼Œæœç´¢èµ·ç‚¹æœ€å¤§æ˜¯ 6ï¼Œæœ€åä¸€ä¸ªè¢«é€‰çš„ç»„åˆæ˜¯ <code>[6]</code>ï¼›</p>
<p>å†å¦‚ï¼š<code>n = 15 ï¼Œk = 4</code>ã€‚<br><code>path.size() == 1</code> çš„æ—¶å€™ï¼Œæ¥ä¸‹æ¥è¦é€‰æ‹© 3 ä¸ªæ•°ï¼Œæœç´¢èµ·ç‚¹æœ€å¤§æ˜¯ 13ï¼Œæœ€åä¸€ä¸ªè¢«é€‰çš„æ˜¯ <code>[13, 14, 15]</code>ï¼›<br><code>path.size() == 2</code> çš„æ—¶å€™ï¼Œæ¥ä¸‹æ¥è¦é€‰æ‹© 2 ä¸ªæ•°ï¼Œæœç´¢èµ·ç‚¹æœ€å¤§æ˜¯ 14ï¼Œæœ€åä¸€ä¸ªè¢«é€‰çš„æ˜¯ <code>[14, 15]</code>ï¼›<br><code>path.size() == 3</code> çš„æ—¶å€™ï¼Œæ¥ä¸‹æ¥è¦é€‰æ‹© 1 ä¸ªæ•°ï¼Œæœç´¢èµ·ç‚¹æœ€å¤§æ˜¯ 15ï¼Œæœ€åä¸€ä¸ªè¢«é€‰çš„æ˜¯ [<code>15]</code>ï¼›</p>
<p>å¯ä»¥å½’çº³å‡ºï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">æœç´¢èµ·ç‚¹çš„ä¸Šç•Œ + æ¥ä¸‹æ¥è¦é€‰æ‹©çš„å…ƒç´ ä¸ªæ•° - 1 = n</span><br></pre></td></tr></tbody></table></figure>


<p>å…¶ä¸­ï¼Œæ¥ä¸‹æ¥è¦é€‰æ‹©çš„å…ƒç´ ä¸ªæ•° = <code>k - path.size()</code>ï¼Œæ•´ç†å¾—åˆ°ï¼š</p>
<p>æœç´¢èµ·ç‚¹çš„ä¸Šç•Œ = <code>n - (k - path.size()) + 1</code><br>æ‰€ä»¥ï¼Œæˆ‘ä»¬çš„å‰ªæè¿‡ç¨‹å°±æ˜¯<code>ï¼šæŠŠ i &lt;= n æ”¹æˆ i &lt;= n - (k - path.size()) + 1</code> ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combine(<span class="keyword">int</span> n, <span class="keyword">int</span> k){</span><br><span class="line">	List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	<span class="keyword">if</span>(k &lt;= <span class="number">0</span> || n &lt; k) {</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//ä»1å¼€å§‹æ˜¯é¢˜ç›®çš„è®¾å®š</span></span><br><span class="line">	Deque&lt;Integer&gt; path = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">	dfs(n, k, <span class="number">1</span>, path, res);</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k, <span class="keyword">int</span> begin, Deque&lt;Integer&gt; path, List&lt;List&lt;Integer&gt;&gt; res)</span> </span>{</span><br><span class="line">	<span class="comment">//é€’å½’ç»ˆæ­¢æ¡ä»¶æ˜¯ï¼špathçš„é•¿åº¦ç­‰äºK</span></span><br><span class="line">	<span class="keyword">if</span>(k == path.size()) {</span><br><span class="line">		res.add(<span class="keyword">new</span> ArrayList&lt;&gt;(path));</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//éå†å¯èƒ½çš„æœç´¢èµ·ç‚¹</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = begin; i &lt;= n - (k - path.size()) + <span class="number">1</span>; i++) {</span><br><span class="line">		<span class="comment">//å‘è·¯å¾„å˜é‡é‡Œæ·»åŠ ä¸€ä¸ªæ•°</span></span><br><span class="line">		path.addLast(i);</span><br><span class="line">		<span class="comment">//ä¸‹ä¸€è½®æœç´¢ï¼Œè®¾ç½®æœç´¢èµ·ç‚¹è¦åŠ ä¸€ï¼Œå› ä¸ºç»„åˆæ•°é‡Œåº”è¯¥ä¸æ¬²å¥´å¾å‡ºç°é‡å¤æ•°</span></span><br><span class="line">		dfs(n, k, begin + <span class="number">1</span>, path, res);</span><br><span class="line">		<span class="comment">//æ·±åº¦ä¼˜å…ˆæœç´¢éå†æœ‰å›å¤´çš„æ—¶å€™ï¼Œå› æ­¤éœ€è¦å›æº¯</span></span><br><span class="line">		path.removeLast();</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h3><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>å‰ªæ</tag>
        <tag>é€’å½’</tag>
        <tag>å›æº¯</tag>
      </tags>
  </entry>
  <entry>
    <title>æ’åº_leetcode.347.å‰Kä¸ªé«˜é¢‘å…ƒç´ </title>
    <url>/The_first_k_high_frequency_elements/</url>
    <content><![CDATA[<p>ğŸŒ¸é¢˜ç›®</p>
<p>ğŸç»™å®šä¸€ä¸ªéç©ºçš„æ•´æ•°æ•°ç»„ï¼Œè¿”å›å…¶ä¸­å‡ºç°é¢‘ç‡å‰ k é«˜çš„å…ƒç´ ã€‚</p>
<p>ç¤ºä¾‹ 1:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [1,1,1,2,2,3], k = 2</span><br><span class="line">è¾“å‡º: [1,2]</span><br></pre></td></tr></tbody></table></figure>


<p>ç¤ºä¾‹ 2:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [1], k = 1</span><br><span class="line">è¾“å‡º: [1]</span><br></pre></td></tr></tbody></table></figure>

<a id="more"></a>

<p>æç¤ºï¼š</p>
<ul>
<li>ä½ å¯ä»¥å‡è®¾ç»™å®šçš„ k æ€»æ˜¯åˆç†çš„ï¼Œä¸” 1 â‰¤ k â‰¤ æ•°ç»„ä¸­ä¸ç›¸åŒçš„å…ƒç´ çš„ä¸ªæ•°ã€‚</li>
<li>ä½ çš„ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¿…é¡»ä¼˜äº O(n log n) , n æ˜¯æ•°ç»„çš„å¤§å°ã€‚</li>
<li>é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆå”¯ä¸€ï¼Œæ¢å¥è¯è¯´ï¼Œæ•°ç»„ä¸­å‰ k ä¸ªé«˜é¢‘å…ƒç´ çš„é›†åˆæ˜¯å”¯ä¸€çš„ã€‚</li>
<li>ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚</li>
</ul>
<h2 id="ğŸŒ¸åˆ†æ"><a href="#ğŸŒ¸åˆ†æ" class="headerlink" title="ğŸŒ¸åˆ†æ"></a>ğŸŒ¸åˆ†æ</h2><p>ä»¥ä¸‹ç»™å‡ºäº†ä¸¤ç§æ–¹æ³•ï¼Œæ€è·¯å…¶å®æ˜¯ä¸€æ ·çš„ï¼šé€šè¿‡ <strong>è®¡ç®—å‰©ä½™æ•°å­—ä¸ªæ•°çš„é˜¶ä¹˜æ•°</strong>ï¼Œä¸€ä½ä¸€ä½é€‰å‡ºç¬¬ <code>k</code> ä¸ªæ’åˆ—çš„æ•°ä½ã€‚</p>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šæ’åº"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šæ’åº" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šæ’åº"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šæ’åº</h2><p>æœ€ç®€å•ç²—æš´çš„æ€è·¯å°±æ˜¯ <strong>ä½¿ç”¨æ’åºç®—æ³•å¯¹å…ƒç´ æŒ‰ç…§é¢‘ç‡ç”±é«˜åˆ°ä½è¿›è¡Œæ’åº</strong>ï¼Œç„¶åå†å–å‰ k ä¸ªå…ƒç´ ã€‚</p>
<p><a href="https://imgchr.com/i/wKJOZn" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/09/07/wKJOZn.png" alt="wKJOZn.png"></a></p>
<p>å¯ä»¥å‘ç°ï¼Œä½¿ç”¨å¸¸è§„çš„è¯¸å¦‚ å†’æ³¡ã€é€‰æ‹©ã€ç”šè‡³å¿«é€Ÿæ’åºéƒ½æ˜¯ä¸æ»¡è¶³é¢˜ç›®è¦æ±‚ï¼Œå®ƒä»¬çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯å¤§äºæˆ–è€…ç­‰äº O(n logâ¡n)ï¼Œè€Œé¢˜ç›®è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¿…é¡»ä¼˜äº O(n log n)ã€‚</p>
<h2 id="ğŸŒ¸è§£æ³•äºŒï¼šæœ€å°å †"><a href="#ğŸŒ¸è§£æ³•äºŒï¼šæœ€å°å †" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼šæœ€å°å †"></a>ğŸŒ¸è§£æ³•äºŒï¼šæœ€å°å †</h2><p>é¢˜ç›®æœ€ç»ˆéœ€è¦è¿”å›çš„æ˜¯å‰ k ä¸ªé¢‘ç‡æœ€å¤§çš„å…ƒç´ ï¼Œå¯ä»¥æƒ³åˆ°å€ŸåŠ©å †è¿™ç§æ•°æ®ç»“æ„ï¼Œå¯¹äº k é¢‘ç‡ä¹‹åçš„å…ƒç´ ä¸ç”¨å†å»å¤„ç†ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ã€‚</p>
<p>å…·ä½“æ“ä½œä¸ºï¼š</p>
<ul>
<li>å€ŸåŠ© å“ˆå¸Œè¡¨ æ¥å»ºç«‹æ•°å­—å’Œå…¶å‡ºç°æ¬¡æ•°çš„æ˜ å°„ï¼Œéå†ä¸€éæ•°ç»„ç»Ÿè®¡å…ƒç´ çš„é¢‘ç‡</li>
<li>ç»´æŠ¤ä¸€ä¸ªå…ƒç´ æ•°ç›®ä¸º kçš„æœ€å°å †</li>
<li>æ¯æ¬¡éƒ½å°†æ–°çš„å…ƒç´ ä¸å †é¡¶å…ƒç´ ï¼ˆå †ä¸­é¢‘ç‡æœ€å°çš„å…ƒç´ ï¼‰è¿›è¡Œæ¯”è¾ƒ</li>
<li>å¦‚æœæ–°çš„å…ƒç´ çš„é¢‘ç‡æ¯”å †é¡¶ç«¯çš„å…ƒç´ å¤§ï¼Œåˆ™å¼¹å‡ºå †é¡¶ç«¯çš„å…ƒç´ ï¼Œå°†æ–°çš„å…ƒç´ æ·»åŠ è¿›å †ä¸­</li>
<li>æœ€ç»ˆï¼Œå †ä¸­çš„ k ä¸ªå…ƒç´ å³ä¸ºå‰ k ä¸ªé«˜é¢‘å…ƒç´ </li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">topKFrequent</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>{</span><br><span class="line">	<span class="comment">//ä½¿ç”¨å­—å…¸ï¼Œç»Ÿè®¡æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œæ¬¡æ•°ä¸ºå»ºï¼Œå…ƒç´ å‡ºç°çš„æ¬¡æ•°ä¸ºå€¼</span></span><br><span class="line">	Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> num : nums) {</span><br><span class="line">		<span class="keyword">if</span>(map.containsKey(num)) {</span><br><span class="line">			map.put(num, map.get(num) + <span class="number">1</span>);</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			map.put(num, <span class="number">1</span>);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//éå†mapï¼Œç”¨æœ€å°å †ä¿å­˜é¢‘ç‡æœ€å¤§çš„Kä¸ªå…ƒç´ </span></span><br><span class="line">	PriorityQueue&lt;Integer&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="keyword">new</span> Comparator&lt;Integer&gt;() {</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer a, Integer b)</span> </span>{</span><br><span class="line">			<span class="keyword">return</span> map.get(a) - map.get(b);</span><br><span class="line">		}</span><br><span class="line">	});</span><br><span class="line">	<span class="keyword">for</span>(Integer key : map.keySet()) {</span><br><span class="line">		<span class="keyword">if</span>(pq.size() &lt; k) {</span><br><span class="line">			pq.add(key);</span><br><span class="line">		}<span class="keyword">else</span> <span class="keyword">if</span>(map.get(key) &gt; map.get(pq.peek())){</span><br><span class="line">			pq.remove();</span><br><span class="line">			pq.add(key);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//å–å‡ºæœ€å°å †ä¸­çš„å…ƒç´ </span></span><br><span class="line">	List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	<span class="keyword">while</span>(!pq.isEmpty()) {</span><br><span class="line">		res.add(pq.remove());</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•ä¸‰ï¼šæ¡¶æ’åº"><a href="#ğŸŒ¸è§£æ³•ä¸‰ï¼šæ¡¶æ’åº" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸‰ï¼šæ¡¶æ’åº"></a>ğŸŒ¸è§£æ³•ä¸‰ï¼šæ¡¶æ’åº</h2><p>é¦–å…ˆä¾æ—§ä½¿ç”¨å“ˆå¸Œè¡¨ç»Ÿè®¡é¢‘ç‡ï¼Œç»Ÿè®¡å®Œæˆåï¼Œåˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œå°†é¢‘ç‡ä½œä¸ºæ•°ç»„ä¸‹æ ‡ï¼Œå¯¹äºå‡ºç°é¢‘ç‡ä¸åŒçš„æ•°å­—é›†åˆï¼Œå­˜å…¥å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡å³å¯ã€‚</p>
<p><a href="https://imgchr.com/i/wKY1eA" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/09/07/wKY1eA.png" alt="wKY1eA.png"></a></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">topKFrequent2</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>{</span><br><span class="line">	</span><br><span class="line">	List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	<span class="comment">//ä½¿ç”¨å­—å…¸ï¼Œç»Ÿè®¡æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œæ¬¡æ•°ä¸ºå»ºï¼Œå…ƒç´ å‡ºç°çš„æ¬¡æ•°ä¸ºå€¼</span></span><br><span class="line">	Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> num : nums) {</span><br><span class="line">		<span class="keyword">if</span>(map.containsKey(num)) {</span><br><span class="line">			map.put(num, map.get(num) + <span class="number">1</span>);</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			map.put(num, <span class="number">1</span>);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//æ¡¶æ’åº</span></span><br><span class="line">	<span class="comment">//å°†é¢‘ç‡ä½œä¸ºæ•°ç»„çš„ä¸‹æ ‡ï¼Œå¯¹äºå‡ºç°é¢‘ç‡ä¸åŒçš„æ•°å­—é›†åˆï¼Œå­˜å…¥å¯¹åº”çš„ä¸‹æ ‡æ•°ç»„</span></span><br><span class="line">	<span class="meta">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">	List&lt;Integer&gt;[] list = <span class="keyword">new</span> List[nums.length + <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> key : map.keySet()) {</span><br><span class="line">		<span class="comment">//è·å–å‡ºç°çš„æ¬¡æ•°ä½œä¸ºä¸‹æ ‡</span></span><br><span class="line">		<span class="keyword">int</span> i = map.get(key);</span><br><span class="line">		<span class="keyword">if</span>(list[i] == <span class="keyword">null</span>) {</span><br><span class="line">			list[i] = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		}</span><br><span class="line">		list[i].add(key);</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//å€’åºéå†æ•°ç»„è·å–å‡ºç°é¡ºåºä»å¤§åˆ°å°çš„æ’åˆ—</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = list.length - <span class="number">1</span>; i &gt;= <span class="number">0</span> &amp;&amp; res.size() &lt; k; i--) {</span><br><span class="line">		<span class="keyword">if</span>(list[i] == <span class="keyword">null</span>) {</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		}</span><br><span class="line">		res.addAll(list[i]);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>æ’åº</tag>
        <tag>å †</tag>
        <tag>æ¡¶æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>å›æº¯_leetcode.60.ç¬¬kä¸ªæ’åˆ—</title>
    <url>/K-th_permutation/</url>
    <content><![CDATA[<p>ğŸŒ¸é¢˜ç›®</p>
<p>ğŸç»™å‡ºé›†åˆ [1,2,3,â€¦,n]ï¼Œå…¶æ‰€æœ‰å…ƒç´ å…±æœ‰ n! ç§æ’åˆ—ã€‚</p>
<p>æŒ‰å¤§å°é¡ºåºåˆ—å‡ºæ‰€æœ‰æ’åˆ—æƒ…å†µï¼Œå¹¶ä¸€ä¸€æ ‡è®°ï¼Œå½“ n = 3 æ—¶, æ‰€æœ‰æ’åˆ—å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">"123"</span><br><span class="line">"132"</span><br><span class="line">"213"</span><br><span class="line">"231"</span><br><span class="line">"312"</span><br><span class="line">"321"</span><br></pre></td></tr></tbody></table></figure>


<p>ç»™å®š n å’Œ kï¼Œè¿”å›ç¬¬ k ä¸ªæ’åˆ—ã€‚</p>
<a id="more"></a>

<p>è¯´æ˜ï¼š</p>
<ul>
<li>ç»™å®š n çš„èŒƒå›´æ˜¯ <code>[1, 9]</code>ã€‚</li>
<li>ç»™å®š k çš„èŒƒå›´æ˜¯<code>[1,  n!]</code>ã€‚</li>
</ul>
<p>ç¤ºä¾‹ 1:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: n = 3, k = 3</span><br><span class="line">è¾“å‡º: "213"</span><br></pre></td></tr></tbody></table></figure>


<p>ç¤ºä¾‹ 2:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: n = 4, k = 9</span><br><span class="line">è¾“å‡º: "2314"</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸åˆ†æ"><a href="#ğŸŒ¸åˆ†æ" class="headerlink" title="ğŸŒ¸åˆ†æ"></a>ğŸŒ¸åˆ†æ</h2><p>ä»¥ä¸‹ç»™å‡ºäº†ä¸¤ç§æ–¹æ³•ï¼Œæ€è·¯å…¶å®æ˜¯ä¸€æ ·çš„ï¼šé€šè¿‡ <strong>è®¡ç®—å‰©ä½™æ•°å­—ä¸ªæ•°çš„é˜¶ä¹˜æ•°</strong>ï¼Œä¸€ä½ä¸€ä½é€‰å‡ºç¬¬ <code>k</code> ä¸ªæ’åˆ—çš„æ•°ä½ã€‚</p>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šDFS-å‰ªæ"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šDFS-å‰ªæ" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šDFS+å‰ªæ"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šDFS+å‰ªæ</h2><p>å®¹æ˜“æƒ³åˆ°ï¼Œä½¿ç”¨åŒã€ŒåŠ›æ‰£ã€ç¬¬ 46 é¢˜ï¼š å…¨æ’åˆ— çš„å›æº¯æœç´¢ç®—æ³•ï¼Œä¾æ¬¡å¾—åˆ°å…¨æ’åˆ—ï¼Œè¾“å‡ºç¬¬ k ä¸ªå…¨æ’åˆ—å³å¯ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬ä¸å¿…æ±‚å‡ºæ‰€æœ‰çš„å…¨æ’åˆ—ã€‚</p>
<p>åŸºäºä»¥ä¸‹å‡ ç‚¹è€ƒè™‘ï¼š</p>
<ul>
<li>æ‰€æ±‚æ’åˆ— <strong>ä¸€å®šåœ¨å¶å­ç»“ç‚¹å¤„å¾—åˆ°</strong>ï¼Œè¿›å…¥æ¯ä¸€ä¸ªåˆ†æ”¯ï¼Œå¯ä»¥æ ¹æ®å·²ç»é€‰å®šçš„æ•°çš„ä¸ªæ•°ï¼Œè¿›è€Œè®¡ç®—è¿˜æœªé€‰å®šçš„æ•°çš„ä¸ªæ•°ï¼Œç„¶åè®¡ç®—é˜¶ä¹˜ï¼Œå°±çŸ¥é“è¿™ä¸€ä¸ªåˆ†æ”¯çš„ <strong>å¶å­ç»“ç‚¹</strong> çš„ä¸ªæ•°ï¼š<ul>
<li>å¦‚æœ k å¤§äºè¿™ä¸€ä¸ªåˆ†æ”¯å°†è¦äº§ç”Ÿçš„å¶å­ç»“ç‚¹æ•°ï¼Œç›´æ¥è·³è¿‡è¿™ä¸ªåˆ†æ”¯ï¼Œè¿™ä¸ªæ“ä½œå«ã€Œå‰ªæã€ï¼›</li>
<li>å¦‚æœ k å°äº<strong>ç­‰äº</strong>è¿™ä¸€ä¸ªåˆ†æ”¯å°†è¦äº§ç”Ÿçš„å¶å­ç»“ç‚¹æ•°ï¼Œé‚£è¯´æ˜æ‰€æ±‚çš„å…¨æ’åˆ—ä¸€å®šåœ¨è¿™ä¸€ä¸ªåˆ†æ”¯å°†è¦äº§ç”Ÿçš„å¶å­ç»“ç‚¹é‡Œï¼Œéœ€è¦é€’å½’æ±‚è§£ã€‚</li>
</ul>
</li>
</ul>
<p><img src="https://pic.leetcode-cn.com/1599273370-WyOYCO-image.png" alt=""></p>
<p>ç¼–ç æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>è®¡ç®—é˜¶ä¹˜çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨å¾ªç¯è®¡ç®—ã€‚æ³¨æ„ï¼š0!=1ï¼Œå®ƒè¡¨ç¤ºäº†æ²¡æœ‰æ•°å¯é€‰çš„æ—¶å€™ï¼Œå³è¡¨ç¤ºåˆ°è¾¾å¶å­ç»“ç‚¹äº†ï¼Œæ’åˆ—æ•°åªå‰©ä¸‹ 1ä¸ªï¼›</li>
<li>é¢˜ç›®ä¸­è¯´ã€Œç»™å®š n çš„èŒƒå›´æ˜¯ [1, 9]ã€ï¼Œå¯ä»¥æŠŠä» 0åˆ° 9 çš„é˜¶ä¹˜è®¡ç®—å¥½ï¼Œæ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼Œå¯ä»¥æ ¹æ®ç´¢å¼•ç›´æ¥è·å¾—é˜¶ä¹˜å€¼ï¼›</li>
<li>ç¼–ç çš„æ—¶å€™ï¼Œ+1 è¿˜æ˜¯ -1 ï¼Œå¤§äºè¿˜æ˜¯å¤§äºç­‰äºï¼Œè¿™äº›ä¸èƒ½é çŒœã€‚å¸¸è§çš„åšæ³•æ˜¯ï¼šä»£å…¥ä¸€ä¸ªå…·ä½“çš„æ•°å€¼ï¼Œè®¤çœŸè°ƒè¯•ã€‚</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®°å½•æ•°å­—æ˜¯å¦ä½¿ç”¨è¿‡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span>[] used;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é˜¶ä¹˜æ•°ç»„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] factorial;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> k;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPermutation</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">        <span class="keyword">this</span>.k = k;</span><br><span class="line">        calculateFactorial(n);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æŸ¥æ‰¾å…¨æ’åˆ—éœ€è¦çš„å¸ƒå°”æ•°ç»„</span></span><br><span class="line">        used = <span class="keyword">new</span> <span class="keyword">boolean</span>[n + <span class="number">1</span>];</span><br><span class="line">        Arrays.fill(used, <span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">        StringBuilder path = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        dfs(<span class="number">0</span>, path);</span><br><span class="line">        <span class="keyword">return</span> path.toString();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> index åœ¨è¿™ä¸€æ­¥ä¹‹å‰å·²ç»é€‰æ‹©äº†å‡ ä¸ªæ•°å­—ï¼Œå…¶å€¼æ°å¥½ç­‰äºè¿™ä¸€æ­¥éœ€è¦ç¡®å®šçš„ä¸‹æ ‡ä½ç½®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> path</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> index, StringBuilder path)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (index == n) {</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¡ç®—è¿˜æœªç¡®å®šçš„æ•°å­—çš„å…¨æ’åˆ—çš„ä¸ªæ•°ï¼Œç¬¬ 1 æ¬¡è¿›å…¥çš„æ—¶å€™æ˜¯ n - 1</span></span><br><span class="line">        <span class="keyword">int</span> cnt = factorial[n - <span class="number">1</span> - index];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">            <span class="keyword">if</span> (used[i]) {</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span> (cnt &lt; k) {</span><br><span class="line">                k -= cnt;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            }</span><br><span class="line">            path.append(i);</span><br><span class="line">            used[i] = <span class="keyword">true</span>;</span><br><span class="line">            dfs(index + <span class="number">1</span>, path);</span><br><span class="line">            <span class="comment">// æ³¨æ„ 1ï¼šæ²¡æœ‰å›æº¯ï¼ˆçŠ¶æ€é‡ç½®ï¼‰çš„å¿…è¦</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ³¨æ„ 2ï¼šè¿™é‡Œè¦åŠ  returnï¼Œåé¢çš„æ•°æ²¡æœ‰å¿…è¦éå†å»å°è¯•äº†</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¡ç®—é˜¶ä¹˜æ•°ç»„</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">calculateFactorial</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">        factorial = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">        factorial[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">            factorial[i] = factorial[i - <span class="number">1</span>] * i;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>python</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getPermutation</span><span class="params">(self, n: int, k: int)</span> -&gt; str:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(n, k, index, path)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> index == n:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            cnt = factorial[n - <span class="number">1</span> - index]</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> used[i]:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">if</span> cnt &lt; k:</span><br><span class="line">                    k -= cnt</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                path.append(i)</span><br><span class="line">                used[i] = <span class="literal">True</span></span><br><span class="line">                dfs(n, k, index + <span class="number">1</span>, path)</span><br><span class="line">                <span class="comment"># æ³¨æ„ï¼šè¿™é‡Œè¦åŠ  returnï¼Œåé¢çš„æ•°æ²¡æœ‰å¿…è¦éå†å»å°è¯•äº†</span></span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">""</span></span><br><span class="line"></span><br><span class="line">        used = [<span class="literal">False</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n + <span class="number">1</span>)]</span><br><span class="line">        path = []</span><br><span class="line">        factorial = [<span class="number">1</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n + <span class="number">1</span>)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, n + <span class="number">1</span>):</span><br><span class="line">            factorial[i] = factorial[i - <span class="number">1</span>] * i</span><br><span class="line"></span><br><span class="line">        dfs(n, k, <span class="number">0</span>, path)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span>.join([str(num) <span class="keyword">for</span> num <span class="keyword">in</span> path])</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ï¼šO({N^2})ï¼Œ</p>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(N)ï¼Œnumsã€usedã€path éƒ½ä¸ N ç­‰é•¿ï¼Œfactorial æ•°ç»„å°± 10ä¸ªæ•°ï¼Œæ˜¯å¸¸æ•°çº§åˆ«çš„ã€‚</p>
</li>
</ul>
<p><code>k -= cnt;</code> è¿™ä¸€æ­¥ï¼Œæ¯ä¸€æ¬¡å‰ªæå¤ªæ…¢ï¼Œäº‹å®ä¸Šï¼Œå¯ä»¥ç”¨é™¤æ³•åŠ å¿«è¿™ä¸€æ­¥éª¤ã€‚ä½†æ˜¯éœ€è¦ç»´æŠ¤ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼ˆæˆ–è€…é“¾è¡¨ï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦ä¸å˜ã€‚</p>
<h2 id="ğŸŒ¸è§£æ³•äºŒï¼šæœ‰åºæ•°ç»„ï¼ˆé“¾è¡¨ï¼‰æ¨¡æ‹Ÿ"><a href="#ğŸŒ¸è§£æ³•äºŒï¼šæœ‰åºæ•°ç»„ï¼ˆé“¾è¡¨ï¼‰æ¨¡æ‹Ÿ" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼šæœ‰åºæ•°ç»„ï¼ˆé“¾è¡¨ï¼‰æ¨¡æ‹Ÿ"></a>ğŸŒ¸è§£æ³•äºŒï¼šæœ‰åºæ•°ç»„ï¼ˆé“¾è¡¨ï¼‰æ¨¡æ‹Ÿ</h2><p>ä»¥ <code>n = 4</code>ï¼Œ<code>k = 6</code>ï¼Œä¸ºä¾‹ï¼Œç°åœ¨ç¡®å®šç¬¬ 1 ä¸ªæ•°å­—å¡«å•¥ã€‚å¦‚æœç¬¬ <code>k</code>ä¸ªæ•°æ°å¥½æ˜¯åé¢çš„æ•°å­—ä¸ªæ•°çš„é˜¶ä¹˜ï¼Œé‚£ä¹ˆç¬¬ 1 ä¸ªæ•°å­—å°±åªèƒ½å¡«æœ€å°çš„ 1ã€‚</p>
<p>å¦‚æœ <code>n = 4</code>ï¼Œ<code>k = 16</code>ï¼Œç°åœ¨ç¡®å®šç¬¬ 1 ä¸ªæ•°å­—å¡«å•¥ã€‚å¦‚æœ <code>k</code> &gt; åé¢çš„æ•°å­—ä¸ªæ•°çš„é˜¶ä¹˜ã€‚æ•°ä¸€æ•°ï¼Œå¯ä»¥è·³è¿‡å‡ ä¸ªé˜¶ä¹˜æ•°ã€‚</p>
<p>å…¶å®è¿™ä¸ªæ€è·¯å¾ˆåƒæ–¹æ³•ä¸€çš„ã€Œå‰ªæã€ï¼Œåªä¸è¿‡æ–¹æ³•ä¸€å°±å‡æ³•ï¼Œæ–¹æ³•äºŒç”¨é™¤æ³•ã€‚äº‹å®ä¸Šï¼Œæ–¹æ³•äºŒè¦ç»´æŠ¤æ•°ç»„çš„æœ‰åºæ€§ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸å˜ã€‚æ ¹æ®ä»¥ä¸Šæ€è·¯ï¼Œè®¾è®¡ç®—æ³•æµç¨‹å¦‚ä¸‹ï¼š</p>
<p>ç®—æ³•æµç¨‹è®¾è®¡ï¼š</p>
<ul>
<li>æŠŠå€™é€‰æ•°æ”¾åœ¨ä¸€ä¸ª æœ‰åºåˆ—è¡¨ é‡Œï¼Œä»å·¦åˆ°å³æ ¹æ®ã€Œå‰©ä¸‹çš„æ•°çš„é˜¶ä¹˜æ•°ã€ç¡®å®šæ¯ä¸€ä½å¡«è°ï¼Œå…¬å¼ k / (åé¢å‡ ä½çš„é˜¶ä¹˜æ•°) çš„å€¼ æ°å¥½ç­‰äºå€™é€‰æ•°ç»„çš„ä¸‹æ ‡ï¼›</li>
<li>é€‰å‡ºä¸€ä¸ªæ•°ä»¥åï¼Œk å°±éœ€è¦å‡å»ç›¸åº”è·³è¿‡çš„é˜¶ä¹˜æ•°çš„å€æ•°ï¼›</li>
<li>å·²ç»å¡«å¥½çš„æ•°éœ€è¦ä»å€™é€‰åˆ—è¡¨é‡Œåˆ é™¤ï¼Œæ³¨æ„ä¿æŒåˆ—è¡¨çš„æœ‰åºæ€§ï¼ˆå› ä¸ºæ’åˆ—çš„å®šä¹‰æ˜¯æŒ‰ç…§å­—å…¸åºï¼‰ï¼›</li>
<li>ç”±äºè¿™é‡Œè€ƒè™‘çš„æ˜¯ä¸‹æ ‡ï¼Œç¬¬ k ä¸ªæ•°ï¼Œä¸‹æ ‡ä¸º <code>k - 1</code>ï¼Œä¸€å¼€å§‹çš„æ—¶å€™ï¼Œkâ€“ã€‚<br>æ¯æ¬¡é€‰å‡ºä¸€ä¸ªæ•°ï¼Œå°±å°†è¿™ä¸ªæ•°ä»åˆ—è¡¨é‡Œé¢æ‹¿å‡ºã€‚è¿™ä¸ªåˆ—è¡¨éœ€è¦æ”¯æŒé¢‘ç¹çš„åˆ é™¤æ“ä½œï¼Œå› æ­¤ä½¿ç”¨åŒé“¾è¡¨ã€‚åœ¨ Java ä¸­ <code>LinkedList</code> å°±æ˜¯ä½¿ç”¨åŒé“¾è¡¨å®ç°çš„ã€‚</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPermutation</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>{</span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šç›¸å½“äºåœ¨ n ä¸ªæ•°å­—çš„å…¨æ’åˆ—ä¸­æ‰¾åˆ°ä¸‹æ ‡ä¸º k - 1 çš„é‚£ä¸ªæ•°ï¼Œå› æ­¤ k å…ˆå‡ 1</span></span><br><span class="line">        k --;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span>[] factorial = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        factorial[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// å…ˆç®—å‡ºæ‰€æœ‰çš„é˜¶ä¹˜å€¼</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) {</span><br><span class="line">            factorial[i] = factorial[i - <span class="number">1</span>] * i;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿™é‡Œä½¿ç”¨æ•°ç»„æˆ–è€…é“¾è¡¨éƒ½è¡Œ</span></span><br><span class="line">        List&lt;Integer&gt; nums = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">            nums.add(i);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        StringBuilder stringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// i è¡¨ç¤ºå‰©ä½™çš„æ•°å­—ä¸ªæ•°ï¼Œåˆå§‹åŒ–ä¸º n - 1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">            <span class="keyword">int</span> index = k / factorial[i] ;</span><br><span class="line">            stringBuilder.append(nums.remove(index));</span><br><span class="line">            k -= index * factorial[i];</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> stringBuilder.toString();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>é¢˜è§£å‡ºè‡ª<a href="https://leetcode-cn.com/problems/permutation-sequence/solution/hui-su-jian-zhi-python-dai-ma-java-dai-ma-by-liwei/" target="_blank" rel="noopener">@liweiwei1419</a></p>
<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>é€’å½’</tag>
        <tag>å›æº¯</tag>
        <tag>æ¨¡æ‹Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>DFS_leetcode.841.é’¥åŒ™å’Œæˆ¿é—´</title>
    <url>/Keys_and_rooms/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸæœ‰ <code>N</code> ä¸ªæˆ¿é—´ï¼Œå¼€å§‹æ—¶ä½ ä½äº 0 å·æˆ¿é—´ã€‚æ¯ä¸ªæˆ¿é—´æœ‰ä¸åŒçš„å·ç ï¼š0ï¼Œ1ï¼Œ2ï¼Œâ€¦ï¼ŒN-1ï¼Œå¹¶ä¸”æˆ¿é—´é‡Œå¯èƒ½æœ‰ä¸€äº›é’¥åŒ™èƒ½ä½¿ä½ è¿›å…¥ä¸‹ä¸€ä¸ªæˆ¿é—´ã€‚</p>
<p>åœ¨å½¢å¼ä¸Šï¼Œå¯¹äºæ¯ä¸ªæˆ¿é—´ i éƒ½æœ‰ä¸€ä¸ªé’¥åŒ™åˆ—è¡¨ rooms[i]ï¼Œæ¯ä¸ªé’¥åŒ™ <code>rooms[i][j]</code> ç”± <code>[0,1ï¼Œ...ï¼ŒN-1]</code> ä¸­çš„ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºï¼Œå…¶ä¸­ <code>N = rooms.length</code>ã€‚ é’¥åŒ™ <code>rooms[i][j] = v</code> å¯ä»¥æ‰“å¼€ç¼–å·ä¸º v çš„æˆ¿é—´ã€‚</p>
<p>æœ€åˆï¼Œé™¤ 0 å·æˆ¿é—´å¤–çš„å…¶ä½™æ‰€æœ‰æˆ¿é—´éƒ½è¢«é”ä½ã€‚</p>
<p>ä½ å¯ä»¥è‡ªç”±åœ°åœ¨æˆ¿é—´ä¹‹é—´æ¥å›èµ°åŠ¨ã€‚</p>
<p>å¦‚æœèƒ½è¿›å…¥æ¯ä¸ªæˆ¿é—´è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</p>
<a id="more"></a>

<p>ç¤ºä¾‹:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: [[1],[2],[3],[]]</span><br><span class="line">è¾“å‡º: true</span><br><span class="line">è§£é‡Š:  </span><br><span class="line">æˆ‘ä»¬ä» 0 å·æˆ¿é—´å¼€å§‹ï¼Œæ‹¿åˆ°é’¥åŒ™ 1ã€‚</span><br><span class="line">ä¹‹åæˆ‘ä»¬å» 1 å·æˆ¿é—´ï¼Œæ‹¿åˆ°é’¥åŒ™ 2ã€‚</span><br><span class="line">ç„¶åæˆ‘ä»¬å» 2 å·æˆ¿é—´ï¼Œæ‹¿åˆ°é’¥åŒ™ 3ã€‚</span><br><span class="line">æœ€åæˆ‘ä»¬å»äº† 3 å·æˆ¿é—´ã€‚</span><br><span class="line">ç”±äºæˆ‘ä»¬èƒ½å¤Ÿè¿›å…¥æ¯ä¸ªæˆ¿é—´ï¼Œæˆ‘ä»¬è¿”å› trueã€‚</span><br></pre></td></tr></tbody></table></figure>

<p>ç¤ºä¾‹2</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[1,3],[3,0,1],[2],[0]]</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬ä¸èƒ½è¿›å…¥ 2 å·æˆ¿é—´ã€‚</span><br></pre></td></tr></tbody></table></figure>


<p>æç¤º:</p>
<ol>
<li><code>1 &lt;= rooms.length &lt;= 1000</code></li>
<li><code>0 &lt;= rooms[i].length &lt;= 1000</code></li>
<li>æ‰€æœ‰æˆ¿é—´ä¸­çš„é’¥åŒ™æ•°é‡æ€»è®¡ä¸è¶…è¿‡ <code>3000</code>ã€‚</li>
</ol>
<h2 id="ğŸŒ¸åˆ†æ"><a href="#ğŸŒ¸åˆ†æ" class="headerlink" title="ğŸŒ¸åˆ†æ"></a>ğŸŒ¸åˆ†æ</h2><p>å½“ x å·æˆ¿é—´ä¸­æœ‰ yå·æˆ¿é—´çš„é’¥åŒ™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä» xx å·æˆ¿é—´å»å¾€ y å·æˆ¿é—´ã€‚å¦‚æœæˆ‘ä»¬å°†è¿™ n ä¸ªæˆ¿é—´çœ‹æˆæœ‰å‘å›¾ä¸­çš„ n ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆä¸Šè¿°å…³ç³»å°±å¯ä»¥çœ‹ä½œæ˜¯å›¾ä¸­çš„xå·ç‚¹åˆ° y å·ç‚¹çš„ä¸€æ¡æœ‰å‘è¾¹ã€‚</p>
<p>è¿™æ ·ä¸€æ¥ï¼Œé—®é¢˜å°±å˜æˆäº†ç»™å®šä¸€å¼ æœ‰å‘å›¾ï¼Œè¯¢é—®ä» 0 å·èŠ‚ç‚¹å‡ºå‘æ˜¯å¦èƒ½å¤Ÿåˆ°è¾¾æ‰€æœ‰çš„èŠ‚ç‚¹ã€‚</p>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šDFS"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šDFS" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šDFS"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šDFS</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢çš„æ–¹å¼éå†æ•´å¼ å›¾ï¼Œç»Ÿè®¡å¯ä»¥åˆ°è¾¾çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œå¹¶åˆ©ç”¨æ•°ç»„<code>vis</code> æ ‡è®°å½“å‰èŠ‚ç‚¹æ˜¯å¦è®¿é—®è¿‡ï¼Œä»¥é˜²æ­¢é‡å¤è®¿é—®ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="keyword">boolean</span>[] vis;</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canVisitAllRooms</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; rooms)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> n = rooms.size();</span><br><span class="line">        num = <span class="number">0</span>;</span><br><span class="line">        vis = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</span><br><span class="line">        dfs(rooms, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> num == n;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; rooms, <span class="keyword">int</span> x)</span> </span>{</span><br><span class="line">        vis[x] = <span class="keyword">true</span>;</span><br><span class="line">        num++;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> it : rooms.get(x)) {</span><br><span class="line">            <span class="keyword">if</span> (!vis[it]) {</span><br><span class="line">                dfs(rooms, it);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>python</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canVisitAllRooms</span><span class="params">(self, rooms: List[List[int]])</span> -&gt; bool:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(x: int)</span>:</span></span><br><span class="line">            vis.add(x)</span><br><span class="line">            <span class="keyword">nonlocal</span> num</span><br><span class="line">            num += <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> it <span class="keyword">in</span> rooms[x]:</span><br><span class="line">                <span class="keyword">if</span> it <span class="keyword">not</span> <span class="keyword">in</span> vis:</span><br><span class="line">                    dfs(it)</span><br><span class="line">        </span><br><span class="line">        n = len(rooms)</span><br><span class="line">        num = <span class="number">0</span></span><br><span class="line">        vis = set()</span><br><span class="line">        dfs(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> num == n</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n+m)ï¼Œå…¶ä¸­ n æ˜¯æˆ¿é—´çš„æ•°é‡ï¼Œm æ˜¯æ‰€æœ‰æˆ¿é—´ä¸­çš„é’¥åŒ™æ•°é‡çš„æ€»æ•°ã€‚</p>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯æˆ¿é—´çš„æ•°é‡ã€‚ä¸»è¦ä¸ºæ ˆç©ºé—´çš„å¼€é”€ã€‚</p>
</li>
</ul>
<h2 id="ğŸŒ¸è§£æ³•äºŒï¼š-BFS"><a href="#ğŸŒ¸è§£æ³•äºŒï¼š-BFS" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼š BFS"></a>ğŸŒ¸è§£æ³•äºŒï¼š BFS</h2><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ–¹å¼éå†æ•´å¼ å›¾ï¼Œç»Ÿè®¡å¯ä»¥åˆ°è¾¾çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œå¹¶åˆ©ç”¨æ•°ç»„ <code>vis</code> æ ‡è®°å½“å‰èŠ‚ç‚¹æ˜¯å¦è®¿é—®è¿‡ï¼Œä»¥é˜²æ­¢é‡å¤è®¿é—®ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canVisitAllRooms</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; rooms)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> n = rooms.size(), num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">boolean</span>[] vis = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</span><br><span class="line">        Queue&lt;Integer&gt; que = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">        vis[<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">        que.offer(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">while</span> (!que.isEmpty()) {</span><br><span class="line">            <span class="keyword">int</span> x = que.poll();</span><br><span class="line">            num++;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> it : rooms.get(x)) {</span><br><span class="line">                <span class="keyword">if</span> (!vis[it]) {</span><br><span class="line">                    vis[it] = <span class="keyword">true</span>;</span><br><span class="line">                    que.offer(it);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> num == n;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>python</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canVisitAllRooms</span><span class="params">(self, rooms: List[List[int]])</span> -&gt; bool:</span></span><br><span class="line">        n = len(rooms)</span><br><span class="line">        num = <span class="number">0</span></span><br><span class="line">        vis = {<span class="number">0</span>}</span><br><span class="line">        que = collections.deque([<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> que:</span><br><span class="line">            x = que.popleft()</span><br><span class="line">            num += <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> it <span class="keyword">in</span> rooms[x]:</span><br><span class="line">                <span class="keyword">if</span> it <span class="keyword">not</span> <span class="keyword">in</span> vis:</span><br><span class="line">                    vis.add(it)</span><br><span class="line">                    que.append(it)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> num == n</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n+m)ï¼Œå…¶ä¸­ n æ˜¯æˆ¿é—´çš„æ•°é‡ï¼Œm æ˜¯æ‰€æœ‰æˆ¿é—´ä¸­çš„é’¥åŒ™æ•°é‡çš„æ€»æ•°ã€‚</p>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯æˆ¿é—´çš„æ•°é‡ã€‚ä¸»è¦ä¸ºé˜Ÿåˆ—çš„å¼€é”€ã€‚</p>
</li>
</ul>
<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>BFS</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ¨æ€è§„åˆ’_leetcode.486.é¢„æµ‹èµ¢å®¶</title>
    <url>/Predicting_winners/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªè¡¨ç¤ºåˆ†æ•°çš„éè´Ÿæ•´æ•°æ•°ç»„ã€‚ ç©å®¶ 1 ä»æ•°ç»„ä»»æ„ä¸€ç«¯æ‹¿å–ä¸€ä¸ªåˆ†æ•°ï¼Œéšåç©å®¶ 2 ç»§ç»­ä»å‰©ä½™æ•°ç»„ä»»æ„ä¸€ç«¯æ‹¿å–åˆ†æ•°ï¼Œç„¶åç©å®¶ 1 æ‹¿ï¼Œâ€¦â€¦ ã€‚æ¯æ¬¡ä¸€ä¸ªç©å®¶åªèƒ½æ‹¿å–ä¸€ä¸ªåˆ†æ•°ï¼Œåˆ†æ•°è¢«æ‹¿å–ä¹‹åä¸å†å¯å–ã€‚ç›´åˆ°æ²¡æœ‰å‰©ä½™åˆ†æ•°å¯å–æ—¶æ¸¸æˆç»“æŸã€‚æœ€ç»ˆè·å¾—åˆ†æ•°æ€»å’Œæœ€å¤šçš„ç©å®¶è·èƒœã€‚</p>
<p>ç»™å®šä¸€ä¸ªè¡¨ç¤ºåˆ†æ•°çš„æ•°ç»„ï¼Œé¢„æµ‹ç©å®¶1æ˜¯å¦ä¼šæˆä¸ºèµ¢å®¶ã€‚ä½ å¯ä»¥å‡è®¾æ¯ä¸ªç©å®¶çš„ç©æ³•éƒ½ä¼šä½¿ä»–çš„åˆ†æ•°æœ€å¤§åŒ–ã€‚</p>
 <a id="more"></a>

<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[1, 5, 2]</span><br><span class="line">è¾“å‡ºï¼šFalse</span><br><span class="line">è§£é‡Šï¼šä¸€å¼€å§‹ï¼Œç©å®¶1å¯ä»¥ä»1å’Œ2ä¸­è¿›è¡Œé€‰æ‹©ã€‚</span><br><span class="line">å¦‚æœä»–é€‰æ‹© 2ï¼ˆæˆ–è€… 1 ï¼‰ï¼Œé‚£ä¹ˆç©å®¶ 2 å¯ä»¥ä» 1ï¼ˆæˆ–è€… 2 ï¼‰å’Œ 5 ä¸­è¿›è¡Œé€‰æ‹©ã€‚å¦‚æœç©å®¶ 2 é€‰æ‹©äº† 5 ï¼Œé‚£ä¹ˆç©å®¶ 1 åˆ™åªå‰©ä¸‹ 1ï¼ˆæˆ–è€… 2 ï¼‰å¯é€‰ã€‚</span><br><span class="line">æ‰€ä»¥ï¼Œç©å®¶ 1 çš„æœ€ç»ˆåˆ†æ•°ä¸º 1 + 2 = 3ï¼Œè€Œç©å®¶ 2 ä¸º 5 ã€‚</span><br><span class="line">å› æ­¤ï¼Œç©å®¶ 1 æ°¸è¿œä¸ä¼šæˆä¸ºèµ¢å®¶ï¼Œè¿”å› False ã€‚</span><br></pre></td></tr></tbody></table></figure>


<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[1, 5, 233, 7]</span><br><span class="line">è¾“å‡ºï¼šTrue</span><br><span class="line">è§£é‡Šï¼šç©å®¶ 1 ä¸€å¼€å§‹é€‰æ‹© 1 ã€‚ç„¶åç©å®¶ 2 å¿…é¡»ä» 5 å’Œ 7 ä¸­è¿›è¡Œé€‰æ‹©ã€‚æ— è®ºç©å®¶ 2 é€‰æ‹©äº†å“ªä¸ªï¼Œç©å®¶ 1 éƒ½å¯ä»¥é€‰æ‹© 233 ã€‚</span><br><span class="line">     æœ€ç»ˆï¼Œç©å®¶ 1ï¼ˆ234 åˆ†ï¼‰æ¯”ç©å®¶ 2ï¼ˆ12 åˆ†ï¼‰è·å¾—æ›´å¤šçš„åˆ†æ•°ï¼Œæ‰€ä»¥è¿”å› Trueï¼Œè¡¨ç¤ºç©å®¶ 1 å¯ä»¥æˆä¸ºèµ¢å®¶ã€‚</span><br></pre></td></tr></tbody></table></figure>


<p>æç¤ºï¼š</p>
<ul>
<li>1 &lt;= ç»™å®šçš„æ•°ç»„é•¿åº¦ &lt;= 20.</li>
<li>æ•°ç»„é‡Œæ‰€æœ‰åˆ†æ•°éƒ½ä¸ºéè´Ÿæ•°ä¸”ä¸ä¼šå¤§äº 10000000 ã€‚</li>
<li>å¦‚æœæœ€ç»ˆä¸¤ä¸ªç©å®¶çš„åˆ†æ•°ç›¸ç­‰ï¼Œé‚£ä¹ˆç©å®¶ 1 ä»ä¸ºèµ¢å®¶ã€‚</li>
</ul>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>é¦–å…ˆåˆ†æå°±æ˜¯ä½¿ç”¨é€’å½’</p>
<h2 id="ğŸŒ¸æ–¹æ³•ä¸€ï¼šæš´åŠ›é€’å½’ï¼ˆæ­£å¸¸æ€è·¯ï¼‰"><a href="#ğŸŒ¸æ–¹æ³•ä¸€ï¼šæš´åŠ›é€’å½’ï¼ˆæ­£å¸¸æ€è·¯ï¼‰" class="headerlink" title="ğŸŒ¸æ–¹æ³•ä¸€ï¼šæš´åŠ›é€’å½’ï¼ˆæ­£å¸¸æ€è·¯ï¼‰"></a>ğŸŒ¸æ–¹æ³•ä¸€ï¼šæš´åŠ›é€’å½’ï¼ˆæ­£å¸¸æ€è·¯ï¼‰</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">PredictTheWinner</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">	<span class="comment">// æ¨¡æ‹ŸçœŸå®æƒ…å†µä¸‹ï¼ŒAï¼ŒBè½®æµé€‰ç‰Œçš„è¿‡ç¨‹ï¼Œæ±‚å‡ºç»“æœ</span></span><br><span class="line">	<span class="keyword">return</span> dfs(<span class="number">0</span>, nums.length - <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="keyword">true</span>, nums);</span><br><span class="line">}</span><br><span class="line"><span class="comment">//åˆ†åˆ«ä¸º  å·¦è¾¹å¯å–çš„ä½ç½®ï¼Œå³è¾¹å¯å–çš„ä½ç½®ï¼ŒAçš„å¾—åˆ†ï¼ŒBçš„å¾—åˆ†ï¼Œ   è½®åˆ°è°é€‰ç‰Œï¼Œ   numsæ•°ç»„</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> sumA, <span class="keyword">int</span> sumB, <span class="keyword">boolean</span> to_A, <span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="keyword">if</span>(left &gt; right) {<span class="comment">//å·¦å³è¶Šç•Œï¼Œæ²¡æœ‰ç‰Œäº†ï¼Œæ¯”è¾ƒå¾—åˆ†ï¼Œåˆ¤æ–­èƒœè´Ÿï¼ˆä»¥Aä¸ºä¸»è§’ï¼‰</span></span><br><span class="line">		<span class="keyword">return</span> sumA &gt;= sumB;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(to_A) {<span class="comment">//è½®åˆ°Aé€‰ç‰Œ,Aæ˜¯ä¸»è§’ï¼Œåªè¦å·¦è¾¹æˆ–è€…å³è¾¹æœ‰ä¸€ç§å¿…èƒœæƒ…å†µï¼Œå°±è¯´æ˜å¯ä»¥å¿…èƒœ</span></span><br><span class="line">		<span class="keyword">return</span> dfs(left + <span class="number">1</span>, right, sumA + nums[left], sumB, <span class="keyword">false</span>, nums) || dfs(left, right - <span class="number">1</span>, sumA + nums[right], sumB, <span class="keyword">false</span>, nums);</span><br><span class="line">	}<span class="keyword">else</span> {<span class="comment">//è½®åˆ°Bé€‰ç‰Œï¼Œä¸ç®¡Bæ€ä¹ˆé€‰ï¼Œæ­¤æ—¶åªæœ‰å·¦å³ä¸¤è¾¹éƒ½ä¿è¯Aæ˜¯å¿…èƒœçš„ï¼Œæ‰èƒ½ä¿è¯Aæœ€ç»ˆå¿…èƒœ</span></span><br><span class="line">		<span class="keyword">return</span> dfs(left + <span class="number">1</span>, right, sumA, sumB+ nums[left], <span class="keyword">true</span>, nums) &amp;&amp; dfs(left, right - <span class="number">1</span>, sumA, sumB + nums[right], <span class="keyword">true</span>, nums);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸æ–¹æ³•äºŒï¼šé€’å½’ï¼ˆæ€è·¯ä¸€ï¼‰"><a href="#ğŸŒ¸æ–¹æ³•äºŒï¼šé€’å½’ï¼ˆæ€è·¯ä¸€ï¼‰" class="headerlink" title="ğŸŒ¸æ–¹æ³•äºŒï¼šé€’å½’ï¼ˆæ€è·¯ä¸€ï¼‰"></a>ğŸŒ¸æ–¹æ³•äºŒï¼šé€’å½’ï¼ˆæ€è·¯ä¸€ï¼‰</h2><h3 id="ğŸåˆ†æ"><a href="#ğŸåˆ†æ" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>ä¸ºäº†åˆ¤æ–­å“ªä¸ªç©å®¶å¯ä»¥è·èƒœï¼Œéœ€è¦è®¡ç®—ä¸€ä¸ªæ€»åˆ†ï¼Œä¸ºå…ˆæ‰‹å¾—åˆ†ä¸åæ‰‹å¾—åˆ†ä¹‹å·®ã€‚å½“æ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½è¢«æ‹¿å–æ—¶ï¼Œå¦‚æœæ€»åˆ†å¤§äºæˆ–ç­‰äº 00ï¼Œåˆ™å…ˆæ‰‹è·èƒœï¼Œåä¹‹åˆ™åæ‰‹è·èƒœã€‚</p>
<p>ç”±äºæ¯æ¬¡åªèƒ½ä»æ•°ç»„çš„ä»»æ„ä¸€ç«¯æ‹¿å–æ•°å­—ï¼Œå› æ­¤å¯ä»¥ä¿è¯æ•°ç»„ä¸­å‰©ä¸‹çš„éƒ¨åˆ†ä¸€å®šæ˜¯è¿ç»­çš„ã€‚å‡è®¾æ•°ç»„å½“å‰å‰©ä¸‹çš„éƒ¨åˆ†ä¸ºä¸‹æ ‡start åˆ°ä¸‹æ ‡endï¼Œå…¶ä¸­$ 0 \le \textit{start} \le \textit{end} &lt; \textit{nums}.\text{length}$ã€‚å¦‚æœ $\textit{start}=\textit{end}$ï¼Œåˆ™åªå‰©ä¸€ä¸ªæ•°å­—ï¼Œå½“å‰ç©å®¶åªèƒ½æ‹¿å–è¿™ä¸ªæ•°å­—ã€‚å¦‚æœ$ \textit{start}&lt;\textit{end}$ï¼Œåˆ™å½“å‰ç©å®¶å¯ä»¥é€‰æ‹© $\textit{nums}[\textit{start}]$ æˆ– $\textit{nums}[\textit{end}]$ï¼Œç„¶åè½®åˆ°å¦ä¸€ä¸ªç©å®¶åœ¨æ•°ç»„å‰©ä¸‹çš„éƒ¨åˆ†é€‰å–æ•°å­—ã€‚è¿™æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ã€‚</p>
<p>è®¡ç®—æ€»åˆ†æ—¶ï¼Œéœ€è¦è®°å½•å½“å‰ç©å®¶æ˜¯å…ˆæ‰‹è¿˜æ˜¯åæ‰‹ï¼Œåˆ¤æ–­å½“å‰ç©å®¶çš„å¾—åˆ†åº”è¯¥è®°ä¸ºæ­£è¿˜æ˜¯è´Ÿã€‚å½“æ•°ç»„ä¸­å‰©ä¸‹çš„æ•°å­—å¤šäº 1 ä¸ªæ—¶ï¼Œå½“å‰ç©å®¶ä¼šé€‰æ‹©æœ€ä¼˜çš„æ–¹æ¡ˆï¼Œä½¿å¾—è‡ªå·±çš„åˆ†æ•°æœ€å¤§åŒ–ï¼Œå› æ­¤å¯¹ä¸¤ç§æ–¹æ¡ˆåˆ†åˆ«è®¡ç®—å½“å‰ç©å®¶å¯ä»¥å¾—åˆ°çš„åˆ†æ•°ï¼Œå…¶ä¸­çš„æœ€å¤§å€¼ä¸ºå½“å‰ç©å®¶æœ€å¤šå¯ä»¥å¾—åˆ°çš„åˆ†æ•°ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">PredictTheWinner</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> total(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>, <span class="number">1</span>) &gt;= <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">total</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start, <span class="keyword">int</span> end, <span class="keyword">int</span> turn)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (start == end) {</span><br><span class="line">        <span class="keyword">return</span> nums[start] * turn;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">int</span> scoreStart = nums[start] * turn + total(nums, start + <span class="number">1</span>, end, -turn);</span><br><span class="line">    <span class="keyword">int</span> scoreEnd = nums[end] * turn + total(nums, start, end - <span class="number">1</span>, -turn);</span><br><span class="line">    <span class="keyword">return</span> Math.max(scoreStart * turn, scoreEnd * turn) * turn;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸æ–¹æ³•ä¸‰ï¼šé€’å½’ï¼ˆæ€è·¯äºŒï¼‰"><a href="#ğŸŒ¸æ–¹æ³•ä¸‰ï¼šé€’å½’ï¼ˆæ€è·¯äºŒï¼‰" class="headerlink" title="ğŸŒ¸æ–¹æ³•ä¸‰ï¼šé€’å½’ï¼ˆæ€è·¯äºŒï¼‰"></a>ğŸŒ¸æ–¹æ³•ä¸‰ï¼šé€’å½’ï¼ˆæ€è·¯äºŒï¼‰</h2><h3 id="ğŸåˆ†æ-1"><a href="#ğŸåˆ†æ-1" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>ä»¥ <code>[1, 5, 233, 7]</code> ä¸ºä¾‹ï¼Œç©å®¶ 1 å…ˆæ‰‹ã€‚</p>
<p>å¦‚æœç©å®¶ 1 å…ˆé€‰å·¦ç«¯ 1ï¼Œåˆ™ç©å®¶ 2 åœ¨ <code>[5, 233, 7]</code> çš„ä¸¤ç«¯ä¸­é€‰ã€‚<br>å¦‚æœç©å®¶ 1 å…ˆé€‰å³ç«¯ 7ï¼Œåˆ™ç©å®¶ 2 åœ¨ <code>[1, 5, 233]</code> çš„ä¸¤ç«¯ä¸­é€‰ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯å…¶ä¸­ä¸€ä¸ªç©å®¶åœ¨é€‰æ‹©ã€‚å½“å‰å­é—®é¢˜ä¸‹ï¼Œè°çš„åˆ†æ•°æ›´å¤šï¼Œè°å°±èµ¢ã€‚</p>
<p>å½“å‰ï¼Œä½ é€‰äº† xï¼Œå¾— x åˆ†ï¼Œä»–æ²¡é€‰ï¼Œå¾— 0åˆ†ï¼Œä½ èµ¢äº†åˆ«äºº x åˆ†ï¼Œæ¥ä¸‹æ¥å‘¢ï¼Ÿä»–é€‰ï¼Œç„¶åä½ é€‰â€¦â€¦ä½ ä»¬äº¤æ›¿åœ°å¾—åˆ†â€¦â€¦æ‰“ä½ï¼Œä½ å·²è¿›å…¥é€’å½’çš„ç»†èŠ‚ï¼Œåˆ«æƒ³ä¸‹å»äº†ã€‚</p>
<p>å½“å‰ä½ æœ‰ x åˆ†ï¼Œå¯¹æ‰‹ 0 åˆ†ï¼Œåœ¨åé¢çš„æ¸¸æˆä¸­ï¼Œå¯¹æ‰‹æ‹¢å…±è¶…è¿‡ä½  y åˆ†ï¼Œå¦‚æœ x &gt;= yï¼Œé‚£ä½ èµ¢å’¯ã€‚</p>
<p>åˆ«æ“å¿ƒé€’å½’çš„ç»†èŠ‚ï¼Œç»†èŠ‚ä¸¢ç»™å­è°ƒç”¨å»åšï¼Œçœ¼ç›ç›¯ç€å½“å‰çš„ x åˆ†ï¼Œæƒ³æƒ³å­è°ƒç”¨åº”è¯¥è¿”å›ä»€ä¹ˆï¼Œå»å’Œå½“å‰çš„ x åˆ†ä½œæ¯”è¾ƒï¼Œåˆ¤æ–­å‡ºèƒœåˆ©ã€‚</p>
<p>äºæ˜¯ï¼Œé€’å½’å‡½æ•°åšçš„äº‹ï¼šè®¡ç®—å½“å‰åšé€‰æ‹©çš„ç©å®¶èƒ½èµ¢è¿‡å¯¹æ‰‹çš„åˆ†æ•°ã€‚å¦‚æœå¤§äºé›¶ï¼Œåˆ™è¡¨ç¤ºä»–åœ¨è¿™ä¸ªå­é—®é¢˜ä¸­èµ¢äº†ã€‚</p>
<p>æ€ä¹ˆè®¡ç®—å‘¢ï¼Ÿå½“å‰é€‰æ‹©çš„åˆ†æ•°ï¼Œå‡å»ï¼Œæ¥ä¸‹æ¥å¯¹æ‰‹èµ¢è¿‡è‡ªå·±çš„åˆ†æ•°ï¼ˆå‰©ä½™æ•°ç»„çš„é€’å½’ç»“æœï¼‰ï¼Œå› ä¸ºé€‰æ‹©æœ‰ä¸¤ç§ï¼Œæ‰€ä»¥æˆ‘ä»¬äºŒè€…å–å…¶å¤§ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">PredictTheWinner2</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">	<span class="keyword">return</span> help(<span class="number">0</span>, nums.length - <span class="number">1</span>, nums) &gt;= <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">help</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="keyword">if</span>(left == right) {</span><br><span class="line">		<span class="keyword">return</span> nums[left];</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span> sumL = nums[left] - help(left + <span class="number">1</span>, right, nums); <span class="comment">// é€‰æ‹©å·¦ç«¯</span></span><br><span class="line">	<span class="keyword">int</span> sumR = nums[right] - help(left, right, nums);<span class="comment">// é€‰æ‹©å³ç«¯</span></span><br><span class="line">	<span class="keyword">return</span> Math.max(sumL, sumR);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸æ–¹æ³•å››ï¼šè®°å¿†åŒ–é€’å½’ï¼ˆæ€è·¯ä¼˜åŒ–ï¼‰"><a href="#ğŸŒ¸æ–¹æ³•å››ï¼šè®°å¿†åŒ–é€’å½’ï¼ˆæ€è·¯ä¼˜åŒ–ï¼‰" class="headerlink" title="ğŸŒ¸æ–¹æ³•å››ï¼šè®°å¿†åŒ–é€’å½’ï¼ˆæ€è·¯ä¼˜åŒ–ï¼‰"></a>ğŸŒ¸æ–¹æ³•å››ï¼šè®°å¿†åŒ–é€’å½’ï¼ˆæ€è·¯ä¼˜åŒ–ï¼‰</h2><h3 id="ğŸåˆ†æ-2"><a href="#ğŸåˆ†æ-2" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>æˆ‘ä»¬åšäº†å“ªäº›é‡å¤çš„è®¡ç®—å‘¢ï¼Ÿ<br>æ¯”å¦‚ï¼Œä½ å…ˆé€‰ 1ï¼Œæˆ‘å†é€‰ 7ï¼Œå’Œä½ å…ˆé€‰ 7ï¼Œæˆ‘å†é€‰ 1ï¼Œè¿™ä¸¤ç§æ‰€å¸¦æ¥çš„å­é—®é¢˜æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯å‰©ä¸‹[5, 233]ã€‚æˆ‘ä»¬ç”¨æ•°ç»„æˆ–å“ˆå¸Œè¡¨å»å­˜å‚¨è®¡ç®—è¿‡çš„å­é—®é¢˜çš„è§£ï¼Œä¸‹æ¬¡é‡åˆ°é‡å¤çš„å­é—®é¢˜ï¼Œå°±ä¸ç”¨å†æ¬¡é€’å½’è®¡ç®—ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">PredictTheWinner3</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> len = nums.length;</span><br><span class="line">	<span class="keyword">int</span>[][] memo = <span class="keyword">new</span> <span class="keyword">int</span>[len][len];</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) {</span><br><span class="line">		Arrays.fill(memo[i], Integer.MIN_VALUE);</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> dfs2(nums, <span class="number">0</span>, len - <span class="number">1</span>, memo) &gt;= <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">dfs2</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span>[][] memo)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span>(left &gt; right) {</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(memo[left][right] != Integer.MIN_VALUE) {</span><br><span class="line">		<span class="keyword">return</span> memo[left][right];</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span> Left = nums[left] - dfs2(nums, left + <span class="number">1</span>, right, memo);</span><br><span class="line">	<span class="keyword">int</span> Right = nums[right] - dfs2(nums, left, right - <span class="number">1</span>, memo);</span><br><span class="line">	memo[left][right] = Math.max(Left, Right);</span><br><span class="line">	<span class="keyword">return</span> memo[left][right];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸æ–¹æ³•äº”ï¼šåŠ¨æ€è§„åˆ’"><a href="#ğŸŒ¸æ–¹æ³•äº”ï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="ğŸŒ¸æ–¹æ³•äº”ï¼šåŠ¨æ€è§„åˆ’"></a>ğŸŒ¸æ–¹æ³•äº”ï¼šåŠ¨æ€è§„åˆ’</h2><h3 id="ğŸåˆ†æ-3"><a href="#ğŸåˆ†æ-3" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>å®šä¹‰äºŒç»´æ•°ç»„$\textit{dp}$ï¼Œå…¶è¡Œæ•°å’Œåˆ—æ•°éƒ½ç­‰äºæ•°ç»„çš„é•¿åº¦ï¼Œ$\textit{dp}[i][j]$è¡¨ç¤ºå½“æ•°ç»„å‰©ä¸‹çš„éƒ¨åˆ†ä¸ºä¸‹æ ‡ i åˆ°ä¸‹æ ‡ j æ—¶ï¼Œå½“å‰ç©å®¶ä¸å¦ä¸€ä¸ªç©å®¶çš„åˆ†æ•°ä¹‹å·®çš„æœ€å¤§å€¼ï¼Œæ³¨æ„å½“å‰ç©å®¶ä¸ä¸€å®šæ˜¯å…ˆæ‰‹ã€‚</p>
<p>åªæœ‰å½“$ i \le j $æ—¶ï¼Œæ•°ç»„å‰©ä¸‹çš„éƒ¨åˆ†æ‰æœ‰æ„ä¹‰ï¼Œå› æ­¤å½“ $i&gt;j$ æ—¶ï¼Œ$\textit{dp}[i][j]=0$ã€‚</p>
<p>å½“ i=jæ—¶ï¼Œåªå‰©ä¸€ä¸ªæ•°å­—ï¼Œå½“å‰ç©å®¶åªèƒ½æ‹¿å–è¿™ä¸ªæ•°å­—ï¼Œå› æ­¤å¯¹äºæ‰€æœ‰ $0 \le i &lt; \textit{nums}.\text{length}$ï¼Œéƒ½æœ‰$ \textit{dp}[i][i]=\textit{nums}[i]$ã€‚</p>
<p>å½“ i&lt;jæ—¶ï¼Œå½“å‰ç©å®¶å¯ä»¥é€‰æ‹© $\textit{nums}[i]$ æˆ–$\textit{nums}[j]$ï¼Œç„¶åè½®åˆ°å¦ä¸€ä¸ªç©å®¶åœ¨æ•°ç»„å‰©ä¸‹çš„éƒ¨åˆ†é€‰å–æ•°å­—ã€‚åœ¨ä¸¤ç§æ–¹æ¡ˆä¸­ï¼Œå½“å‰ç©å®¶ä¼šé€‰æ‹©æœ€ä¼˜çš„æ–¹æ¡ˆï¼Œä½¿å¾—è‡ªå·±çš„åˆ†æ•°æœ€å¤§åŒ–ã€‚å› æ­¤å¯ä»¥å¾—åˆ°å¦‚ä¸‹çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p>
<p>$\textit{dp}[i][j]=\max(\textit{nums}[i] - \textit{dp}[i + 1][j], \textit{nums}[j] - \textit{dp}[i][j - 1])<br>$</p>
<p>æœ€ååˆ¤æ–­$ \textit{dp}[0][\textit{nums}.\text{length}-1]$ çš„å€¼ï¼Œå¦‚æœå¤§äºæˆ–ç­‰äº 0ï¼Œåˆ™å…ˆæ‰‹å¾—åˆ†å¤§äºæˆ–ç­‰äºåæ‰‹å¾—åˆ†ï¼Œå› æ­¤å…ˆæ‰‹æˆä¸ºèµ¢å®¶ï¼Œå¦åˆ™åæ‰‹æˆä¸ºèµ¢å®¶ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">PredictTheWinner4</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> len = nums.length;</span><br><span class="line">	<span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len][len];</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) {</span><br><span class="line">		dp[i][i] = nums[i];</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = len - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; len; j++) {</span><br><span class="line">			dp[i][j] = Math.max(nums[i] - dp[i + <span class="number">1</span>][j], nums[j] - dp[i][j - <span class="number">1</span>]);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> dp[<span class="number">0</span>][len - <span class="number">1</span>] &gt;= <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸æ–¹æ³•å…­ï¼šåŠ¨æ€è§„åˆ’ä¼˜åŒ–"><a href="#ğŸŒ¸æ–¹æ³•å…­ï¼šåŠ¨æ€è§„åˆ’ä¼˜åŒ–" class="headerlink" title="ğŸŒ¸æ–¹æ³•å…­ï¼šåŠ¨æ€è§„åˆ’ä¼˜åŒ–"></a>ğŸŒ¸æ–¹æ³•å…­ï¼šåŠ¨æ€è§„åˆ’ä¼˜åŒ–</h2><h3 id="ğŸåˆ†æ-4"><a href="#ğŸåˆ†æ-4" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>ä¸Šè¿°ä»£ç ä¸­ä½¿ç”¨äº†äºŒç»´æ•°ç»„ $\textit{dp}$ã€‚åˆ†æçŠ¶æ€è½¬ç§»æ–¹ç¨‹å¯ä»¥çœ‹åˆ°ï¼Œ$\textit{dp}[i][j$ çš„å€¼åªå’Œ$ \textit{dp}[i + 1][j] $ä¸$ \textit{dp}[i][j - 1] $æœ‰å…³ï¼Œå³åœ¨è®¡ç®—$ \textit{dp} $çš„ç¬¬ ii è¡Œçš„å€¼æ—¶ï¼Œåªéœ€è¦ä½¿ç”¨åˆ° $\textit{dp} $çš„ç¬¬ <code>i</code> è¡Œå’Œç¬¬ <code>i+1</code> è¡Œçš„å€¼ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ä¸€ç»´æ•°ç»„ä»£æ›¿äºŒç»´æ•°ç»„ï¼Œå¯¹ç©ºé—´è¿›è¡Œä¼˜åŒ–ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">PredictTheWinner5</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> len = nums.length;</span><br><span class="line">	<span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) {</span><br><span class="line">		dp[i] = nums[i];</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = len - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; len; j++) {</span><br><span class="line">			dp[j] = Math.max(nums[i] - dp[j], nums[j] - dp[j - <span class="number">1</span>]);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> dp[len - <span class="number">1</span>] &gt;= <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
        <tag>é€’å½’</tag>
        <tag>è®°å¿†åŒ–é€’å½’</tag>
      </tags>
  </entry>
  <entry>
    <title>çŠ¶æ€æœº_å‰‘æŒ‡offer.20_è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²</title>
    <url>/A_string_representing_numeric/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸè¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦è¡¨ç¤ºæ•°å€¼ï¼ˆåŒ…æ‹¬æ•´æ•°å’Œå°æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²â€+100â€ã€â€5e2â€ã€â€-123â€ã€â€3.1416â€ã€â€-1E-16â€ã€â€0123â€éƒ½è¡¨ç¤ºæ•°å€¼ï¼Œä½†â€12eâ€ã€â€1a3.14â€ã€â€1.2.3â€ã€â€+-5â€åŠâ€12e+5.4â€éƒ½ä¸æ˜¯ã€‚</p>
<a id="more"></a>

<h2 id="ğŸŒ¸æ–¹æ³•ä¸€ï¼šæš´åŠ›æ¨¡æ‹Ÿ"><a href="#ğŸŒ¸æ–¹æ³•ä¸€ï¼šæš´åŠ›æ¨¡æ‹Ÿ" class="headerlink" title="ğŸŒ¸æ–¹æ³•ä¸€ï¼šæš´åŠ›æ¨¡æ‹Ÿ"></a>ğŸŒ¸æ–¹æ³•ä¸€ï¼šæš´åŠ›æ¨¡æ‹Ÿ</h2><p>ç›®çš„æ˜¯åˆ¤æ–­måœ¨å“ªä¸ªæ’åºæ•°ç»„ä¸­ã€‚åœ¨numbers [m]&gt;numbers[i] æƒ…å†µä¸‹,</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isNumber</span><span class="params">(String s)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span>(s.length() &lt;= <span class="number">0</span> || s == <span class="keyword">null</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">boolean</span> isEExist = <span class="keyword">false</span>;<span class="comment">// è®°å½• e å’Œ E æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">	<span class="keyword">boolean</span> isDotExist = <span class="keyword">false</span>;<span class="comment">// è®°å½• å°æ•°ç‚¹ æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">	<span class="keyword">boolean</span> numberic = <span class="keyword">false</span>;<span class="comment">// è®°å½• å½“å‰æ•°å­— æ˜¯å¦åˆæ³•</span></span><br><span class="line">	<span class="keyword">char</span>[] chars = s.trim().toCharArray();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; chars.length; i++) {</span><br><span class="line">		<span class="keyword">char</span> c = chars[i];</span><br><span class="line">		<span class="keyword">if</span>(c &gt;= <span class="string">'0'</span> &amp;&amp; c &lt;= <span class="string">'9'</span>) {</span><br><span class="line">			numberic = <span class="keyword">true</span>;</span><br><span class="line">		}<span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'+'</span> || c == <span class="string">'-'</span>) {</span><br><span class="line">			<span class="comment">//+-å‡ºç°åœ¨0ä½ç½®æˆ–è€…e/Eçš„åé¢ç¬¬ä¸€ä¸ªä½ç½®æ‰æ˜¯åˆæ³•çš„</span></span><br><span class="line">			<span class="keyword">if</span>(i != <span class="number">0</span> &amp;&amp; chars[i - <span class="number">1</span>] != <span class="string">'e'</span> &amp;&amp; chars[i - <span class="number">1</span>] != <span class="string">'E'</span>) {</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">			}</span><br><span class="line">		}<span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'.'</span>) {</span><br><span class="line">			 <span class="comment">//.ä¹‹å‰ä¸èƒ½å‡ºç°.æˆ–è€…e</span></span><br><span class="line">			<span class="keyword">if</span>(isEExist || isDotExist) {</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">			}</span><br><span class="line">			isDotExist = <span class="keyword">true</span>;</span><br><span class="line">		}<span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'E'</span> || c == <span class="string">'e'</span>) {<span class="comment">// E/eä¹‹å‰å¿…é¡»æœ‰æ•°ï¼Œä¸”æ²¡å‡ºç°è¿‡</span></span><br><span class="line">			 <span class="comment">//eä¹‹å‰ä¸èƒ½å‡ºç°eï¼Œå¿…é¡»å‡ºç°æ•°</span></span><br><span class="line">			<span class="keyword">if</span>(isEExist || !numberic) {</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">			}</span><br><span class="line">			isEExist = <span class="keyword">true</span>;</span><br><span class="line">			numberic = <span class="keyword">false</span>;<span class="comment">//é‡ç½®numbericï¼Œæ’é™¤123eæˆ–è€…123e+çš„æƒ…å†µ,ç¡®ä¿eä¹‹åä¹Ÿå‡ºç°æ•°</span></span><br><span class="line">		}<span class="keyword">else</span> {<span class="comment">//å…¶ä»–ä¸åˆæ³•å­—ç¬¦</span></span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> numberic;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸æ–¹æ³•äºŒï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº"><a href="#ğŸŒ¸æ–¹æ³•äºŒï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº" class="headerlink" title="ğŸŒ¸æ–¹æ³•äºŒï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº"></a>ğŸŒ¸æ–¹æ³•äºŒï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº</h2><h3 id="ğŸåˆ†æ"><a href="#ğŸåˆ†æ" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>æœ¬é¢˜ä½¿ç”¨æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºã€‚æ ¹æ®å­—ç¬¦ç±»å‹å’Œåˆæ³•æ•°å€¼çš„ç‰¹ç‚¹ï¼Œå…ˆå®šä¹‰çŠ¶æ€ï¼Œå†ç”»å‡ºçŠ¶æ€è½¬ç§»å›¾ï¼Œæœ€åç¼–å†™ä»£ç å³å¯ã€‚</p>
<h4 id="å­—ç¬¦ç±»å‹ï¼š"><a href="#å­—ç¬¦ç±»å‹ï¼š" class="headerlink" title="å­—ç¬¦ç±»å‹ï¼š"></a>å­—ç¬¦ç±»å‹ï¼š</h4><p>ç©ºæ ¼ ã€Œ ã€ã€æ•°å­—ã€Œ 0â€”90â€”9 ã€ ã€æ­£è´Ÿå· ã€Œ +-+âˆ’ ã€ ã€å°æ•°ç‚¹ ã€Œ .. ã€ ã€å¹‚ç¬¦å· ã€Œ eEeE ã€ ã€‚</p>
<h4 id="çŠ¶æ€å®šä¹‰ï¼š"><a href="#çŠ¶æ€å®šä¹‰ï¼š" class="headerlink" title="çŠ¶æ€å®šä¹‰ï¼š"></a>çŠ¶æ€å®šä¹‰ï¼š</h4><p>æŒ‰ç…§å­—ç¬¦ä¸²ä»å·¦åˆ°å³çš„é¡ºåºï¼Œå®šä¹‰ä»¥ä¸‹ 9 ç§çŠ¶æ€ã€‚</p>
<ul>
<li>0 å¼€å§‹çš„ç©ºæ ¼</li>
<li>1 å¹‚ç¬¦å·å‰çš„æ­£è´Ÿå·</li>
<li>2å°æ•°ç‚¹å‰çš„æ•°å­—</li>
<li>3å°æ•°ç‚¹ã€å°æ•°ç‚¹åçš„æ•°å­—</li>
<li>4å½“å°æ•°ç‚¹å‰ä¸ºç©ºæ ¼æ—¶ï¼Œå°æ•°ç‚¹ã€å°æ•°ç‚¹åçš„æ•°å­—</li>
<li>5å¹‚ç¬¦å·</li>
<li>6å¹‚ç¬¦å·åçš„æ­£è´Ÿå·</li>
<li>7å¹‚ç¬¦å·åçš„æ•°å­—</li>
<li>8ç»“å°¾çš„ç©ºæ ¼</li>
</ul>
<h4 id="ç»“æŸçŠ¶æ€ï¼š"><a href="#ç»“æŸçŠ¶æ€ï¼š" class="headerlink" title="ç»“æŸçŠ¶æ€ï¼š"></a>ç»“æŸçŠ¶æ€ï¼š</h4><p>åˆæ³•çš„ç»“æŸçŠ¶æ€æœ‰ 2, 3, 7, 8 ã€‚</p>
<p><a href="https://imgchr.com/i/dzjvxP" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/09/02/dzjvxP.png" alt="dzjvxP.png"></a></p>
<h3 id="ğŸç®—æ³•æµç¨‹ï¼š"><a href="#ğŸç®—æ³•æµç¨‹ï¼š" class="headerlink" title="ğŸç®—æ³•æµç¨‹ï¼š"></a>ğŸç®—æ³•æµç¨‹ï¼š</h3><ol>
<li>åˆå§‹åŒ–ï¼š</li>
</ol>
<ul>
<li><strong>çŠ¶æ€è½¬ç§»è¡¨ states</strong> ï¼š è®¾ states[i] ï¼Œå…¶ä¸­ iä¸ºæ‰€å¤„çŠ¶æ€ï¼Œ states[i]states[i]ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨å¯è½¬ç§»è‡³çš„çŠ¶æ€ã€‚é”®å€¼å¯¹ (key, value) å«ä¹‰ï¼šè‹¥è¾“å…¥ key ï¼Œåˆ™å¯ä»çŠ¶æ€ iè½¬ç§»è‡³çŠ¶æ€ value</li>
<li>å½“å‰çŠ¶æ€ p ï¼š èµ·å§‹çŠ¶æ€åˆå§‹åŒ–ä¸º p = 0ã€‚</li>
</ul>
<ol start="2">
<li><p><strong>çŠ¶æ€è½¬ç§»å¾ªç¯ï¼š</strong> éå†å­—ç¬¦ä¸² sçš„æ¯ä¸ªå­—ç¬¦ c ã€‚</p>
<ol>
<li>è®°å½•å­—ç¬¦ç±»å‹ t ï¼š åˆ†ä¸ºå››ç§æƒ…å†µã€‚<ul>
<li>å½“ c ä¸ºæ­£è´Ÿå·æ—¶ï¼Œæ‰§è¡Œ <code>t = 's'</code> ;</li>
<li>å½“ c ä¸ºæ•°å­—æ—¶ï¼Œæ‰§è¡Œ <code>t = 'd'</code> ;</li>
<li>å½“ c ä¸º e , E æ—¶ï¼Œæ‰§è¡Œ <code>t = 'e'</code> ;</li>
<li>å½“ c ä¸º . , ç©ºæ ¼ æ—¶ï¼Œæ‰§è¡Œ t = c ``ï¼ˆå³ç”¨å­—ç¬¦æœ¬èº«è¡¨ç¤ºå­—ç¬¦ç±»å‹ï¼‰;</li>
<li>å¦åˆ™ï¼Œæ‰§è¡Œ <code>t = '?</code>â€˜ ï¼Œä»£è¡¨ä¸ºä¸å±äºåˆ¤æ–­èŒƒå›´çš„éæ³•å­—ç¬¦ï¼Œåç»­ç›´æ¥è¿”å› <code>false</code>ã€‚</li>
</ul>
</li>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š è‹¥å­—ç¬¦ç±»å‹ t ä¸åœ¨å“ˆå¸Œè¡¨ <code>states[p]</code> ä¸­ï¼Œè¯´æ˜æ— æ³•è½¬ç§»è‡³ä¸‹ä¸€çŠ¶æ€ï¼Œå› æ­¤ç›´æ¥è¿”å› False ã€‚</li>
<li>çŠ¶æ€è½¬ç§»ï¼š çŠ¶æ€ p è½¬ç§»è‡³ states[p] [t] ã€‚</li>
</ol>
</li>
<li><p>è¿”å›å€¼ï¼š è·³å‡ºå¾ªç¯åï¼Œè‹¥çŠ¶æ€ $p \in {2, 3, 7, 8}$ ï¼Œè¯´æ˜ç»“å°¾åˆæ³•ï¼Œè¿”å› TrueTru ï¼Œå¦åˆ™è¿”å› False ã€‚</p>
</li>
</ol>
<h4 id="å¤æ‚åº¦åˆ†æï¼š"><a href="#å¤æ‚åº¦åˆ†æï¼š" class="headerlink" title="å¤æ‚åº¦åˆ†æï¼š"></a>å¤æ‚åº¦åˆ†æï¼š</h4><p><strong>æ—¶é—´å¤æ‚åº¦ O(N)</strong> ï¼š å…¶ä¸­ N ä¸ºå­—ç¬¦ä¸² s çš„é•¿åº¦ï¼Œåˆ¤æ–­éœ€éå†å­—ç¬¦ä¸²ï¼Œæ¯è½®çŠ¶æ€è½¬ç§»çš„ä½¿ç”¨ O(1)æ—¶é—´ã€‚<br><strong>ç©ºé—´å¤æ‚åº¦ O(1)</strong>ï¼š states å’Œ p ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isNumber</span><span class="params">(String s)</span> </span>{</span><br><span class="line">        Map[] states = {</span><br><span class="line">            <span class="keyword">new</span> HashMap&lt;&gt;() {{ put(<span class="string">' '</span>, <span class="number">0</span>); put(<span class="string">'s'</span>, <span class="number">1</span>); put(<span class="string">'d'</span>, <span class="number">2</span>); put(<span class="string">'.'</span>, <span class="number">4</span>); }}, <span class="comment">// 0.</span></span><br><span class="line">            <span class="keyword">new</span> HashMap&lt;&gt;() {{ put(<span class="string">'d'</span>, <span class="number">2</span>); put(<span class="string">'.'</span>, <span class="number">4</span>); }},                           <span class="comment">// 1.</span></span><br><span class="line">            <span class="keyword">new</span> HashMap&lt;&gt;() {{ put(<span class="string">'d'</span>, <span class="number">2</span>); put(<span class="string">'.'</span>, <span class="number">3</span>); put(<span class="string">'e'</span>, <span class="number">5</span>); put(<span class="string">' '</span>, <span class="number">8</span>); }}, <span class="comment">// 2.</span></span><br><span class="line">            <span class="keyword">new</span> HashMap&lt;&gt;() {{ put(<span class="string">'d'</span>, <span class="number">3</span>); put(<span class="string">'e'</span>, <span class="number">5</span>); put(<span class="string">' '</span>, <span class="number">8</span>); }},              <span class="comment">// 3.</span></span><br><span class="line">            <span class="keyword">new</span> HashMap&lt;&gt;() {{ put(<span class="string">'d'</span>, <span class="number">3</span>); }},                                        <span class="comment">// 4.</span></span><br><span class="line">            <span class="keyword">new</span> HashMap&lt;&gt;() {{ put(<span class="string">'s'</span>, <span class="number">6</span>); put(<span class="string">'d'</span>, <span class="number">7</span>); }},                           <span class="comment">// 5.</span></span><br><span class="line">            <span class="keyword">new</span> HashMap&lt;&gt;() {{ put(<span class="string">'d'</span>, <span class="number">7</span>); }},                                        <span class="comment">// 6.</span></span><br><span class="line">            <span class="keyword">new</span> HashMap&lt;&gt;() {{ put(<span class="string">'d'</span>, <span class="number">7</span>); put(<span class="string">' '</span>, <span class="number">8</span>); }},                           <span class="comment">// 7.</span></span><br><span class="line">            <span class="keyword">new</span> HashMap&lt;&gt;() {{ put(<span class="string">' '</span>, <span class="number">8</span>); }}                                         <span class="comment">// 8.</span></span><br><span class="line">        };</span><br><span class="line">        <span class="keyword">int</span> p = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">char</span> t;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c : s.toCharArray()) {</span><br><span class="line">            <span class="keyword">if</span>(c &gt;= <span class="string">'0'</span> &amp;&amp; c &lt;= <span class="string">'9'</span>) t = <span class="string">'d'</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'+'</span> || c == <span class="string">'-'</span>) t = <span class="string">'s'</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'e'</span> || c == <span class="string">'E'</span>) t = <span class="string">'e'</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'.'</span> || c == <span class="string">' '</span>) t = c;</span><br><span class="line">            <span class="keyword">else</span> t = <span class="string">'?'</span>;</span><br><span class="line">            <span class="keyword">if</span>(!states[p].containsKey(t)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            p = (<span class="keyword">int</span>)states[p].get(t);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> p == <span class="number">2</span> || p == <span class="number">3</span> || p == <span class="number">7</span> || p == <span class="number">8</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isNumber</span><span class="params">(self, s: str)</span> -&gt; bool:</span></span><br><span class="line">        states = [</span><br><span class="line">            { <span class="string">' '</span>: <span class="number">0</span>, <span class="string">'s'</span>: <span class="number">1</span>, <span class="string">'d'</span>: <span class="number">2</span>, <span class="string">'.'</span>: <span class="number">4</span> }, <span class="comment"># 0. start with 'blank'</span></span><br><span class="line">            { <span class="string">'d'</span>: <span class="number">2</span>, <span class="string">'.'</span>: <span class="number">4</span> } ,                <span class="comment"># 1. 'sign' before 'e'</span></span><br><span class="line">            { <span class="string">'d'</span>: <span class="number">2</span>, <span class="string">'.'</span>: <span class="number">3</span>, <span class="string">'e'</span>: <span class="number">5</span>, <span class="string">' '</span>: <span class="number">8</span> }, <span class="comment"># 2. 'digit' before 'dot'</span></span><br><span class="line">            { <span class="string">'d'</span>: <span class="number">3</span>, <span class="string">'e'</span>: <span class="number">5</span>, <span class="string">' '</span>: <span class="number">8</span> },         <span class="comment"># 3. 'digit' after 'dot'</span></span><br><span class="line">            { <span class="string">'d'</span>: <span class="number">3</span> },                         <span class="comment"># 4. 'digit' after 'dot' (â€˜blankâ€™ before 'dot')</span></span><br><span class="line">            { <span class="string">'s'</span>: <span class="number">6</span>, <span class="string">'d'</span>: <span class="number">7</span> },                 <span class="comment"># 5. 'e'</span></span><br><span class="line">            { <span class="string">'d'</span>: <span class="number">7</span> },                         <span class="comment"># 6. 'sign' after 'e'</span></span><br><span class="line">            { <span class="string">'d'</span>: <span class="number">7</span>, <span class="string">' '</span>: <span class="number">8</span> },                 <span class="comment"># 7. 'digit' after 'e'</span></span><br><span class="line">            { <span class="string">' '</span>: <span class="number">8</span> }                          <span class="comment"># 8. end with 'blank'</span></span><br><span class="line">        ]</span><br><span class="line">        p = <span class="number">0</span>                           <span class="comment"># start with state 0</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> <span class="string">'0'</span> &lt;= c &lt;= <span class="string">'9'</span>: t = <span class="string">'d'</span> <span class="comment"># digit</span></span><br><span class="line">            <span class="keyword">elif</span> c <span class="keyword">in</span> <span class="string">"+-"</span>: t = <span class="string">'s'</span>     <span class="comment"># sign</span></span><br><span class="line">            <span class="keyword">elif</span> c <span class="keyword">in</span> <span class="string">"eE"</span>: t = <span class="string">'e'</span>     <span class="comment"># e or E</span></span><br><span class="line">            <span class="keyword">elif</span> c <span class="keyword">in</span> <span class="string">". "</span>: t = c       <span class="comment"># dot, blank</span></span><br><span class="line">            <span class="keyword">else</span>: t = <span class="string">'?'</span>               <span class="comment"># unknown</span></span><br><span class="line">            <span class="keyword">if</span> t <span class="keyword">not</span> <span class="keyword">in</span> states[p]: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            p = states[p][t]</span><br><span class="line">        <span class="keyword">return</span> p <span class="keyword">in</span> (<span class="number">2</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">8</span>)</span><br></pre></td></tr></tbody></table></figure>

<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>å‰‘æŒ‡offer</category>
      </categories>
      <tags>
        <tag>æ¨¡æ‹Ÿ</tag>
        <tag>çŠ¶æ€æœº</tag>
      </tags>
  </entry>
  <entry>
    <title>KMP_leetcode.214.æœ€çŸ­å›æ–‡ä¸²</title>
    <url>/small_String/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œä½ å¯ä»¥é€šè¿‡åœ¨å­—ç¬¦ä¸²å‰é¢æ·»åŠ å­—ç¬¦å°†å…¶è½¬æ¢ä¸ºå›æ–‡ä¸²ã€‚æ‰¾åˆ°å¹¶è¿”å›å¯ä»¥ç”¨è¿™ç§æ–¹å¼è½¬æ¢çš„æœ€çŸ­å›æ–‡ä¸²ã€‚</p>
<a id="more"></a>

<p>ç¤ºä¾‹ 1:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: "aacecaaa"</span><br><span class="line">è¾“å‡º: "aaacecaaa"</span><br></pre></td></tr></tbody></table></figure>


<p>ç¤ºä¾‹ 2:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: "abcd"</span><br><span class="line">è¾“å‡º: "dcbabcd"</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸åˆ†æ"><a href="#ğŸŒ¸åˆ†æ" class="headerlink" title="ğŸŒ¸åˆ†æ"></a>ğŸŒ¸åˆ†æ</h2><p>åœ¨å­—ç¬¦ä¸²å¼€å¤´è¡¥å……æœ€å°‘çš„å­—ç¬¦ï¼Œä½¿å¾—å½“å‰å­—ç¬¦ä¸²æˆä¸ºå›æ–‡ä¸²ã€‚</p>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•</h2><p>å…ˆåˆ¤æ–­æ•´ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸æ˜¯å›æ–‡ä¸²ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå°±ç›´æ¥å°†å½“å‰å­—ç¬¦ä¸²è¿”å›ã€‚ä¸æ˜¯çš„è¯ï¼Œè¿›è¡Œä¸‹ä¸€æ­¥ã€‚</p>
<p>åˆ¤æ–­å»æ‰æœ«å°¾ 1 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯å›æ–‡ä¸²ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå°±å°†æœ«å°¾çš„ 1 ä¸ªå­—ç¬¦åŠ åˆ°åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨è¿”å›ã€‚ä¸æ˜¯çš„è¯ï¼Œè¿›è¡Œä¸‹ä¸€æ­¥ã€‚</p>
<p>åˆ¤æ–­å»æ‰æœ«å°¾ 2 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯å›æ–‡ä¸²ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå°±å°†æœ«å°¾çš„ 2 ä¸ªå­—ç¬¦å€’ç½®ååŠ åˆ°åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨è¿”å›ã€‚ä¸æ˜¯çš„è¯ï¼Œè¿›è¡Œä¸‹ä¸€æ­¥ã€‚</p>
<p>åˆ¤æ–­å»æ‰æœ«å°¾ 3 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯å›æ–‡ä¸²ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå°±å°†æœ«å°¾çš„ 3 ä¸ªå­—ç¬¦å€’ç½®ååŠ åˆ°åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨è¿”å›ã€‚ä¸æ˜¯çš„è¯ï¼Œè¿›è¡Œä¸‹ä¸€æ­¥ã€‚</p>
<p>â€¦</p>
<p>ç›´åˆ°åˆ¤æ–­å»æ‰æœ«å°¾çš„ <code>n - 1</code> ä¸ªå­—ç¬¦ï¼Œæ•´ä¸ªå­—ç¬¦ä¸²å‰©ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ŒæŠŠæœ«å°¾çš„ <code>n - 1</code> ä¸ªå­—ç¬¦å€’ç½®ååŠ åˆ°åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨è¿”å›ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚å­—ç¬¦ä¸² abbacdã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">åŸå­—ç¬¦ä¸² abbacd</span><br><span class="line">å…ˆåˆ¤æ–­ abbacd æ˜¯ä¸æ˜¯å›æ–‡ä¸², å‘ç°ä¸æ˜¯, æ‰§è¡Œä¸‹ä¸€æ­¥</span><br><span class="line">åˆ¤æ–­ abbac æ˜¯ä¸æ˜¯å›æ–‡ä¸², å‘ç°ä¸æ˜¯, æ‰§è¡Œä¸‹ä¸€æ­¥</span><br><span class="line">åˆ¤æ–­ abba æ˜¯ä¸æ˜¯å›æ–‡ä¸², å‘ç°æ˜¯ï¼Œå°†æœ«å°¾çš„ 2 ä¸ªå­—ç¬¦ cd å€’ç½®ååŠ åˆ°åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨,</span><br><span class="line">å³ dcabbacd</span><br></pre></td></tr></tbody></table></figure>

<p>ä»£ç çš„è¯ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ä¸²çš„è¯å¯ä»¥ç”¨ <a href="https://leetcode.wang/leetcode-125-Valid-Palindrome.html" target="_blank" rel="noopener">125 é¢˜</a> çš„æ€æƒ³ï¼Œåˆ©ç”¨åŒæŒ‡é’ˆæ³•</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ä¸², ä¼ å…¥å­—ç¬¦ä¸²çš„èŒƒå›´</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindromic</span><span class="params">(String s, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>{</span><br><span class="line">    <span class="keyword">char</span>[] c = s.toCharArray();</span><br><span class="line">    <span class="keyword">while</span> (start &lt; end) {</span><br><span class="line">        <span class="keyword">if</span> (c[start] != c[end]) {</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        }</span><br><span class="line">        start++;</span><br><span class="line">        end--;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">shortestPalindrome</span><span class="params">(String s)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> end = s.length() - <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//æ‰¾åˆ°å›æ–‡ä¸²çš„ç»“å°¾, ç”¨ end æ ‡è®°</span></span><br><span class="line">    <span class="keyword">for</span> (; end &gt; <span class="number">0</span>; end--) {</span><br><span class="line">        <span class="keyword">if</span> (isPalindromic(s, <span class="number">0</span>, end)) {</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//å°†æœ«å°¾çš„å‡ ä¸ªå€’ç½®ç„¶ååŠ åˆ°åŸå­—ç¬¦ä¸²å¼€å¤´</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> StringBuilder(s.substring(end + <span class="number">1</span>)).reverse() + s;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•äºŒï¼š"><a href="#ğŸŒ¸è§£æ³•äºŒï¼š" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼š"></a>ğŸŒ¸è§£æ³•äºŒï¼š</h2><p>æ ¹æ®è§£æ³•ä¸€ï¼Œæˆ‘ä»¬å…¶å®å°±æ˜¯åœ¨<strong>å¯»æ‰¾ä»å¼€å¤´å¼€å§‹çš„æœ€é•¿å›æ–‡ä¸²</strong>ï¼ˆè¿™ä¸ªå¾ˆå…³é”®ï¼Œåè¾¹æ‰€æœ‰çš„è§£æ³•éƒ½æ˜¯åŸºäºè¿™ä¸ªäº†ï¼‰ï¼Œç„¶åå°†æœ«å°¾çš„é™¤å»æœ€é•¿å›æ–‡ä¸²éƒ¨åˆ†çš„å‡ ä¸ªå­—ç¬¦å€’ç½®ååŠ åˆ°åŸå­—ç¬¦ä¸²å¼€å¤´å³å¯ã€‚</p>
<p>æˆ‘ä»¬åªéœ€è¦ä¸¤ä¸ªæŒ‡é’ˆï¼Œ <code>i</code> å’Œ <code>j</code>ï¼Œ<code>i</code> åˆå§‹åŒ–ä¸º 0ï¼Œ<code>j</code> åˆå§‹åŒ–ä¸ºå­—ç¬¦ä¸²é•¿åº¦å‡ 1ã€‚ç„¶åä¾æ¬¡åˆ¤æ–­ <code>s[i]</code> å’Œ <code>s[j]</code> æ˜¯å¦ç›¸åŒï¼Œç›¸åŒçš„è¯ï¼Œ i å°±è¿›è¡ŒåŠ  1ï¼Œj è¿›è¡Œå‡ 1ã€‚ s[i] å’Œ s[j] ä¸åŒçš„è¯ï¼Œåªå°† j è¿›è¡Œå‡ 1ã€‚</p>
<p>çœ‹å‡ ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">abbacde</span><br><span class="line">a b b a c d e</span><br><span class="line">^           ^</span><br><span class="line">i           j</span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, s[i] != s[j], j--</span><br><span class="line">    </span><br><span class="line">a b b a c d e</span><br><span class="line">^         ^</span><br><span class="line">i         j</span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, s[i] != s[j], j--</span><br><span class="line">    </span><br><span class="line">a b b a c d e</span><br><span class="line">^       ^</span><br><span class="line">i       j</span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, s[i] != s[j], j--</span><br><span class="line">    </span><br><span class="line">a b b a c d e</span><br><span class="line">^     ^</span><br><span class="line">i     j</span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, s[i] == s[j], i++, j--</span><br><span class="line">    </span><br><span class="line">a b b a c d e</span><br><span class="line">  ^ ^</span><br><span class="line">  i j</span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, s[i] == s[j], i++, j--</span><br><span class="line">    </span><br><span class="line">a b b a c d e</span><br><span class="line">  ^ ^</span><br><span class="line">  j i</span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, s[i] == s[j], i++, j--</span><br><span class="line">    </span><br><span class="line">a b b a c d e</span><br><span class="line">^     ^</span><br><span class="line">j     i</span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, s[i] == s[j], i++, j--</span><br><span class="line">    </span><br><span class="line"> a b b a c d e</span><br><span class="line">^        ^</span><br><span class="line">j        i</span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, j &lt; 0, ç»“æŸå¾ªç¯ã€‚</span><br><span class="line">æ­¤æ—¶ i æŒ‡å‘æœ€é•¿å›æ–‡ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²,æˆ‘ä»¬åªéœ€è¦æŠŠ i åˆ° æœ€åçš„å­—ç¬¦å€’ç½®åŠ åˆ°å¼€å¤´å³å¯ã€‚</span><br></pre></td></tr></tbody></table></figure>

<p>å½“ç„¶ï¼Œä¸Šè¾¹æ˜¯æœ€ç†æƒ³çš„æƒ…å†µï¼Œå¦‚æœ <code>j</code> åœ¨æœ€é•¿å›æ–‡ä¸²å¤–æå‰å‡ºç°äº†å’Œ <code>i</code> ç›¸åŒçš„å­—ç¬¦ä¼šæœ‰å½±å“å—ï¼Ÿ</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">abbacba</span><br><span class="line">a b b a c b a</span><br><span class="line">^           ^</span><br><span class="line">i           j</span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, s[i] == s[j], i++, j--</span><br><span class="line">    </span><br><span class="line">a b b a c b a</span><br><span class="line">  ^       ^</span><br><span class="line">  i       j</span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, s[i] == s[j], i++, j--    </span><br><span class="line">    </span><br><span class="line">a b b a c b a</span><br><span class="line">    ^   ^</span><br><span class="line">    i   j</span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, s[i] != s[j], j--</span><br><span class="line">    </span><br><span class="line">a b b a c b a</span><br><span class="line">    ^ ^</span><br><span class="line">    i j</span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, s[i] != s[j], j--</span><br><span class="line">    </span><br><span class="line">a b b a c b a</span><br><span class="line">    ^  </span><br><span class="line">    i  </span><br><span class="line">    j</span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, s[i] == s[j], i++, j--</span><br><span class="line">    </span><br><span class="line">a b b a c b a</span><br><span class="line">  ^   ^  </span><br><span class="line">  j   i  </span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, s[i] != s[j], j--</span><br><span class="line">    </span><br><span class="line">a b b a c b a</span><br><span class="line">^     ^  </span><br><span class="line">j     i  </span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, s[i] == s[j], i++, j--   </span><br><span class="line">    </span><br><span class="line"> a b b a c d e</span><br><span class="line">^        ^</span><br><span class="line">j        i</span><br><span class="line">å¦‚ä¸Šæ‰€ç¤º, j &lt; 0, ç»“æŸå¾ªç¯ã€‚</span><br><span class="line">ä¼šå‘ç°æ­¤æ—¶ i å’Œä¹‹å‰ä¸€æ ·, ä¾æ—§æŒ‡å‘æœ€é•¿å›æ–‡ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦,æˆ‘ä»¬åªéœ€è¦æŠŠ i åˆ°æœ€åçš„å­—ç¬¦å€’ç½®åŠ åˆ°å¼€å¤´å³å¯ã€‚</span><br></pre></td></tr></tbody></table></figure>

<p>å¯ä»¥çœ‹åˆ°ä¸Šè¾¹çš„ä¸¤ç§æƒ…å†µï¼Œåªè¦ <code>j</code> è¿›å…¥äº†æœ€é•¿å›æ–‡å­ä¸²ï¼Œä¸€å®šä¼šä½¿å¾— <code>i</code> èµ°å‡ºæœ€é•¿å›æ–‡å­ä¸²ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨åŒæŒ‡é’ˆå†™ä¸€ä¸‹ä»£ç äº†ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">shortestPalindrome</span><span class="params">(String s)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j = s.length() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span>[] c = s.toCharArray();</span><br><span class="line">    <span class="keyword">while</span> (j &gt;= <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">if</span> (i == j){</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (c[i] == c[j]) {</span><br><span class="line">            i++;</span><br><span class="line">        }</span><br><span class="line">        j--;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//æ­¤æ—¶ä»£è¡¨æ•´ä¸ªå­—ç¬¦ä¸²æ˜¯å›æ–‡ä¸²</span></span><br><span class="line">    <span class="keyword">if</span> (i == s.length()) {</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//åç¼€</span></span><br><span class="line">    String suffix = s.substring(i);</span><br><span class="line">    <span class="comment">//åç¼€å€’ç½®</span></span><br><span class="line">    String reverse = <span class="keyword">new</span> StringBuilder(suffix).reverse().toString();</span><br><span class="line">    <span class="comment">//åŠ åˆ°å¼€å¤´</span></span><br><span class="line">    <span class="keyword">return</span> reverse + s;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>çœ‹èµ·æ¥æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œé‚£å°±æ˜¯ <code>i</code> æå‰èµ°å‡ºäº†æœ€é•¿å›æ–‡å­ä¸²ï¼Œçœ‹ä¸‹è¾¹çš„ä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">ababbcefbbaba</span><br><span class="line">a b a b b c e f b b a b a</span><br><span class="line">^                       ^</span><br><span class="line">i                       j</span><br><span class="line"></span><br><span class="line">i å’Œ j åŒæ—¶ç§»åŠ¨, ä¸€ç›´æ˜¯ç›¸ç­‰, ç›´åˆ°ä¸‹è¾¹çš„æƒ…å†µ</span><br><span class="line"></span><br><span class="line">a b a b b c e f b b a b a</span><br><span class="line">          ^   ^</span><br><span class="line">          i   j</span><br><span class="line"></span><br><span class="line">ç„¶åç»§ç»­ç§»åŠ¨, æœ€åå°±å˜æˆäº†ä¸‹è¾¹çš„æ ·å­</span><br><span class="line"></span><br><span class="line"> a b a b b c e f b b a b a</span><br><span class="line">^            ^  </span><br><span class="line">j            i   </span><br><span class="line"></span><br><span class="line">ä¼šå‘ç°æ­¤æ—¶ 0 åˆ° i - 1 å¹¶ä¸æ˜¯ä¸€ä¸ªå›æ–‡ä¸², æ‰€ä»¥æˆ‘ä»¬éœ€è¦é€’å½’çš„å»è§£å†³è¿™ä¸ªé—®é¢˜</span><br></pre></td></tr></tbody></table></figure>

<p>æ­¤æ—¶æˆ‘ä»¬å¹¶æ²¡æœ‰æ‰¾åˆ°æœ€é•¿å›æ–‡ä¸²ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥è‚¯å®šæœ€é•¿å›æ–‡ä¸²ä¸€å®šåœ¨ 0 åˆ° i ä¹‹é—´ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦é€’å½’çš„ä»<code>s[0, i)</code> ä¸­ç»§ç»­å¯»æ‰¾æœ€é•¿å›æ–‡ä¸²å³å¯ã€‚</p>
<p>å› ä¸ºä¸Šè¾¹çš„æ‰€æœ‰æƒ…å†µï¼Œéƒ½ä¿è¯äº† i ä¸€å®šå¯ä»¥èµ°å‡ºæœ€é•¿å›æ–‡ä¸²ï¼Œåªä¸è¿‡å¯èƒ½è¶…å‡ºä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥ç”¨é€’å½’è§£å†³å³å¯ã€‚ä»£ç çš„æ•´ä½“æ¡†æ¶ä¸éœ€è¦æ”¹å˜ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">shortestPalindrome</span><span class="params">(String s)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j = s.length() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span>[] c = s.toCharArray();</span><br><span class="line">    <span class="keyword">while</span> (j &gt;= <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">if</span> (c[i] == c[j]) {</span><br><span class="line">            i++;</span><br><span class="line">        }</span><br><span class="line">        j--;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//æ­¤æ—¶ä»£è¡¨æ•´ä¸ªå­—ç¬¦ä¸²æ˜¯å›æ–‡ä¸²</span></span><br><span class="line">    <span class="keyword">if</span> (i == s.length()) {</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//åç¼€</span></span><br><span class="line">    String suffix = s.substring(i);</span><br><span class="line">    <span class="comment">//åç¼€å€’ç½®</span></span><br><span class="line">    String reverse = <span class="keyword">new</span> StringBuilder(suffix).reverse().toString();</span><br><span class="line">    <span class="comment">//é€’å½’ s[0,i),å¯»æ‰¾å¼€å¤´å¼€å§‹çš„æœ€é•¿å›æ–‡ä¸²ï¼Œå°†å…¶ä½™éƒ¨åˆ†åŠ åˆ°å¼€å¤´å’Œç»“å°¾</span></span><br><span class="line">    <span class="keyword">return</span> reverse + shortestPalindrome(s.substring(<span class="number">0</span>, i)) + suffix;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•ä¸‰ï¼šæš´åŠ›ï¼ˆåˆ¤æ–­å›æ–‡å‡çº§ï¼‰"><a href="#ğŸŒ¸è§£æ³•ä¸‰ï¼šæš´åŠ›ï¼ˆåˆ¤æ–­å›æ–‡å‡çº§ï¼‰" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸‰ï¼šæš´åŠ›ï¼ˆåˆ¤æ–­å›æ–‡å‡çº§ï¼‰"></a>ğŸŒ¸è§£æ³•ä¸‰ï¼šæš´åŠ›ï¼ˆåˆ¤æ–­å›æ–‡å‡çº§ï¼‰</h2><p>å¯»æ‰¾å¼€å¤´å¼€å§‹çš„æœ€é•¿å›æ–‡ä¸²ï¼Œæˆ‘ä»¬å›åˆ°æ›´æš´åŠ›çš„æ–¹æ³•ã€‚</p>
<p>å°†åŸå§‹å­—ç¬¦ä¸²é€†åºï¼Œç„¶åæ¯”è¾ƒå¯¹åº”çš„å­ä¸²å³å¯åˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ä¸²ã€‚ä¸¾ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">abbacd</span><br><span class="line"></span><br><span class="line">åŸs: abbacd, é•¿åº¦è®°ä¸º n</span><br><span class="line">é€†r: dcabba, é•¿åº¦è®°ä¸º n</span><br><span class="line"></span><br><span class="line">åˆ¤æ–­ s[0,n) å’Œ r[0,n)</span><br><span class="line">abbacd != dcabba</span><br><span class="line"></span><br><span class="line">åˆ¤æ–­ s[0,n - 1) å’Œ r[1,n)</span><br><span class="line">abbac != cabba  </span><br><span class="line"></span><br><span class="line">åˆ¤æ–­ s[0,n - 2) å’Œ r[2,n)</span><br><span class="line">abba == abba  </span><br><span class="line"></span><br><span class="line">ä»å¼€å¤´å¼€å§‹çš„æœ€é•¿å›æ–‡ä¸²ä¹Ÿå°±æ‰¾åˆ°äº†, æ¥ä¸‹æ¥åªéœ€è¦ä½¿ç”¨ä¹‹å‰çš„æ–¹æ³•ã€‚</span><br><span class="line">å°†æœ«å°¾ä¸æ˜¯å›æ–‡ä¸²çš„éƒ¨åˆ†å€’ç½®åŠ åˆ°åŸå­—ç¬¦ä¸²å¼€å¤´å³å¯ã€‚</span><br></pre></td></tr></tbody></table></figure>

<p>ä»£ç </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">shortestPalindrome</span><span class="params">(String s)</span> </span>{</span><br><span class="line">    String r = <span class="keyword">new</span> StringBuilder(s).reverse().toString();</span><br><span class="line">    <span class="keyword">int</span> n = s.length();</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (; i &lt; n; i++) {</span><br><span class="line">        <span class="keyword">if</span> (s.substring(<span class="number">0</span>, n - i).equals(r.substring(i))) {</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> StringBuilder(s.substring(n - i)).reverse() + s;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•å››ï¼šå­—ç¬¦ä¸²å“ˆå¸Œ"><a href="#ğŸŒ¸è§£æ³•å››ï¼šå­—ç¬¦ä¸²å“ˆå¸Œ" class="headerlink" title="ğŸŒ¸è§£æ³•å››ï¼šå­—ç¬¦ä¸²å“ˆå¸Œ"></a>ğŸŒ¸è§£æ³•å››ï¼šå­—ç¬¦ä¸²å“ˆå¸Œ</h2><p>åœ¨è§£æ³•ä¸‰å€’ç½®çš„åŸºç¡€ä¸Šè¿›è¡Œä¸€ä¸‹ä¼˜åŒ–ï¼Œå‚è€ƒ è¿™é‡Œã€‚</p>
<p>ç”¨åˆ°äº†å­—ç¬¦ä¸²åŒ¹é…ç®—æ³• RK ç®—æ³•çš„æ€æƒ³ï¼Œä¹Ÿå°±æ˜¯æ»šåŠ¨å“ˆå¸Œã€‚</p>
<p>è§£æ³•ä¸‰ä¸­ï¼Œæ¯æ¬¡æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰éƒ½éœ€è¦ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦æ¯”è¾ƒï¼Œå¦‚æœæˆ‘ä»¬æŠŠå­—ç¬¦ä¸²é€šè¿‡ hash ç®—æ³•æ˜ å°„åˆ°æ•°å­—ï¼Œå°±å¯ä»¥åªåˆ¤æ–­æ•°å­—æ˜¯å¦ç›¸ç­‰å³å¯ã€‚</p>
<p>è€Œ hash ç®—æ³•ï¼Œè¿™é‡Œçš„è¯ï¼Œæˆ‘ä»¬å°† a çœ‹åš 1ï¼Œb çœ‹åš 2 â€¦ ä»¥æ­¤ç±»æ¨ï¼Œç„¶åæŠŠå­—ç¬¦ä¸²çœ‹åšæ˜¯ 26 è¿›åˆ¶çš„ä¸€ä¸ªæ•°å­—ï¼Œå°†å…¶è½¬ä¸ºåè¿›åˆ¶åçš„å€¼ä½œä¸º hash å€¼ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå¯¹äº abcdã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"> a      b    c    d</span><br><span class="line"> 1      2    3    4</span><br><span class="line">26^3  26^2   26   1</span><br></pre></td></tr></tbody></table></figure>

<p>é‚£ä¹ˆ abcd çš„ hash å€¼å°±æ˜¯ 4+3*26+2*26^2^ + 1*26^3^ ã€‚</p>
<p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„ <code>hash</code> å€¼ï¼Œç®—å‡ºå½“å‰å­—ç¬¦ä¸²çš„ <code>hash</code> å€¼ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ã€‚</p>
<p>å¯¹äºå­—ç¬¦ä¸² abb ï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“äº†å®ƒçš„ hash å€¼æ˜¯ x ï¼Œé‚£ä¹ˆå¯¹äº abba çš„ hash å€¼ï¼Œå› ä¸ºæ–°å¢åŠ çš„æ•°å­— a å¯¹åº” 1ï¼Œæ‰€ä»¥ abba çš„ hash å€¼å°±æ˜¯ <code>(x * 26 + 1)</code>ã€‚</p>
<p>æ‰€ä»¥ä»£ç å¯ä»¥å†™æˆä¸‹è¾¹çš„æ ·å­ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">shortestPalindrome</span><span class="params">(String s)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> n = s.length(), pos = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> b = <span class="number">26</span>; <span class="comment">// åŸºæ•°</span></span><br><span class="line">    <span class="keyword">int</span> pow = <span class="number">1</span>; <span class="comment">// ä¸ºäº†æ–¹ä¾¿è®¡ç®—å€’ç½®å­—ç¬¦ä¸²çš„ hash å€¼</span></span><br><span class="line">    <span class="keyword">char</span>[] c = s.toCharArray();</span><br><span class="line">    <span class="keyword">int</span> hash1 = <span class="number">0</span>, hash2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++, pow = pow * b) {</span><br><span class="line">        hash1 = hash1 * b + (c[i] - <span class="string">'a'</span> + <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// å€’ç½®å­—ç¬¦ä¸²çš„ hash å€¼, æ–°å¢çš„å­—ç¬¦è¦æ”¾åˆ°æœ€é«˜ä½</span></span><br><span class="line">        hash2 = hash2 + (c[i] - <span class="string">'a'</span> + <span class="number">1</span>) * pow;</span><br><span class="line">        <span class="keyword">if</span> (hash1 == hash2) {</span><br><span class="line">            pos = i;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> StringBuilder(s.substring(pos + <span class="number">1</span>)).reverse() + s;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æäº¤æ—¶å‡ºç°é”™è¯¯ï¼Œæœ€ç›´æ¥çš„é—®é¢˜è‚¯å®šæ˜¯ç”±äºæˆ‘ä»¬ç”¨ int å­˜å‚¨ hash å€¼ï¼Œæ‰€ä»¥ä¸€å®šä¼šå‡ºç°æº¢å‡ºçš„æƒ…å†µã€‚æº¢å‡ºä»¥åï¼Œæ¥ç€å¸¦æ¥äº† hash å†²çªï¼Œä»è€Œä½¿å¾—ç›¸åŒçš„ hash å€¼ï¼Œä½†æ˜¯å­—ç¬¦ä¸²å¹¶ä¸ç›¸åŒã€‚</p>
<p>åŸºäºä¸Šè¾¹çš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ pos = i ä¹‹å‰åˆ¤æ–­ä¸€ä¸‹å½“å‰æ˜¯å¦æ˜¯å›æ–‡ä¸²ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindromic</span><span class="params">(String s, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>{</span><br><span class="line">    <span class="keyword">char</span>[] c = s.toCharArray();</span><br><span class="line">    <span class="keyword">while</span> (start &lt; end) {</span><br><span class="line">        <span class="keyword">if</span> (c[start] != c[end]) {</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        }</span><br><span class="line">        start++;</span><br><span class="line">        end--;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">shortestPalindrome</span><span class="params">(String s)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> n = s.length(), pos = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> b = <span class="number">26</span>; <span class="comment">// åŸºæ•°</span></span><br><span class="line">    <span class="keyword">int</span> pow = <span class="number">1</span>; <span class="comment">// ä¸ºäº†æ–¹ä¾¿è®¡ç®—å€’ç½®å­—ç¬¦ä¸²çš„ hash å€¼</span></span><br><span class="line">    <span class="keyword">char</span>[] c = s.toCharArray();</span><br><span class="line">    <span class="keyword">int</span> hash1 = <span class="number">0</span>, hash2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++, pow = pow * b) {</span><br><span class="line">        hash1 = hash1 * b + (c[i] - <span class="string">'a'</span> + <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// å€’ç½®å­—ç¬¦ä¸²çš„ hash å€¼, æ–°å¢çš„å­—ç¬¦è¦æ”¾åˆ°æœ€é«˜ä½</span></span><br><span class="line">        hash2 = hash2 + (c[i] - <span class="string">'a'</span> + <span class="number">1</span>) * pow;</span><br><span class="line">        <span class="keyword">if</span> (hash1 == hash2) {</span><br><span class="line">            <span class="comment">//ç¡®è®¤ä¸‹å½“å‰æ˜¯å¦æ˜¯å›æ–‡ä¸²</span></span><br><span class="line">            <span class="keyword">if</span> (isPalindromic(s,<span class="number">0</span>,i)) {</span><br><span class="line">                pos = i;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> StringBuilder(s.substring(pos + <span class="number">1</span>)).reverse() + s;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç„¶åå°±æ˜¯æ¢ <code>hash</code> ç®—æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ¯æ¬¡çš„ç»“æœå–æ¨¡ï¼Œè¿™æ ·å°±ä¸ä¼šæº¢å‡ºäº†ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">shortestPalindrome</span><span class="params">(String s)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> n = s.length(), pos = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> b = <span class="number">26</span>; <span class="comment">// åŸºæ•°</span></span><br><span class="line">    <span class="keyword">int</span> pow = <span class="number">1</span>; <span class="comment">// ä¸ºäº†æ–¹ä¾¿è®¡ç®—å€’ç½®å­—ç¬¦ä¸²çš„ hash å€¼</span></span><br><span class="line">    <span class="keyword">char</span>[] c = s.toCharArray();</span><br><span class="line">    <span class="keyword">int</span> hash1 = <span class="number">0</span>, hash2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> mod = <span class="number">1000000</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++, pow = (pow * b) % mod) {</span><br><span class="line">        hash1 = (hash1 * b + (c[i] - <span class="string">'a'</span> + <span class="number">1</span>)) % mod;</span><br><span class="line">        <span class="comment">// å€’ç½®å­—ç¬¦ä¸²çš„ hash å€¼, æ–°å¢çš„å­—ç¬¦è¦æ”¾åˆ°æœ€é«˜ä½</span></span><br><span class="line">        hash2 = (hash2 + (c[i] - <span class="string">'a'</span> + <span class="number">1</span>) * pow)% mod;</span><br><span class="line">        <span class="keyword">if</span> (hash1 == hash2) {</span><br><span class="line">            pos = i;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> StringBuilder(s.substring(pos + <span class="number">1</span>)).reverse() + s;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šè¾¹ç¡®è®¤å½“å‰æ˜¯å¦æ˜¯å›æ–‡ä¸²çš„æ—¶å€™ï¼Œæˆ‘ä»¬è°ƒç”¨äº† isPalindromic ï¼Œä½†è¶…æ—¶äº†ï¼Œè¿™é‡Œçš„è¯æˆ‘ä»¬è¿˜å¯ä»¥å’Œå®ƒçš„é€†ç½®å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">shortestPalindrome</span><span class="params">(String s)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> n = s.length(), pos = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> b = <span class="number">26</span>; <span class="comment">// åŸºæ•°</span></span><br><span class="line">    <span class="keyword">int</span> pow = <span class="number">1</span>; <span class="comment">// ä¸ºäº†æ–¹ä¾¿è®¡ç®—å€’ç½®å­—ç¬¦ä¸²çš„ hash å€¼</span></span><br><span class="line">    <span class="keyword">char</span>[] c = s.toCharArray();</span><br><span class="line">    String rev = <span class="keyword">new</span> StringBuilder(s).reverse().toString();</span><br><span class="line">    <span class="keyword">int</span> hash1 = <span class="number">0</span>, hash2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++, pow = pow * b) {</span><br><span class="line">        hash1 = hash1 * b + (c[i] - <span class="string">'a'</span> + <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// å€’ç½®å­—ç¬¦ä¸²çš„ hash å€¼, æ–°å¢çš„å­—ç¬¦è¦æ”¾åˆ°æœ€é«˜ä½</span></span><br><span class="line">        hash2 = hash2 + (c[i] - <span class="string">'a'</span> + <span class="number">1</span>) * pow;</span><br><span class="line">        <span class="keyword">if</span> (hash1 == hash2) {</span><br><span class="line">            <span class="keyword">if</span> (s.substring(<span class="number">0</span>, i + <span class="number">1</span>).equals(rev.substring(n - i - <span class="number">1</span>))) {</span><br><span class="line">                pos = i;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> StringBuilder(s.substring(pos + <span class="number">1</span>)).reverse() + s;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸è§£æ³•äº”ï¼šKMPç®—æ³•"><a href="#ğŸŒ¸è§£æ³•äº”ï¼šKMPç®—æ³•" class="headerlink" title="ğŸŒ¸è§£æ³•äº”ï¼šKMPç®—æ³•"></a>ğŸŒ¸è§£æ³•äº”ï¼šKMPç®—æ³•</h2><p>è¿™ä¸ªè§£æ³•çš„å‰ææ˜¯ä½ ç†Ÿæ‚‰å¦ä¸€ç§å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Œå³ KMP ç®—æ³•ã€‚æ¨èä¸¤ä¸ªé“¾æ¥ï¼Œå¤§å®¶å¯ä»¥å…ˆå­¦ä¹ ä¸€ä¸‹ï¼Œæˆ‘å°±ä¸å¤šè¯´äº†ã€‚</p>
<p>ä¹‹å‰ä¹Ÿæœ‰ä¸€ç¯‡æ–‡ç« å†™äº†KMPï¼Œé‚£é‡Œæœ‰è¯¦ç»†è¯æ˜</p>
<p>å¦‚æœç†Ÿæ‚‰äº† KMP ç®—æ³•ï¼Œä¸‹è¾¹å°±ç®€å•äº†ã€‚</p>
<p>å†å›æƒ³ä¸€ä¸‹è§£æ³•ä¸‰ï¼Œå€’ç½®å­—ç¬¦ä¸²çš„æ€è·¯ï¼Œä¾æ¬¡æ¯”è¾ƒå¯¹åº”å­ä¸²ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">abbacd</span><br><span class="line"></span><br><span class="line">åŸs: abbacd, é•¿åº¦è®°ä¸º n</span><br><span class="line">é€†r: dcabba, é•¿åº¦è®°ä¸º n</span><br><span class="line"></span><br><span class="line">æˆ‘ä»¬æŠŠä¸¤ä¸ªå­—ç¬¦ä¸²å†™åœ¨ä¸€èµ·</span><br><span class="line">abbacd dcabba</span><br><span class="line"></span><br><span class="line">åˆ¤æ–­ abbacd å’Œ dcabba æ˜¯å¦ç›¸ç­‰</span><br><span class="line">åˆ¤æ–­ abbac å’Œ cabba æ˜¯å¦ç›¸ç­‰</span><br><span class="line">åˆ¤æ–­ abba å’Œ abba æ˜¯å¦ç›¸ç­‰</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæˆ‘ä»¬æŠŠ abbacd dcabbaçœ‹æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸­é—´åŠ ä¸Šä¸€ä¸ªåˆ†éš”ç¬¦ #ï¼Œabbacd#dcabbaã€‚</p>
<p>å›å‘³ä¸€ä¸‹ä¸Šè¾¹çš„ä¸‰æ¡åˆ¤æ–­ï¼Œåˆ¤æ–­ XXX å’Œ XXX æ˜¯å¦ç›¸ç­‰ï¼ŒæŒ‰åˆ—çœ‹ä¸€ä¸‹ã€‚</p>
<p>å·¦åŠéƒ¨åˆ† abbacdï¼Œabbac , abba å…¶å®å°±æ˜¯ abbacd#dcabba çš„ä¸€äº›å‰ç¼€ã€‚</p>
<p>å³åŠéƒ¨åˆ†dcabbaï¼Œcabbaï¼Œabba å…¶å®å°±æ˜¯ abbacd#dcabba çš„ä¸€äº›åç¼€ã€‚</p>
<p>å¯»æ‰¾å‰ç¼€å’Œåç¼€ç›¸ç­‰ã€‚</p>
<p>æƒ³ä¸€æƒ³ KMP ç®—æ³•ï¼Œè¿™ä¸å°±æ˜¯ next æ•°ç»„åšçš„äº‹æƒ…å—ã€‚</p>
<p>è€Œæˆ‘ä»¬ä¸­é—´åŠ äº†åˆ†éš”ç¬¦ï¼Œä¹Ÿå°±ä¿è¯äº†å‰ç¼€å’Œåç¼€ç›¸ç­‰æ—¶ï¼Œå‰ç¼€ä¸€å®šåœ¨ abbacd ä¸­ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å¦‚æœæ±‚å‡ºäº† <code>abbacd#dcabba</code> çš„ next æ•°ç»„ï¼Œå› ä¸ºæˆ‘ä»¬æ„é€ çš„å­—ç¬¦ä¸²åç¼€å°±æ˜¯åŸå­—ç¬¦ä¸²çš„å€’ç½®ï¼Œå‰ç¼€åç¼€ç›¸ç­‰æ—¶ï¼Œä¹Ÿå°±æ„å‘³ç€å½“å‰å‰ç¼€æ˜¯ä¸€ä¸ªå›æ–‡ä¸²ï¼Œè€Œ next æ•°ç»„æ˜¯å¯»æ±‚æœ€é•¿çš„å‰ç¼€ï¼Œæˆ‘ä»¬ä¹Ÿå°±æ‰¾åˆ°äº†å¼€å¤´å¼€å§‹çš„æœ€é•¿å›æ–‡ä¸²ã€‚</p>
<p>å› ä¸º next æ•°ç»„çš„å«ä¹‰å¹¶ä¸ç»Ÿä¸€ï¼Œä½† KMP ç®—æ³•æœ¬è´¨ä¸Šéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥ä¸‹è¾¹çš„ä»£ç ä»…ä¾›å‚è€ƒã€‚</p>
<p>æˆ‘çš„ next æ•°ç»„ next[i] æ‰€è€ƒè™‘çš„å¯¹åº”å­—ç¬¦ä¸²ä¸åŒ…å« s[i]ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">shortestPalindrome</span><span class="params">(String s)</span> </span>{</span><br><span class="line">    String ss = s + <span class="string">'#'</span> + <span class="keyword">new</span> StringBuilder(s).reverse();</span><br><span class="line">    <span class="keyword">int</span> max = getLastNext(ss);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> StringBuilder(s.substring(max)).reverse() + s;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿”å› next æ•°ç»„çš„æœ€åä¸€ä¸ªå€¼</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getLastNext</span><span class="params">(String s)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> n = s.length();</span><br><span class="line">    <span class="keyword">char</span>[] c = s.toCharArray();</span><br><span class="line">    <span class="keyword">int</span>[] next = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    next[<span class="number">0</span>] = -<span class="number">1</span>;</span><br><span class="line">    next[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= n) {</span><br><span class="line">        <span class="keyword">if</span> (k == -<span class="number">1</span> || c[i - <span class="number">1</span>] == c[k]) {</span><br><span class="line">            next[i] = k + <span class="number">1</span>;</span><br><span class="line">            k++;</span><br><span class="line">            i++;</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            k = next[k];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> next[n];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•å…­-é©¬æ‹‰è½¦"><a href="#ğŸŒ¸è§£æ³•å…­-é©¬æ‹‰è½¦" class="headerlink" title="ğŸŒ¸è§£æ³•å…­: é©¬æ‹‰è½¦"></a>ğŸŒ¸è§£æ³•å…­: é©¬æ‹‰è½¦</h2><p>å¤§å®¶è¿˜è®°å¾— ç¬¬ 5 é¢˜ å—ï¼Ÿæ±‚æœ€é•¿å›æ–‡å­ä¸²ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬å·²ç»æŠŠé¢˜ç›®è½¬æ¢æˆäº†æ±‚å¼€å¤´å¼€å§‹çš„æœ€é•¿å›æ–‡å­ä¸²ï¼Œå¾ˆæ˜æ˜¾è¿™ä¸ªé—®é¢˜åªæ˜¯ç¬¬ 5 é¢˜çš„å­é—®é¢˜äº†ã€‚ä½†è¿™é“é¢˜æ—¶é—´å¤æ‚åº¦å·®ä¸å¤šåªæœ‰ O(n) æ‰ä¼šé€šè¿‡ã€‚è¿™å°±å¿…é¡»ä½¿ç”¨ ç¬¬ 5 é¢˜ ä»‹ç»çš„é©¬æ‹‰è½¦ç®—æ³•äº†ã€‚</p>
<p>ç›´æ¥æŠŠé©¬æ‹‰è½¦ç®—æ³•ç²˜è´´è¿‡æ¥å³å¯ï¼Œç„¶ååœ¨æœ€åç¨å¾®ä¿®æ”¹ä¸€ä¸‹å³å¯</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">preProcess</span><span class="params">(String s)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> n = s.length();</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"^$"</span>;</span><br><span class="line">    }</span><br><span class="line">    String ret = <span class="string">"^"</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        ret += <span class="string">"#"</span> + s.charAt(i);</span><br><span class="line">    ret += <span class="string">"#$"</span>;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// é©¬æ‹‰è½¦ç®—æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">shortestPalindrome</span><span class="params">(String s)</span> </span>{</span><br><span class="line">    String T = preProcess(s);</span><br><span class="line">    <span class="keyword">int</span> n = T.length();</span><br><span class="line">    <span class="keyword">int</span>[] P = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    <span class="keyword">int</span> C = <span class="number">0</span>, R = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n - <span class="number">1</span>; i++) {</span><br><span class="line">        <span class="keyword">int</span> i_mirror = <span class="number">2</span> * C - i;</span><br><span class="line">        <span class="keyword">if</span> (R &gt; i) {</span><br><span class="line">            P[i] = Math.min(R - i, P[i_mirror]);<span class="comment">// é˜²æ­¢è¶…å‡º R</span></span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            P[i] = <span class="number">0</span>;<span class="comment">// ç­‰äº R çš„æƒ…å†µ</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¢°åˆ°ä¹‹å‰è®²çš„ä¸‰ç§æƒ…å†µæ—¶å€™ï¼Œéœ€è¦åˆ©ç”¨ä¸­å¿ƒæ‰©å±•æ³•</span></span><br><span class="line">        <span class="keyword">while</span> (T.charAt(i + <span class="number">1</span> + P[i]) == T.charAt(i - <span class="number">1</span> - P[i])) {</span><br><span class="line">            P[i]++;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–° R</span></span><br><span class="line">        <span class="keyword">if</span> (i + P[i] &gt; R) {</span><br><span class="line">            C = i;</span><br><span class="line">            R = i + P[i];</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿™é‡Œçš„è¯éœ€è¦ä¿®æ”¹</span></span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> centerIndex = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n - <span class="number">1</span>; i++) {</span><br><span class="line">        <span class="keyword">int</span> start = (i - P[i]) / <span class="number">2</span>;</span><br><span class="line">        <span class="comment">//æˆ‘ä»¬è¦åˆ¤æ–­å½“å‰å›æ–‡ä¸²æ˜¯ä¸æ˜¯å¼€å¤´æ˜¯ä¸æ˜¯ä» 0 å¼€å§‹çš„</span></span><br><span class="line">        <span class="keyword">if</span> (start == <span class="number">0</span>) {</span><br><span class="line">            maxLen = P[i] &gt; maxLen ? P[i] : maxLen;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> StringBuilder(s.substring(maxLen)).reverse() + s;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>é¢˜è§£å‡ºè‡ª<a href="https://leetcode-cn.com/problems/shortest-palindrome/solution/xiang-xi-tong-su-de-si-lu-fen-xi-duo-jie-fa-by--44/" target="_blank" rel="noopener">windliang</a></p>
<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>KMP</tag>
        <tag>é€’å½’</tag>
        <tag>Manacher(é©¬æ‹‰è½¦)</tag>
        <tag>Rabin-Karp</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdown_è¯­æ³•_æ•°å­¦å…¬å¼åˆé›†</title>
    <url>/markdown_grammer/</url>
    <content><![CDATA[<h2 id="markdownæ•°å­¦å…¬å¼è¯­æ³•"><a href="#markdownæ•°å­¦å…¬å¼è¯­æ³•" class="headerlink" title="markdownæ•°å­¦å…¬å¼è¯­æ³•"></a>markdownæ•°å­¦å…¬å¼è¯­æ³•</h2><hr>
<h4 id="1-å¸¸è§è¿ç®—ç¬¦"><a href="#1-å¸¸è§è¿ç®—ç¬¦" class="headerlink" title="1.å¸¸è§è¿ç®—ç¬¦"></a>1.å¸¸è§è¿ç®—ç¬¦</h4><table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>è¡¨è¾¾å¼</th>
<th>ç¬¦å·</th>
<th>è¡¨è¾¾å¼</th>
<th>ç¬¦å·</th>
<th>è¡¨è¾¾å¼</th>
</tr>
</thead>
<tbody><tr>
<td>$$\pm$$</td>
<td>\pm</td>
<td>$$\times$$</td>
<td>\times</td>
<td>$$\div$$</td>
<td>\div</td>
</tr>
<tr>
<td>$$\cdot$$</td>
<td>\cdot</td>
<td>$$\leq$$</td>
<td>\leq</td>
<td>$$\geq$$</td>
<td>\geq</td>
</tr>
<tr>
<td>$$\neq$$</td>
<td>\neq</td>
<td>$$\approx$$</td>
<td>\approx</td>
<td>$$\equiv$$</td>
<td>\equiv</td>
</tr>
<tr>
<td>$$\in$$</td>
<td>\in</td>
<td>$$\notin$$</td>
<td>\notin</td>
<td>$$\subset$$</td>
<td>\subset</td>
</tr>
<tr>
<td>$$\supset$$</td>
<td>\supset</td>
<td>$$\bigcap$$</td>
<td>\bigcap</td>
<td>$$\bigcup$$</td>
<td>\bigcup</td>
</tr>
</tbody></table>
<a id="more"></a>

<h4 id="2-ä¸Šæ ‡å’Œä¸‹æ ‡"><a href="#2-ä¸Šæ ‡å’Œä¸‹æ ‡" class="headerlink" title="2.ä¸Šæ ‡å’Œä¸‹æ ‡"></a>2.ä¸Šæ ‡å’Œä¸‹æ ‡</h4><ul>
<li>ä¸‹æ ‡ä½¿ç”¨ç¬¦å·<code>Y_1</code>è¡¨è¾¾,å…¶ä¸­è¾ƒä¸ºå¤æ‚çš„è¡¨è¾¾å¼ç”¨<code>{}</code>åŒ…å«ï¼Œå…¬å¼è¡¨è¾¾ç»“æœä¸º: $$y_{n+1}$$</li>
<li>ä¸Šæ ‡ä½¿ç”¨ <code>X^{2m}</code>æˆ–è€…<code>X^2</code>, å…¶ä¸­è¾ƒä¸ºå¤æ‚çš„è¡¨è¾¾å¼ç”¨<code>{}</code>åŒ…å«, å…¬å¼è¡¨è¾¾ç»“æœä¸º: $$X^{2m}+X^2$$</li>
</ul>
<h4 id="3-ç‰¹æ®Šç¬¦å·"><a href="#3-ç‰¹æ®Šç¬¦å·" class="headerlink" title="3.ç‰¹æ®Šç¬¦å·"></a>3.ç‰¹æ®Šç¬¦å·</h4><ul>
<li>æ±‚å’Œç¬¦å·: ä½¿ç”¨<code>\sum</code> è½¬ä¹‰è¡¨è¾¾æ±‚å’Œç¬¦å·,ä¸‹é™ç¬¦å·ä½¿ç”¨<code>_{m}</code>,ä¸Šé™ç¬¦å·ä½¿ç”¨<code>^\infty</code>, å¦‚:  $$\sum_{m=0}^\infty$$</li>
<li>ç§¯åˆ†ç¬¦å·: <code>\int_0^1</code>è½¬ä¹‰è¡¨è¾¾ç§¯åˆ†ç¬¦å·, å¦‚: $$\int_0^1$$</li>
<li>æé™ç¬¦å·: <code>\lim_{å˜é‡ \to è¡¨è¾¾å¼} è¡¨è¾¾å¼</code>, å¦‚ $$\lim_{1 \to 5} è¡¨è¾¾å¼$$</li>
<li>å‘é‡ç¬¦å·: <code>\vec{a}</code>è½¬ä¹‰è¡¨è¾¾å‘é‡, å¦‚: $$\vec{a}$$</li>
<li>ç©ºæ ¼ç¬¦å·: markdownæ”¯æŒå››ç§ç©ºæ ¼<code>\, ã€\;ã€\quad å’Œ \qquad</code></li>
</ul>
<h4 id="4-å¸Œè…Šå­—æ¯çš„å¤§å°å†™"><a href="#4-å¸Œè…Šå­—æ¯çš„å¤§å°å†™" class="headerlink" title="4.å¸Œè…Šå­—æ¯çš„å¤§å°å†™"></a>4.å¸Œè…Šå­—æ¯çš„å¤§å°å†™</h4><p>å¸Œè…Šå­—æ¯çš„å¤§å†™ä½¿ç”¨é¦–å­—æ¯å¤§å†™<code>\Gamma</code>è½¬ä¹‰,å°å†™ä½¿ç”¨é¦–å­—æ¯å°å†™<code>\gamma</code>è½¬ä¹‰, å…¬å¼è¡¨è¾¾ç»“æœä¸º:$$\Gamma$$  å’Œ   $$\gamma$$</p>
<h4 id="5-å…³äºæ³¨é‡Š"><a href="#5-å…³äºæ³¨é‡Š" class="headerlink" title="5.å…³äºæ³¨é‡Š"></a>5.å…³äºæ³¨é‡Š</h4><ul>
<li>å…¬å¼æ³¨é‡Š: ä½¿ç”¨<code>\text{å†…å®¹}</code>è½¬ä¹‰æ³¨é‡Š,å…¬å¼è¡¨è¾¾ç»“æœä¸º: $$\text {å…¬å¼æ³¨é‡Š}$$</li>
<li>æ–‡å­—é¢œè‰²: ä½¿ç”¨<code>\color{é¢œè‰²}{æ–‡å­—}</code>è½¬ä¹‰è¡¨è¾¾å¸¦é¢œè‰²çš„æ–‡å­—,å…¬å¼è¡¨è¾¾ç»“æœä¸º:  $$\color{green}{æ–‡å­—}$$</li>
</ul>
<h4 id="6-åˆ†æ•°"><a href="#6-åˆ†æ•°" class="headerlink" title="6.åˆ†æ•°"></a>6.åˆ†æ•°</h4><p>åˆ†æ•°ä½¿ç”¨<code>\frac{part I}{part II}</code>è½¬ä¹‰è¡¨è¾¾,å…¬å¼è¡¨è¾¾ç»“æœä¸º: $$\frac{(-1)^m}{m!(m + 1)}$$</p>
<h4 id="7-å…¬å¼ä¸­çš„å¤§æ‹¬å·æˆ–å¤§åˆ†éš”ç¬¦"><a href="#7-å…¬å¼ä¸­çš„å¤§æ‹¬å·æˆ–å¤§åˆ†éš”ç¬¦" class="headerlink" title="7.å…¬å¼ä¸­çš„å¤§æ‹¬å·æˆ–å¤§åˆ†éš”ç¬¦"></a>7.å…¬å¼ä¸­çš„å¤§æ‹¬å·æˆ–å¤§åˆ†éš”ç¬¦</h4><ul>
<li>åœ¨é…å¯¹ç¬¦å·ä¸­.å¦‚å…¬å¼ä¸­çš„æ‹¬å·ä½¿ç”¨<code>\left(</code>è¡¨è¾¾å·¦æ‹¬å·,ä½¿ç”¨<code>\right)</code>è½¬ä¹‰è¡¨è¾¾å‘å³çš„æ‹¬å·;å¦‚: $$\left({\frac{x}{2} }\right)$$</li>
<li>åœ¨éé…å¯¹ç¬¦å·ä¸­ä»¥<code>\left. å…¶ä»– \rightç¬¦å·</code> æˆ– <code>\leftç¬¦å· å…¶ä»– \right.</code> è¡¨éé…å¯¹çš„è¾ƒå¤§ç¬¦å·.å¦‚: $$\left.\frac{du}{dx}\right|_{x=0}$$</li>
<li>æ³¨: è½¬ä¹‰è¡¨è¾¾ä¸éœ€è¦<code>{ å’Œ }</code></li>
</ul>
<h4 id="8-ä¸Šåˆ’çº¿ä¸ä¸‹åˆ’çº¿"><a href="#8-ä¸Šåˆ’çº¿ä¸ä¸‹åˆ’çº¿" class="headerlink" title="8.ä¸Šåˆ’çº¿ä¸ä¸‹åˆ’çº¿"></a>8.ä¸Šåˆ’çº¿ä¸ä¸‹åˆ’çº¿</h4><p>ä¸Šåˆ’çº¿ä½¿ç”¨<code>\overline{}</code>è½¬ä¹‰è¡¨è¾¾,ä¸‹åˆ’çº¿ä½¿ç”¨<code>\underline{}</code>è½¬ä¹‰è¡¨è¾¾,å…¬å¼è¡¨è¾¾ç»“æœä¸º: $$\overline{a+b+c+d}$$å’Œ$$\underline{a+b+c+d}$$</p>
<h4 id="9-å¼€æ ¹å·"><a href="#9-å¼€æ ¹å·" class="headerlink" title="9.å¼€æ ¹å·"></a>9.å¼€æ ¹å·</h4><p>å¤šæ¬¡æ–¹æ ¹ä½¿ç”¨<code>\sqrt[n]{x}</code>,å…¶ä¸­<code>n</code>è¡¨ç¤ºæ ¹çš„æ¬¡æ•°,<code>x</code>è¡¨ç¤ºè¢«å¼€æ–¹é¡¹,å…¬å¼è¡¨è¾¾ç»“æœä¸º: $$\sqrt[n]{3}$$</p>
<h4 id="10-æ–¹ç¨‹ç»„"><a href="#10-æ–¹ç¨‹ç»„" class="headerlink" title="10.æ–¹ç¨‹ç»„"></a>10.æ–¹ç¨‹ç»„</h4><p>1.è¡¨è¾¾æ–¹å¼ä¸€: ä½¿ç”¨<code>\begin{array}{c} è¡¨è¾¾å¼ä¸€\\è¡¨è¾¾å¼äºŒ... \end{array}</code></p>
<p> $$\left{ \begin{array} {a} a_1x+b_1y+c_1z=d_1 \ a_2x+b_2y+c_2z=d_2 \end{array} \right.$$</p>
<p>2.è¡¨è¾¾æ–¹å¼äºŒ: ä½¿ç”¨<code>\begin{cases}â€¦\end{cases}</code></p>
<p>$$f(n) = \begin{cases} \frac{n}{2}, &amp; \text{if $n$ is even} \[2ex] 3n+1, &amp; \text{if $n$ is odd} \end{cases}$$</p>
<p> æ³¨: å…³äº<code>\\[2ex]</code>ä¸€ä¸ª [ex] æŒ‡ä¸€ä¸ª â€œX-Heightâ€ï¼Œå³xå­—æ¯é«˜åº¦ã€‚å¯ä»¥æ ¹æ®æƒ…å†µæŒ‡å®šå¤šä¸ª [ex]ï¼Œå¦‚ [3ex]ã€[4ex] ç­‰ã€‚ å…¶å®å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ [2ex] è¯­å¥ï¼Œåªè¦ä½ è§‰å¾—åˆé€‚ã€‚</p>
<h4 id="12-ä½¿ç”¨HTMLè¯­æ³•è¡¨è¾¾æ•°å­¦å…¬å¼"><a href="#12-ä½¿ç”¨HTMLè¯­æ³•è¡¨è¾¾æ•°å­¦å…¬å¼" class="headerlink" title="12.ä½¿ç”¨HTMLè¯­æ³•è¡¨è¾¾æ•°å­¦å…¬å¼"></a>12.ä½¿ç”¨HTMLè¯­æ³•è¡¨è¾¾æ•°å­¦å…¬å¼</h4><ul>
<li>ä¸Šæ ‡ä¸ä¸‹æ ‡çš„è¡¨è¾¾: ä½¿ç”¨æ ‡ç­¾<code>&lt;sub&gt;</code>å’Œ<code>&lt;sup&gt;</code>è¡¨è¾¾, è¡¨è¾¾ç»“æœä¸º: text ä¸text</li>
<li>ä¸Šåˆ’çº¿è¡¨è¾¾: ä½¿ç”¨æ ‡ç­¾<code>&lt;SPAN style="TEXT-DECORATION: overline"&gt;X&lt;/SPAN&gt;</code>è¡¨è¾¾,è¡¨è¾¾ç»“æœä¸º: <span style="TEXT-DECORATION: overline">X</span></li>
</ul>
<h4 id="13-è¡¥å……"><a href="#13-è¡¥å……" class="headerlink" title="13.è¡¥å……"></a>13.è¡¥å……</h4><p>å¯¹äºéƒ¨åˆ†ç¬¦å·æ— æ³•ç”¨ markdown çš„å…¬å¼è¡¨è¾¾,å¯ä»¥ä½¿ç”¨ <code>\ç¬¦å·</code> è½¬ä¹‰è¡¨è¾¾,å¦‚ $$%$$ç­‰</p>
<p>â€”â€”-æ¬¢è¿è¡¥å……</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•</title>
    <url>/Euclidean_algorithm/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸æ‰©å±•æ¬§å‡ é‡Œå¾·ç®—æ³•"><a href="#ğŸŒ¸æ‰©å±•æ¬§å‡ é‡Œå¾·ç®—æ³•" class="headerlink" title="ğŸŒ¸æ‰©å±•æ¬§å‡ é‡Œå¾·ç®—æ³•"></a>ğŸŒ¸æ‰©å±•æ¬§å‡ é‡Œå¾·ç®—æ³•</h2><p><strong>æ¬§å‡ é‡Œå¾·ç®—æ³•æ˜¯ç”¨æ¥æ±‚æœ€å¤§å…¬çº¦æ•°çš„ï¼š</strong></p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">int gcd(int a,int b)</span><br><span class="line">{</span><br><span class="line">ã€€ã€€return b==0?a:gcd(b,a%b);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<a id="more"></a>

<p><strong>æ‰©å±•æ¬§å‡ é‡Œå¾·ç®—æ³•æè¿°ä¸ºï¼šå·²çŸ¥a, bæ±‚è§£ä¸€ç»„xï¼Œyï¼Œä½¿å®ƒä»¬æ»¡è¶³è´ç¥–ç­‰å¼ï¼š ax+by = gcd(a, b) =dï¼ˆè§£ä¸€å®šå­˜åœ¨ï¼Œæ ¹æ®æ•°è®ºä¸­çš„ç›¸å…³å®šç†ï¼‰ã€‚</strong></p>
<p><strong>æ‰©å±•æ¬§å‡ é‡Œå¾·å¸¸ç”¨åœ¨æ±‚è§£æ¨¡çº¿æ€§æ–¹ç¨‹åŠæ–¹ç¨‹ç»„ä¸­ã€‚ï¼ˆç™¾åº¦ç™¾ç§‘ï¼‰</strong></p>
<p><strong>æ±‚è§£xï¼Œyçš„ä»£ç å¦‚ä¸‹ï¼š</strong></p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span>    <span class="comment">//æ‰©å±•æ¬§å‡ é‡Œå¾·</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> d;</span><br><span class="line">    <span class="keyword">if</span>(b==<span class="number">0</span>)</span><br><span class="line">    {</span><br><span class="line">        x=<span class="number">1</span>;</span><br><span class="line">        y=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        d=gcd(b,a%b);</span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        temp=x;</span><br><span class="line">        x=y;</span><br><span class="line">        y=temp-(a/b)*y;</span><br><span class="line">        <span class="keyword">return</span> d;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å·²çŸ¥ a*x+b*y= =gcd(aï¼Œb)ï¼Œgcd(aï¼Œb)==gcd(bï¼Œa%b)ï¼Œå°† gcd(bï¼Œa%b) ä»£å…¥ a*x+b*y å¯å¾—</strong></p>
<p><strong>b*x1+(a%b)*y1==a*x+b*yï¼ˆ æ³¨æ„ï¼Œ(xï¼Œy) å’Œï¼ˆx1,y1ï¼‰æ˜¯ä¸åŒçš„ ï¼Œ(x1ï¼Œy1)æ˜¯(xï¼Œy) ä¸‹å±‚çš„é€’å½’å€¼ ï¼‰</strong></p>
<p><strong>ç„¶åæˆ‘ä»¬éœ€è¦çŸ¥é“ä¸€ä¸ªå…¬å¼ï¼Œa%b= =a-ï¼ˆa/bï¼‰*bï¼Œå°†ä¸Šå¼å˜å½¢å¾— b*x1+ï¼ˆ a-(a/b)*b ï¼‰*y1= =a*x+b*yï¼Œæ•´ç†å¯å¾—a*y1+b*ï¼ˆx1-ï¼ˆa/bï¼‰*yï¼‰==a*x+b*yï¼›</strong></p>
<p><strong>ç”±æ­¤æˆ‘ä»¬å¯çŸ¥ï¼š</strong></p>
<p><strong>x==y1;</strong></p>
<p><strong>y==x1-ï¼ˆa/bï¼‰y;</strong></p>
<p><strong>å½“é€’å½’åˆ°åº•å±‚æ—¶ï¼Œæ­¤æ—¶ b= =0 ï¼Œä»è€Œèƒ½è½»æ˜“çš„å¾—å‡º gcdï¼ˆaï¼Œbï¼‰= =aï¼Œx= =1ï¼Œy==0ï¼›çŸ¥é“äº†æœ€åº•å±‚çš„ï¼ˆxï¼Œyï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®å…¬å¼é€’å½’å›å»æ±‚ä¸Šé¢å±‚çš„ï¼ˆxï¼Œyï¼‰ã€‚</strong></p>
<p><strong>æ­¤åˆ»æˆ‘ä»¬åªæ±‚å‡ºäº† a*x+b*y==gcdï¼ˆaï¼Œbï¼‰çš„ä¸€ç»„è§£ï¼Œä¸‹é¢ç»™å‡ºå…¬å¼æ±‚å‰©ä¸‹çš„è§£ï¼š</strong></p>
<p><strong>x=x0+a/gcd(aï¼Œb)*tï¼›</strong></p>
<p><strong>y=y0-b/gcd(aï¼Œb)*tï¼›</strong>ã€€ã€€</p>
<p><strong>ï¼ˆx0ï¼Œy0ï¼‰ä¸ºæˆ‘ä»¬åœ¨ä¸Šé¢æ±‚å¾—çš„ç¬¬ä¸€ç»„è§£ï¼ˆxï¼Œyï¼‰ï¼›ï¼ˆtä¸ºä»»æ„æ•´æ•°ï¼Œt==0æ—¶ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸Šé¢çš„ç¬¬ä¸€ç»„è§£ï¼‰</strong></p>
<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> x,y;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span>    <span class="comment">//æ‰©å±•æ¬§å‡ é‡Œå¾·</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> d;</span><br><span class="line">    <span class="keyword">if</span>(b==<span class="number">0</span>)</span><br><span class="line">    {</span><br><span class="line">        x=<span class="number">1</span>;</span><br><span class="line">        y=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        d=gcd(b,a%b);    <span class="comment">//då­˜å‚¨æœ€å¤§å…¬çº¦æ•°</span></span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        temp=x;</span><br><span class="line">        x=y;</span><br><span class="line">        y=temp-(a/b)*y;</span><br><span class="line">        <span class="keyword">return</span> d;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> a,b;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;a,&amp;b);</span><br><span class="line">    <span class="keyword">int</span> Byue=gcd(a,b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"æœ€å¤§å…¬çº¦æ•°ä¸ºï¼š%d\n"</span>,Byue);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"ç¬¬ä¸€ç»„è§£ä¸ºï¼š%d %d\n"</span>,x,y);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"æœ‰å…¶ä½™è§£å¦‚ä¸‹ï¼š\n"</span>);</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="keyword">for</span>(t=<span class="number">1</span>;t&lt;=<span class="number">10</span>;t++)    <span class="comment">//å¦å¤–ç»™å‡º10ç»„è§£</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,x+b/Byue*t,y-a/Byue*t);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>ä¸‹é¢è®¨è®ºäºŒå…ƒä¸€æ¬¡æ–¹ç¨‹ ax+by==cçš„è§£ã€‚</strong></p>
<p><strong>åœ¨ ax+by==gcdï¼ˆaï¼Œbï¼‰ï¼ˆè®¾è§£ä¸ºx0ï¼Œy0ï¼‰çš„åŸºç¡€ä¸Šç­‰å·ä¸¤è¾¹åŒæ—¶ä¹˜ä»¥ c/gcdï¼ˆaï¼Œbï¼‰å°±å¯ä»¥è½¬æ¢è¿‡æ¥äº†ã€‚</strong></p>
<p><strong>æ‰€ä»¥æ–¹ç¨‹çš„è§£ä¸º ï¼š</strong></p>
<p><strong>x=x0*ï¼ˆ c/gcdï¼ˆaï¼Œbï¼‰ï¼‰ï¼›</strong></p>
<p><strong>y=y0*ï¼ˆ c/gcdï¼ˆaï¼Œbï¼‰ï¼‰ï¼›</strong></p>
<p><strong>æ‰€ä»¥æˆ‘ä»¬æ¯æ±‚å¾—ä¸€ç»„ ax+by==gcdï¼ˆaï¼Œbï¼‰çš„è§£ï¼Œå°±èƒ½å¾—åˆ°ä¸€ç»„ ax+by= =c çš„è§£ã€‚</strong></p>
<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> x,y;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span>    <span class="comment">//æ‰©å±•æ¬§å‡ é‡Œå¾·</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> d;</span><br><span class="line">    <span class="keyword">if</span>(b==<span class="number">0</span>)</span><br><span class="line">    {</span><br><span class="line">        x=<span class="number">1</span>;</span><br><span class="line">        y=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        d=gcd(b,a%b);    <span class="comment">//då­˜å‚¨æœ€å¤§å…¬çº¦æ•°</span></span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        temp=x;</span><br><span class="line">        x=y;</span><br><span class="line">        y=temp-(a/b)*y;</span><br><span class="line">        <span class="keyword">return</span> d;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> a,b,c;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥ ax+by==c ä¸­çš„ a,b,c: "</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;a,&amp;b,&amp;c);</span><br><span class="line">    <span class="keyword">int</span> Byue=gcd(a,b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"æœ€å¤§å…¬çº¦æ•°ä¸ºï¼š%d\n"</span>,Byue);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"ç¬¬ä¸€ç»„è§£ä¸ºï¼š%d %d\n"</span>,x*(c/Byue),y*(c/Byue));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"æœ‰å…¶ä½™è§£å¦‚ä¸‹ï¼š\n"</span>);</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="keyword">for</span>(t=<span class="number">1</span>;t&lt;=<span class="number">10</span>;t++)    <span class="comment">//å¦å¤–ç»™å‡º10ç»„è§£</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,( x+b/Byue*t )*(c/Byue),( y-a/Byue*t )*(c/Byue));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åŸæ–‡<a href="https://www.cnblogs.com/chiweiming/p/8878202.html" target="_blank" rel="noopener">å‰‘å†¢</a></p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>è“æ¡¥æ¯</category>
      </categories>
      <tags>
        <tag>æ¬§å‡ é‡Œå¾—</tag>
      </tags>
  </entry>
  <entry>
    <title>2020_javaè“æ¡¥_æš‘å‡è®­ç»ƒ_åˆ†æ²»ä¸åŠ¨æ€è§„åˆ’2</title>
    <url>/dynamic_programming/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸åˆ†æ²»ä¸åŠ¨æ€è§„åˆ’è®­ç»ƒ"><a href="#ğŸŒ¸åˆ†æ²»ä¸åŠ¨æ€è§„åˆ’è®­ç»ƒ" class="headerlink" title="ğŸŒ¸åˆ†æ²»ä¸åŠ¨æ€è§„åˆ’è®­ç»ƒ"></a>ğŸŒ¸åˆ†æ²»ä¸åŠ¨æ€è§„åˆ’è®­ç»ƒ</h2><p>è´´åœ¨å‰é¢ï¼Œæƒ³äº†è§£ä»€ä¹ˆæ˜¯åˆ†æ²»ï¼Œå¯æŸ¥çœ‹æˆ‘çš„è¿™ç¯‡æ–‡ç« <a href="https://blog.csdn.net/weixin_45333934/article/details/107434256" target="_blank" rel="noopener">äºŒåˆ†æŸ¥æ‰¾</a></p>
<h2 id="ğŸå¤§æ•°ç›¸ä¹˜"><a href="#ğŸå¤§æ•°ç›¸ä¹˜" class="headerlink" title="ğŸå¤§æ•°ç›¸ä¹˜"></a>ğŸå¤§æ•°ç›¸ä¹˜</h2><p>ç”¨ä¸²çš„å½¢å¼è¡¨ç¤ºå¤§æ•°çš„ä¹˜æ³•ã€‚<br>å³æ±‚ç±»ä¼¼ï¼š<br>â€œ23234845847839461464158174814792â€ * â€œ6457847285617487843234535â€<br>è¦æ±‚ç»“æœè¿”å›ä¸€ä¸ªä¸²ã€‚</p>
<a id="more"></a>

<h4 id="ğŸ‚åˆ†æ"><a href="#ğŸ‚åˆ†æ" class="headerlink" title="ğŸ‚åˆ†æ"></a>ğŸ‚åˆ†æ</h4><p>è¿™é“é¢˜æ—¢ç„¶å†™åœ¨åˆ†æ²»é‡Œï¼Œé‚£å¿…ç„¶è·Ÿåˆ†æ²»è„±ä¸äº†å¹²ç³»ï¼Œå½“ç„¶ä¸€å¼€å§‹ä¹Ÿè¿˜æ˜¯æƒ³ä¸åˆ°åˆ†æ²»æ˜¯æ€ä¹ˆåˆ†æ²»çš„ï¼ˆç¡®å®å¥½éš¾ï¼‰ã€‚æ‰€è°“ä¸‡ç‰©çš†æš´åŠ›ï¼Œä¸€åˆ‡èƒ½æš´åŠ›å‡ºæ¥å°±å…ˆæš´åŠ›å‡ºæ¥ï¼Œåœ¨è¿›è¡Œä¸€æ­¥æ­¥ä¼˜åŒ–å‡çº§ã€‚å¥½åœ¨è¿™é“é¢˜æ²¡æœ‰è¦æ±‚ä¸èƒ½ä½¿ç”¨ä¹˜æ³•ï¼Œè¦æ˜¯é‚£æ ·çš„è¯å°±æ•´ä¸ªäººéƒ½ä¸å¥½äº†</p>
<h5 id="ğŸ’¥åˆ©ç”¨å¤§æ•°ç±»BigDecimal"><a href="#ğŸ’¥åˆ©ç”¨å¤§æ•°ç±»BigDecimal" class="headerlink" title="ğŸ’¥åˆ©ç”¨å¤§æ•°ç±»BigDecimal"></a>ğŸ’¥åˆ©ç”¨å¤§æ•°ç±»BigDecimal</h5><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">String_Multiple</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		System.out.println(multiply(<span class="string">"23234845847839461464158174814792"</span>, <span class="string">"6457847285617487843234535"</span>));</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * åˆ©ç”¨å¤§æ•°ç±»</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> num1</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> num2</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">multiply</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> BigDecimal(num1).multiply(<span class="keyword">new</span> BigDecimal(num2)).toString();</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h5 id="ğŸ’¥æ¨¡æ‹Ÿäººå·¥ä¹˜æ³•"><a href="#ğŸ’¥æ¨¡æ‹Ÿäººå·¥ä¹˜æ³•" class="headerlink" title="ğŸ’¥æ¨¡æ‹Ÿäººå·¥ä¹˜æ³•"></a>ğŸ’¥æ¨¡æ‹Ÿäººå·¥ä¹˜æ³•</h5><p>äººå·¥ä¹˜æ³•åœ¨åº§çš„å„ä½æ²¡æœ‰è°ä¸ä¼šå§ï¼Ÿï¼Ÿï¼Ÿæ‰‹å†™çš„è¿‡ç¨‹åˆ©ç”¨è®¡ç®—æœºå»ä¸€æ­¥æ­¥å®ç°ç½¢äº†ï¼ˆå¯¹äºå¤§æ•°ä¸å»ºè®®ä½¿ç”¨ï¼Œå¤æ‚åº¦è¾ƒé«˜ï¼‰</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">String_Multiple</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		System.out.println(multiply1(<span class="string">"23234845847839461464158174814792"</span>, <span class="string">"6457847285617487843234535"</span>));</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">multiply1</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (num1.equals(<span class="string">"0"</span>) || num2.equals(<span class="string">"0"</span>)) {</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// ä¿å­˜è®¡ç®—ç»“æœ</span></span><br><span class="line">        String res = <span class="string">"0"</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// num2 é€ä½ä¸ num1 ç›¸ä¹˜</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = num2.length() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">            <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// ä¿å­˜ num2 ç¬¬iä½æ•°å­—ä¸ num1 ç›¸ä¹˜çš„ç»“æœ</span></span><br><span class="line">            StringBuilder temp = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            <span class="comment">// è¡¥ 0 </span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; num2.length() - <span class="number">1</span> - i; j++) {</span><br><span class="line">                temp.append(<span class="number">0</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">int</span> n2 = num2.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// num2 çš„ç¬¬ i ä½æ•°å­— n2 ä¸ num1 ç›¸ä¹˜</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = num1.length() - <span class="number">1</span>; j &gt;= <span class="number">0</span> || carry != <span class="number">0</span>; j--) {</span><br><span class="line">                <span class="keyword">int</span> n1 = j &lt; <span class="number">0</span> ? <span class="number">0</span> : num1.charAt(j) - <span class="string">'0'</span>;</span><br><span class="line">                <span class="keyword">int</span> product = (n1 * n2 + carry) % <span class="number">10</span>;</span><br><span class="line">                temp.append(product);</span><br><span class="line">                carry = (n1 * n2 + carry) / <span class="number">10</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// å°†å½“å‰ç»“æœä¸æ–°è®¡ç®—çš„ç»“æœæ±‚å’Œä½œä¸ºæ–°çš„ç»“æœ</span></span><br><span class="line">            res = addStrings(res, temp.reverse().toString());</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹ä¸¤ä¸ªå­—ç¬¦ä¸²æ•°å­—è¿›è¡Œç›¸åŠ ï¼Œè¿”å›å­—ç¬¦ä¸²å½¢å¼çš„å’Œ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">addStrings</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">        StringBuilder builder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = num1.length() - <span class="number">1</span>, j = num2.length() - <span class="number">1</span>;</span><br><span class="line">             i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span> || carry != <span class="number">0</span>;</span><br><span class="line">             i--, j--) {</span><br><span class="line">            <span class="keyword">int</span> x = i &lt; <span class="number">0</span> ? <span class="number">0</span> : num1.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">int</span> y = j &lt; <span class="number">0</span> ? <span class="number">0</span> : num2.charAt(j) - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">int</span> sum = (x + y + carry) % <span class="number">10</span>;</span><br><span class="line">            builder.append(sum);</span><br><span class="line">            carry = (x + y + carry) / <span class="number">10</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> builder.reverse().toString();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h5 id="ğŸ’¥åˆ†æ²»"><a href="#ğŸ’¥åˆ†æ²»" class="headerlink" title="ğŸ’¥åˆ†æ²»"></a>ğŸ’¥åˆ†æ²»</h5><p>å¯¹äºå¤§æ•´æ•°çš„ä¹˜æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨åˆ†æ²»æ³•å°†å…¶ä¸¤ä¸ªå­—ç¬¦ä¸²ä»ä¸­é—´æˆªæ–­ï¼Œå°†ä¸¤å­—ç¬¦ä¸²çš„ååŠéƒ¨åˆ†ï¼Œè¿›è¡Œç›¸ä¹˜</p>
<p>å­ä¸²a1å’Œå­ä¸²a2ï¼Œç„¶åç»“æœå°±æ˜¯a1+0â€¦000+a2ã€‚é€’å½’çš„è¾¹ç•Œæ¡ä»¶å°±æ˜¯å½“æ¯ä¸ªå­ä¸²çš„é•¿åº¦éƒ½å°äºç­‰äº4çš„æ—¶å€™ï¼Œå°±å¯ä»¥é€šè¿‡ç›´æ¥ä¹˜æ³•è¿ç®—è¿”å›ç»“æœã€‚</p>
<p>å¤§æ•°ä¹˜æ³•ä¸­å¿…é¡»ç”¨åˆ°å¤§æ•°åŠ æ³•ï¼ˆè¿™é‡Œä¸ç”¨ä¸Šé¢å·²ç»å®ç°çš„å­—ç¬¦ä¸²ç›¸åŠ å‡½æ•°ï¼‰ï¼Œè€Œå¤§æ•°åŠ æ³•çš„æ€è·¯å’Œå¤§æ•°ä¹˜æ³•ä¹Ÿæ˜¯å¤§åŒå°å¼‚çš„ï¼Œå°†ä¸²aå’Œä¸²bçš„æœ«å°¾éƒ½åˆ‡å‡ºä¸€æ®µé•¿åº¦ä¸º8çš„å­ä¸²å‡ºæ¥ï¼Œaä»å·¦åˆ°å³å­ä¸²åˆ†åˆ«æ˜¯a1å’Œa2ï¼Œbäº¦ç„¶ã€‚ä¹‹åå°±æ˜¯è€ƒè™‘t=a2+b2çš„ä¸åŒæƒ…å†µï¼Œæœ‰å¯èƒ½t.size&lt;8ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±è¦é€šè¿‡è¡¥0çš„æ–¹å¼)å‡‘å¤Ÿ8ä½ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">String_Multiple</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		System.out.println(multiply2(<span class="string">"23234845847839461464158174814792"</span>, <span class="string">"6457847285617487843234535"</span>));</span><br><span class="line">	}</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">multiply2</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">    	<span class="keyword">if</span>(num1.length() &lt;= <span class="number">4</span> &amp;&amp; num2.length() &lt;= <span class="number">4</span>) {</span><br><span class="line">    		<span class="keyword">return</span> Integer.parseInt(num1) * Integer.parseInt(num2) + <span class="string">""</span>;</span><br><span class="line">    	}</span><br><span class="line">    	<span class="keyword">if</span>(num1.length() &gt; <span class="number">4</span>) {</span><br><span class="line">    		<span class="keyword">int</span> mid = num1.length() / <span class="number">2</span>;</span><br><span class="line">    		String s1 = num1.substring(<span class="number">0</span>, mid);</span><br><span class="line">    		String s2 = num1.substring(mid);</span><br><span class="line">    		<span class="keyword">return</span> add(multiply2(s1, num2) + add_zero(s2.length()), multiply2(s2, num2));</span><br><span class="line">    	}</span><br><span class="line">    	<span class="keyword">return</span> multiply2(num2, num1);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//è¡¥0</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">add_zero</span><span class="params">(<span class="keyword">int</span> x)</span> </span>{</span><br><span class="line">    	<span class="keyword">if</span>(x == <span class="number">0</span>) {</span><br><span class="line">    		<span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    	}</span><br><span class="line">    	<span class="keyword">if</span>(x == <span class="number">1</span>) {</span><br><span class="line">    		<span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">    	}</span><br><span class="line">    	<span class="keyword">return</span> add_zero(x / <span class="number">2</span>) + add_zero(x / <span class="number">2</span>) + add_zero(x % <span class="number">2</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    *å¤§æ•°ç›¸åŠ </span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">add</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">    	<span class="keyword">if</span>(num1.length() &lt;= <span class="number">8</span> &amp;&amp; num2.length() &lt;= <span class="number">8</span>) {</span><br><span class="line">    		<span class="keyword">return</span> Integer.parseInt(num1) + Integer.parseInt(num2) + <span class="string">""</span>;</span><br><span class="line">    	}</span><br><span class="line">    	String a1 = <span class="string">"0"</span>;</span><br><span class="line">    	String a2 = num1;</span><br><span class="line">    	<span class="keyword">if</span>(num1.length() &gt; <span class="number">8</span>) { <span class="comment">//å°†num1çš„ä½å…«ä½åˆ†ç¦»</span></span><br><span class="line">    		a1 = num1.substring(<span class="number">0</span>, num1.length() - <span class="number">8</span>);</span><br><span class="line">    		a2 = num1.substring(num1.length() - <span class="number">8</span>);</span><br><span class="line">    	}</span><br><span class="line">    	String b1 = <span class="string">"0"</span>;</span><br><span class="line">    	String b2 = num2;</span><br><span class="line">    	<span class="keyword">if</span>(num2.length() &gt; <span class="number">8</span>) {</span><br><span class="line">    		b1 = num2.substring(<span class="number">0</span>, num2.length() - <span class="number">8</span>);</span><br><span class="line">    		b2 = num2.substring(num2.length() - <span class="number">8</span>);</span><br><span class="line">    	}</span><br><span class="line">    	String k = add(a2, b2);</span><br><span class="line">    	<span class="keyword">if</span>(k.length() &gt; <span class="number">8</span>) {</span><br><span class="line">    		<span class="keyword">return</span> add(add(a1, b1), <span class="string">"1"</span>) + k.substring(<span class="number">1</span>);</span><br><span class="line">    	}</span><br><span class="line">    	<span class="keyword">if</span>(k.length() &lt; <span class="number">8</span>) {</span><br><span class="line">    		<span class="keyword">return</span> add(a1, b1) + add_zero(<span class="number">8</span> - k.length()) + k;</span><br><span class="line">    	}</span><br><span class="line">    	<span class="keyword">return</span> add(a1, b1) + k;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸåŸå¢™åˆ·æ¼†"><a href="#ğŸåŸå¢™åˆ·æ¼†" class="headerlink" title="ğŸåŸå¢™åˆ·æ¼†"></a>ğŸåŸå¢™åˆ·æ¼†</h2><p>Xå›½çš„ä¸€æ®µå¤åŸå¢™çš„é¡¶ç«¯å¯ä»¥çœ‹æˆ 2*Nä¸ªæ ¼å­ç»„æˆçš„çŸ©å½¢(å¦‚å›¾æ‰€ç¤º)</p>
<p><img src="https://img-blog.csdnimg.cn/20200307223421196.png" alt=""></p>
<p>ç°éœ€è¦æŠŠè¿™äº›æ ¼å­åˆ·ä¸Šä¿æŠ¤æ¼†ã€‚</p>
<p>ä½ å¯ä»¥ä»ä»»æ„ä¸€ä¸ªæ ¼å­åˆ·èµ·ï¼Œåˆ·å®Œä¸€æ ¼ï¼Œå¯ä»¥ç§»åŠ¨åˆ°å’Œå®ƒç›¸é‚»çš„æ ¼å­ï¼ˆå¯¹è§’ç›¸é‚»ä¹Ÿç®—æ•°ï¼‰ï¼Œä½†ä¸èƒ½ç§»åŠ¨åˆ°è¾ƒè¿œçš„æ ¼å­ï¼ˆå› ä¸ºæ²¹æ¼†æœªå¹²ä¸èƒ½è¸©ï¼ï¼‰</p>
<p>æ¯”å¦‚ï¼ša d b c e f å°±æ˜¯åˆæ ¼çš„åˆ·æ¼†é¡ºåºã€‚</p>
<p>c e f d a b æ˜¯å¦ä¸€ç§åˆé€‚çš„æ–¹æ¡ˆã€‚</p>
<p>å½“å·²çŸ¥ N æ—¶ï¼Œæ±‚æ€»çš„æ–¹æ¡ˆæ•°ã€‚å½“Nè¾ƒå¤§æ—¶ï¼Œç»“æœä¼šè¿…é€Ÿå¢å¤§ï¼Œè¯·æŠŠç»“æœå¯¹ 1000000007 (åäº¿é›¶ä¸ƒ) å–æ¨¡ã€‚</p>
<p>è¾“å…¥æ•°æ®ä¸ºä¸€ä¸ªæ­£æ•´æ•°ï¼ˆä¸å¤§äº1000ï¼‰</p>
<p>è¾“å‡ºæ•°æ®ä¸ºä¸€ä¸ªæ­£æ•´æ•°ã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">ä¾‹å¦‚ï¼š</span><br><span class="line">ç”¨æˆ·è¾“å…¥ï¼š</span><br><span class="line">2</span><br><span class="line">ç¨‹åºåº”è¯¥è¾“å‡ºï¼š</span><br><span class="line">24 </span><br><span class="line">å†ä¾‹å¦‚ï¼š</span><br><span class="line">ç”¨æˆ·è¾“å…¥ï¼š</span><br><span class="line">3</span><br><span class="line">ç¨‹åºåº”è¯¥è¾“å‡ºï¼š</span><br><span class="line">96</span><br><span class="line">å†ä¾‹å¦‚ï¼š</span><br><span class="line">æˆ·è¾“å…¥ï¼š</span><br><span class="line">22</span><br><span class="line">ç¨‹åºåº”è¯¥è¾“å‡ºï¼š</span><br><span class="line">359635897</span><br></pre></td></tr></tbody></table></figure>



<h4 id="ğŸ‚åˆ†æ-1"><a href="#ğŸ‚åˆ†æ-1" class="headerlink" title="ğŸ‚åˆ†æ"></a>ğŸ‚åˆ†æ</h4><p>æœ¬é¢˜çš„ä»»åŠ¡æ˜¯åœ¨å·²çŸ¥å‡ ä¸ªåŸºæœ¬è¡Œèµ°è§„åˆ™çš„å‰æä¸‹ï¼Œæ±‚è§£éå†æ•´ä¸ªçŸ©å½¢çš„è¡Œèµ°è·¯çº¿æ•°é‡<br>å¾ˆå¤šåŒå­¦çš„ç¬¬ä¸€æƒ³æ³•æ˜¯æœç´¢ï¼Œä½†æ˜¯æœç´¢ç®—æ³•å¿…ç„¶è¶…æ—¶ï¼Œå› ä¸ºæœ¬é¢˜çš„æ•°æ®èŒƒå›´ï¼ˆnæœ€å¤§å¯å–åˆ°1000ï¼‰ä¼šä½¿å¾—é€’å½’æ ‘è¿‡æ·±ï¼Œå› æ­¤æˆ‘ä»¬ä¸å¾—ä¸å¦å¯»æ€è·¯ã€‚è€Œå®é™…ä¸Šï¼Œè¿™ç§èµ°æ ¼å­çš„é¢˜ç›®å¾€å¾€å’ŒåŠ¨æ€è§„åˆ’å¯†åˆ‡ç›¸å…³<br>å¯¹äºé¢˜ç›®ç»™å‡ºçš„å‡ ç±»è¡Œèµ°è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°è”æƒ³åˆ°é€’æ¨ã€‚å› ä¸ºå¯¹äºæŸä¸ªæ ¼å­ï¼Œå…¶èµ°åˆ°å½“å‰å¯èƒ½æœ‰å¾ˆå¤šç§èµ°æ³•ï¼Œä½†æ˜¯ä»å¦ä¸€ä¸ªè§’åº¦çœ‹æ¥ï¼Œä»¥æŸä¸ªæ ¼å­ä¸ºå‡ºå‘ç‚¹è¿›è¡Œâ€œåˆ·æ¼†â€ï¼Œå…¶è¡Œèµ°æ–¹å¼å´æ˜¯ä¸€ä¸ªå›ºå®šå€¼ã€‚æˆ‘ä»¬é¦–å…ˆè¦åšçš„ï¼Œå°±æ˜¯æ¥æ¨ç†è¿™ä¸ªè¿‡ç¨‹ï¼Œä»è€Œæ‰¾åˆ°åŠ¨æ€è½¬ç§»æ–¹ç¨‹ã€‚<br>ä¸ºäº†å°†æ•´ä¸ªçŸ©å½¢åˆ·å®Œï¼Œæˆ‘ä»¬çš„èµ·ç‚¹ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸¤å¤§ç±»ï¼š</p>
<ol>
<li>ä»å››ä¸ªé¡¶ç‚¹ä¹‹ä¸€å‡ºå‘</li>
<li>ä»ä¸­é—´æŸä¸ªç‚¹å‡ºå‘</li>
</ol>
<hr>
<p>ï¼ˆä¸€ï¼‰ä»é¡¶ç‚¹å‡ºå‘<br>â‘  ç¬¬ä¸€æ­¥èµ°åŒä¸€åˆ—çš„å¦ä¸€ä¸ªæ ¼å­ï¼Œç„¶åå†èµ°ä¸‹ä¸€åˆ—ã€‚æ¥ç€é‡å¤è¿™ä¸ªè¿‡ç¨‹ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="https://img-blog.csdnimg.cn/2020030722492312.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3RoZV9aRUQ=,size_16,color_FFFFFF,t_70" alt="ä»é¡¶ç‚¹Aå‡ºå‘"></p>
<p>æ¯”å¦‚ï¼šå‡è®¾ä»é¡¶ç‚¹Aå‡ºå‘ï¼Œé‚£ä¹ˆç¬¬ä¸€æ­¥æ²¡å¾—é€‰ï¼Œåªèƒ½èµ°å‘Bï¼›æ¥ç€åœ¨Bç‚¹æ—¶ï¼Œæ­¤æ—¶å°±æœ‰ä¸¤ç§é€‰æ‹©æ–¹æ¡ˆï¼Œè¦ä¹ˆèµ°å‘Cï¼Œè¦ä¹ˆèµ°å‘Dã€‚å‡è®¾èµ°å‘äº†Dï¼Œé‚£ä¹ˆæ­¤æ—¶Dç‚¹å°±åªèƒ½é€‰Cï¼Œæ¥ç€åœ¨Cç‚¹æ—¶ï¼Œå…¶åˆå¯ä»¥é€‰æ‹©Eæˆ–Fâ€¦â€¦ç„¶åé‡å¤ä¸Šé¢è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æœ€ç»ˆèµ°åˆ°çŸ©å½¢çš„å¦ä¸€ä¾§<br>è¿™ç§æƒ…å†µï¼ˆä¸€è¶Ÿè¿‡å»ï¼Œä¸å†è¿”å›ï¼‰ç”¨æ•°ç»„aæ¥è¡¨ç¤ºï¼Œåˆ™å¯ä»¥æŠŠé—®é¢˜è§„æ¨¡ç”±a[ i ]è½¬æ¢æˆa[ i-1]<br>äºæ˜¯å¾—åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š<code>a[ i ]=2Ã—a[ i-1]</code>ï¼ˆä¹˜2çš„åŸå› æ˜¯æ¯æ¬¡éƒ½æœ‰ä¸¤ç§é€‰æ‹©ï¼Œå¦‚åœ¨Bç‚¹å¯é€‰Cæˆ–Dï¼‰</p>
<p>â‘¡ ç¬¬ä¸€æ­¥èµ°ä¸‹ä¸€åˆ—ï¼Œä¹‹åä¹Ÿè¿˜æ˜¯ä¸æ–­åœ°èµ°ä¸‹ä¸€åˆ—ï¼Œå½“æœ€ç»ˆèµ°åˆ°æœ€åä¸€åˆ—åå†è¿”å›ã€‚è¿”å›æ—¶ï¼Œç”±äºæ ¼å­çš„é«˜åº¦ä¸º2ï¼Œé‚£ä¹ˆåœ¨è¿”å›æ—¶ï¼Œè·¯å¾„å”¯ä¸€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="https://img-blog.csdnimg.cn/20200307225056189.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3RoZV9aRUQ=,size_16,color_FFFFFF,t_70" alt="ä»é¡¶ç‚¹Aå‡ºå‘"></p>
<p>æ¯”å¦‚ï¼šå‡è®¾ä»é¡¶ç‚¹Aå‡ºå‘ï¼Œé‚£ä¹ˆç¬¬ä¸€æ­¥å¯ä»¥é€‰Cæˆ–Då…±ä¸¤ç§æ–¹æ¡ˆï¼Œå‡è®¾é€‰çš„æ˜¯Cï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥åˆå¯ä»¥é€‰æ‹©Eæˆ–Fâ€¦â€¦å½“æœ€ååˆ°äº†æœ€åä¸€åˆ—ï¼Œæ¯”å¦‚åˆ°äº†Iï¼Œé‚£ä¹ˆæ­¤æ—¶è¿”å›çš„è·¯çº¿ä¹Ÿå°±å”¯ä¸€ç¡®å®šäº†<br>è¿™ç§æƒ…å†µï¼ˆä¸€è¶Ÿè¿‡å»ï¼Œä¸€è¶Ÿå›æ¥ï¼‰ç”¨æ•°ç»„bæ¥è¡¨ç¤ºï¼Œåˆ™å¯ä»¥æŠŠé—®é¢˜è§„æ¨¡ç”±b[i]è½¬æ¢æˆb[ i-1]<br>äºæ˜¯å¾—åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š<code>b[ i ]=2Ã—b[ i-1]</code> ï¼ˆä¹˜2çš„åŸå› æ˜¯æ¯æ¬¡éƒ½æœ‰ä¸¤ç§é€‰æ‹©ï¼Œå¦‚åœ¨Aç‚¹å¯é€‰Cæˆ–Dï¼‰</p>
<p>â‘¢ ç¬¬ä¸€æ­¥èµ°å¦ä¸€åˆ—,å†ç”±è¯¥åˆ—è¿”å›å‰ä¸€åˆ—ï¼Œç„¶åå†ä»å‰ä¸€åˆ—èµ°å‘å¦ä¸€åˆ—çš„å¦ä¸€ä¸ªæ ¼å­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="https://img-blog.csdnimg.cn/20200307225329443.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3RoZV9aRUQ=,size_16,color_FFFFFF,t_70" alt="ä»é¡¶ç‚¹Aå‡ºå‘"></p>
<p>æ¯”å¦‚ï¼šå‡è®¾ä»é¡¶ç‚¹Aå‡ºå‘ï¼Œé‚£ä¹ˆå…¶æœ‰ä¸¤æ¡è·¯çº¿ï¼šA-&gt;C-&gt;B-&gt;Dæˆ–A-&gt;D-&gt;B-&gt;Cï¼Œå‡è®¾åˆ°äº†ç‚¹Dï¼Œåˆ™Dåˆå¯ä»¥æœ‰ä¸¤ç§é€‰æ‹©ï¼ˆè¦ä¹ˆåˆ°Eè¦ä¹ˆåˆ°Fï¼‰ï¼Œæ­¤æ—¶åˆå¯å†é‡å¤åœ¨ç‚¹Açš„è¡Œä¸ºï¼Œç›´åˆ°æœ€ç»ˆåˆ°è¾¾çŸ©å½¢çš„å¦ä¸€ä¾§<br>æ˜¾ç„¶è¿™ä¹Ÿå±äºâ€œä¸€è¶Ÿè¿‡å»ï¼Œä¸å†è¿”å›â€çš„ç±»å‹ï¼Œå› æ­¤ä¹Ÿç”¨æ•°ç»„aæ¥è¡¨ç¤ºï¼Œåˆ™å¯ä»¥æŠŠé—®é¢˜è§„æ¨¡è½¬æ¢æˆa[ i-2 ]<br>äºæ˜¯å¾—åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š<code>a[ i ] = 2 Ã— 2 Ã— a[ i-2 ]</code> ï¼ˆç¬¬ä¸€ä¸ªä¹˜2æ˜¯é€‰Cæˆ–Dï¼ŒäºŒä¸ªä¹˜2æ˜¯é€‰Eæˆ–Fï¼‰</p>
<p>ç»¼ä¸Šä¾¿åˆ†æå‡ºäº†æ‰€æœ‰çš„ä»å››ä¸ªé¡¶ç‚¹å‡ºå‘çš„åŸºç¡€éå†æ–¹å¼<br>äºæ˜¯å¾—åˆ°è½¬ç§»æ–¹ç¨‹ï¼š<code>a[ i ] = 2 Ã— a[ i-1] + b[ i ] + 2 Ã— 2 Ã— a[ i-2]</code><br>ç”±äºé¡¶ç‚¹æœ‰4ä¸ªï¼Œäºæ˜¯æœ€ç»ˆçš„éå†æ–¹æ¡ˆä¸ºï¼š<code>sum=4Ã—a[ i ]</code></p>
<hr>
<p>ï¼ˆäºŒï¼‰ä»ä¸­é—´å‡ºå‘<br><img src="https://img-blog.csdnimg.cn/20200307225620149.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3RoZV9aRUQ=,size_16,color_FFFFFF,t_70" alt="ä»ä¸­é—´å‡ºå‘"><br>å‡è®¾æˆ‘ä»¬ä»å›¾ä¸­i=3(Eç‚¹)å¤„å‡ºå‘ï¼ˆä»¥iä¸ºåˆ†å‰²çº¿ï¼Œå°†å›¾åˆ†ä¸ºå·¦è¾¹çš„ABCDEFä»¥åŠå³è¾¹çš„GHIJï¼‰ï¼Œä¸ºäº†éå†æ‰€æœ‰æ ¼å­ï¼Œæˆ‘ä»¬éœ€è¦å…ˆèµ°å®Œå·¦è¾¹çš„è¿™ä¸ªæ•´ä½“ï¼ˆç‰¹åˆ«æ³¨æ„ï¼šè¿™é‡Œå¿…é¡»å€’å›åˆ°Fæ‰èƒ½ç»§ç»­èµ°å³è¾¹ï¼‰ï¼Œç„¶åå†æŠŠå³è¾¹è§†ä¸ºä»¥Gæˆ–è€…Hä¸ºèµ·ç‚¹çš„ä¸€ç»„æ ¼å­å°†å…¶èµ°å®Œï¼ˆå› æ­¤è¿™é‡Œéœ€è¦ä¹˜ä»¥2ï¼Œä¸¤ç§èµ·ç‚¹å‡ºå‘å˜›ï¼‰<br>åˆ†æä¸Šè¿°çš„æµç¨‹ï¼Œå¯ä»¥å¾—åˆ°ä»ä¸­é—´å‡ºå‘çš„æ–¹æ¡ˆæ•°ä¸ºï¼š<code>( b[ i ] ) Ã— ( 2 Ã— a[ n-i ] )</code><br>åŒç†ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆèµ°å³è¾¹çš„EFGHIJï¼Œç„¶åå†èµ°å·¦è¾¹çš„ABCD<br>è¿™æ ·çš„æ–¹æ¡ˆæ•°ä¸ºï¼š<code>(b[ n-i+1]) Ã— (2Ã—a[ i - 1])</code><br>ç”±äºä¸Šé¢çš„æ‰€æœ‰èµ·å§‹ç‚¹éƒ½æ˜¯ä»¥Eä¸ºå‡ºå‘ç‚¹è¡Œèµ°çš„ï¼Œæˆ‘ä»¬åŒç†ä¹Ÿå¯ä»¥ä»¥Fä¸ºèµ·ç‚¹å‡ºå‘ï¼Œé‚£ä¹ˆä»ç¬¬iåˆ—å¼€å§‹åˆ·æ¼†çš„æ–¹æ³•å°±æœ‰:<code>[ (b[ i ])Ã—(2Ã—a[ n-i ])+(b[ n-i+1])Ã—(2Ã—a[ i - 1]) ]Ã—2</code></p>
<p>ç»¼åˆä¸€äºŒï¼Œä¾¿å¾—å‡ºæœ€ç»ˆçš„æ–¹æ¡ˆæ•°sumä¸ºï¼š<code>sum = 4Ã—a[n] + 2Ã—2Ã—( b[ i ]Ã—a[ n-i ] + b[ n-i+1 ]Ã—a[ i - 1] )</code><br>è¿™ä¾¿æ˜¯æœ¬é¢˜çš„é€’æ¨å…¬å¼äº†ï¼Œç°åœ¨çš„é—®é¢˜æ˜¯ï¼Œåˆå€¼å‘¢ï¼Ÿ<br>ç”±äºåœ¨ï¼ˆä¸€ï¼‰ä¸­å­˜åœ¨å…¬å¼ï¼š<code>a[ i ] = 2Ã—2Ã—a[i-2]</code>ï¼Œæ•…æˆ‘ä»¬éœ€è¦å°†a[1]ã€a[2]ã€b[1]ã€b[2]éƒ½ç»™å®š<br>æ‰€ä»¥ä¸‹é¢æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨åœ°ç»™å‡ºi=1å’Œ2çš„æƒ…å†µï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">a[1]=1;		//n=1æ—¶ï¼Œä»é¡¶ç‚¹å‡ºå‘æ˜¾ç„¶åªæœ‰ä¸€ç§æƒ…å†µ</span><br><span class="line">a[2]=6;		//n=2æ—¶ï¼Œä»é¡¶ç‚¹å‡ºå‘æœ‰ä¸‰ç§æƒ…å†µï¼ša[2]=2+2+2ï¼Œåˆ†åˆ«æ˜¯ï¼ˆä¸€ï¼‰ä¸­çš„â‘ â‘¡â‘¢</span><br></pre></td></tr></tbody></table></figure>

<p>æƒ…å†µâ‘ ï¼š<br><img src="https://img-blog.csdnimg.cn/20200307230341459.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3RoZV9aRUQ=,size_16,color_FFFFFF,t_70" alt="æƒ…å†µâ‘ "></p>
<p>æƒ…å†µâ‘¡ï¼š<br><img src="https://img-blog.csdnimg.cn/20200307230524857.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3RoZV9aRUQ=,size_16,color_FFFFFF,t_70" alt="æƒ…å†µâ‘¡"></p>
<p>æƒ…å†µâ‘¢ï¼š<br><img src="https://img-blog.csdnimg.cn/20200307230705575.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3RoZV9aRUQ=,size_16,color_FFFFFF,t_70" alt="æƒ…å†µâ‘¢"></p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">b[2]=2; 	//æ˜¾ç„¶è¿™ç§æƒ…å†µä¸‹åªèƒ½æ˜¯ä¸¤ç§ï¼Œå¯¹åº”ä¸Šå›¾çš„æƒ…å†µâ‘¡</span><br><span class="line">b[1]=1;		//bè¿™ç§åˆ·æ¼†æ–¹å¼è‡³å°‘éœ€è¦ä¸¤ä¸ªæ ¼å­ï¼ˆå³æœ€ä½i=2ï¼‰ï¼Œæ‰€ä»¥b[1]ä¸¥æ ¼æ„ä¹‰ä¸Šè¯´æ¥æ˜¯0ï¼Œä½†æ˜¯ç”±äºb[2]=2ï¼Œä¸”å­˜åœ¨å…¬å¼b[i]=2*b[i-1]ï¼Œæ•…è¿™é‡Œåæ¨b[1]=1</span><br></pre></td></tr></tbody></table></figure>

<p>é¢˜è§£å‡ºè‡ª<a href="https://blog.csdn.net/the_ZED/article/details/104724184" target="_blank" rel="noopener">é…±æ‡µé™</a></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Lattice_brush_paint</span> </span>{</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MOD = <span class="number">1000000007</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		System.out.println(brush(n));</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * https://blog.csdn.net/the_ZED/article/details/104724184</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">brush</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(n == <span class="number">1</span>) {</span><br><span class="line">			<span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">long</span> a[] = <span class="keyword">new</span> <span class="keyword">long</span>[<span class="number">1005</span>];</span><br><span class="line">		<span class="keyword">long</span>[] b = <span class="keyword">new</span> <span class="keyword">long</span>[<span class="number">1005</span>];</span><br><span class="line">		a[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">		a[<span class="number">2</span>] = <span class="number">6</span>;</span><br><span class="line">		b[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">		b[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>; i &lt;= n; i++) {  <span class="comment">//ä»ä¸€ä¸ªé¡¶ç‚¹å‡ºå‘</span></span><br><span class="line">			b[i] = (<span class="number">2</span> * b[i - <span class="number">1</span>]) % MOD;	<span class="comment">//è¾¹æ“ä½œè¾¹å–ä½™</span></span><br><span class="line">			a[i] = (<span class="number">2</span> * a[i - <span class="number">1</span>] + b[i] + <span class="number">4</span> * a[i - <span class="number">2</span>]) % MOD;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">long</span> sum = <span class="number">4</span> * a[n] % MOD;	<span class="comment">//4ä¸ªé¡¶ç‚¹</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++) {<span class="comment">//ä»ä¸­é—´å‡ºå‘ï¼Œæ³¨æ„içš„èŒƒå›´æ˜¯å¤§äº1å°äºn </span></span><br><span class="line">			sum = (sum + <span class="number">4</span> * (b[i] * a[n - i] + b[n - i + <span class="number">1</span>] * a[i - <span class="number">1</span>])) % MOD;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> (<span class="keyword">int</span>)sum;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸç¯å½¢æ¶‚è‰²"><a href="#ğŸç¯å½¢æ¶‚è‰²" class="headerlink" title="ğŸç¯å½¢æ¶‚è‰²"></a>ğŸç¯å½¢æ¶‚è‰²</h2><p>å¦‚å›¾ï¼Œç»„æˆç¯å½¢çš„æ ¼å­éœ€è¦æ¶‚3ç§é¢œè‰²ã€‚</p>
<p>å®ƒä»¬çš„ç¼–å·åˆ†åˆ«æ˜¯1~14</p>
<p>ç›¸é‚»çš„æ ¼å­ä¸èƒ½ç”¨ç›¸åŒçš„é¢œè‰²ã€‚</p>
<p>æ¶‚è‰²æ–¹æ¡ˆçš„æ•°ç›®æ˜¯ï¼š24576</p>
<p>å½“æ ¼å­æ•°ç›®ä¸º50çš„æ—¶å€™ï¼Œæ±‚æ¶‚è‰²æ–¹æ¡ˆæ€»æ•°ã€‚</p>
<p><a href="https://imgchr.com/i/dtcNNT" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/21/dtcNNT.png" alt="dtcNNT.png"></a></p>
<h4 id="ğŸ‚dpåˆ†æ"><a href="#ğŸ‚dpåˆ†æ" class="headerlink" title="ğŸ‚dpåˆ†æ"></a>ğŸ‚dpåˆ†æ</h4><ul>
<li><p>å‡è®¾ç°åœ¨è€ƒè™‘æœ€åä¸€ä¸ªæ ¼å­å¡«å…¥ä»€ä¹ˆé¢œè‰²ï¼Œå¦‚æœå®ƒçš„å‰ä¸€ä¸ªæ ¼å­çš„é¢œè‰²å’Œç¬¬ä¸€ä¸ªæ ¼å­çš„é¢œè‰²ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆå®ƒæœ‰ä¸¤ç§å¡«æ³•ï¼Œæ­¤æ—¶ï¼Œå†çœ‹å®ƒå‰é¢çš„å‰é¢çš„æ ¼å­å¦‚ä½•å¡«ï¼Œå› ä¸ºè¿™ä¸ªæ ¼å­çš„åé¢æ ¼å­é¢œè‰²å’Œç¬¬ä¸€ä¸ªæ ¼å­é¢œè‰²ç›¸åŒï¼Œæ‰€ä»¥ç›¸å½“äºä¹‹å‰æƒ…å†µçš„ä¸€ä¸ªç¼©å°ç‰ˆï¼Œæœ‰<code>f(n-2)\*2</code>ç§ï¼Œ</p>
</li>
<li><p><em>å†è€ƒè™‘æœ€åä¸€ä¸ªæ ¼å­çš„å‰ä¸€ä¸ªæ ¼å­çš„é¢œè‰²å’Œç¬¬ä¸€ä¸ªæ ¼å­çš„é¢œè‰²ä¸€æ ·ï¼Œé‚£ä¹ˆå®ƒæœ‰ä¸€ç§å¡«æ³•ï¼Œè€Œç°åœ¨å†æ¥è€ƒè™‘è¿™ä¸ªæ ¼å­ä¹‹å‰åº”è¯¥å¦‚ä½•æ¶‚é¢œè‰²ï¼Œä¹Ÿç›¸å½“äºä¹‹å‰æƒ…å†µçš„ç¼©å°ç‰ˆï¼Œäºæ˜¯æœ‰`f(n-1)\</em>1`ç§ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Ring_Painting</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		System.out.println(paint(n));</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">paint</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">		<span class="keyword">long</span>[] dp = <span class="keyword">new</span> <span class="keyword">long</span>[n + <span class="number">1</span>];</span><br><span class="line">		dp[<span class="number">1</span>] = <span class="number">3</span>;</span><br><span class="line">		dp[<span class="number">2</span>] = <span class="number">6</span>;</span><br><span class="line">		dp[<span class="number">3</span>] = <span class="number">6</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">4</span>; i &lt;= n; i++) {</span><br><span class="line">			dp[i] = dp[i - <span class="number">1</span>] + <span class="number">2</span> * dp[i - <span class="number">2</span>];</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> dp[n];</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h3><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>è“æ¡¥æ¯</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>2020_javaè“æ¡¥_æš‘å‡è®­ç»ƒ_åˆ†æ²»ä¸åŠ¨æ€è§„åˆ’</title>
    <url>/Divide_and_rule/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸åˆ†æ²»ä¸åŠ¨æ€è§„åˆ’è®­ç»ƒ"><a href="#ğŸŒ¸åˆ†æ²»ä¸åŠ¨æ€è§„åˆ’è®­ç»ƒ" class="headerlink" title="ğŸŒ¸åˆ†æ²»ä¸åŠ¨æ€è§„åˆ’è®­ç»ƒ"></a>ğŸŒ¸åˆ†æ²»ä¸åŠ¨æ€è§„åˆ’è®­ç»ƒ</h2><p>è´´åœ¨å‰é¢ï¼Œæƒ³äº†è§£ä»€ä¹ˆæ˜¯åˆ†æ²»ï¼Œå¯æŸ¥çœ‹æˆ‘çš„è¿™ç¯‡æ–‡ç« <a href="https://blog.csdn.net/weixin_45333934/article/details/107434256" target="_blank" rel="noopener">äºŒåˆ†æŸ¥æ‰¾</a></p>
<h2 id="ğŸæœ‰åºåˆ—è¡¨æœç´¢ä½ç½®"><a href="#ğŸæœ‰åºåˆ—è¡¨æœç´¢ä½ç½®" class="headerlink" title="ğŸæœ‰åºåˆ—è¡¨æœç´¢ä½ç½®"></a>ğŸæœ‰åºåˆ—è¡¨æœç´¢ä½ç½®</h2><p>å·²çŸ¥æœ‰åºçš„åºåˆ—,æ¯”å¦‚ï¼š<br>2,3,3,5,9,9,9,12,12,13,15,22,22,22,22,23,25,25,91,95<br>æœ‰æ•´æ•°xï¼Œæ¯”å¦‚ï¼š x=23<br>è¦æ±‚æ‰¾åˆ°ä¸€ä¸ªåˆšå¥½æ¯”xç¨å¾®å¤§ä¸€ç‚¹çš„å…ƒç´ ä½ç½®</p>
<p>å½“æ•°ç»„è¾ƒå¤§çš„æ—¶å€™ï¼Œéœ€è¦äºŒåˆ†æŸ¥æ‰¾åŠ å¿«é€Ÿåº¦ã€‚</p>
<a id="more"></a>

<h4 id="ğŸ‚åˆ†æ"><a href="#ğŸ‚åˆ†æ" class="headerlink" title="ğŸ‚åˆ†æ"></a>ğŸ‚åˆ†æ</h4><p>ä¸€çœ‹æ­¤é¢˜ï¼Œç›´æ¥æš´åŠ›ï¼ˆä¸è¦æ±‚å¤æ‚åº¦çš„è¯ï¼‰ï¼Œé¢˜ä¸­è¯´æ˜åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œå°±ç›´æ¥äºŒåˆ†æ¨¡æ¿ä¸Šå§</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Location_Search</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line"><span class="comment">//		int n = input.nextInt();</span></span><br><span class="line"><span class="comment">//		int[] a = new int[n];</span></span><br><span class="line"><span class="comment">//		for(int i = 0; i &lt; a.length; i++) {</span></span><br><span class="line"><span class="comment">//			a[i] = input.nextInt();</span></span><br><span class="line"><span class="comment">//		}</span></span><br><span class="line">		<span class="keyword">int</span> x = input.nextInt();</span><br><span class="line">		System.out.println(search(<span class="keyword">new</span> <span class="keyword">int</span>[]{<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">9</span>,<span class="number">9</span>,<span class="number">9</span>,<span class="number">12</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">22</span>,<span class="number">22</span>,<span class="number">22</span>,<span class="number">22</span>,<span class="number">23</span>,<span class="number">25</span>,<span class="number">25</span>,<span class="number">91</span>,<span class="number">95</span>}, x));</span><br><span class="line">		input.close();</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> x)</span> </span>{</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> right = a.length - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span>(left &lt; right) {</span><br><span class="line">			<span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>; <span class="comment">//å¯»æ‰¾ä¸­ä½æ•°</span></span><br><span class="line">			<span class="keyword">if</span>(x &gt;= a[mid]) {<span class="comment">//ä¸­ä½æ•°æ¯”ç›®æ ‡å€¼å°æˆ–è€…ç­‰äºï¼Œæ˜¾ç„¶ç›®æ ‡å€¼çš„ä½ç½®åœ¨å³è¾¹ï¼Œä¸‹ä¸€æ®µæœç´¢[mid + 1, right]</span></span><br><span class="line">				left = mid + <span class="number">1</span>;</span><br><span class="line">			}<span class="keyword">else</span> {<span class="comment">//åŒç†</span></span><br><span class="line">				right = mid;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> left;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸæœ€å¤§å­åºå’Œ"><a href="#ğŸæœ€å¤§å­åºå’Œ" class="headerlink" title="ğŸæœ€å¤§å­åºå’Œ"></a>ğŸæœ€å¤§å­åºå’Œ</h2><p>æ•°ç»„ä¸­æ•´æ•°æœ‰æ­£æœ‰è´Ÿ</p>
<p>æ±‚ä¸€è¿ç»­å­æ®µï¼Œä½¿å¾—å’Œæœ€å¤§åŒ–</p>
<p>ä¾‹å¦‚ï¼š</p>
<p><code>2,4,-7,5,2,-1,2,-4,3</code></p>
<p>æœ€å¤§è¿ç»­æ®µï¼š</p>
<p><code>5,2,-1,2</code></p>
<p>å…¶æœ€å¤§å’Œä¸º8</p>
<h4 id="ğŸ‚åˆ†æ-1"><a href="#ğŸ‚åˆ†æ-1" class="headerlink" title="ğŸ‚åˆ†æ"></a>ğŸ‚åˆ†æ</h4><h5 id="ğŸ’¥æš´åŠ›"><a href="#ğŸ’¥æš´åŠ›" class="headerlink" title="ğŸ’¥æš´åŠ›"></a>ğŸ’¥æš´åŠ›</h5><p>è§£é¢˜ä¸€æ­¥ä¸€æ­¥çš„æ¥ï¼Œé¦–å…ˆå…ˆå†™å¥½æš´åŠ›è§£æ³•ï¼ŒåŒå±‚å¾ªç¯éå†åˆ¤æ–­æœ€å¤§å’Œ</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Max_sum_of_subsequences</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		<span class="comment">//int[] nums = { -2, 1, -3, 4, -1, 2, 1, -5, 4 };</span></span><br><span class="line">		<span class="keyword">int</span>[] nums = {<span class="number">2</span>,<span class="number">4</span>,-<span class="number">7</span>,<span class="number">5</span>,<span class="number">2</span>,-<span class="number">1</span>,<span class="number">2</span>,-<span class="number">4</span>,<span class="number">3</span>};</span><br><span class="line">		System.out.println(maxSubArray(nums));</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> res = Integer.MIN_VALUE;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) {</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= i; j++) {</span><br><span class="line">				<span class="keyword">int</span> sum = sumOfArray(nums, j, i);</span><br><span class="line">				res = Math.max(res, sum);</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">sumOfArray</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>{</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = left; i &lt;= right; i++) {</span><br><span class="line">			sum += nums[i];</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> sum;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h5 id="ğŸ’¥æš´åŠ›ä¼˜åŒ–"><a href="#ğŸ’¥æš´åŠ›ä¼˜åŒ–" class="headerlink" title="ğŸ’¥æš´åŠ›ä¼˜åŒ–"></a>ğŸ’¥æš´åŠ›ä¼˜åŒ–</h5><p>ä¼˜åŒ–ï¼šäº‹å®ä¸Šï¼Œä¸Šé¢çš„ä»£ç æœ‰ä¸€äº›é‡å¤è®¡ç®—ã€‚è¿™æ˜¯å› ä¸ºç›¸åŒå‰ç¼€çš„åŒºé—´æ±‚å’Œï¼Œå¯ä»¥é€šè¿‡ç±»ä¼¼â€œçŠ¶æ€è½¬ç§»â€çš„æ–¹æ³•å¾—åˆ°ã€‚</p>
<p>ä¾‹å¦‚ï¼šè®¡ç®—å­åŒºé—´ [1, 4] çš„å’Œå¯ä»¥åœ¨è®¡ç®—å­åŒºé—´ [1, 3] çš„åŸºç¡€ä¸Šï¼Œå†åŠ ä¸Š <code>nums[4]</code> å¾—åˆ°ã€‚ å› æ­¤ï¼Œåªéœ€è¦æšä¸¾å­åºçš„å·¦ç«¯ç‚¹ï¼Œç„¶åå†æ‰«æå³ç«¯ç‚¹ï¼Œå°±å¯ä»¥å‡å°‘ä¸€ä¸ªçº§åˆ«çš„å¤æ‚åº¦ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Max_sum_of_subsequences</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		<span class="comment">//int[] nums = { -2, 1, -3, 4, -1, 2, 1, -5, 4 };</span></span><br><span class="line">		<span class="keyword">int</span>[] nums = {<span class="number">2</span>,<span class="number">4</span>,-<span class="number">7</span>,<span class="number">5</span>,<span class="number">2</span>,-<span class="number">1</span>,<span class="number">2</span>,-<span class="number">4</span>,<span class="number">3</span>};</span><br><span class="line">		System.out.println(maxSubArray1(nums));</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxSubArray1</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> res = Integer.MIN_VALUE;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) {</span><br><span class="line">			<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; nums.length; j++) {</span><br><span class="line">				sum += nums[j];</span><br><span class="line">				res = Math.max(sum, res);</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h5 id="ğŸ’¥åŠ¨æ€è§„åˆ’"><a href="#ğŸ’¥åŠ¨æ€è§„åˆ’" class="headerlink" title="ğŸ’¥åŠ¨æ€è§„åˆ’"></a>ğŸ’¥åŠ¨æ€è§„åˆ’</h5><ul>
<li><p>ç¬¬ 1 æ­¥ï¼šå®šä¹‰çŠ¶æ€ æ—¢ç„¶ä¸€ä¸ªè¿ç»­å­æ•°ç»„ä¸€å®šè¦ä»¥ä¸€ä¸ªæ•°ä½œä¸ºç»“å°¾ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å°†çŠ¶æ€å®šä¹‰æˆå¦‚ä¸‹ã€‚</p>
<ul>
<li>dp[i]ï¼šè¡¨ç¤ºä»¥ nums[i] ç»“å°¾çš„è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œã€‚</li>
</ul>
</li>
</ul>
<ul>
<li><p>é‚£ä¹ˆä¸ºä»€ä¹ˆè¿™ä¹ˆå®šä¹‰å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºè¿™æ ·å®šä¹‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹å®¹æ˜“å¾—åˆ°ã€‚</p>
<ul>
<li>ç¬¬2 æ­¥ï¼šæ€è€ƒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ æ ¹æ®çŠ¶æ€çš„å®šä¹‰ï¼Œç”±äº nums[i] ä¸€å®šä¼šè¢«é€‰å–ï¼Œå¹¶ä¸” dp[i] æ‰€è¡¨ç¤ºçš„è¿ç»­å­åºåˆ—ä¸ dp[i - 1]æ‰€è¡¨ç¤ºçš„è¿ç»­å­åºåˆ—ï¼ˆæœ‰å¯èƒ½ï¼‰å°±å·®ä¸€ä¸ª nums[i] ã€‚å‡è®¾æ•°ç»„ nums å…¨æ˜¯æ­£æ•°ï¼Œé‚£ä¹ˆä¸€å®šæœ‰ <code>dp[i] = dp[i - 1] + nums[i]ã€‚</code></li>
</ul>
<p>åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ dp[i - 1] æœ‰å¯èƒ½æ˜¯è´Ÿæ•°ï¼Œä¾‹å¦‚å‰å‡ ä¸ªæ•°éƒ½æ˜¯è´Ÿæ•°ï¼Œçªç„¶æ¥äº†ä¸€ä¸ªæ­£æ•°ã€‚</p>
<ul>
<li>äºæ˜¯åˆ†ç±»è®¨è®ºï¼š</li>
</ul>
</li>
<li><p>å¦‚æœ dp[i - 1] &gt;= 0ï¼Œé‚£ä¹ˆå¯ä»¥æŠŠ nums[i] ç›´æ¥æ¥åœ¨ dp[i - 1] è¡¨ç¤ºçš„é‚£ä¸ªæ•°ç»„çš„åé¢ã€‚</p>
</li>
<li><p>å¦‚æœ dp[i - 1] &lt; 0ï¼Œé‚£ä¹ˆåŠ ä¸Šå‰é¢çš„æ•°åè€Œè¶Šæ¥è¶Šå°äº†ï¼Œäºæ˜¯â€œå¦èµ·ç‚‰ç¶â€ï¼Œå•ç‹¬çš„ä¸€ä¸ª nums[i]ï¼Œå°±æ˜¯ dp[i]ã€‚</p>
</li>
<li><p>ä»¥ä¸Šä¸¤ç§æƒ…å†µçš„æœ€å¤§å€¼å°±æ˜¯ dp[i] çš„å€¼ï¼Œå†™å‡ºå¦‚ä¸‹çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">dp[i] = dp[i - 1] + nums[i],  if dp[i - 1] &gt;= 0 </span><br><span class="line"></span><br><span class="line">dp[i] = nums[i],  if  dp[i - 1] &lt; 0</span><br></pre></td></tr></tbody></table></figure>



</li>
</ul>
<ul>
<li>è®°ä¸ºâ€œçŠ¶æ€è½¬ç§»æ–¹ç¨‹ 1â€ã€‚</li>
</ul>
<ul>
<li>çŠ¶æ€è½¬ç§»æ–¹ç¨‹è¿˜å¯ä»¥è¿™æ ·å†™ï¼Œåæ­£æ±‚çš„æ˜¯æœ€å¤§å€¼ï¼Œä¹Ÿä¸ç”¨åˆ†ç±»è®¨è®ºäº†ï¼Œå°±è¿™ä¸¤ç§æƒ…å†µï¼Œå–æœ€å¤§å³å¯ï¼ˆå³è´ªå¿ƒæ€æƒ³ï¼Œä½¿æ¯ä¸€æ­¥éƒ½èƒ½è¾¾åˆ°æœ€ä¼˜è§£ï¼‰ï¼Œå› æ­¤è¿˜å¯ä»¥å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š</li>
</ul>
   <figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">dp[i] = max{nums[i], dp[i - 1] + nums[i]}</span><br></pre></td></tr></tbody></table></figure>



<ul>
<li><p>è®°ä¸ºâ€œçŠ¶æ€è½¬ç§»æ–¹ç¨‹ 2â€ã€‚</p>
</li>
<li><p>åŠ¨æ€è§„åˆ’çš„é—®é¢˜ç»å¸¸è¦åˆ†ç±»è®¨è®ºï¼Œè¿™æ˜¯å› ä¸ºåŠ¨æ€è§„åˆ’çš„é—®é¢˜æœ¬æ¥å°±æœ‰æœ€ä¼˜å­ç»“æ„çš„ç‰¹å¾ï¼Œå³å¤§é—®é¢˜çš„æœ€ä¼˜è§£é€šå¸¸ç”±å°é—®é¢˜çš„æœ€ä¼˜è§£å¾—åˆ°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦é€šè¿‡åˆ†ç±»è®¨è®ºï¼Œå¾—åˆ°å¤§é—®é¢˜çš„å°é—®é¢˜ç©¶ç«Ÿæ˜¯å“ªäº›ã€‚</p>
</li>
</ul>
<ul>
<li>ç¬¬ 3 æ­¥ï¼šæ€è€ƒåˆå§‹å€¼ dp[0] æ ¹æ®å®šä¹‰ï¼Œä¸€å®šä»¥ nums[0] ç»“å°¾ï¼Œå› æ­¤ dp[0] = nums[0]ã€‚</li>
</ul>
<ul>
<li>ç¬¬ 4 æ­¥ï¼šæ€è€ƒè¾“å‡º è¿™é‡ŒçŠ¶æ€çš„å®šä¹‰ä¸æ˜¯é¢˜ç›®ä¸­çš„é—®é¢˜çš„å®šä¹‰ï¼Œä¸èƒ½ç›´æ¥å°†æœ€åä¸€ä¸ªçŠ¶æ€è¿”å›å›å»ã€‚</li>
</ul>
<ul>
<li>è¾“å‡ºåº”è¯¥æ˜¯æŠŠæ‰€æœ‰çš„ dp[0]ã€dp[1]ã€â€¦â€¦ã€dp[n - 1] éƒ½çœ‹ä¸€éï¼Œå–æœ€å¤§å€¼ã€‚ </li>
</ul>
<p>çŠ¶æ€æ–¹ç¨‹ä¸€ä»£ç ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Max_sum_of_subsequences</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		<span class="comment">//int[] nums = { -2, 1, -3, 4, -1, 2, 1, -5, 4 };</span></span><br><span class="line">		<span class="keyword">int</span>[] nums = {<span class="number">2</span>,<span class="number">4</span>,-<span class="number">7</span>,<span class="number">5</span>,<span class="number">2</span>,-<span class="number">1</span>,<span class="number">2</span>,-<span class="number">4</span>,<span class="number">3</span>};</span><br><span class="line">		System.out.println(maxSubArray2(nums));</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxSubArray2</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> len = nums.length;</span><br><span class="line">		<span class="keyword">if</span>(len == <span class="number">0</span>) {</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">		dp[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) {</span><br><span class="line">			<span class="keyword">if</span>(dp[i - <span class="number">1</span>] &gt;= <span class="number">0</span>) {</span><br><span class="line">				dp[i] = dp[i - <span class="number">1</span>] + nums[i];</span><br><span class="line">			}<span class="keyword">else</span> {</span><br><span class="line">				dp[i] = nums[i];</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="comment">//æœ€åå¯»æ‰¾æœ€å¤§å€¼</span></span><br><span class="line">		<span class="keyword">int</span> res = dp[<span class="number">0</span>];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) {</span><br><span class="line">			res = Math.max(res, dp[i]);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ğŸ’¥çŠ¶æ€æ–¹ç¨‹2ï¼ˆè´ªå¿ƒè§£æ³•ï¼‰</p>
<p>è´ªå¿ƒ ä½¿ç”¨å•ä¸ªæ•°ç»„ä½œä¸ºè¾“å…¥æ¥æŸ¥æ‰¾æœ€å¤§ï¼ˆæˆ–æœ€å°ï¼‰å…ƒç´ ï¼ˆæˆ–æ€»å’Œï¼‰çš„é—®é¢˜ï¼Œ</p>
<p>è´ªå¿ƒç®—æ³•æ˜¯å¯ä»¥åœ¨çº¿æ€§æ—¶é—´è§£å†³çš„æ–¹æ³•ä¹‹ä¸€ã€‚</p>
<p>æ¯ä¸€æ­¥éƒ½é€‰æ‹©æœ€ä½³æ–¹æ¡ˆï¼Œåˆ°æœ€åå°±æ˜¯å…¨å±€æœ€ä¼˜çš„æ–¹æ¡ˆã€‚  </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Max_sum_of_subsequences</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		<span class="comment">//int[] nums = { -2, 1, -3, 4, -1, 2, 1, -5, 4 };</span></span><br><span class="line">		<span class="keyword">int</span>[] nums = {<span class="number">2</span>,<span class="number">4</span>,-<span class="number">7</span>,<span class="number">5</span>,<span class="number">2</span>,-<span class="number">1</span>,<span class="number">2</span>,-<span class="number">4</span>,<span class="number">3</span>};</span><br><span class="line">		System.out.println(maxSubArray3(nums));</span><br><span class="line">        System.out.println(maxSubArray4(nums));</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxSubArray3</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> len = nums.length;</span><br><span class="line">		<span class="keyword">if</span>(len == <span class="number">0</span>) {</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">		dp[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) {</span><br><span class="line">			dp[i] = Math.max(nums[i] + dp[i - <span class="number">1</span>], nums[i]);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">int</span> res = dp[<span class="number">0</span>];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) {</span><br><span class="line">			res = Math.max(res, dp[i]);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxSubArray4</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> len = nums.length;</span><br><span class="line">		<span class="keyword">if</span>(len == <span class="number">0</span>) {</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">int</span> pre = nums[<span class="number">0</span>]; <span class="comment">// ä»£è¡¨ä¸Šä¸€ä¸ªçŠ¶æ€çš„å€¼</span></span><br><span class="line">		<span class="keyword">int</span> res = pre;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) {</span><br><span class="line">			pre = Math.max(pre + nums[i], nums[i]);</span><br><span class="line">			res = Math.max(res, pre);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h5 id="ğŸ’¥åˆ†æ²»"><a href="#ğŸ’¥åˆ†æ²»" class="headerlink" title="ğŸ’¥åˆ†æ²»"></a>ğŸ’¥åˆ†æ²»</h5><p>è¿™ä¸ªæ˜¯ä½¿ç”¨åˆ†æ²»æ³•è§£å†³é—®é¢˜çš„å…¸å‹çš„ä¾‹å­ï¼Œå¹¶ä¸”å¯ä»¥ç”¨ä¸åˆå¹¶æ’åºç›¸ä¼¼çš„ç®—æ³•æ±‚è§£ã€‚</p>
<p>åˆ†æ²»æ³•çš„æ€è·¯æ˜¯è¿™æ ·çš„ï¼Œå…¶å®ä¹Ÿæ˜¯åˆ†ç±»è®¨è®ºã€‚ å°†é—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜å¹¶é€’å½’åœ°è§£å†³å®ƒä»¬ã€‚ åˆå¹¶å­é—®é¢˜çš„è§£ä»¥è·å¾—åŸå§‹é—®é¢˜çš„è§£</p>
<p>è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œä¸»è¦ç”±è¿™ä¸‰éƒ¨åˆ†å­åŒºé—´é‡Œå…ƒç´ çš„æœ€å¤§å’Œå¾—åˆ°ï¼š</p>
<ul>
<li><p>ç¬¬ 1 éƒ¨åˆ†ï¼šå­åŒºé—´ [left, mid]ï¼› </p>
</li>
<li><p>ç¬¬ 2 éƒ¨åˆ†ï¼šå­åŒºé—´ [mid + 1, right]ï¼› </p>
</li>
<li><p>ç¬¬ 3 éƒ¨åˆ†ï¼šåŒ…å«å­åŒºé—´ <code>[mid , mid + 1]</code> çš„å­åŒºé—´ï¼Œå³ <code>nums[mid]</code> ä¸ <code>nums[mid + 1]</code> ä¸€å®šä¼šè¢«é€‰å–ã€‚</p>
<p>å¯¹å®ƒä»¬ä¸‰è€…æ±‚æœ€å¤§å€¼å³å¯ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Max_sum_of_subsequences</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		<span class="comment">//int[] nums = { -2, 1, -3, 4, -1, 2, 1, -5, 4 };</span></span><br><span class="line">		<span class="keyword">int</span>[] nums = {<span class="number">2</span>,<span class="number">4</span>,-<span class="number">7</span>,<span class="number">5</span>,<span class="number">2</span>,-<span class="number">1</span>,<span class="number">2</span>,-<span class="number">4</span>,<span class="number">3</span>};</span><br><span class="line">        System.out.println(maxSubArray5(nums));</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxSubArray5</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> len = nums.length;</span><br><span class="line">		<span class="keyword">if</span>(len == <span class="number">0</span>) {</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		}</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> maxSubArraySum(nums, <span class="number">0</span>, len - <span class="number">1</span>);</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxSubArraySum</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>{</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">if</span>(left == right) {</span><br><span class="line">			<span class="keyword">return</span> nums[left];</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">int</span> mid = (left + right) &gt;&gt;&gt; <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">return</span> max3(maxSubArraySum(nums, left, mid), maxSubArraySum(nums, mid + <span class="number">1</span>, right), maxCrossingSum(nums, left, mid, right));</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxCrossingSum</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> left, <span class="keyword">int</span> mid, <span class="keyword">int</span> right)</span> </span>{</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="comment">//ä¸€å®šä¼šåŒ…å«nums[mid]è¿™ä¸ªå…ƒç´ </span></span><br><span class="line">		<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> leftSum = Integer.MIN_VALUE;</span><br><span class="line">		<span class="comment">//å·¦åŠè¾¹åŒ…å«nums[mid]å…ƒç´ ï¼Œæœ€å¤šå¯ä»¥åˆ°ä»€ä¹ˆåœ°æ–¹</span></span><br><span class="line">		<span class="comment">//èµ°åˆ°æœ€è¾¹ç•Œï¼Œçœ‹çœ‹æœ€å€¼æ˜¯ä»€ä¹ˆ</span></span><br><span class="line">		<span class="comment">//è®¡ç®—ä¸€midç»“å°¾çš„æœ€å¤§çš„å­æ•°ç»„çš„å’Œ</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = mid; i &gt;= left; i--) {</span><br><span class="line">			sum += nums[i];</span><br><span class="line">			<span class="keyword">if</span>(sum &gt; leftSum) {</span><br><span class="line">				leftSum = sum;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		sum = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> rightSum = Integer.MIN_VALUE;</span><br><span class="line">		<span class="comment">//å³åŠè¾¹ä¸åŒ…å«nums[mid]å…ƒç´ ï¼Œæœ€å¤šå¯ä»¥åˆ°ä»€ä¹ˆåœ°æ–¹</span></span><br><span class="line">		<span class="comment">//è®¡ç®—ä»¥mid+1å¼€å§‹çš„æœ€å¤§çš„å­æ•°ç»„çš„å’Œ</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = mid + <span class="number">1</span>; i &lt;= right; i++) {</span><br><span class="line">			sum += nums[i];</span><br><span class="line">			<span class="keyword">if</span>(sum &gt; rightSum) {</span><br><span class="line">				rightSum = sum;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> leftSum + rightSum;</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">max3</span><span class="params">(<span class="keyword">int</span> n1, <span class="keyword">int</span> n2, <span class="keyword">int</span> n3)</span> </span>{</span><br><span class="line">		<span class="keyword">return</span> Math.max(n1, Math.max(n2, n3));</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨ï¼š</p>
<ul>
<li>æ­¤åˆ†æ²»è§£æ³•éœ€è¦ä»”ç»†æ¨ç£¨æƒ³æƒ³åŸç†</li>
</ul>
<h2 id="ğŸå¤§æ•°ç›¸ä¹˜"><a href="#ğŸå¤§æ•°ç›¸ä¹˜" class="headerlink" title="ğŸå¤§æ•°ç›¸ä¹˜"></a>ğŸå¤§æ•°ç›¸ä¹˜</h2><p>ç”¨ä¸²çš„å½¢å¼è¡¨ç¤ºå¤§æ•°çš„ä¹˜æ³•ã€‚<br>å³æ±‚ç±»ä¼¼ï¼š<br>â€œ23234845847839461464158174814792â€ * â€œ6457847285617487843234535â€<br>è¦æ±‚ç»“æœè¿”å›ä¸€ä¸ªä¸²ã€‚</p>
<h4 id="ğŸ‚åˆ†æ-2"><a href="#ğŸ‚åˆ†æ-2" class="headerlink" title="ğŸ‚åˆ†æ"></a>ğŸ‚åˆ†æ</h4><p>è¿™é“é¢˜æ—¢ç„¶å†™åœ¨åˆ†æ²»é‡Œï¼Œé‚£å¿…ç„¶è·Ÿåˆ†æ²»è„±ä¸äº†å¹²ç³»ï¼Œå½“ç„¶ä¸€å¼€å§‹ä¹Ÿè¿˜æ˜¯æƒ³ä¸åˆ°åˆ†æ²»æ˜¯æ€ä¹ˆåˆ†æ²»çš„ï¼ˆç¡®å®å¥½éš¾ï¼‰ã€‚æ‰€è°“ä¸‡ç‰©çš†æš´åŠ›ï¼Œä¸€åˆ‡èƒ½æš´åŠ›å‡ºæ¥å°±å…ˆæš´åŠ›å‡ºæ¥ï¼Œåœ¨è¿›è¡Œä¸€æ­¥æ­¥ä¼˜åŒ–å‡çº§ã€‚å¥½åœ¨è¿™é“é¢˜æ²¡æœ‰è¦æ±‚ä¸èƒ½ä½¿ç”¨ä¹˜æ³•ï¼Œè¦æ˜¯é‚£æ ·çš„è¯å°±æ•´ä¸ªäººéƒ½ä¸å¥½äº†</p>
<h5 id="ğŸ’¥åˆ©ç”¨å¤§æ•°ç±»BigDecimal"><a href="#ğŸ’¥åˆ©ç”¨å¤§æ•°ç±»BigDecimal" class="headerlink" title="ğŸ’¥åˆ©ç”¨å¤§æ•°ç±»BigDecimal"></a>ğŸ’¥åˆ©ç”¨å¤§æ•°ç±»BigDecimal</h5><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">String_Multiple</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		System.out.println(multiply(<span class="string">"23234845847839461464158174814792"</span>, <span class="string">"6457847285617487843234535"</span>));</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * åˆ©ç”¨å¤§æ•°ç±»</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> num1</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> num2</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">multiply</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> BigDecimal(num1).multiply(<span class="keyword">new</span> BigDecimal(num2)).toString();</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h5 id="ğŸ’¥æ¨¡æ‹Ÿäººå·¥ä¹˜æ³•"><a href="#ğŸ’¥æ¨¡æ‹Ÿäººå·¥ä¹˜æ³•" class="headerlink" title="ğŸ’¥æ¨¡æ‹Ÿäººå·¥ä¹˜æ³•"></a>ğŸ’¥æ¨¡æ‹Ÿäººå·¥ä¹˜æ³•</h5><p>äººå·¥ä¹˜æ³•åœ¨åº§çš„å„ä½æ²¡æœ‰è°ä¸ä¼šå§ï¼Ÿï¼Ÿï¼Ÿæ‰‹å†™çš„è¿‡ç¨‹åˆ©ç”¨è®¡ç®—æœºå»ä¸€æ­¥æ­¥å®ç°ç½¢äº†ï¼ˆå¯¹äºå¤§æ•°ä¸å»ºè®®ä½¿ç”¨ï¼Œå¤æ‚åº¦è¾ƒé«˜ï¼‰</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">String_Multiple</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		System.out.println(multiply1(<span class="string">"23234845847839461464158174814792"</span>, <span class="string">"6457847285617487843234535"</span>));</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">multiply1</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (num1.equals(<span class="string">"0"</span>) || num2.equals(<span class="string">"0"</span>)) {</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// ä¿å­˜è®¡ç®—ç»“æœ</span></span><br><span class="line">        String res = <span class="string">"0"</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// num2 é€ä½ä¸ num1 ç›¸ä¹˜</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = num2.length() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">            <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// ä¿å­˜ num2 ç¬¬iä½æ•°å­—ä¸ num1 ç›¸ä¹˜çš„ç»“æœ</span></span><br><span class="line">            StringBuilder temp = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            <span class="comment">// è¡¥ 0 </span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; num2.length() - <span class="number">1</span> - i; j++) {</span><br><span class="line">                temp.append(<span class="number">0</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">int</span> n2 = num2.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// num2 çš„ç¬¬ i ä½æ•°å­— n2 ä¸ num1 ç›¸ä¹˜</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = num1.length() - <span class="number">1</span>; j &gt;= <span class="number">0</span> || carry != <span class="number">0</span>; j--) {</span><br><span class="line">                <span class="keyword">int</span> n1 = j &lt; <span class="number">0</span> ? <span class="number">0</span> : num1.charAt(j) - <span class="string">'0'</span>;</span><br><span class="line">                <span class="keyword">int</span> product = (n1 * n2 + carry) % <span class="number">10</span>;</span><br><span class="line">                temp.append(product);</span><br><span class="line">                carry = (n1 * n2 + carry) / <span class="number">10</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// å°†å½“å‰ç»“æœä¸æ–°è®¡ç®—çš„ç»“æœæ±‚å’Œä½œä¸ºæ–°çš„ç»“æœ</span></span><br><span class="line">            res = addStrings(res, temp.reverse().toString());</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹ä¸¤ä¸ªå­—ç¬¦ä¸²æ•°å­—è¿›è¡Œç›¸åŠ ï¼Œè¿”å›å­—ç¬¦ä¸²å½¢å¼çš„å’Œ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">addStrings</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">        StringBuilder builder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = num1.length() - <span class="number">1</span>, j = num2.length() - <span class="number">1</span>;</span><br><span class="line">             i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span> || carry != <span class="number">0</span>;</span><br><span class="line">             i--, j--) {</span><br><span class="line">            <span class="keyword">int</span> x = i &lt; <span class="number">0</span> ? <span class="number">0</span> : num1.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">int</span> y = j &lt; <span class="number">0</span> ? <span class="number">0</span> : num2.charAt(j) - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">int</span> sum = (x + y + carry) % <span class="number">10</span>;</span><br><span class="line">            builder.append(sum);</span><br><span class="line">            carry = (x + y + carry) / <span class="number">10</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> builder.reverse().toString();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h5 id="ğŸ’¥åˆ†æ²»-1"><a href="#ğŸ’¥åˆ†æ²»-1" class="headerlink" title="ğŸ’¥åˆ†æ²»"></a>ğŸ’¥åˆ†æ²»</h5><p>å¯¹äºå¤§æ•´æ•°çš„ä¹˜æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨åˆ†æ²»æ³•å°†å…¶ä¸¤ä¸ªå­—ç¬¦ä¸²ä»ä¸­é—´æˆªæ–­ï¼Œå°†ä¸¤å­—ç¬¦ä¸²çš„ååŠéƒ¨åˆ†ï¼Œè¿›è¡Œç›¸ä¹˜</p>
<p>å­ä¸²a1å’Œå­ä¸²a2ï¼Œç„¶åç»“æœå°±æ˜¯a1+0â€¦000+a2ã€‚é€’å½’çš„è¾¹ç•Œæ¡ä»¶å°±æ˜¯å½“æ¯ä¸ªå­ä¸²çš„é•¿åº¦éƒ½å°äºç­‰äº4çš„æ—¶å€™ï¼Œå°±å¯ä»¥é€šè¿‡ç›´æ¥ä¹˜æ³•è¿ç®—è¿”å›ç»“æœã€‚</p>
<p>å¤§æ•°ä¹˜æ³•ä¸­å¿…é¡»ç”¨åˆ°å¤§æ•°åŠ æ³•ï¼ˆè¿™é‡Œä¸ç”¨ä¸Šé¢å·²ç»å®ç°çš„å­—ç¬¦ä¸²ç›¸åŠ å‡½æ•°ï¼‰ï¼Œè€Œå¤§æ•°åŠ æ³•çš„æ€è·¯å’Œå¤§æ•°ä¹˜æ³•ä¹Ÿæ˜¯å¤§åŒå°å¼‚çš„ï¼Œå°†ä¸²aå’Œä¸²bçš„æœ«å°¾éƒ½åˆ‡å‡ºä¸€æ®µé•¿åº¦ä¸º8çš„å­ä¸²å‡ºæ¥ï¼Œaä»å·¦åˆ°å³å­ä¸²åˆ†åˆ«æ˜¯a1å’Œa2ï¼Œbäº¦ç„¶ã€‚ä¹‹åå°±æ˜¯è€ƒè™‘t=a2+b2çš„ä¸åŒæƒ…å†µï¼Œæœ‰å¯èƒ½t.size&lt;8ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±è¦é€šè¿‡è¡¥0çš„æ–¹å¼)å‡‘å¤Ÿ8ä½ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">String_Multiple</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		System.out.println(multiply2(<span class="string">"23234845847839461464158174814792"</span>, <span class="string">"6457847285617487843234535"</span>));</span><br><span class="line">	}</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">multiply2</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">    	<span class="keyword">if</span>(num1.length() &lt;= <span class="number">4</span> &amp;&amp; num2.length() &lt;= <span class="number">4</span>) {</span><br><span class="line">    		<span class="keyword">return</span> Integer.parseInt(num1) * Integer.parseInt(num2) + <span class="string">""</span>;</span><br><span class="line">    	}</span><br><span class="line">    	<span class="keyword">if</span>(num1.length() &gt; <span class="number">4</span>) {</span><br><span class="line">    		<span class="keyword">int</span> mid = num1.length() / <span class="number">2</span>;</span><br><span class="line">    		String s1 = num1.substring(<span class="number">0</span>, mid);</span><br><span class="line">    		String s2 = num1.substring(mid);</span><br><span class="line">    		<span class="keyword">return</span> add(multiply2(s1, num2) + add_zero(s2.length()), multiply2(s2, num2));</span><br><span class="line">    	}</span><br><span class="line">    	<span class="keyword">return</span> multiply2(num2, num1);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//è¡¥0</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">add_zero</span><span class="params">(<span class="keyword">int</span> x)</span> </span>{</span><br><span class="line">    	<span class="keyword">if</span>(x == <span class="number">0</span>) {</span><br><span class="line">    		<span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    	}</span><br><span class="line">    	<span class="keyword">if</span>(x == <span class="number">1</span>) {</span><br><span class="line">    		<span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">    	}</span><br><span class="line">    	<span class="keyword">return</span> add_zero(x / <span class="number">2</span>) + add_zero(x / <span class="number">2</span>) + add_zero(x % <span class="number">2</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    *å¤§æ•°ç›¸åŠ </span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">add</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">    	<span class="keyword">if</span>(num1.length() &lt;= <span class="number">8</span> &amp;&amp; num2.length() &lt;= <span class="number">8</span>) {</span><br><span class="line">    		<span class="keyword">return</span> Integer.parseInt(num1) + Integer.parseInt(num2) + <span class="string">""</span>;</span><br><span class="line">    	}</span><br><span class="line">    	String a1 = <span class="string">"0"</span>;</span><br><span class="line">    	String a2 = num1;</span><br><span class="line">    	<span class="keyword">if</span>(num1.length() &gt; <span class="number">8</span>) { <span class="comment">//å°†num1çš„ä½å…«ä½åˆ†ç¦»</span></span><br><span class="line">    		a1 = num1.substring(<span class="number">0</span>, num1.length() - <span class="number">8</span>);</span><br><span class="line">    		a2 = num1.substring(num1.length() - <span class="number">8</span>);</span><br><span class="line">    	}</span><br><span class="line">    	String b1 = <span class="string">"0"</span>;</span><br><span class="line">    	String b2 = num2;</span><br><span class="line">    	<span class="keyword">if</span>(num2.length() &gt; <span class="number">8</span>) {</span><br><span class="line">    		b1 = num2.substring(<span class="number">0</span>, num2.length() - <span class="number">8</span>);</span><br><span class="line">    		b2 = num2.substring(num2.length() - <span class="number">8</span>);</span><br><span class="line">    	}</span><br><span class="line">    	String k = add(a2, b2);</span><br><span class="line">    	<span class="keyword">if</span>(k.length() &gt; <span class="number">8</span>) {</span><br><span class="line">    		<span class="keyword">return</span> add(add(a1, b1), <span class="string">"1"</span>) + k.substring(<span class="number">1</span>);</span><br><span class="line">    	}</span><br><span class="line">    	<span class="keyword">if</span>(k.length() &lt; <span class="number">8</span>) {</span><br><span class="line">    		<span class="keyword">return</span> add(a1, b1) + add_zero(<span class="number">8</span> - k.length()) + k;</span><br><span class="line">    	}</span><br><span class="line">    	<span class="keyword">return</span> add(a1, b1) + k;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>è“æ¡¥æ¯</category>
      </categories>
      <tags>
        <tag>åˆ†æ²»</tag>
        <tag>äºŒåˆ†æœç´¢</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>2020_javaè“æ¡¥_æš‘å‡è®­ç»ƒ_è¿›åˆ¶(è¡¥)+åšå¼ˆé—®é¢˜</title>
    <url>/Game_problem/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸åšå¼ˆè®­ç»ƒ"><a href="#ğŸŒ¸åšå¼ˆè®­ç»ƒ" class="headerlink" title="ğŸŒ¸åšå¼ˆè®­ç»ƒ"></a>ğŸŒ¸åšå¼ˆè®­ç»ƒ</h2><p>è´´åœ¨å‰é¢ï¼Œæƒ³äº†è§£ä»€ä¹ˆæ˜¯åšå¼ˆè®ºï¼Œåšå¼ˆè®ºçš„åŸºæœ¬æ¸¸æˆå’ŒåŸºæœ¬è§£æ³•å¯æŸ¥çœ‹<a href="https://blog.csdn.net/qq_40167327/article/details/99334507?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.edu_weight&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.edu_weight" target="_blank" rel="noopener">éŸ¦æ³½é‘«ã®åšå®¢</a>å’Œ<a href="https://blog.csdn.net/Crystal_viv/article/details/79417137" target="_blank" rel="noopener">æƒ³è¦æˆä¸ºå¯Œå©†çš„æˆ‘æ¯å¤©éƒ½åœ¨åŠªåŠ›ã®åšå®¢</a></p>
<a id="more"></a>

<h2 id="ğŸExcelåœ°å€"><a href="#ğŸExcelåœ°å€" class="headerlink" title="ğŸExcelåœ°å€"></a>ğŸExcelåœ°å€</h2><p>Excelå•å…ƒæ ¼çš„åœ°å€è¡¨ç¤ºå¾ˆæœ‰è¶£ï¼Œå®ƒä½¿ç”¨å­—æ¯æ¥è¡¨ç¤ºåˆ—å·ï¼Œæ¯”å¦‚ï¼š</p>
<p>Aè¡¨ç¤ºç¬¬1åˆ—ï¼Œ</p>
<p>Bè¡¨ç¤ºç¬¬2åˆ—ï¼Œ</p>
<p>Zè¡¨ç¤ºç¬¬26åˆ—ï¼Œ</p>
<p>AAè¡¨ç¤ºç¬¬27åˆ—ï¼Œ</p>
<p>ABè¡¨ç¤ºç¬¬28åˆ—ï¼Œ</p>
<p>BAè¡¨ç¤ºç¬¬53åˆ—ï¼Œ</p>
<p>â€¦.</p>
<p>å½“ç„¶Excelçš„æœ€å¤§åˆ—å·æ˜¯æœ‰é™åº¦çš„ï¼Œæ‰€ä»¥è½¬æ¢èµ·æ¥ä¸éš¾ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æƒ³æŠŠè¿™ç§è¡¨ç¤ºæ³•ä¸€èˆ¬åŒ–ï¼Œå¯ä»¥æŠŠå¾ˆå¤§çš„æ•°å­—è½¬æ¢ä¸ºå¾ˆé•¿çš„å­—æ¯åºåˆ—å‘¢ï¼Ÿ</p>
<p>æœ¬é¢˜ç›®æ—¢æ˜¯è¦æ±‚å¯¹è¾“å…¥çš„æ•°å­—, è¾“å‡ºå…¶å¯¹åº”çš„Excelåœ°å€è¡¨ç¤ºæ–¹å¼ </p>
<p>ä¾‹å¦‚ï¼Œ</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">26</span><br><span class="line">ç¨‹åºåº”è¯¥è¾“å‡ºï¼š</span><br><span class="line">Z </span><br><span class="line">è¾“å…¥ï¼š</span><br><span class="line">2054</span><br><span class="line">åˆ™ç¨‹åºåº”è¯¥è¾“å‡ºï¼š</span><br><span class="line">BZZ</span><br></pre></td></tr></tbody></table></figure>



<p><strong>æˆ‘ä»¬çº¦å®šï¼Œè¾“å…¥çš„æ•´æ•°èŒƒå›´[1,2147483647]</strong></p>
<h4 id="ğŸ‚åˆ†æ"><a href="#ğŸ‚åˆ†æ" class="headerlink" title="ğŸ‚åˆ†æ"></a>ğŸ‚åˆ†æ</h4><p>æ­¤é¢˜æ˜¯è¿›åˆ¶ä¸æ•´é™¤çš„å˜ç§ï¼Œéœ€è¦ç†è§£é¢˜æ„æœ‰æ—¶ç”šè‡³å¯ä»¥é€†å‘æ€ç»´æ¨å¯¼</p>
<p>å¯æ‰¾å‡ºä»¥ä¸‹è§„å¾‹</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">a=1;</span><br><span class="line">	b=2;</span><br><span class="line">	z=26;</span><br><span class="line">	aa=1*26+1=27</span><br><span class="line">	ab=1*26+2=28;</span><br><span class="line">	az=1*26+26=52;</span><br><span class="line">	ba=2*26+1=53;</span><br><span class="line"> 	bb=2*26+2=54;</span><br><span class="line"> 	za=26*26+1=676;</span><br><span class="line"> 	zz=26*26+26=702</span><br><span class="line">	aaa=1*26*26+1*26+1=703;</span><br><span class="line">	aab=1*26*26+1*26+2=704;</span><br><span class="line">	aaz=1*26*26+1*26+26=728;</span><br><span class="line">	aba=1*26*26+2*26+1=729;</span><br><span class="line">	azz=1*26*26+26*26+26=1378;</span><br><span class="line">	baa=2*26*26+1*26+1=1379;</span><br><span class="line">bab=2*26*26+1*26+2=1379;</span><br><span class="line">baz=2*26*26+1*26+26=1404;</span><br><span class="line">bba=2*26*26+2*26+1=1405;</span><br><span class="line">....................</span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Excel_address</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		System.out.println(chage(n));</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">chage</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">		StringBuilder str = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">		<span class="keyword">while</span>(n &gt; <span class="number">0</span>) {</span><br><span class="line">			<span class="keyword">if</span>(n % <span class="number">26</span> == <span class="number">0</span>) { <span class="comment">//né™¤ä»¥26èƒ½æ•´é™¤è¯´æ˜æœ€åä¸€ä½å¿…å®šæ˜¯Z</span></span><br><span class="line">				str.append(<span class="string">"Z"</span>);</span><br><span class="line">				n /= <span class="number">26</span>;</span><br><span class="line">				n--; 	<span class="comment">//å‰é¢ä¸€è¡Œå·²ç»é™¤è¿‡26äº†ï¼Œæ‰€ä»¥è¦æŠŠé‚£ä¸€ä»½26å‡æ‰</span></span><br><span class="line">			}<span class="keyword">else</span> {</span><br><span class="line">				str.append((<span class="keyword">char</span>)(<span class="string">'A'</span> + n % <span class="number">26</span> - <span class="number">1</span>));</span><br><span class="line">				n /= <span class="number">26</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> str.reverse().toString();</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸé«˜åƒ§æ–—æ³•"><a href="#ğŸé«˜åƒ§æ–—æ³•" class="headerlink" title="ğŸé«˜åƒ§æ–—æ³•"></a>ğŸé«˜åƒ§æ–—æ³•</h2><p>å¤æ—¶ä¸§è‘¬æ´»åŠ¨ä¸­ç»å¸¸è¯·é«˜åƒ§åšæ³•äº‹ã€‚ä»ªå¼ç»“æŸåï¼Œæœ‰æ—¶ä¼šæœ‰â€œé«˜åƒ§æ–—æ³•â€çš„è¶£å‘³èŠ‚ç›®ï¼Œä»¥èˆ’ç¼“å‹æŠ‘çš„æ°”æ°›ã€‚  èŠ‚ç›®å¤§ç•¥æ­¥éª¤ä¸ºï¼šå…ˆç”¨ç²®é£Ÿï¼ˆä¸€èˆ¬æ˜¯ç¨»ç±³ï¼‰åœ¨åœ°ä¸Šâ€œç”»â€å‡ºè‹¥å¹²çº§å°é˜¶ï¼ˆè¡¨ç¤ºNçº§æµ®å± ï¼‰ã€‚åˆæœ‰è‹¥å¹²å°å’Œå°šéšæœºåœ°â€œç«™â€åœ¨æŸä¸ªå°é˜¶ä¸Šã€‚æœ€é«˜ä¸€çº§å°é˜¶å¿…é¡»ç«™äººï¼Œå…¶å®ƒä»»æ„ã€‚</p>
<p>ä¸¤ä½å‚åŠ æ–—æ³•çš„æ³•å¸ˆåˆ†åˆ«æŒ‡æŒ¥æŸä¸ªå°å’Œå°šå‘ä¸Šèµ°ä»»æ„å¤šçº§çš„å°é˜¶ï¼Œä½†ä¼šè¢«ç«™åœ¨é«˜çº§å°é˜¶ä¸Šçš„å°å’Œå°šé˜»æŒ¡ï¼Œä¸èƒ½è¶Šè¿‡ã€‚</p>
<p>ä¸¤ä¸ªå°å’Œå°šä¹Ÿä¸èƒ½ç«™åœ¨åŒä¸€å°é˜¶ï¼Œä¹Ÿä¸èƒ½å‘ä½çº§å°é˜¶ç§»åŠ¨ã€‚</p>
<p> ä¸¤æ³•å¸ˆè½®æµå‘å‡ºæŒ‡ä»¤ï¼Œæœ€åæ‰€æœ‰å°å’Œå°šå¿…ç„¶ä¼šéƒ½æŒ¤åœ¨é«˜æ®µå°é˜¶ï¼Œå†ä¹Ÿä¸èƒ½å‘ä¸Šç§»åŠ¨ã€‚è½®åˆ°å“ªä¸ªæ³•å¸ˆæŒ‡æŒ¥æ—¶æ— æ³•ç»§ç»­ç§»åŠ¨ï¼Œåˆ™æ¸¸æˆç»“æŸï¼Œè¯¥æ³•å¸ˆè®¤è¾“ã€‚</p>
<p> å¯¹äºå·²çŸ¥çš„å°é˜¶æ•°å’Œå°å’Œå°šçš„åˆ†å¸ƒä½ç½®ï¼Œè¯·ä½ è®¡ç®—å…ˆå‘æŒ‡ä»¤çš„æ³•å¸ˆè¯¥å¦‚ä½•å†³ç­–æ‰èƒ½ä¿è¯èƒœå‡ºã€‚</p>
<p>è¾“å…¥æ•°æ®ä¸ºä¸€è¡Œç”¨ç©ºæ ¼åˆ† å°šçš„ä½ç½®ã€‚å°é˜¶åºå·ä»1ç®—èµ·ï¼Œæ‰€ä»¥æœ€åä¸€ä¸ªå°å’Œå°šçš„ä½ç½®å³æ˜¯å°é˜¶çš„æ€»æ•°ã€‚ï¼ˆN&lt;100, å°é˜¶æ€»æ•°&lt;1000ï¼‰</p>
<p> è¾“å‡ºä¸ºä¸€è¡Œç”¨ç©ºæ ¼åˆ†å¼€çš„ä¸¤ä¸ªæ•´æ•°: A B, è¡¨ç¤ºæŠŠAä½ç½®çš„å°å’Œå°šç§»åŠ¨åˆ°Bä½ç½®ã€‚</p>
<p>è‹¥æœ‰å¤šä¸ªè§£ï¼Œè¾“å‡ºAå€¼è¾ƒå°çš„è§£ï¼Œè‹¥æ— è§£åˆ™è¾“å‡º-1ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">ç”¨æˆ·è¾“å…¥ï¼š</span><br><span class="line">1 5 9</span><br><span class="line">åˆ™ç¨‹åºè¾“å‡ºï¼š </span><br><span class="line">1 4</span><br><span class="line">å†å¦‚ï¼š</span><br><span class="line">ç”¨æˆ·è¾“å…¥ï¼š</span><br><span class="line">1 5 8 10</span><br><span class="line">åˆ™ç¨‹åºè¾“å‡ºï¼š</span><br><span class="line">1 3</span><br></pre></td></tr></tbody></table></figure>

<h4 id="ğŸ‚åˆ†æ-1"><a href="#ğŸ‚åˆ†æ-1" class="headerlink" title="ğŸ‚åˆ†æ"></a>ğŸ‚åˆ†æ</h4><h5 id="ğŸ‚å°¼å§†åšå¥•ï¼ˆNimm-Gameï¼‰"><a href="#ğŸ‚å°¼å§†åšå¥•ï¼ˆNimm-Gameï¼‰" class="headerlink" title="ğŸ‚å°¼å§†åšå¥•ï¼ˆNimm Gameï¼‰"></a>ğŸ‚å°¼å§†åšå¥•ï¼ˆNimm Gameï¼‰</h5><p>æœ‰ä¸‰å †å„è‹¥å¹²ä¸ªç‰©å“ï¼Œä¸¤ä¸ªäººè½®æµä»æŸä¸€å †å–ä»»æ„å¤šçš„ç‰©å“ï¼Œè§„å®šæ¯æ¬¡è‡³å°‘å–ä¸€ä¸ªï¼Œå¤šè€…ä¸é™ï¼Œæœ€åå–å…‰è€…å¾—èƒœã€‚è¿™ç§æƒ…å†µæœ€æœ‰æ„æ€ï¼Œå®ƒä¸äºŒè¿›åˆ¶æœ‰å¯†åˆ‡å…³ç³»ï¼Œæˆ‘ä»¬ç”¨ï¼ˆaï¼Œbï¼Œcï¼‰è¡¨ç¤ºæŸç§å±€åŠ¿ï¼Œé¦–å…ˆï¼ˆ0ï¼Œ0ï¼Œ0ï¼‰æ˜¾ç„¶æ˜¯å¥‡å¼‚å±€åŠ¿ï¼Œæ— è®ºè°é¢å¯¹å¥‡å¼‚å±€åŠ¿ï¼Œéƒ½å¿…ç„¶å¤±è´¥ã€‚ç¬¬äºŒç§å¥‡å¼‚å±€åŠ¿æ˜¯ï¼ˆ0ï¼Œnï¼Œnï¼‰ï¼Œåªè¦ä¸å¯¹æ‰‹æ‹¿èµ°ä¸€æ ·å¤šçš„ç‰©å“ï¼Œæœ€åéƒ½å°†å¯¼è‡´ï¼ˆ0ï¼Œ0ï¼Œ0ï¼‰ã€‚ä»”ç»†åˆ†æä¸€ä¸‹ï¼Œï¼ˆ1ï¼Œ2ï¼Œ3ï¼‰ä¹Ÿæ˜¯å¥‡å¼‚å±€åŠ¿ï¼Œæ— è®ºå¯¹æ‰‹å¦‚ä½•æ‹¿ï¼Œæ¥ä¸‹æ¥éƒ½å¯ä»¥å˜ä¸ºï¼ˆ0ï¼Œnï¼Œnï¼‰çš„æƒ…å½¢ã€‚è®¡ç®—æœºç®—æ³•é‡Œé¢æœ‰ä¸€ç§å«åšæŒ‰ä½æ¨¡2åŠ ï¼Œä¹Ÿå«åšå¼‚æˆ–çš„è¿ç®—ï¼ˆç›¸å¼‚ä¸º1,ç›¸åŒä¸º0ï¼‰ï¼Œæˆ‘ä»¬ç”¨ç¬¦å·ï¼ˆ+ï¼‰è¡¨ç¤ºè¿™ç§è¿ç®—ã€‚è¿™ç§è¿ç®—å’Œä¸€èˆ¬åŠ æ³•ä¸åŒçš„ä¸€ç‚¹æ˜¯1+1=0ã€‚å…ˆçœ‹ï¼ˆ1ï¼Œ2ï¼Œ3ï¼‰çš„æŒ‰ä½æ¨¡2åŠ çš„ç»“æœï¼š</p>
<p>1 =äºŒè¿›åˆ¶01</p>
<p>2 =äºŒè¿›åˆ¶10</p>
<p>3 =äºŒè¿›åˆ¶11 ï¼ˆ+ï¼‰</p>
<p>â€”â€”â€”â€”â€”â€”â€”</p>
<p>0 =äºŒè¿›åˆ¶00 ï¼ˆæ³¨æ„ä¸è¿›ä½ï¼‰</p>
<p>  å¯¹äºå¥‡å¼‚å±€åŠ¿ï¼ˆ0ï¼Œnï¼Œnï¼‰ä¹Ÿä¸€æ ·ï¼Œç»“æœä¹Ÿæ˜¯0ã€‚</p>
<p>  ä»»ä½•å¥‡å¼‚å±€åŠ¿ï¼ˆaï¼Œbï¼Œcï¼‰éƒ½æœ‰aï¼ˆ+ï¼‰bï¼ˆ+ï¼‰c =0ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬é¢å¯¹çš„æ˜¯ä¸€ä¸ªéå¥‡å¼‚å±€åŠ¿ï¼ˆaï¼Œbï¼Œcï¼‰ï¼Œè¦å¦‚ä½•å˜ä¸ºå¥‡å¼‚å±€åŠ¿å‘¢ï¼Ÿå‡è®¾ a &lt; b&lt; c,æˆ‘ä»¬åªè¦å°† c å˜ä¸º aï¼ˆ+ï¼‰b,å³å¯,å› ä¸ºæœ‰å¦‚ä¸‹çš„è¿ç®—ç»“æœ:aï¼ˆ+ï¼‰bï¼ˆ+ï¼‰(aï¼ˆ+ï¼‰b)=(aï¼ˆ+ï¼‰a)ï¼ˆ+ï¼‰(bï¼ˆ+ï¼‰b)=0ï¼ˆ+ï¼‰0=0ã€‚è¦å°†c å˜ä¸ºaï¼ˆ+ï¼‰bï¼Œåªè¦ä» cä¸­å‡å» c-ï¼ˆaï¼ˆ+ï¼‰bï¼‰å³å¯ã€‚</p>
<p>æ­¤é¢˜ä¾¿æ˜¯å°¼å§†åšå¼ˆçš„å…¸å‹ä¾‹å­ï¼Œ<strong>åªè¦æ‰¾åˆ°æ€æ ·æ”¹å˜ä½¿å¯ç§»åŠ¨çš„å°é˜¶æ•°ä¹‹é—´å¼‚æˆ–ç›¸åŠ ä¹‹åç»“æœä¸º0å°±æ˜¯å¿…èµ¢å±€é¢ï¼Œå¦‚æœæ²¡æœ‰ç§»åŠ¨ä¹‹å‰å¼‚æˆ–ç›¸åŠ çš„å€¼å°±æ˜¯0ï¼Œé‚£ä¹ˆæ˜¯å¿…è¾“å±€é¢</strong>ï¼Œå…ˆæ±‚å‡ºnä¸ªå’Œå°šä¸­æ¯ä¸ªå’Œå°šå¯ä»¥å‘ä¸Šç§»åŠ¨çš„å°é˜¶æ•°é‡ï¼Œå†å°†å’Œå°šä¸¤ä¸¤åˆ†ç»„ï¼Œ1å’Œ2ã€3å’Œ4ã€â€¦â€¦ã€2i-1å’Œ2iï¼Œåªéœ€è¦æ±‚å‡ºä¸¤ä¸¤åˆ†ç»„ä¹‹é—´å°é˜¶æ•°çš„å¼‚æˆ–ç›¸åŠ å€¼å°±å¯ä»¥åˆ¤æ–­æ˜¯å¦ä¸ºå¿…èµ¢å±€é¢ï¼Œå› ä¸ºç§»åŠ¨3å¯ä»¥é€šè¿‡ç§»åŠ¨2è¾¾åˆ°åŒæ ·çš„å¼‚æˆ–ç»“æœï¼ŒåŒç†ç§»åŠ¨4ä¹Ÿå¯ä»¥é€šè¿‡ç§»åŠ¨5è¾¾åˆ°åŒæ ·çš„å¼‚æˆ–ç»“æœï¼Œæ‰€ä»¥æœ‰å½±å“çš„åªæœ‰ä¸¤ä¸¤ç»„åˆä¹‹é—´çš„å°é˜¶æ•°ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Nimm_Game</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		String[] nim = input.nextLine().split(<span class="string">" "</span>);</span><br><span class="line">		<span class="keyword">int</span>[] address = <span class="keyword">new</span> <span class="keyword">int</span>[nim.length]; <span class="comment">// ç”¨æ¥å­˜æ”¾å’Œå°šç«™çš„é˜¶æ¢¯çš„ä½ç½®</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; address.length; i++) {</span><br><span class="line">			address[i] = Integer.parseInt(nim[i]);</span><br><span class="line">		}</span><br><span class="line">		game(address);</span><br><span class="line">		input.close();</span><br><span class="line">	}	</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">game</span><span class="params">(<span class="keyword">int</span>[] address)</span> </span>{</span><br><span class="line">		<span class="comment">//ç”¨äºå­˜æ”¾å’Œå°šä¹‹é—´çš„é˜¶æ¢¯æ•°é‡</span></span><br><span class="line">		<span class="keyword">int</span>[] count = <span class="keyword">new</span> <span class="keyword">int</span>[address.length];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; address.length; i++) {</span><br><span class="line">			count[i - <span class="number">1</span>] = address[i] - address[i - <span class="number">1</span>] - <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">int</span> sum = <span class="number">0</span>; <span class="comment">// ç”¨äºè®°å½•èµ°çš„æ­¥æ•°çš„å¼‚æˆ–å’Œ</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count.length; i += <span class="number">2</span>) {</span><br><span class="line">			sum ^= count[i]; <span class="comment">//å¼‚æˆ–å’Œ</span></span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(sum == <span class="number">0</span>) {<span class="comment">// å¦‚æœå¼‚æˆ–å’Œç»“æœä¸º0ï¼Œåˆ™å¿…è¾“</span></span><br><span class="line">			System.out.println(<span class="string">"å¿…è¾“ï¼"</span>);</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; address.length; i++) { <span class="comment">// æ‰€æœ‰å’Œå°šçš„ç§»åŠ¨ï¼Œä¸€ä¸ªä¸€ä¸ªçš„è¿›è¡Œæšä¸¾</span></span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= count[i]; j++) { <span class="comment">//ä»ç¬¬ä¸€èŠ‚å°é˜¶å¼€å§‹è¿›è¡Œæšä¸¾</span></span><br><span class="line">					count[i] -= j;</span><br><span class="line">					<span class="keyword">if</span>(i &gt; <span class="number">0</span>) {</span><br><span class="line">						count[i - <span class="number">1</span>] += j;</span><br><span class="line">					}</span><br><span class="line">					sum = <span class="number">0</span>; <span class="comment">//æ¯èµ°ä¸€æ­¥é‡æ–°è®¡ç®—å¼‚æˆ–å€¼</span></span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; count.length; k += <span class="number">2</span>) {</span><br><span class="line">						sum ^= count[k];</span><br><span class="line">					}</span><br><span class="line">					<span class="keyword">if</span>(sum == <span class="number">0</span>) {</span><br><span class="line">						System.out.println(address[i] + <span class="string">" "</span> + (address[i] + j));</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					}</span><br><span class="line">					<span class="comment">//å›æº¯</span></span><br><span class="line">					count[i] += j;</span><br><span class="line">					<span class="keyword">if</span>(i &gt; <span class="number">0</span>) {</span><br><span class="line">						count[i - <span class="number">1</span>] -= j;</span><br><span class="line">					}</span><br><span class="line">				}</span><br><span class="line">				<span class="keyword">if</span>(sum == <span class="number">0</span>) {<span class="comment">//ç‰¹åˆ¤ï¼Œå¯åŠ å¯ä¸åŠ </span></span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸé«˜æ–¯æ—¥è®°"><a href="#ğŸé«˜æ–¯æ—¥è®°" class="headerlink" title="ğŸé«˜æ–¯æ—¥è®°"></a>ğŸé«˜æ–¯æ—¥è®°</h2><p>å¤§æ•°å­¦å®¶é«˜æ–¯æœ‰ä¸ªå¥½ä¹ æƒ¯ï¼šæ— è®ºå¦‚ä½•éƒ½è¦è®°æ—¥è®°ã€‚</p>
<p>ä»–çš„æ—¥è®°æœ‰ä¸ªä¸ä¼—ä¸åŒçš„åœ°æ–¹ï¼Œä»–ä»ä¸æ³¨æ˜å¹´æœˆæ—¥ï¼Œè€Œæ˜¯ç”¨ä¸€ä¸ªæ•´æ•°ä»£æ›¿ï¼Œæ¯”å¦‚ï¼š4210</p>
<p>åæ¥äººä»¬çŸ¥é“ï¼Œé‚£ä¸ªæ•´æ•°å°±æ˜¯æ—¥æœŸï¼Œå®ƒè¡¨ç¤ºé‚£ä¸€å¤©æ˜¯é«˜æ–¯å‡ºç”Ÿåçš„ç¬¬å‡ å¤©ã€‚è¿™æˆ–è®¸ä¹Ÿæ˜¯ä¸ªå¥½ä¹ æƒ¯ï¼Œå®ƒæ—¶æ—¶åˆ»åˆ»æé†’ç€ä¸»äººï¼šæ—¥å­åˆè¿‡å»ä¸€å¤©ï¼Œè¿˜æœ‰å¤šå°‘æ—¶å…‰å¯ä»¥ç”¨äºæµªè´¹å‘¢ </p>
<p>é«˜æ–¯å‡ºç”Ÿäºï¼š1777å¹´4æœˆ30æ—¥ã€‚</p>
<p>åœ¨é«˜æ–¯å‘ç°çš„ä¸€ä¸ªé‡è¦å®šç†çš„æ—¥è®°ä¸Šæ ‡æ³¨ç€ï¼š5343ï¼Œå› æ­¤å¯ç®—å‡ºé‚£å¤©æ˜¯ï¼š1791å¹´12æœˆ15æ—¥ã€‚</p>
<p>é«˜æ–¯è·å¾—åšå£«å­¦ä½çš„é‚£å¤©æ—¥è®°ä¸Šæ ‡ç€ï¼š8113  </p>
<p>è¯·ä½ ç®—å‡ºé«˜æ–¯è·å¾—åšå£«å­¦ä½çš„å¹´æœˆæ—¥ã€‚</p>
<h4 id="ğŸ‚åˆ†æ-2"><a href="#ğŸ‚åˆ†æ-2" class="headerlink" title="ğŸ‚åˆ†æ"></a>ğŸ‚åˆ†æ</h4><p>æ­¤é¢˜æ²¡ä»€ä¹ˆå¥½åˆ†æçš„ï¼Œå•çº¯çš„æš´åŠ›æ¨¡æ‹Ÿæ—¥æœŸï¼Œä¸€å¤©å¤©çš„åŠ ä¸Šå»å°±okäº†ï¼ˆèƒ½ç”¨Excelé¦–ç”¨Excelï¼Œèƒ½ç”¨APIé¦–ç”¨APIï¼‰</p>
<p>åˆ©ç”¨API</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Gauss_Diary</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		getDate();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getDate</span><span class="params">()</span> </span>{</span><br><span class="line">		Calendar c = Calendar.getInstance();</span><br><span class="line">		c.set(<span class="number">1777</span>, <span class="number">04</span>, <span class="number">30</span>);</span><br><span class="line">		c.add(Calendar.DATE, <span class="number">8113</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">int</span> year = c.get(Calendar.YEAR);</span><br><span class="line">		<span class="keyword">int</span> month = c.get(Calendar.MONTH);</span><br><span class="line">		String m = <span class="string">""</span>;</span><br><span class="line">		<span class="keyword">if</span>(month &lt; <span class="number">10</span>) {</span><br><span class="line">			m = <span class="string">"0"</span> + month;</span><br><span class="line"> 		}<span class="keyword">else</span> {</span><br><span class="line"> 			m += month;</span><br><span class="line"> 		}</span><br><span class="line">		<span class="keyword">int</span> day = c.get(Calendar.DATE);</span><br><span class="line">		System.out.println(year + <span class="string">"-"</span> + m + <span class="string">"-"</span> + day);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Gauss_Diary</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		getDate2();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getDate2</span><span class="params">()</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> year = <span class="number">1777</span>, month = <span class="number">4</span>, day = <span class="number">30</span>;</span><br><span class="line">		<span class="keyword">int</span> num = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span>(num &lt; <span class="number">8113</span>) {</span><br><span class="line">			<span class="keyword">if</span>(month == <span class="number">12</span> &amp;&amp; day == <span class="number">31</span>) {</span><br><span class="line">				year++;</span><br><span class="line">				month = <span class="number">1</span>;</span><br><span class="line">				day = <span class="number">1</span>;</span><br><span class="line">			}<span class="keyword">else</span> <span class="keyword">if</span>(day == getDays(year, month)) {</span><br><span class="line">				month++;</span><br><span class="line">				day = <span class="number">1</span>;</span><br><span class="line">			}<span class="keyword">else</span> {</span><br><span class="line">				day++;</span><br><span class="line">			}</span><br><span class="line">			num++;</span><br><span class="line">		}</span><br><span class="line">		String m = <span class="string">""</span>;</span><br><span class="line">		<span class="keyword">if</span>(month &lt; <span class="number">10</span>) {</span><br><span class="line">			m = <span class="string">"0"</span> + month;</span><br><span class="line"> 		}<span class="keyword">else</span> {</span><br><span class="line"> 			m += month;</span><br><span class="line"> 		}</span><br><span class="line">		System.out.println(year + <span class="string">"-"</span> + m + <span class="string">"-"</span> + day);</span><br><span class="line">	}</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * åˆ¤æ–­é—°å¹´</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> year</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isleap</span><span class="params">(<span class="keyword">int</span> year)</span> </span>{</span><br><span class="line">		<span class="keyword">return</span> (year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>) || year % <span class="number">400</span> == <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * è®¡ç®—å½“å¹´æŸæœˆçš„å¤©æ•°</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> year</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> month</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getDays</span><span class="params">(<span class="keyword">int</span> year, <span class="keyword">int</span> month)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> days;</span><br><span class="line">		<span class="keyword">switch</span>(month) {</span><br><span class="line">		<span class="keyword">case</span> <span class="number">2</span>: {</span><br><span class="line">			<span class="keyword">if</span>(isleap(year)) {</span><br><span class="line">				days = <span class="number">29</span>;</span><br><span class="line">			}<span class="keyword">else</span> {</span><br><span class="line">				days = <span class="number">28</span>;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">		<span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">		<span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">		<span class="keyword">case</span> <span class="number">11</span>: {</span><br><span class="line">			days = <span class="number">30</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">default</span> :</span><br><span class="line">			days = <span class="number">31</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> days;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸå¤ä»£èµŒå±€"><a href="#ğŸå¤ä»£èµŒå±€" class="headerlink" title="ğŸå¤ä»£èµŒå±€"></a>ğŸå¤ä»£èµŒå±€</h2><p>ä¿—è¯è¯´ï¼šåèµŒä¹è¾“ã€‚å› ä¸ºå¤§å¤šæ•°èµŒå±€çš„èƒŒåéƒ½è—æœ‰é˜´è°‹ã€‚</p>
<p>ä¸è¿‡ä¹Ÿä¸å°½ç„¶ï¼Œæœ‰äº›èµŒå±€èƒŒåè—æœ‰çš„æ˜¯ï¼šâ€œé˜³è°‹â€ã€‚</p>
<p>æœ‰ä¸€ç§èµŒå±€æ˜¯è¿™æ ·çš„ï¼šæ¡Œå­ä¸Šæ”¾å…­ä¸ªåŒ£å­ï¼Œç¼–å·æ˜¯1è‡³6ã€‚</p>
<p>å¤šä½å‚ä¸è€…ï¼ˆä»¥ä¸‹ç§°ç©å®¶ï¼‰å¯ä»¥æŠŠä»»æ„æ•°é‡çš„é’±æŠ¼åœ¨æŸä¸ªç¼–å·çš„åŒ£å­ä¸Šã€‚</p>
<p>æ‰€æœ‰ç©å®¶éƒ½ä¸‹æ³¨åï¼Œåº„å®¶åŒæ—¶æ·å‡º3ä¸ªéª°å­ï¼ˆéª°å­ä¸Šçš„æ•°å­—éƒ½æ˜¯1è‡³6ï¼‰ã€‚</p>
<p>è¾“èµ¢è§„åˆ™å¦‚ä¸‹ï¼š</p>
<p>1.è‹¥åªæœ‰1ä¸ªéª°å­ä¸Šçš„æ•°å­—ä¸ç©å®¶æ‰€æŠ¼æ³¨çš„åŒ£å­å·ç›¸åŒï¼Œåˆ™ç©å®¶æ‹¿å›è‡ªå·±çš„æŠ¼æ³¨ï¼Œåº„å®¶æŒ‰ä»–æŠ¼æ³¨çš„æ•°ç›®èµ”ä»˜ï¼ˆå³1æ¯”1çš„èµ”ç‡ï¼‰ã€‚</p>
<p>2.è‹¥2ä¸ªéª°å­ä¸Šçš„æ•°å­—ä¸ç©å®¶æ‰€æŠ¼æ³¨çš„åŒ£å­å·ç›¸åŒï¼Œåˆ™ç©å®¶æ‹¿å›è‡ªå·±çš„æŠ¼æ³¨ï¼Œåº„å®¶æŒ‰ä»–æŠ¼æ³¨çš„æ•°ç›®çš„2å€èµ”ä»˜ï¼ˆå³1æ¯”2çš„èµ”ç‡ï¼‰ã€‚</p>
<p>3.è‹¥3ä¸ªéª°å­ä¸Šçš„æ•°å­—éƒ½ä¸ç©å®¶æŠ¼æ³¨çš„åŒ£å­å·ç›¸åŒï¼Œåˆ™ç©å®¶æ‹¿å›è‡ªå·±çš„æŠ¼æ³¨ï¼Œåº„å®¶æŒ‰ä»–æŠ¼æ³¨çš„æ•°ç›®çš„10å€èµ”ä»˜ï¼ˆå³1æ¯”10çš„èµ”ç‡ï¼‰ã€‚</p>
<p>ä¹ä¸€çœ‹èµ·æ¥ï¼Œå¥½åƒè§„åˆ™å¯¹ç©å®¶æœ‰åˆ©ï¼Œåº„å®¶åƒäºã€‚ä½†ç»è¿‡å¤§é‡å®æˆ˜ï¼Œä¼šå‘ç°å±€é¢å¾ˆéš¾è¯´ï¼Œäºæ˜¯æ€€ç–‘æ˜¯å¦åº„å®¶åšäº†æ‰‹è„šï¼Œåº„å®¶åˆ™ååˆ†çˆ½å¿«åœ°è¯´ï¼šå¯ä»¥ç”±ç©å®¶æä¾›éª°å­ï¼Œç”šè‡³ä¹Ÿå¯ä»¥ç”±ç©å®¶æ¥æŠ•æ·éª°å­ã€‚</p>
<p>ä½ çš„ä»»åŠ¡æ˜¯ï¼šé€šè¿‡ç¼–ç¨‹æ¨¡æ‹Ÿè¯¥è¿‡ç¨‹ã€‚æ¨¡æ‹Ÿ50ä¸‡æ¬¡ï¼Œå‡å®šåªæœ‰1ä¸ªç©å®¶ï¼Œä»–æ¯æ¬¡çš„æŠ¼æ³¨éƒ½æ˜¯1å…ƒé’±ï¼Œå…¶æŠ¼æ³¨çš„åŒ£å­å·æ˜¯éšæœºçš„ã€‚å†å‡å®šåº„å®¶æœ‰è¶³å¤Ÿçš„èµ„é‡‘ç”¨äºèµ”ä»˜ã€‚æœ€åè®¡ç®—å‡ºåº„å®¶çš„ç›ˆç‡ï¼ˆåº„å®¶ç›ˆåˆ©é‡‘é¢/æŠ¼æ³¨æ€»é‡‘é¢ï¼‰ã€‚</p>
<h4 id="ğŸ‚åˆ†æ-3"><a href="#ğŸ‚åˆ†æ-3" class="headerlink" title="ğŸ‚åˆ†æ"></a>ğŸ‚åˆ†æ</h4><p>ç›´æ¥æ¨¡æ‹ŸèµŒåšè¿‡ç¨‹</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Ancient_Gambling</span> </span>{</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">int</span> sum = <span class="number">0</span>; <span class="comment">//æŠ¼æ³¨æ€»é’±æ•°</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> m = <span class="number">1</span>;	<span class="comment">// æŠ¼æ³¨éƒ½æ˜¯1å…ƒé’±</span></span><br><span class="line">		<span class="keyword">int</span> n;		<span class="comment">// æŠ¼æ³¨åŒ£å­å·</span></span><br><span class="line">		<span class="keyword">int</span> a;		<span class="comment">// ç¬¬ä¸€ä¸ªéª°å­</span></span><br><span class="line">		<span class="keyword">int</span> b;		<span class="comment">// ç¬¬äºŒä¸ªéª°å­</span></span><br><span class="line">		<span class="keyword">int</span> c;		<span class="comment">// ç¬¬ä¸‰ä¸ªéª°å­</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">500000</span>; i++) {</span><br><span class="line">			n = (<span class="keyword">int</span>)(Math.random() * <span class="number">6</span> + <span class="number">1</span>);</span><br><span class="line">			a = (<span class="keyword">int</span>)(Math.random() * <span class="number">6</span> + <span class="number">1</span>);</span><br><span class="line">			b = (<span class="keyword">int</span>)(Math.random() * <span class="number">6</span> + <span class="number">1</span>);</span><br><span class="line">			c = (<span class="keyword">int</span>)(Math.random() * <span class="number">6</span> + <span class="number">1</span>);</span><br><span class="line">			gamble(m, n, a, b, c);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">double</span> f = sum / <span class="number">500000.0</span>;</span><br><span class="line">		System.out.println(f);</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">gamble</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n, <span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> c)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(n == a &amp;&amp; n == b &amp;&amp; n == c) {</span><br><span class="line">			sum -= m * <span class="number">10</span>;</span><br><span class="line">		}<span class="keyword">else</span> <span class="keyword">if</span>((n == a &amp;&amp; n == b) || (n == a &amp;&amp; n == c) || (n == b &amp;&amp; n == c)) {</span><br><span class="line">			sum -= m * <span class="number">2</span>;</span><br><span class="line">		}<span class="keyword">else</span> <span class="keyword">if</span>(n == a || n == b || n == c) {</span><br><span class="line">			sum -= m;</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			sum += m;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸå›½åº†èŠ‚"><a href="#ğŸå›½åº†èŠ‚" class="headerlink" title="ğŸå›½åº†èŠ‚"></a>ğŸå›½åº†èŠ‚</h2><p>1949å¹´çš„å›½åº†èŠ‚ï¼ˆ10æœˆ1æ—¥ï¼‰æ˜¯æ˜ŸæœŸå…­ã€‚ </p>
<p>ä»Šå¹´ï¼ˆ2012ï¼‰çš„å›½åº†èŠ‚æ˜¯æ˜ŸæœŸä¸€ã€‚</p>
<p>é‚£ä¹ˆï¼Œä»å»ºå›½åˆ°ç°åœ¨ï¼Œæœ‰å‡ æ¬¡å›½åº†èŠ‚æ­£å¥½æ˜¯æ˜ŸæœŸæ—¥å‘¢ï¼Ÿ</p>
<p>åªè¦ç­”æ¡ˆï¼Œä¸é™æ‰‹æ®µï¼</p>
<p>å¯ä»¥ç”¨windowsæ—¥å†ï¼Œwindowsè®¡ç®—å™¨ï¼ŒExcelå…¬å¼ï¼Œã€‚ã€‚ã€‚ã€‚ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç¼–ç¨‹ï¼</p>
<h4 id="ğŸ‚æ™®é€šè§£æ³•"><a href="#ğŸ‚æ™®é€šè§£æ³•" class="headerlink" title="ğŸ‚æ™®é€šè§£æ³•"></a>ğŸ‚æ™®é€šè§£æ³•</h4><p>åˆ©ç”¨å½“å¹´10æœˆ1æ—¥åˆ°1949å¹´10æœˆ2æ—¥çš„æ€»å¤©æ•°è®¡ç®—æ¨¡ä»¥7æ˜¯å¦ä¸º0ï¼Œå¦‚æœæ˜¯åˆ™ä»£è¡¨é‚£å¤©ä¸ºæ˜ŸæœŸæ—¥</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">National_day</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">// 1949å¹´çš„å›½åº†èŠ‚ï¼ˆ10æœˆ2æ—¥ï¼‰æ˜¯æ˜ŸæœŸæ—¥ã€‚ </span></span><br><span class="line">		<span class="comment">// å¾—åˆ°è¿™å¹´10æœˆ2å·åçš„çš„å‰©ä½™å¤©æ•°</span></span><br><span class="line">		<span class="keyword">int</span> sum = getCal(<span class="number">1949</span>, <span class="number">12</span>, <span class="number">31</span>) - getCal(<span class="number">1949</span>, <span class="number">10</span>, <span class="number">2</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1950</span>; i &lt; <span class="number">2012</span>; i++) {</span><br><span class="line">			sum += getCal(i, <span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line">			<span class="keyword">if</span>(sum % <span class="number">7</span> == <span class="number">0</span>) {</span><br><span class="line">				System.out.println(i + <span class="string">"å¹´10æœˆ1æ—¥"</span>);</span><br><span class="line">				count++;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		System.out.println(<span class="string">"æ€»æ•°ï¼š"</span> + count);</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * åˆ¤æ–­é—°å¹´</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> year</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isleap</span><span class="params">(<span class="keyword">int</span> year)</span> </span>{</span><br><span class="line">		<span class="keyword">return</span> (year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>) || year % <span class="number">400</span> == <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * è®¡ç®—å½“å¹´å½“æ—¥å‰çš„æ€»å¤©æ•°</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> year</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> month</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> day</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getCal</span><span class="params">(<span class="keyword">int</span> year, <span class="keyword">int</span> month, <span class="keyword">int</span> day)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span>[][] days = {{<span class="number">0</span>, <span class="number">31</span>, <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>},{<span class="number">0</span>, <span class="number">31</span>, <span class="number">29</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>}};</span><br><span class="line">		<span class="keyword">int</span> run = <span class="number">0</span>;<span class="comment">//é»˜è®¤ä¸æ˜¯é—°å¹´</span></span><br><span class="line">		<span class="keyword">if</span>(isleap(year)) {</span><br><span class="line">			run = <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">int</span> sum = day;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; month; i++) {</span><br><span class="line">			sum += days[run][i];</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> sum;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h4 id="ğŸ‚è§£æ³•äºŒï¼šåŸºå§†æ‹‰å°”æ£®è®¡ç®—å…¬å¼"><a href="#ğŸ‚è§£æ³•äºŒï¼šåŸºå§†æ‹‰å°”æ£®è®¡ç®—å…¬å¼" class="headerlink" title="ğŸ‚è§£æ³•äºŒï¼šåŸºå§†æ‹‰å°”æ£®è®¡ç®—å…¬å¼"></a>ğŸ‚è§£æ³•äºŒï¼šåŸºå§†æ‹‰å°”æ£®è®¡ç®—å…¬å¼</h4><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">National_day</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		search();</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 *  åŸºå§†æ‹‰å°”æ£®è®¡ç®—å…¬å¼</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">search</span><span class="params">()</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1950</span>; i &lt; <span class="number">2012</span>; i++) {</span><br><span class="line">			<span class="keyword">if</span>(jim(i, <span class="number">10</span>, <span class="number">1</span>) == <span class="number">6</span>) {</span><br><span class="line">				System.out.println(i + <span class="string">"å¹´10æœˆ1æ—¥"</span>);</span><br><span class="line">				count++;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		System.out.println(<span class="string">"æ€»æ•°ï¼š"</span> + count);</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">jim</span><span class="params">(<span class="keyword">int</span> year, <span class="keyword">int</span> month, <span class="keyword">int</span> day)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(month == <span class="number">1</span> || month == <span class="number">2</span>) {</span><br><span class="line">			month += <span class="number">12</span>;</span><br><span class="line">			year--;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> (day + <span class="number">2</span> * month + <span class="number">3</span> * (month + <span class="number">1</span>) / <span class="number">5</span> + year + year / <span class="number">4</span> - year / <span class="number">100</span> + year / <span class="number">400</span>) % <span class="number">7</span>;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>





<h2 id="ğŸç«æŸ´æ¸¸æˆ"><a href="#ğŸç«æŸ´æ¸¸æˆ" class="headerlink" title="ğŸç«æŸ´æ¸¸æˆ"></a>ğŸç«æŸ´æ¸¸æˆ</h2><p>è¿™æ˜¯ä¸€ä¸ªçºµæ¨ªç«æŸ´æ£’æ¸¸æˆã€‚</p>
<p>å¦‚è¡¨</p>
<table>
<thead>
<tr>
<th>3</th>
<th></th>
<th></th>
<th>â€”</th>
<th align="center">|</th>
</tr>
</thead>
<tbody><tr>
<td>2</td>
<td>â€”</td>
<td></td>
<td></td>
<td align="center"></td>
</tr>
<tr>
<td>1</td>
<td></td>
<td>â€”</td>
<td></td>
<td align="center"></td>
</tr>
<tr>
<td></td>
<td>A</td>
<td>B</td>
<td>C</td>
<td align="center">D</td>
</tr>
</tbody></table>
<p>åœ¨3x4çš„æ ¼å­ä¸­ï¼Œæ¸¸æˆçš„åŒæ–¹è½®æµæ”¾ç½®ç«æŸ´æ£’ã€‚</p>
<p>å…¶è§„åˆ™æ˜¯ï¼š</p>
<ol>
<li><p>ä¸èƒ½æ”¾ç½®åœ¨å·²ç»æ”¾ç½®äº†ç«æŸ´æ£’çš„åœ°æ–¹ï¼ˆå³åªèƒ½åœ¨ç©ºæ ¼ä¸­æ”¾ç½®ï¼‰ã€‚</p>
</li>
<li><p>ç«æŸ´æ£’çš„æ–¹å‘åªèƒ½æ˜¯ç«–ç›´æˆ–æ°´å¹³æ”¾ç½®ã€‚</p>
</li>
<li><p>ç«æŸ´æ£’ä¸èƒ½ä¸å…¶å®ƒæ ¼å­ä¸­çš„ç«æŸ´â€œè¿é€šâ€ã€‚</p>
</li>
</ol>
<p>æ‰€è°“è¿é€šæ˜¯æŒ‡ä¸¤æ ¹ç«æŸ´æ£’å¯ä»¥è¿æˆä¸€æ¡ç›´çº¿ï¼Œä¸”ä¸­é—´æ²¡æœ‰å…¶å®ƒä¸åŒæ–¹å‘çš„ç«æŸ´â€œé˜»æ‹¦â€ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>è¡¨æ‰€ç¤ºçš„å±€é¢ä¸‹ï¼Œå¯ä»¥åœ¨C2ä½ç½®ç«–ç›´æ”¾ç½®ï¼ˆä¸ºäº†æ–¹ä¾¿æè¿°æ ¼å­ä½ç½®ï¼Œå›¾ä¸­å·¦ã€ä¸‹éƒ½æ·»åŠ äº†æ ‡è®°ï¼‰ï¼Œä½†ä¸èƒ½æ°´å¹³æ”¾ç½®ï¼Œå› ä¸ºä¼šä¸A2è¿é€šã€‚</p>
<p>åŒæ ·é“ç†ï¼ŒB2ï¼ŒB3ï¼ŒD2æ­¤æ—¶ä¸¤ç§æ–¹å‘éƒ½ä¸å¯ä»¥æ”¾ç½®ã€‚</p>
<p>ä½†å¦‚æœC2ç«–ç›´æ”¾ç½®åï¼ŒD2å°±å¯ä»¥æ°´å¹³æ”¾ç½®äº†ï¼Œå› ä¸ºä¸å†ä¼šä¸A2è¿é€šï¼ˆå—åˆ°äº†C2çš„é˜»æŒ¡ï¼‰ã€‚</p>
<ol start="4">
<li>æ¸¸æˆåŒæ–¹è½®æµæ”¾ç½®ç«æŸ´ï¼Œä¸å¯ä»¥å¼ƒæƒï¼Œä¹Ÿä¸å¯ä»¥æ”¾å¤šæ ¹ã€‚</li>
</ol>
<p>å¦‚æŸä¸€æ–¹æ— æ³•ç»§ç»­æ”¾ç½®ï¼Œåˆ™è¯¥æ–¹ä¸ºè´Ÿï¼ˆè¾“çš„ä¸€æ–¹ï¼‰ã€‚</p>
<p>æ¸¸æˆå¼€å§‹æ—¶å¯èƒ½å·²ç»æ”¾ç½®äº†å¤šæ ¹ç«æŸ´ã€‚</p>
<p>ä½ çš„ä»»åŠ¡æ˜¯ï¼šç¼–å†™ç¨‹åºï¼Œè¯»å…¥åˆå§‹çŠ¶æ€ï¼Œè®¡ç®—å‡ºå¯¹è‡ªå·±æœ€æœ‰åˆ©çš„æ”¾ç½®æ–¹æ³•å¹¶è¾“å‡ºæ”¾ç½®åçš„å±€é¢ã€‚</p>
<p>å›¾1çš„å±€é¢è¡¨ç¤ºä¸ºï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">00-1</span><br><span class="line"></span><br><span class="line">-000</span><br><span class="line"></span><br><span class="line">0100</span><br><span class="line"></span><br><span class="line">å³ç”¨â€œ0â€è¡¨ç¤ºç©ºé—²ä½ç½®ï¼Œç”¨â€œ1â€è¡¨ç¤ºç«–ç›´æ”¾ç½®ï¼Œç”¨â€œ-â€è¡¨ç¤ºæ°´å¹³æ”¾ç½®ã€‚</span><br></pre></td></tr></tbody></table></figure>

<p>è§£æ³•ä¸å”¯ä¸€ï¼Œæ‰¾åˆ°ä»»æ„è§£æ³•å³å¯ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå±€é¢ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">0111</span><br><span class="line">-000</span><br><span class="line">-000</span><br><span class="line">çš„è§£ï¼š</span><br><span class="line">-111</span><br><span class="line">-000</span><br><span class="line">-000</span><br><span class="line"> </span><br><span class="line">å†ä¾‹å¦‚ï¼Œå±€é¢ï¼š</span><br><span class="line">1111</span><br><span class="line">----</span><br><span class="line">0010</span><br><span class="line">çš„è§£ï¼š</span><br><span class="line">1111</span><br><span class="line">----</span><br><span class="line">0110</span><br></pre></td></tr></tbody></table></figure>

<h4 id="ğŸ‚åˆ†æ-4"><a href="#ğŸ‚åˆ†æ-4" class="headerlink" title="ğŸ‚åˆ†æ"></a>ğŸ‚åˆ†æ</h4><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">æ€è€ƒä¸­ã€‚ã€‚</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸå–çƒæ¸¸æˆ"><a href="#ğŸå–çƒæ¸¸æˆ" class="headerlink" title="ğŸå–çƒæ¸¸æˆ"></a>ğŸå–çƒæ¸¸æˆ</h2><p>ä»Šç›’é‡Œæœ‰nä¸ªå°çƒï¼ŒAã€Bä¸¤äººè½®æµä»ç›’ä¸­å–çƒã€‚</p>
<p>æ¯ä¸ªäººéƒ½å¯ä»¥çœ‹åˆ°å¦ä¸€ä¸ªäººå–äº†å¤šå°‘ä¸ªï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°ç›’ä¸­è¿˜å‰©ä¸‹å¤šå°‘ä¸ªã€‚</p>
<p>ä¸¤äººéƒ½å¾ˆèªæ˜ï¼Œä¸ä¼šåšå‡ºé”™è¯¯çš„åˆ¤æ–­ã€‚</p>
<p>æ¯ä¸ªäººä»ç›’å­ä¸­å–å‡ºçš„çƒçš„æ•°ç›®å¿…é¡»æ˜¯ï¼š1ï¼Œ3ï¼Œ7æˆ–è€…8ä¸ªã€‚</p>
<p>è½®åˆ°æŸä¸€æ–¹å–çƒæ—¶ä¸èƒ½å¼ƒæƒï¼</p>
<p>Aå…ˆå–çƒï¼Œç„¶ååŒæ–¹äº¤æ›¿å–çƒï¼Œç›´åˆ°å–å®Œã€‚</p>
<p>è¢«è¿«æ‹¿åˆ°æœ€åä¸€ä¸ªçƒçš„ä¸€æ–¹ä¸ºè´Ÿæ–¹ï¼ˆè¾“æ–¹ï¼‰</p>
<p>ç¼–ç¨‹ç¡®å®šå‡ºåœ¨åŒæ–¹éƒ½ä¸åˆ¤æ–­å¤±è¯¯çš„æƒ…å†µä¸‹ï¼Œå¯¹äºç‰¹å®šçš„åˆå§‹çƒæ•°ï¼ŒAæ˜¯å¦èƒ½èµ¢ï¼Ÿ</p>
<h4 id="ğŸ‚åˆ†æ-5"><a href="#ğŸ‚åˆ†æ-5" class="headerlink" title="ğŸ‚åˆ†æ"></a>ğŸ‚åˆ†æ</h4><p>å·²çŸ¥æ¯äººæœ€å¤šèƒ½å–1ï¼Œ3ï¼Œ7æˆ–è€…8ä¸ª,é‚£ä¹ˆï¼Œçƒæ€»æ•°=ä¹™å¿…è¾“çš„æƒ…å†µ+ç”²æ‹¿ï¼ˆ1ï¼Œ3ï¼Œ7æˆ–è€…8ä¸ªï¼‰ï¼Œçƒä¸º1æ—¶ç”²å¿…è¾“ï¼Œä»¥æ­¤ç±»æ¨ï¼ˆå¯ä»¥æ­£å‘è¿­ä»£å’Œé€†å‘é€’å½’ï¼‰ï¼Œæ­£å‘ï¼šå°†10000ä»¥å†…çš„è¾“èµ¢æƒ…å†µéƒ½å­˜å…¥æ•°ç»„ï¼Œç„¶åæŸ¥è¡¨ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Ball_Game</span> </span>{</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) {</span><br><span class="line">			list.add(input.nextInt());</span><br><span class="line">		}</span><br><span class="line">		ball(list);</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ball</span><span class="params">(List&lt;Integer&gt; list)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span>[] take = {<span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">8</span>};</span><br><span class="line">		<span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10010</span>];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10000</span>; i++) {</span><br><span class="line">			<span class="keyword">if</span>(res[i] == <span class="number">0</span>) {</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) {</span><br><span class="line">					res[i + take[j]] = <span class="number">1</span>;</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; list.size(); i++) {</span><br><span class="line">			System.out.println(<span class="string">"ç»“æœï¼š"</span> + res[list.get(i)]);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>é€†å‘ï¼šçƒæ•°æ˜¯næ—¶ï¼Œåªè¦æ»¡è¶³n-1ï¼Œn-3ï¼Œn-7å’Œn-8æœ‰ä¸€ä¸ªæ•°å­—å¯¹äºä¹™ç©å®¶æ¥è¯´æ˜¯å¿…è¾“çš„ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Ball_Game</span> </span>{</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) {</span><br><span class="line">			list.add(input.nextInt());</span><br><span class="line">		}</span><br><span class="line">		ball2(list);</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ball2</span><span class="params">(List&lt;Integer&gt; list)</span> </span>{</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; list.size(); i++) {</span><br><span class="line">			<span class="keyword">if</span>(test(list.get(i))) {</span><br><span class="line">				System.out.println(<span class="number">1</span>);</span><br><span class="line">			}<span class="keyword">else</span> {</span><br><span class="line">				System.out.println(<span class="number">0</span>);</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">if</span>(n &gt;= <span class="number">1</span>) {</span><br><span class="line">			<span class="keyword">switch</span>(n) {</span><br><span class="line">			<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;<span class="comment">// å‰©1ä¸ªçƒ,åˆ™è¾“</span></span><br><span class="line">			<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;<span class="comment">// å‰©3ä¸ªçƒ,åˆ™è¾“</span></span><br><span class="line">			<span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;<span class="comment">// å‰©7ä¸ªçƒ,åˆ™è¾“</span></span><br><span class="line">			<span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">true</span>;<span class="comment">// å‰©8ä¸ªçƒ,åˆ™èµ¢</span></span><br><span class="line">			<span class="comment">// å¦‚æœä¸æ˜¯ä¸æ˜¯1ï¼Œ3ï¼Œ7ï¼Œ8åˆ™ é€‰æ‹©æƒäº¤ç»™Bï¼ŒBä»»ç„¶è°ƒç”¨è¯¥å‡½æ•°ï¼Œä¸è¿‡è¿”å›å€¼éœ€è¦å–å</span></span><br><span class="line">			<span class="comment">// è€Œæ­¤æ—¶Aå¯ä»¥é€‰çš„åªæœ‰ 1 3 7 8 æ‰€ä»¥ç”¨numå‡å»ä¹‹ é€ä¸ªæµ‹è¯•å³å¯</span></span><br><span class="line">			<span class="keyword">default</span>:</span><br><span class="line">				<span class="keyword">return</span> (!test(n - <span class="number">8</span>) || !test(n - <span class="number">7</span>) || !test(n - <span class="number">3</span>) || !test(n - <span class="number">1</span>));</span><br><span class="line">			}</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸå¡«å­—æ¯æ¸¸æˆ"><a href="#ğŸå¡«å­—æ¯æ¸¸æˆ" class="headerlink" title="ğŸå¡«å­—æ¯æ¸¸æˆ"></a>ğŸå¡«å­—æ¯æ¸¸æˆ</h3><p>Kå¤§å¸ˆåœ¨çº¸ä¸Šç”»äº†ä¸€è¡Œnä¸ªæ ¼å­ï¼Œè¦å°æ˜å’Œä»–äº¤æ›¿å¾€å…¶ä¸­å¡«å…¥å­—æ¯ã€‚</p>
<ol>
<li><p>è½®åˆ°æŸäººå¡«çš„æ—¶å€™ï¼Œåªèƒ½åœ¨æŸä¸ªç©º æ ¼ä¸­å¡«å…¥Læˆ–O</p>
</li>
<li><p>è°å…ˆè®©å­—æ¯ç»„æˆäº†â€œLOLâ€çš„å­—æ ·ï¼Œè°è·èƒœã€‚</p>
</li>
<li><p>å¦‚æœæ‰€æœ‰æ ¼å­éƒ½å¡«æ»¡äº†ï¼Œä»æ— æ³•ç»„æˆLOLï¼Œåˆ™å¹³å±€ã€‚</p>
</li>
</ol>
<p>å°æ˜è¯•éªŒäº†å‡ æ¬¡éƒ½è¾“äº†ï¼Œä»–å¾ˆæƒ­æ„§ï¼Œå¸Œæœ›ä½ èƒ½ç”¨è®¡ç®—æœºå¸®ä»–è§£å¼€è¿™ä¸ªè°œã€‚</p>
<p>æœ¬é¢˜çš„è¾“å…¥æ ¼å¼ä¸ºï¼š</p>
<p>ç¬¬ä¸€è¡Œï¼Œæ•°å­—nï¼ˆn&lt;10ï¼‰ï¼Œè¡¨ç¤ºä¸‹é¢æœ‰nä¸ªåˆå§‹å±€é¢ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œnè¡Œï¼Œæ¯è¡Œä¸€ä¸ªä¸²ï¼Œè¡¨ç¤ºå¼€å§‹çš„å±€é¢ã€‚</p>
<p> æ¯”å¦‚ï¼šâ€œ<strong>**</strong>â€, è¡¨ç¤ºæœ‰6ä¸ªç©ºæ ¼ã€‚â€œL** **â€,  è¡¨ç¤ºå·¦è¾¹æ˜¯ä¸€ä¸ªå­—æ¯Lï¼Œå®ƒçš„å³è¾¹æ˜¯4ä¸ªç©ºæ ¼ã€‚</p>
<p>è¦æ±‚è¾“å‡ºnä¸ªæ•°å­—ï¼Œè¡¨ç¤ºå¯¹æ¯ä¸ªå±€é¢ï¼Œå¦‚æœå°æ˜å…ˆå¡«ï¼Œå½“Kå¤§å¸ˆæ€»æ˜¯ç”¨æœ€å¼ºç€æ³•çš„æ—¶å€™ï¼Œå°æ˜çš„æœ€å¥½ç»“æœã€‚</p>
<p>1 è¡¨ç¤ºèƒ½èµ¢</p>
<p>-1 è¡¨ç¤ºå¿…è¾“</p>
<p>0 è¡¨ç¤ºå¯ä»¥é€¼å¹³</p>
<p>ä¾‹å¦‚ï¼Œ</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">4</span><br><span class="line">***</span><br><span class="line">L**L</span><br><span class="line">L**L***L</span><br><span class="line">L*****L </span><br><span class="line"></span><br><span class="line">åˆ™ç¨‹åºåº”è¯¥è¾“å‡ºï¼š</span><br><span class="line">0</span><br><span class="line">-1</span><br><span class="line">1</span><br><span class="line">1</span><br></pre></td></tr></tbody></table></figure>

<h4 id="ğŸ‚åˆ†æ-6"><a href="#ğŸ‚åˆ†æ-6" class="headerlink" title="ğŸ‚åˆ†æ"></a>ğŸ‚åˆ†æ</h4><p>åˆ©ç”¨å›æº¯ï¼Œä¸€æ­¥ä¸€æ­¥çš„è¿›è¡Œé€’å½’å°è¯•ï¼Œæ¯èµ°ä¸€æ­¥è¿›è¡Œä¸€æ¬¡é€’å½’ï¼Œå°†ç»“æœæ”¾å…¥å“ˆå¸Œè¡¨ï¼ˆåˆ©ç”¨è®°å¿†åŒ–å“ˆå¸Œè¡¨å‡å°‘é€’å½’æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ï¼‰ã€‚å…·ä½“è¯¦æƒ…å¯æŸ¥çœ‹ä»£ç æ³¨é‡Š</p>
<h5 id="ä¸‹é¢ä»‹ç»å¸¦å¹³å±€çš„åšå¼ˆç±»è§£æ³•é­”æ¿ï¼š"><a href="#ä¸‹é¢ä»‹ç»å¸¦å¹³å±€çš„åšå¼ˆç±»è§£æ³•é­”æ¿ï¼š" class="headerlink" title="ä¸‹é¢ä»‹ç»å¸¦å¹³å±€çš„åšå¼ˆç±»è§£æ³•é­”æ¿ï¼š"></a>ä¸‹é¢ä»‹ç»å¸¦å¹³å±€çš„åšå¼ˆç±»è§£æ³•é­”æ¿ï¼š</h5><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">mainå‡½æ•°é‡Œè°ƒç”¨dfs (a)</span><br><span class="line">ç»™å®šä¸€ä¸ªå±€é¢a,dfs(a)æ˜¯è®¡ç®—æˆ‘æ–¹é€šè¿‡æœ€ä¼˜æ­¥éª¤èµ°æ˜¯è¾“è¿˜æ˜¯èµ¢è¿˜æ˜¯å¹³å±€ã€‚</span><br><span class="line">åˆ©ç”¨mapå®¹å™¨è®°å½•å±€é¢èƒœè´Ÿå¹³çš„çŠ¶æ€å¯å‡å°‘é‡å¤å±€é¢çš„è¿ç®—æé«˜ç®—æ³•æ•ˆç‡</span><br><span class="line">èƒœè´Ÿå¹³</span><br><span class="line">dfs (å±€é¢a) {</span><br><span class="line">	è¾¹ç•Œå€¼å¤„ç†</span><br><span class="line">    for (æ‰€æœ‰å¯èµ°çš„å±€é¢) {</span><br><span class="line">        è¯•ç€èµ°ä¸€æ­¥ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°å±€é¢b</span><br><span class="line">        äº¤ç»™å¯¹æ‰‹èµ°ï¼Œå³åˆ¤æ–­dfs (b)çš„è¿”å›å€¼</span><br><span class="line">        æ¢å¤å±€é¢</span><br><span class="line">        å¦‚æœè¿”å›å€¼ä¸ºè´Ÿï¼Œåˆ™æˆ‘å¿…èµ¢ï¼Œå³è¿™æ­¥æ˜¯æˆ‘çš„æœ€ä¼˜èµ°æ³•</span><br><span class="line">        å¦‚æœè¿”å›å€¼ä¸ºèµ¢ï¼Œåˆ™æˆ‘å¿…è¾“ï¼Œä¸å¯å–</span><br><span class="line">        å¦‚æœè¿”å›å€¼ä¸ºå¹³ï¼Œåˆ™æˆ‘è‡³å°‘å¯ä»¥é€¼å¹³å¯¹æ‰‹ï¼Œå…ˆå­˜ç€è¿™ä¸ªç»“æœ</span><br><span class="line">    }</span><br><span class="line">    å¦‚æœç®—çš„å¯ä»¥é€¼å¹³ï¼Œåˆ™è¿”å›å¹³</span><br><span class="line">    å¦åˆ™è¿”å›è´Ÿ|</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è§£æ³•ä»£ç </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Alphabet_Game</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		input.nextLine();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) {</span><br><span class="line">			String str = input.nextLine();</span><br><span class="line">			System.out.println(dfs(str.toCharArray()));</span><br><span class="line">		}</span><br><span class="line">		<span class="comment">//System.out.println(dfs("L**L".toCharArray()));</span></span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[] a)</span> </span>{</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		String s = <span class="keyword">new</span> String(a);</span><br><span class="line">		<span class="keyword">if</span>(map.containsKey(s)) {</span><br><span class="line">			<span class="keyword">return</span> map.get(s);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(s.contains(<span class="string">"LOL"</span>)) { <span class="comment">//å¦‚æœå¯¹æ‰‹ç»™æˆ‘çš„å±€é¢æ˜¯åŒ…å«äº†â€LOL"çš„æƒ…å†µï¼Œé‚£æˆ‘å°±è¾“äº†</span></span><br><span class="line">			<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(!s.contains(<span class="string">"*"</span>)) { <span class="comment">//å¦‚æœå¯¹æ‰‹ç»™æˆ‘çš„å±€é¢æ˜¯æ²¡æœ‰ç©ºæ ¼å¯ä»¥å¡«çš„æƒ…å†µï¼Œé‚£æˆ‘æ²¡èµ¢ä¹Ÿæ²¡è¾“ï¼Œè¿”å›å¹³å±€</span></span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">boolean</span> ping = <span class="keyword">false</span>; <span class="comment">//å…ˆå‡è®¾æˆ‘è·Ÿå¯¹æ‰‹ä¹‹é—´ä¸å¯èƒ½å‡ºç°å¹³å±€</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length; i++) { <span class="comment">//å¼€å§‹å¾ªç¯ï¼Œå¯¹æœ‰ç©ºæ ¼è¿›è¡Œè¯•å¡«</span></span><br><span class="line">			<span class="keyword">if</span>(a[i] == <span class="string">'*'</span>) { <span class="comment">//å¾ªç¯å¼€å§‹ï¼Œå…ˆåˆ¤æ–­éå†åˆ°çš„åœ°æ–¹æ˜¯ä¸æ˜¯ç©ºæ ¼ï¼Œè¿™é‡Œæ˜¯ç©ºæ ¼çš„æƒ…å†µï¼Œ</span></span><br><span class="line">				a[i] = <span class="string">'L'</span>; <span class="comment">//è‡ªå·±è¿›è¡Œå°è¯•å¡«å†™</span></span><br><span class="line">				<span class="comment">//è‡ªå·±ä¸‹å®Œåäº¤ç»™å¯¹æ‰‹è¿›è¡Œåˆ¤æ–­</span></span><br><span class="line">				<span class="comment">//æ­¤æ—¶switch()ä¸­ä¼ å…¥çš„dfs(a)å·²ç»ä¸æ˜¯æœ€å¼€å§‹ä¼ å…¥çš„aæ•°ç»„äº†</span></span><br><span class="line">				<span class="comment">//è€Œæ˜¯è¯•å¡«Låçš„aæ•°ç»„</span></span><br><span class="line">				<span class="keyword">int</span> res = dfs(a);</span><br><span class="line">				<span class="comment">//å­˜å…¥å“ˆå¸Œè¡¨</span></span><br><span class="line">				map.put(String.valueOf(a), res);</span><br><span class="line">				<span class="keyword">switch</span>(res) {</span><br><span class="line">				<span class="keyword">case</span> -<span class="number">1</span>: <span class="comment">//å¦‚æœå¯¹æ‰‹è¿”å›-1ï¼Œé‚£ä¹ˆå°±æ˜¯æˆ‘èµ¢äº†ï¼Œæˆ‘å°±è¿”å›1</span></span><br><span class="line">					<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">				<span class="comment">//å¦‚æœå¯¹æ‰‹è¿”å›0å°±æ˜¯å¯¹æ‰‹æœ‰å¯æŠŠæˆ‘é€¼å¹³çš„æ–¹æ³•ï¼Œæ­¤æ—¶æˆ‘ä¸æ˜¯ç›´æ¥è¿”å›0æ˜¯å› ä¸º</span></span><br><span class="line">				<span class="comment">//æˆ‘ç»§ç»­ä¸‹ä¸‹ä¸€ä¸ªç©ºæ ¼å¯èƒ½æœ‰å°†å¯¹æ‰‹èµ¢äº†çš„å¯èƒ½ï¼Œæ‰€ä»¥æˆ‘å…ˆå°†pingç½®ä¸ºtrue</span></span><br><span class="line">				<span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">					ping = <span class="keyword">true</span>;</span><br><span class="line">				}</span><br><span class="line">				<span class="comment">//å›åˆ°æˆ‘è‡ªå·±ä¸‹</span></span><br><span class="line">				a[i] = <span class="string">'O'</span>;</span><br><span class="line">				<span class="comment">//äº¤ç»™å¯¹æ‰‹</span></span><br><span class="line">				res = dfs(a);</span><br><span class="line">				map.put(String.valueOf(a), res);</span><br><span class="line">				<span class="comment">//å›æº¯ï¼Œå› ä¸ºä½ ä»¬æ“ä½œçš„æ˜¯åŒä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">				a[i] = <span class="string">'*'</span>;</span><br><span class="line">				<span class="keyword">switch</span>(res) {</span><br><span class="line">				<span class="keyword">case</span> -<span class="number">1</span>:</span><br><span class="line">					<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">					ping = <span class="keyword">true</span>;</span><br><span class="line">				}</span><br><span class="line"></span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="comment">//æœ€åè¿”å›å¦‚æœå¯¹æ‰‹æ²¡æœ‰è¿”å›è¾“çš„è¯ï¼Œå°±æ˜¯æˆ‘èµ¢ä¸äº†å¯¹æ‰‹äº†ï¼Œ</span></span><br><span class="line">		<span class="comment">//è¿™ä¸ªæ—¶å€™æˆ‘å†æ¥çœ‹çœ‹æ˜¯å¦æœ‰å¹³å±€çš„å¯èƒ½</span></span><br><span class="line">		<span class="keyword">if</span>(ping) {</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="comment">//å¹³å±€éƒ½æ²¡æœ‰ï¼Œé‚£æˆ‘å°±è¾“äº†</span></span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>è“æ¡¥æ¯</category>
      </categories>
      <tags>
        <tag>æ¨¡æ‹Ÿ</tag>
        <tag>åšå¼ˆè®º</tag>
        <tag>åŸºå§†æ‹‰å°”æ£®å…¬å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>2020_javaè“æ¡¥_æš‘å‡è®­ç»ƒ_è¿›åˆ¶ä¸æ•´é™¤</title>
    <url>/System_and_division/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸è¿›åˆ¶ä¸æ•´é™¤è®­ç»ƒ"><a href="#ğŸŒ¸è¿›åˆ¶ä¸æ•´é™¤è®­ç»ƒ" class="headerlink" title="ğŸŒ¸è¿›åˆ¶ä¸æ•´é™¤è®­ç»ƒ"></a>ğŸŒ¸è¿›åˆ¶ä¸æ•´é™¤è®­ç»ƒ</h2><h2 id="ğŸStrange-Donation"><a href="#ğŸStrange-Donation" class="headerlink" title="ğŸStrange_Donation"></a>ğŸStrange_Donation</h2><p>åœ°äº§å¤§äº¨Qå…ˆç”Ÿä¸´ç»ˆçš„é—æ„¿æ˜¯ï¼šæ‹¿å‡º100ä¸‡å…ƒç»™Xç¤¾åŒºçš„å±…æ°‘æŠ½å¥–ï¼Œä»¥ç¨æ…°è—‰å¿ƒä¸­æ„§ç–šã€‚</p>
<p>éº»çƒ¦çš„æ˜¯ï¼Œä»–æœ‰ä¸ªå¾ˆå¥‡æ€ªçš„è¦æ±‚ï¼š</p>
<ol>
<li><p>100ä¸‡å…ƒå¿…é¡»è¢«æ­£å¥½åˆ†æˆè‹¥å¹²ä»½ï¼ˆä¸èƒ½å‰©ä½™ï¼‰ã€‚ æ¯ä»½å¿…é¡»æ˜¯7çš„è‹¥å¹²å…ƒã€‚ æ¯”å¦‚ï¼š1å…ƒ, 7å…ƒï¼Œ49å…ƒï¼Œ343å…ƒï¼Œâ€¦</p>
</li>
<li><p>ç›¸åŒé‡‘é¢çš„ä»½æ•°ä¸èƒ½è¶…è¿‡5ä»½ã€‚</p>
</li>
<li><p>åœ¨æ»¡è¶³ä¸Šè¿°è¦æ±‚çš„æƒ…å†µä¸‹ï¼Œåˆ†æˆçš„ä»½æ•°è¶Šå¤šè¶Šå¥½ï¼</p>
</li>
</ol>
<p>è¯·ä½ å¸®å¿™è®¡ç®—ä¸€ä¸‹ï¼Œæœ€å¤šå¯ä»¥åˆ†ä¸ºå¤šå°‘ä»½ï¼Ÿ</p>
<a id="more"></a>

<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>æ¢ä¸ªè§’åº¦è€ƒè™‘ï¼Œå¦‚æœæ‹¿å‡º1234567890å…ƒåˆ†ç»™å±…æ°‘ï¼Œæ¯ä»½å¿…é¡»æ˜¯10çš„è‹¥å¹²æ¬¡æ–¹å…ƒï¼Œ<br>ä¸”ç›¸åŒé‡‘é¢ä»½æ•°ä¸è¶…è¿‡9ä»½ï¼Œé‚£ä¹ˆæœ€å¤šå¯ä»¥åˆ†ä¸ºå¤šå°‘ä»½ï¼Ÿ é‚£ä¹ˆåªæœ‰1ç§æƒ…å†µï¼Œ10å…ƒ9ä»½ï¼Œ100å…ƒ8ä»½ï¼Œ1000å…ƒ7ä»½ï¼Œ10000å…ƒ6ä»½â€¦.    å¯ä»¥çœ‹åˆ°ï¼Œè¿™å®é™…ä¸Šæ˜¯è¿›åˆ¶çš„é—®é¢˜ï¼Œå³é¢˜ç›®è¦æ±‚çš„æ˜¯ä»¥7è¿›åˆ¶å½¢å¼è¡¨ç¤ºåçš„æ•°å­—ï¼Œç„¶åæŠŠæ¯ä½æ•°å­—ç›¸åŠ å³å¯æ±‚å‡ºä»½æ•°ã€‚é¢˜æ„ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Strange_Donation</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		System.out.println(donate(<span class="number">1000</span> * <span class="number">1000</span>, <span class="number">7</span>));</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> m</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">donate</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span> </span>{</span><br><span class="line">		String s = Integer.toString(n, m);</span><br><span class="line">		<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) {</span><br><span class="line">			sum += s.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> sum;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸWeight-weighing"><a href="#ğŸWeight-weighing" class="headerlink" title="ğŸWeight_weighing"></a>ğŸWeight_weighing</h2><p>ç”¨å¤©å¹³ç§°é‡æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›ç”¨å°½å¯èƒ½å°‘çš„ç ç ç»„åˆç§°å‡ºå°½å¯èƒ½å¤šçš„é‡é‡ã€‚å¦‚æœåªæœ‰5ä¸ªç ç ï¼Œé‡é‡åˆ†åˆ«æ˜¯1ï¼Œ3ï¼Œ9ï¼Œ27ï¼Œ81åˆ™å®ƒä»¬å¯ä»¥ç»„åˆç§°å‡º1åˆ°121ä¹‹é—´ä»»æ„æ•´æ•°é‡é‡ï¼ˆç ç å…è®¸æ”¾åœ¨å·¦å³ä¸¤ä¸ªç›˜ä¸­ï¼‰ã€‚</p>
<p> æœ¬é¢˜ç›®è¦æ±‚ç¼–ç¨‹å®ç°ï¼šå¯¹ç”¨æˆ·ç»™å®šçš„é‡é‡ï¼Œç»™å‡ºç ç ç»„åˆæ–¹æ¡ˆã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">ç”¨æˆ·è¾“å…¥ï¼š</span><br><span class="line"></span><br><span class="line">5</span><br><span class="line"></span><br><span class="line">ç¨‹åºè¾“å‡ºï¼š</span><br><span class="line"></span><br><span class="line">9-3-1</span><br><span class="line"></span><br><span class="line">ç”¨æˆ·è¾“å…¥ï¼š</span><br><span class="line"></span><br><span class="line">19</span><br><span class="line"></span><br><span class="line">ç¨‹åºè¾“å‡ºï¼š</span><br><span class="line"></span><br><span class="line">27-9+1</span><br></pre></td></tr></tbody></table></figure>

<p><code>è¦æ±‚ç¨‹åºè¾“å‡ºçš„ç»„åˆæ€»æ˜¯å¤§æ•°åœ¨å‰å°æ•°åœ¨åã€‚</code></p>
<p><code>å¯ä»¥å‡è®¾ç”¨æˆ·çš„è¾“å…¥çš„æ•°å­—ç¬¦åˆèŒƒå›´1~121ã€‚</code></p>
<h3 id="åˆ†æ-1"><a href="#åˆ†æ-1" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p><strong>æš´åŠ›è§£æ³•</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Weight_weighing</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		weight(n);</span><br><span class="line">		weight2(n);</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">weight</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span>[] sign = {-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>};</span><br><span class="line">		StringBuilder str = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> a : sign) {</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> b : sign) {</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> c : sign) {</span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> d : sign) {</span><br><span class="line">						<span class="keyword">for</span>(<span class="keyword">int</span> e: sign) {</span><br><span class="line">							<span class="keyword">int</span> i = a * <span class="number">1</span>;</span><br><span class="line">							<span class="keyword">int</span> j = b * <span class="number">3</span>;</span><br><span class="line">							<span class="keyword">int</span> k = c * <span class="number">9</span>;</span><br><span class="line">							<span class="keyword">int</span> l = d * <span class="number">27</span>;</span><br><span class="line">							<span class="keyword">int</span> m = e * <span class="number">81</span>;</span><br><span class="line">							<span class="keyword">if</span>(i + j + k + l + m == n) {</span><br><span class="line">								str.append(m != <span class="number">0</span> ? (m &gt; <span class="number">0</span> ? <span class="string">"+"</span> + m : m) : <span class="string">""</span>);</span><br><span class="line">								str.append(l != <span class="number">0</span> ? (l &gt; <span class="number">0</span> ? <span class="string">"+"</span> + l : l) : <span class="string">""</span>);</span><br><span class="line">								str.append(k != <span class="number">0</span> ? (k &gt; <span class="number">0</span> ? <span class="string">"+"</span> + k : k) : <span class="string">""</span>);</span><br><span class="line">								str.append(j != <span class="number">0</span> ? (j &gt; <span class="number">0</span> ? <span class="string">"+"</span> + j : j) : <span class="string">""</span>);</span><br><span class="line">								str.append(i != <span class="number">0</span> ? (i &gt; <span class="number">0</span> ? <span class="string">"+"</span> + i : i) : <span class="string">""</span>);</span><br><span class="line">								str.deleteCharAt(<span class="number">0</span>);</span><br><span class="line">								System.out.println(str);</span><br><span class="line">								<span class="keyword">return</span>;</span><br><span class="line">							}</span><br><span class="line">						}</span><br><span class="line">					}</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸè§£æ³•äºŒï¼šåˆ©ç”¨è¿›åˆ¶"><a href="#ğŸè§£æ³•äºŒï¼šåˆ©ç”¨è¿›åˆ¶" class="headerlink" title="ğŸè§£æ³•äºŒï¼šåˆ©ç”¨è¿›åˆ¶"></a>ğŸè§£æ³•äºŒï¼šåˆ©ç”¨è¿›åˆ¶</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Weight_weighing</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		weight2(n);</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">weight2</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">		<span class="comment">//è½¬åŒ–ä¸ºä¸‰è¿›åˆ¶</span></span><br><span class="line">		String x = Integer.toString(n, <span class="number">3</span>);<span class="comment">// 1000=27ä¸‰è¿›åˆ¶ ä¸¾ä¾‹25 ç­‰äº2 2 1</span></span><br><span class="line">		<span class="comment">// ç¿»è½¬åè½¬æˆå­—ç¬¦æ•°ç»„ ä¸ºä»€ä¹ˆç¿»è½¬:å¥½è¿›ä½1 3 9</span></span><br><span class="line">		<span class="keyword">char</span>[] arr = <span class="keyword">new</span> StringBuffer(x).reverse().toString().toCharArray();<span class="comment">// ç¿»è½¬å˜æˆäº†1 2 2</span></span><br><span class="line">		List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();<span class="comment">// å˜æˆäº†1 0 -1 1 ä»å³åˆ°å·¦æ’å…¥</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) {<span class="comment">// æ•°ç»„ 1 2 2</span></span><br><span class="line">			<span class="keyword">if</span>(arr[i] == <span class="string">'2'</span>) {</span><br><span class="line">				list.add(<span class="number">0</span>, -<span class="number">1</span>);<span class="comment">// -1æ’åœ¨å¼€å¤´</span></span><br><span class="line">				<span class="keyword">if</span>(i == arr.length - <span class="number">1</span>) {</span><br><span class="line">					list.add(<span class="number">0</span>, <span class="number">1</span>);<span class="comment">// æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œè¿›ä½ å˜æˆ3</span></span><br><span class="line">				}<span class="keyword">else</span> {</span><br><span class="line">					++arr[i + <span class="number">1</span>];</span><br><span class="line">				}</span><br><span class="line">			}<span class="keyword">else</span> <span class="keyword">if</span>(arr[i] == <span class="string">'3'</span>) {</span><br><span class="line">				list.add(<span class="number">0</span>, <span class="number">0</span>);<span class="comment">// æ’å…¥0 &gt;&gt;&gt;&gt;1 0 -1 1</span></span><br><span class="line">				<span class="comment">// æ›´é«˜ä½</span></span><br><span class="line">				<span class="keyword">if</span>(i == arr.length - <span class="number">1</span>) {</span><br><span class="line">					list.add(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">				}<span class="keyword">else</span> {</span><br><span class="line">					++arr[i + <span class="number">1</span>];</span><br><span class="line">				}</span><br><span class="line">			}<span class="keyword">else</span> {</span><br><span class="line">				list.add(<span class="number">0</span>, arr[i] - <span class="string">'0'</span>);<span class="comment">// åªæœ‰1 å’Œ0çš„æƒ…å†µ arr[i]-'0'&gt;&gt;&gt; è½¬åŒ–æˆæ•°å­—</span></span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		StringBuilder str = <span class="keyword">new</span> StringBuilder();<span class="comment">//æ¢å¤æˆåè¿›åˆ¶</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; list.size(); i++) {</span><br><span class="line">			<span class="keyword">if</span>(list.get(i) == <span class="number">1</span>) {</span><br><span class="line">				str.append(<span class="string">"+"</span>).append((<span class="keyword">int</span>)Math.pow(<span class="number">3</span>, list.size() - i - <span class="number">1</span>));</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span>(list.get(i) == -<span class="number">1</span>) {</span><br><span class="line">				str.append(<span class="string">"-"</span>).append((<span class="keyword">int</span>)Math.pow(<span class="number">3</span>, list.size() - i - <span class="number">1</span>));</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	System.out.println(str.substring(<span class="number">1</span>));</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸNim-Pile"><a href="#ğŸNim-Pile" class="headerlink" title="ğŸNim_Pile"></a>ğŸNim_Pile</h2><p>æœ‰3å †ç¡¬å¸ï¼Œåˆ†åˆ«æ˜¯3,4,5</p>
<p>äºŒäººè½®æµå–ç¡¬å¸ã€‚</p>
<p>æ¯äººæ¯æ¬¡åªèƒ½ä»æŸä¸€å †ä¸Šå–ä»»æ„æ•°é‡ã€‚</p>
<p>ä¸èƒ½å¼ƒæƒã€‚</p>
<p>å–åˆ°æœ€åä¸€æšç¡¬å¸çš„ä¸ºèµ¢å®¶ã€‚ </p>
<p>æ±‚å…ˆå–ç¡¬å¸ä¸€æ–¹æœ‰æ— å¿…èƒœçš„æ‹›æ³•ã€‚</p>
<h3 id="åˆ†æ-2"><a href="#åˆ†æ-2" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>è¿™ä¸ªé¢˜æœ‰å›ºå®šçš„è§£æ³•ï¼Œç”¨äºŒè¿›åˆ¶æ¨¡2çš„åŠ æ³•/å¼‚æˆ–ã€‚<br>å…·ä½“æ„æ€æ˜¯ï¼šå°†æ‰€æœ‰å †çš„æ•°ç›®è¿›è¡Œæ¨¡2åŠ æ³•/å¼‚æˆ–ï¼Œå¦‚æœåŠ èµ·æ¥å…¨ä¸º0ï¼Œé‚£ä¹ˆå°†è¦æŠ“å †çš„è¿™ä¸ªäººå°±å¿…è¾“äº†ï¼›å¦‚æœä¸å…¨ä¸º0ï¼Œé‚£ä¹ˆè¿™ä¸ªäººé€šè¿‡è®¡ç®—æŠ“å †çš„æ•°é‡å°±ä¼šè®©å¯¹æ–¹è¾“ã€‚<br>ä¸¾ä¾‹æ¥è¯´ï¼šä¸€å…±4å †ï¼š2,5,12,14<br>äºŒè¿›åˆ¶å¯¹åº”ï¼š<br>0010<br>0101<br>1100<br>1110 </p>
<p>0101<br>å¯¹æ¯ä¸ªå †çš„æ•°ç›®è¿›è¡Œå¼‚æˆ–åç»“æœä¸ä¸º0ï¼Œæ‰€ä»¥å°†è¦æŠ“å †çš„è¿™ä¸ªäººä¸ä¼šè¾“ï¼Œé‚£ä¹ˆä»–å¦‚ä½•è®©å¯¹æ–¹è¾“å‘¢ï¼Ÿ<br>å°±æ˜¯åœ¨ä»–æŠ“å–ä¸€æ¬¡åç»™å¯¹æ–¹ç•™çš„å †çš„æ•°ç›®å¼‚æˆ–èµ·æ¥ä¸º0ï¼Œç”±0101-&gt;0000ï¼Œå°†å·¦èµ·ç¬¬2ä½å’Œç¬¬4ä½å˜0ï¼Œåˆ†æé€ æˆä½ç»“æœä¸º1çš„åŸå› ï¼ŒæŠŠæŸä¸€å †å †æ•°é‡çš„å¯¹åº”ä½å–åå°±å¯ä»¥äº†ï¼ˆ0-&gt;1or1-&gt;0ï¼‰<br>ç”±å¼‚æˆ–è¿ç®—æ€§è´¨ï¼Œ0å¼‚æˆ–ä»»ä½•æ•°ï¼Œå…¶ç»“æœ=ä»»ä½•æ•°ï¼Œ1å¼‚æˆ–ä»»ä½•æ•°ï¼Œå…¶ç»“æœ=æŠŠè¯¥æ•°å–åã€‚<br>è¿™ä¸ªå¼‚æˆ–è¿ç®—çš„ç»“æœæ°å¥½å°±æ˜¯æˆ‘ä»¬æƒ³è¦è¾¾åˆ°çš„æ•ˆæœã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰æ•°å¼‚æˆ–è¿ç®—åçš„ç»“æœå†ä¸æŸå †æ•°ç›®è¿›è¡Œå¼‚æˆ–ï¼Œå¾—åˆ°çš„ç»“æœå°±æ˜¯è¯¥å †å‰©ä¸‹çš„æ•°ç›®ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Nim_Pile</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span>[] coin = {<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>};</span><br><span class="line">		method(coin);</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">(<span class="keyword">int</span>[] co)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; co.length; i++) {<span class="comment">//æŒ‰ä½å¼‚æˆ–åçš„ç»“æœ </span></span><br><span class="line">			sum ^= co[i];</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(sum == <span class="number">0</span>) {</span><br><span class="line">			System.out.println(<span class="string">"å¿…è¾“"</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; co.length; i++) {</span><br><span class="line">			<span class="keyword">int</span> x = sum ^ co[i]; <span class="comment">//x:åœ¨å–äº†ç¬¬iå †åå‰©ä¸‹çš„ </span></span><br><span class="line">			<span class="keyword">if</span>(x &lt; co[i]) {</span><br><span class="line">				System.out.println(co[i] + <span class="string">"-&gt;"</span> + x);<span class="comment">//åŸå…ˆç¬¬iå †çš„ä¸ªæ•°-&gt;å–åå‰©ä¸‹çš„ä¸ªæ•° </span></span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸThe-Least-Multiple-of-Number"><a href="#ğŸThe-Least-Multiple-of-Number" class="headerlink" title="ğŸThe_Least_Multiple_of_Number"></a>ğŸThe_Least_Multiple_of_Number</h2><p>å¦‚æœä¸¤ä¸ªæ•°å¾ˆå¤§ï¼Œæ€æ ·æ±‚æœ€å¤§å…¬çº¦æ•°ï¼Œæœ€å°å…¬å€æ•°ï¼Ÿ</p>
<p>å¦‚æœæ˜¯nä¸ªæ•°å‘¢ï¼Ÿæ¯”å¦‚1000ä¸ªæ•°çš„æœ€å°å…¬å€æ•°</p>
<h3 id="åˆ†æ-3"><a href="#åˆ†æ-3" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>æ±‚è§£nä¸ªæ•°çš„æœ€å°å…¬å€æ•°ä¸€èˆ¬æœ‰ä¸¤ç§åšæ³•ï¼š</p>
<p>1.åˆ†è§£è´¨å› æ•°æ³•ï¼šå…ˆæŠŠè¿™å‡ ä¸ªæ•°åˆ†è§£è´¨å› æ•°,å†æŠŠå®ƒä»¬ä¸€åˆ‡å…¬æœ‰çš„è´¨å› æ•°å’Œå…¶ä¸­å‡ ä¸ªæ•°å…¬æœ‰çš„è´¨å› æ•°ä»¥åŠæ¯ä¸ªæ•°çš„ç‹¬æœ‰çš„è´¨å› æ•°å…¨éƒ¨è¿ä¹˜èµ·æ¥,æ‰€å¾—çš„ç§¯å°±æ˜¯å®ƒä»¬çš„æœ€å°å…¬å€æ•°.</p>
<p>12   15      8        9</p>
<p>12=2<em>2</em>3</p>
<p>15=3*5</p>
<p>8=2<em>2</em>2</p>
<p>9=3*3</p>
<p>å…¶ä¸­12å’Œ8å…¬æœ‰ä¸¤ä¸ª2ï¼Œè€Œ12,15,9åˆ™å…¬æœ‰è´¨å› å­3ï¼Œå‰©ä¸‹çš„15ç‹¬è‡ªæœ‰ä¸€ä¸ª5,8ç‹¬è‡ªæœ‰ä¸€ä¸ª2,9ç‹¬è‡ªæœ‰ä¸€ä¸ª3</p>
<p>å› æ­¤ï¼šæœ€å°å…¬å€æ•°ä¸º2<em>2</em>3<em>5</em>2*3=360</p>
<p>è¿™ç§æ–¹æ³•ä¸ªäººè§‰å¾—é€‚åˆäººå»ç®—ï¼Œå¹¶ä¸é€‚åˆè®¡ç®—æœºå»è®¡ç®—ã€‚è®¡ç®—æœºæ›´é€‚åˆé‡‡ç”¨ç¬¬äºŒç§æ–¹æ³•ã€‚</p>
<p>2.å…¬å¼æ³•ä¸¤ä¸¤è¿ç”¨</p>
<p>å‡è®¾ç°åœ¨è¦æ±‚æœ€å°å…¬å€æ•°çš„ä¸¤ä¸ªæ•°ä¸ºx,yï¼Œä»–ä»¬çš„æœ€å¤§å…¬çº¦æ•°ä¸ºp,æœ€å°å…¬å€æ•°ä¸ºqã€‚åˆ™x<em>y=p</em>q,ä¹Ÿå°±æ˜¯è¯´åªè¦æ±‚å¾—ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°å°±å¯æ±‚å¾—è¿™ä¸¤ä¸ªæ•°çš„æœ€å°å…¬å€æ•°ã€‚</p>
<p>ä½†æ˜¯é¢˜ç›®ä¸­è¦æ±‚çš„æ˜¯nä¸ªæ•°çš„ æœ€å°å…¬å€æ•°ï¼Œè¿™é‡Œåªéœ€è¦ç”¨æœ€å°å…¬å€æ•°ä»£æ›¿åŸæ¥çš„ä¸¤ä¸ªæ•°å³å¯ã€‚</p>
<p>ä¾‹å¦‚ï¼š12      15        8         9</p>
<p>ç¬¬ä¸€æ­¥ï¼šæ±‚å¾—12å’Œ15çš„æœ€å°å…¬å€æ•°ä¸º60 </p>
<p>ç¬¬äºŒéƒ¨ï¼šæ±‚å¾—60å’Œ8çš„æœ€å°å…¬å€æ•°ä¸º120</p>
<p>ç¬¬ä¸‰æ­¥ï¼šæ±‚å¾—120å’Œ9çš„æœ€å°å…¬å€æ•°ä¸º360</p>
<p>æ‰€ä»¥ï¼ŒåŸé—®é¢˜è½¬æ¢ä¸ºæ±‚ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°ã€‚æœ€å¤§å…¬çº¦æ•°æœ‰å‡ ç§æ±‚æ³•ï¼Œç¬¬ä¸€ç§å¯¹äºå°æ•´æ•°çš„è¾—è½¬ç›¸é™¤ï¼Œå¤§æ•´æ•°ç”¨è¾—è½¬ç›¸å‡ï¼Œè¿˜æœ‰ä¼˜åŒ–ç‰ˆæœ¬çš„è¾—è½¬ç›¸å‡æ³•ï¼Œè¿™é‡Œç»™å®šæ•°å­—èŒƒå›´ä¸ºintå› æ­¤ç›´æ¥é‡‡ç”¨è¾—è½¬ç›¸é™¤æ³•ã€‚</p>
<p>è¾—è½¬ç›¸é™¤æ±‚æœ€å¤§å…¬çº¦æ•°O(lgn)<br>é€’å½’å†™æ³•ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">int gcd(int a,int b){</span><br><span class="line">	if(b==0)</span><br><span class="line">		return a;</span><br><span class="line">	else</span><br><span class="line">		return gcd(b,a%b);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>éé€’å½’å†™æ³•ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">int gcd(int a,int b){</span><br><span class="line">	int c;</span><br><span class="line">	while(b){</span><br><span class="line">		c=a;</span><br><span class="line">		a=b;</span><br><span class="line">		b=c%b</span><br><span class="line">	}</span><br><span class="line">	return a;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åˆ©ç”¨x<em>y=q</em>på¾—åˆ°æœ€å°å…¬å€æ•°q=x*y/p;</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">The_Least_Multiple_of_Number</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		<span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">			arr[i] = input.nextInt();</span><br><span class="line">			<span class="keyword">if</span>(i != <span class="number">1</span>) {</span><br><span class="line">				arr[i] = arr[i - <span class="number">1</span>] / gcb(arr[i - <span class="number">1</span>], arr[i]) * arr[i];				</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		System.out.println(arr[n]);</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">gcb</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(b == <span class="number">0</span>) {</span><br><span class="line">			<span class="keyword">return</span> a;</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">return</span> gcb(b, a % b);			</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸOne-step-away"><a href="#ğŸOne-step-away" class="headerlink" title="ğŸOne_step_away"></a>ğŸOne_step_away</h2><p>ä»æ˜è¿·ä¸­é†’æ¥ï¼Œå°æ˜å‘ç°è‡ªå·±è¢«å…³åœ¨Xæ˜Ÿçƒçš„åºŸçŸ¿è½¦é‡Œã€‚çŸ¿è½¦åœåœ¨å¹³ç›´çš„åºŸå¼ƒçš„è½¨é“ä¸Šã€‚ä»–çš„é¢å‰æ˜¯ä¸¤ä¸ªæŒ‰é’®ï¼Œåˆ†åˆ«å†™ç€â€œFâ€å’Œâ€œBâ€ã€‚ å°æ˜çªç„¶è®°èµ·æ¥ï¼Œè¿™ä¸¤ä¸ªæŒ‰é’®å¯ä»¥æ§åˆ¶çŸ¿è½¦åœ¨è½¨é“ä¸Šå‰è¿›å’Œåé€€ã€‚æŒ‰Fï¼Œä¼šå‰è¿›97ç±³ã€‚æŒ‰Bä¼šåé€€127ç±³ã€‚é€è¿‡æ˜æš—çš„ç¯å…‰ï¼Œå°æ˜çœ‹åˆ°è‡ªå·±å‰æ–¹1ç±³è¿œæ­£å¥½æœ‰ä¸ªç›‘æ§æ¢å¤´ã€‚ä»–å¿…é¡»è®¾æ³•ä½¿å¾—çŸ¿è½¦æ­£å¥½åœåœ¨æ‘„åƒå¤´çš„ä¸‹æ–¹ï¼Œæ‰æœ‰æœºä¼šäº‰å–åŒä¼´çš„æ´åŠ©ã€‚æˆ–è®¸ï¼Œé€šè¿‡å¤šæ¬¡æ“ä½œFå’ŒBå¯ä»¥åŠåˆ°ã€‚ çŸ¿è½¦ä¸Šçš„åŠ¨åŠ›å·²ç»ä¸å¤ªè¶³ï¼Œé»„è‰²çš„è­¦ç¤ºç¯åœ¨é»˜é»˜é—ªçƒâ€¦æ¯æ¬¡è¿›è¡Œ F æˆ– B æ“ä½œéƒ½ä¼šæ¶ˆè€—ä¸€å®šçš„èƒ½é‡ã€‚å°æ˜é£å¿«åœ°è®¡ç®—ï¼Œè‡³å°‘è¦å¤šå°‘æ¬¡æ“ä½œï¼Œæ‰èƒ½æŠŠçŸ¿è½¦å‡†ç¡®åœ°åœåœ¨å‰æ–¹1ç±³è¿œçš„åœ°æ–¹ã€‚ è¯·å¡«å†™ä¸ºäº†è¾¾æˆç›®æ ‡ï¼Œæœ€å°‘éœ€è¦æ“ä½œçš„æ¬¡æ•°ã€‚</p>
<h3 id="æš´åŠ›è§£æ³•"><a href="#æš´åŠ›è§£æ³•" class="headerlink" title="æš´åŠ›è§£æ³•"></a>æš´åŠ›è§£æ³•</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">One_step_away</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		operation(<span class="number">97</span>, <span class="number">127</span>);</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * æš´åŠ›è§£æ³•</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> m</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">operation</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span> </span>{</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> t = <span class="number">0</span>; ; t++) {</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> x  = <span class="number">0</span>; x &lt; t; x++) {</span><br><span class="line">				<span class="keyword">int</span> y = t - x;</span><br><span class="line">				<span class="keyword">if</span>(n * x - m * y == <span class="number">1</span>) {</span><br><span class="line">					System.out.println(<span class="string">"èµ°"</span> + n + <span class="string">" "</span> + x  + <span class="string">"æ­¥"</span> + m +<span class="string">" "</span> + y + <span class="string">"æ­¥"</span>);</span><br><span class="line">					<span class="keyword">return</span>;</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="è§£æ³•äºŒï¼šåæ ‡"><a href="#è§£æ³•äºŒï¼šåæ ‡" class="headerlink" title="è§£æ³•äºŒï¼šåæ ‡"></a>è§£æ³•äºŒï¼šåæ ‡</h3><p>å°†è½¨é“è§†ä¸ºä¸€æ¡åæ ‡è½´ï¼Œæ¢å¤´è§†ä¸ºåŸç‚¹ï¼Œç”±è½¦æŒ‡å‘æ¢å¤´æ–¹å‘ä¸ºæ­£æ–¹å‘ï¼Œåˆ™è½¦çš„åˆå§‹åæ ‡ä¸º-1ï¼Œå½“è½¦çš„åæ ‡&lt;127ç±³æ—¶ï¼Œè½¦å‰è¿›ä¸€æ¬¡ï¼Œåæ ‡+97ï¼Œå½“è½¦çš„åæ ‡&gt;=127æ—¶ï¼Œè½¦åé€€ä¸€æ¬¡ï¼Œåæ ‡ -127ï¼Œ</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">One_step_away</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		operation1(<span class="number">97</span>, <span class="number">127</span>);</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">operation1</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> x = -<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; ; i++) {</span><br><span class="line">			x += n;<span class="comment">//å¾€å‰èµ°ä¸€æ¬¡</span></span><br><span class="line">			<span class="keyword">if</span>(x &gt;= m) {<span class="comment">//å¦‚æœè½¦çš„ä½ç½®è·ç¦»æ¢å¤´è¶…è¿‡127ç±³ï¼Œå°±å¾€åå›ä¸€æ¬¡</span></span><br><span class="line">				x -= m;</span><br><span class="line">				i++;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span>(x == <span class="number">0</span>) {</span><br><span class="line">				<span class="comment">//æ­£å¥½åœ¨æ¢å¤´ä¸‹</span></span><br><span class="line">				System.out.println(i);</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			}</span><br><span class="line">			</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="è§£æ³•ä¸‰ï¼šæ‰©å±•æ¬§å‡ é‡Œå¾·ç®—æ³•"><a href="#è§£æ³•ä¸‰ï¼šæ‰©å±•æ¬§å‡ é‡Œå¾·ç®—æ³•" class="headerlink" title="è§£æ³•ä¸‰ï¼šæ‰©å±•æ¬§å‡ é‡Œå¾·ç®—æ³•"></a>è§£æ³•ä¸‰ï¼šæ‰©å±•æ¬§å‡ é‡Œå¾·ç®—æ³•</h3><p>è¯¦æƒ…å¯æŸ¥çœ‹<a href="https://blog.csdn.net/weixin_45333934/article/details/107976993" target="_blank" rel="noopener">æ‰©å±•æ¬§å‡ é‡Œå¾·ç®—æ³•</a></p>
<p>å½“æˆ‘ä»¬ç®—å‡º <code>97x+127y=gcdï¼ˆ97,127ï¼‰</code>çš„ç¬¬ä¸€ç»„è§£<code>ï¼ˆx0ï¼Œy0ï¼‰</code>åï¼›</p>
<p>æˆ‘ä»¬å¯ä»¥å¾—åˆ° <code>97x+127y=1</code>çš„ç¬¬ä¸€ç»„è§£ï¼š</p>
<p><code>x=x0*1/gcdï¼ˆ97,127ï¼‰ï¼›</code></p>
<p><code>y=y0*1/gcdï¼ˆ97,127ï¼‰ï¼›</code></p>
<p>ç„¶åæˆ‘ä»¬è¾“å‡º absï¼ˆxï¼‰+ absï¼ˆyï¼‰å³å¯ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">One_step_away</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> byue = operation2(<span class="number">97</span>, <span class="number">127</span>);<span class="comment">//è°ƒç”¨åxï¼Œyä½œä¸º 97x+127y=gcd(97,127)çš„ç¬¬ä¸€ç»„è§£</span></span><br><span class="line">		System.out.println(byue);</span><br><span class="line">		System.out.println(Math.abs(x * <span class="number">1</span> / byue) + <span class="string">" "</span> + Math.abs(y * <span class="number">1</span> / byue));</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> x;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> y;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">operation2</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> d;</span><br><span class="line">		<span class="keyword">if</span>(m == <span class="number">0</span>){</span><br><span class="line">			x = <span class="number">1</span>;</span><br><span class="line">			y = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">return</span> n;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span> {</span><br><span class="line">			d = operation2(m, n % m);</span><br><span class="line">			<span class="keyword">int</span> temp = x;</span><br><span class="line">			x = y;</span><br><span class="line">			y = temp - (n / m) * y;</span><br><span class="line">			<span class="keyword">return</span> d;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸSum-of-Fractions"><a href="#ğŸSum-of-Fractions" class="headerlink" title="ğŸSum_of_Fractions"></a>ğŸSum_of_Fractions</h2><p>å¦‚æœæ±‚ 1/2 + 1/3 + 1/4 + 1/5 + 1/6 + â€¦. + 1/100 = ? è¦æ±‚ç»å¯¹ç²¾ç¡®ï¼Œä¸èƒ½æœ‰è¯¯å·®ã€‚</p>
<h3 id="åˆ†æ-4"><a href="#åˆ†æ-4" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>å¸¸è§„æ€è·¯ï¼Œè¦æ±‚ç»å¯¹ç²¾ç¡®ï¼Œæ‰€ä»¥åˆ©ç”¨API</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sum_of_Fractions</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		BigDecimal s = <span class="keyword">new</span> BigDecimal(<span class="number">0</span>);</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) {</span><br><span class="line">			s = s.add(<span class="keyword">new</span> BigDecimal(<span class="number">1.0</span> / i));</span><br><span class="line">		}</span><br><span class="line">		System.out.println(s);</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸNth-Prime"><a href="#ğŸNth-Prime" class="headerlink" title="ğŸNth_Prime"></a>ğŸNth_Prime</h2><p>ç¬¬1ä¸ªç´ æ•°æ˜¯2ï¼Œç¬¬2ä¸ªç´ æ•°æ˜¯3ï¼Œâ€¦</p>
<p>æ±‚ç¬¬100002ï¼ˆåä¸‡é›¶äºŒï¼‰ä¸ªç´ æ•°</p>
<h3 id="åˆ©ç”¨API"><a href="#åˆ©ç”¨API" class="headerlink" title="åˆ©ç”¨API"></a>åˆ©ç”¨API</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Nth_Prime</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		n_prime(n);</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * åˆ©ç”¨API</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">n_prime</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">		BigInteger in = <span class="keyword">new</span> BigInteger(<span class="string">"2"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) {</span><br><span class="line">			in = in.nextProbablePrime();</span><br><span class="line">		}</span><br><span class="line">		System.out.println(in);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="å¸¸è§„æ–¹æ³•ï¼Œç¼–å†™ä¸€ä¸ªåˆ¤æ–­ç´ æ•°çš„æ–¹æ³•ï¼Œå¹¶å°†ç´ æ•°å‚¨å­˜"><a href="#å¸¸è§„æ–¹æ³•ï¼Œç¼–å†™ä¸€ä¸ªåˆ¤æ–­ç´ æ•°çš„æ–¹æ³•ï¼Œå¹¶å°†ç´ æ•°å‚¨å­˜" class="headerlink" title="å¸¸è§„æ–¹æ³•ï¼Œç¼–å†™ä¸€ä¸ªåˆ¤æ–­ç´ æ•°çš„æ–¹æ³•ï¼Œå¹¶å°†ç´ æ•°å‚¨å­˜"></a>å¸¸è§„æ–¹æ³•ï¼Œç¼–å†™ä¸€ä¸ªåˆ¤æ–­ç´ æ•°çš„æ–¹æ³•ï¼Œå¹¶å°†ç´ æ•°å‚¨å­˜</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Nth_Prime</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		n_prime1(n);</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">n_prime1</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">		List&lt;Long&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">long</span> i = <span class="number">2</span>; list.size() &lt; n; i++) {</span><br><span class="line">			<span class="keyword">if</span>(prime(i)) {</span><br><span class="line">				list.add(i);</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		System.out.println(list.get(n - <span class="number">1</span>));</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">prime</span><span class="params">(<span class="keyword">long</span> n)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(n &lt; <span class="number">2</span>) {</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(n == <span class="number">2</span>) {</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(n % <span class="number">2</span> == <span class="number">0</span>) {</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>; i * i &lt;= n;i += <span class="number">2</span>) {</span><br><span class="line">			<span class="keyword">if</span>(n % i == <span class="number">0</span>) {</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Nth_Prime</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		n_prime2(n);</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">n_prime2</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> arr[] = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) {</span><br><span class="line">			arr[i] = <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i * i &lt;= n; i++) {<span class="comment">//å¯ä»¥åªç”¨æ ¹å·nä¹‹å‰çš„æ•°å­—å»ç­›é€‰</span></span><br><span class="line">			<span class="keyword">if</span>(arr[i] == <span class="number">1</span>) { <span class="comment">//ä¸åŠ åˆ¤æ–­ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå¢åŠ å¤æ‚åº¦äº†ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æˆ‘ä»¬æ‰€è®¤ä¸ºçš„â€œç´ æ•°â€ä¸­ç­›é€‰å°±å¯ä»¥äº†ï¼Œ æ¯ä¸ªåˆæ•°å¿…æœ‰è´¨å› å­</span></span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> j = i * i; j &lt;= n; j += i) { <span class="comment">//æ¯”å¦‚j = i * k(k &lt; i),é‚£ä¹ˆjè‚¯å®šè¢«kç­›æ‰äº†</span></span><br><span class="line">					arr[j] = <span class="number">0</span>;</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">int</span> k = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) {</span><br><span class="line">			<span class="keyword">if</span>(arr[i] == <span class="number">1</span>) {</span><br><span class="line">				<span class="keyword">if</span>(k == <span class="number">100002</span>) {</span><br><span class="line">					System.out.println(<span class="string">"-&gt;"</span>+i);</span><br><span class="line">					<span class="keyword">return</span>;</span><br><span class="line">				}</span><br><span class="line">				k++;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>è“æ¡¥æ¯</category>
      </categories>
      <tags>
        <tag>ä¸­å¿ƒæ‹“å±•</tag>
        <tag>è¿›åˆ¶</tag>
        <tag>æ•´é™¤</tag>
        <tag>æ¬§å‡ é‡Œå¾—</tag>
      </tags>
  </entry>
  <entry>
    <title>2020_javaè“æ¡¥_æš‘å‡è®­ç»ƒ_é€’å½’2</title>
    <url>/Blue_bridge_recursion_2/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é€’å½’è®­ç»ƒ"><a href="#ğŸŒ¸é€’å½’è®­ç»ƒ" class="headerlink" title="ğŸŒ¸é€’å½’è®­ç»ƒ"></a>ğŸŒ¸é€’å½’è®­ç»ƒ</h2><h2 id="Traffic-Route"><a href="#Traffic-Route" class="headerlink" title="Traffic_Route"></a>Traffic_Route</h2><p><strong>1ã€æŸåŸå¸‚ç»å¸¸åœ¨é«˜å³°æ—¶æ®µå‘ç”Ÿäº¤é€šæ‹¥å µï¼Œå› æ­¤å¸‚æ”¿åºœå†³å®šé‡‡å–ç®¡åˆ¶æªæ–½ï¼šåœ¨é«˜å³°æ—¶æ®µï¼Œè½¦è¾†åªèƒ½å‘ä¸œæˆ–åŒ—è¡Œé©¶ã€‚æ‰€æœ‰çš„è¡—é“éƒ½æ˜¯ä¸œè¥¿èµ°å‘æˆ–è€…å—åŒ—èµ°å‘ï¼Œå½¢æˆä¸‹å›¾æ‰€ç¤ºç½‘ç»œã€‚</strong></p>
<p><a href="https://imgchr.com/i/aLV5kV" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/11/aLV5kV.png" alt="aLV5kV.png"></a></p>
<p><strong>å‡è®¾æˆ‘ä»¬æˆ‘ä»¬å·²ç»çŸ¥é“äº†ä¸€è¾†è½¦çš„åˆå§‹ä½ç½®å’Œç›®æ ‡ä½ç½®ï¼Œé‚£ä¹ˆæœ‰å¤šå°‘ç§å¯ä»¥åˆ°è¾¾ç›®æ ‡ä½ç½®çš„è·¯å¾„å‘¢ï¼Ÿèµ·ç‚¹ä½ç½®ä¸ºE ç»ˆç‚¹ä½ç½®ä¸ºF ï¼ˆé€‰åšåˆ©ç”¨é€’å½’è§£å†³ï¼‰</strong></p>
<a id="more"></a>

<h3 id="ğŸåˆ†æ"><a href="#ğŸåˆ†æ" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>æ™®é€šçš„è·³æ ¼å­é—®é¢˜ï¼Œç›´æ¥é€’å½’ï¼Œæ²¡å•¥å¥½è¯´çš„</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Traffic_Route</span> </span>{</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> path = <span class="number">0</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> s_x = input.nextInt();</span><br><span class="line">		<span class="keyword">int</span> s_y = input.nextInt();</span><br><span class="line">		<span class="keyword">int</span> e_x = input.nextInt();</span><br><span class="line">		<span class="keyword">int</span> e_y = input.nextInt();</span><br><span class="line">		fun(s_x, s_y, e_x, e_y);</span><br><span class="line">		System.out.println(path);</span><br><span class="line">		input.close();</span><br><span class="line">		</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> startX, <span class="keyword">int</span> startY, <span class="keyword">int</span> endX, <span class="keyword">int</span> endY)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(startX == endX &amp;&amp; startY == endY) {</span><br><span class="line">			path++;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(startX &gt; endX) {</span><br><span class="line">			fun(startX - <span class="number">1</span>, startY, endX, endY);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(startY &lt; endY) {</span><br><span class="line">			fun(startX, startY + <span class="number">1</span>, endX, endY);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸Building-Blocks"><a href="#ğŸŒ¸Building-Blocks" class="headerlink" title="ğŸŒ¸Building_Blocks"></a>ğŸŒ¸Building_Blocks</h2><p><strong>2ã€å°æ˜æœ€è¿‘å–œæ¬¢æ­æ•°å­—ç§¯æœ¨ã€‚ä¸€å…±æœ‰10å—ç§¯æœ¨ï¼Œæ¯ä¸ªç§¯æœ¨ä¸Šæœ‰ä¸€ä¸ªæ•°å­—ï¼Œ0~9ã€‚</strong></p>
<p><strong>æ­ç§¯æœ¨è§„åˆ™ï¼š</strong></p>
<p><strong>æ¯ä¸ªç§¯æœ¨æ”¾åˆ°å…¶å®ƒä¸¤ä¸ªç§¯æœ¨çš„ä¸Šé¢ï¼Œå¹¶ä¸”ä¸€å®šæ¯”ä¸‹é¢çš„ä¸¤ä¸ªç§¯æœ¨æ•°å­—å°ã€‚</strong></p>
<p><strong>æœ€åæ­æˆ4å±‚çš„é‡‘å­—å¡”å½¢ï¼Œå¿…é¡»ç”¨å®Œæ‰€æœ‰çš„ç§¯æœ¨ã€‚</strong></p>
<p><strong>ä¸‹é¢æ˜¯ä¸¤ç§åˆæ ¼çš„æ­æ³•ï¼š</strong></p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">   0</span><br><span class="line">  1 2</span><br><span class="line"> 3 4 5</span><br><span class="line">6 7 8 9</span><br><span class="line">   0</span><br><span class="line">  3 1</span><br><span class="line"> 7 5 2</span><br><span class="line">9 8 6 4</span><br></pre></td></tr></tbody></table></figure>

<p><strong>è¯·ä½ è®¡ç®—è¿™æ ·çš„æ­æ³•ä¸€å…±æœ‰å¤šå°‘ç§ï¼Ÿ</strong></p>
<h3 id="ğŸåˆ†æ-1"><a href="#ğŸåˆ†æ-1" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><ul>
<li>1.ç”¨é€’å½’æ±‚å‡º0-9çš„å…¨æ’åˆ—</li>
<li>2.å¯¹æ¯ä¸ªæ’åˆ—è¿›è¡Œåˆ¤æ–­ï¼Œæ»¡è¶³æ¡ä»¶+1</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Building_Blocks</span> </span>{</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> count;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span>[] arr = {<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>};</span><br><span class="line">		dfs(arr, <span class="number">0</span>);</span><br><span class="line">		System.out.println(count);</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> start)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(start == arr.length - <span class="number">1</span>) {</span><br><span class="line">			<span class="keyword">if</span>(judge(arr)) {</span><br><span class="line">				count++;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = start; i &lt; arr.length; i++) {</span><br><span class="line">			swap(arr, start, i);</span><br><span class="line">			dfs(arr, start + <span class="number">1</span>);</span><br><span class="line">			swap(arr, start, i);</span><br><span class="line">		}</span><br><span class="line">	} </span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> temp = arr[i];</span><br><span class="line">		arr[i] = arr[j];</span><br><span class="line">		arr[j] = temp;</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">judge</span><span class="params">(<span class="keyword">int</span>[] a)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>((a[<span class="number">0</span>]&lt;a[<span class="number">1</span>]&amp;&amp;a[<span class="number">0</span>]&lt;a[<span class="number">2</span>]) &amp;&amp; (a[<span class="number">1</span>]&lt;a[<span class="number">3</span>]&amp;&amp;a[<span class="number">1</span>]&lt;a[<span class="number">4</span>]) &amp;&amp; (a[<span class="number">2</span>]&lt;a[<span class="number">4</span>]&amp;&amp;a[<span class="number">2</span>]&lt;a[<span class="number">5</span>]) &amp;&amp; (a[<span class="number">3</span>]&lt;a[<span class="number">6</span>]&amp;&amp;a[<span class="number">3</span>]&lt;a[<span class="number">7</span>]) &amp;&amp; (a[<span class="number">4</span>]&lt;a[<span class="number">7</span>]&amp;&amp;a[<span class="number">4</span>]&lt;a[<span class="number">8</span>]) &amp;&amp; (a[<span class="number">5</span>]&lt;a[<span class="number">8</span>]&amp;&amp;a[<span class="number">5</span>]&lt;a[<span class="number">9</span>])) {</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸Mission-Mix"><a href="#ğŸŒ¸Mission-Mix" class="headerlink" title="ğŸŒ¸Mission_Mix"></a>ğŸŒ¸Mission_Mix</h2><p><strong>3ã€Xæ˜Ÿçƒè¦æ´¾å‡ºä¸€ä¸ª5äººç»„æˆçš„è§‚å¯Ÿå›¢å‰å¾€Wæ˜Ÿã€‚</strong></p>
<p><strong>å…¶ä¸­ï¼š</strong></p>
<p><strong>Aå›½æœ€å¤šå¯ä»¥æ´¾å‡º4äººã€‚</strong></p>
<p><strong>Bå›½æœ€å¤šå¯ä»¥æ´¾å‡º2äººã€‚</strong></p>
<p><strong>Cå›½æœ€å¤šå¯ä»¥æ´¾å‡º2äººã€‚</strong></p>
<p><strong>Då›½æœ€å¤šå¯ä»¥æ´¾å‡º1äººã€‚</strong></p>
<p><strong>Eå›½æœ€å¤šå¯ä»¥æ´¾å‡º1äººã€‚</strong></p>
<p><strong>Få›½æœ€å¤šå¯ä»¥æ´¾å‡º3äººã€‚</strong></p>
<p><strong>é‚£ä¹ˆæœ€ç»ˆæ´¾å¾€Wæ˜Ÿçš„è§‚å¯Ÿå›¢ä¼šæœ‰å¤šå°‘ç§å›½åˆ«çš„ä¸åŒç»„åˆå‘¢ï¼Ÿ</strong></p>
<h3 id="ğŸåˆ†æ-2"><a href="#ğŸåˆ†æ-2" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p> æ•°ç»„aæ˜¯ç”¨æ¥å­˜å‚¨å„ä¸ªå›½å®¶å¯ä»¥æ´¾é£çš„äººæ•°ï¼Œ æ–¹æ³• <code>func(int[] a, int k, int n, String s)</code> å…¶ä¸­<code>int[] a</code>æŒ‡ä»£æ•°ç»„aï¼Œå˜é‡k æŒ‡ä»£å›½å®¶ç´¢å¼•ï¼Œå˜é‡n æŒ‡ä»£å½“å‰å·²ç»é€‰å‡ºçš„äººæ•°ï¼Œå˜é‡str æŒ‡ä»£ ä¸€ä¸ªé€‰å‡ºçš„ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºçš„æƒ…å†µforå¾ªç¯ï¼Œå¾ªç¯å½“å‰å›½å®¶ï¼ˆa[k]ï¼‰çš„æƒ…å†µï¼Œå¹¶ç”¨s2å­˜ä¸‹æ¥ï¼Œç„¶åk+1é€’å½’è¿›å…¥ä¸‹ä¸€ä¸ªå›½å®¶ï¼ˆç´¢å¼•å€¼ï¼‰ï¼Œn-i è¡¨ç¤ºè¿˜éœ€è¦æ´¾é£çš„äººæ•°ï¼Œsè¡¨ç¤ºå­˜å‚¨çš„å½“å‰æƒ…å†µã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Mission_Mix</span> </span>{</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span>[] a = {<span class="number">4</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>};</span><br><span class="line">		fun(a, <span class="number">0</span>, <span class="number">5</span>, <span class="string">""</span>);</span><br><span class="line">		System.out.println(sum);</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> k, <span class="keyword">int</span> n, String str)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(k == a.length) {</span><br><span class="line">			<span class="keyword">if</span>(n == <span class="number">0</span>) {</span><br><span class="line">				System.out.println(str);</span><br><span class="line">				sum++;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		}</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(n &lt; <span class="number">0</span>) {</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		}</span><br><span class="line">		</span><br><span class="line">		String s = str;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= a[k]; i++) {</span><br><span class="line">			fun(a, k + <span class="number">1</span>, n - i, s);</span><br><span class="line">			s += (<span class="keyword">char</span>)(k + <span class="string">'A'</span>);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸Poker-Suquence"><a href="#ğŸŒ¸Poker-Suquence" class="headerlink" title="ğŸŒ¸Poker_Suquence"></a>ğŸŒ¸Poker_Suquence</h2><p><strong>4ã€A A 2 2 3 3 4 4ï¼Œ ä¸€å…±4å¯¹æ‰‘å…‹ç‰Œã€‚è¯·ä½ æŠŠå®ƒä»¬æ’æˆä¸€è¡Œã€‚</strong></p>
<p><strong>è¦æ±‚ï¼šä¸¤ä¸ªAä¸­é—´æœ‰1å¼ ç‰Œï¼Œä¸¤ä¸ª2ä¹‹é—´æœ‰2å¼ ç‰Œï¼Œä¸¤ä¸ª3ä¹‹é—´æœ‰3å¼ ç‰Œï¼Œä¸¤ä¸ª4ä¹‹é—´æœ‰4å¼ ç‰Œã€‚</strong></p>
<p><strong>è¯·å¡«å†™å‡ºæ‰€æœ‰ç¬¦åˆè¦æ±‚çš„æ’åˆ—ä¸­ï¼Œå­—å…¸åºæœ€å°çš„é‚£ä¸ªã€‚</strong></p>
<p><strong>ä¾‹å¦‚ï¼š22AA3344 æ¯” A2A23344 å­—å…¸åºå°ã€‚å½“ç„¶ï¼Œå®ƒä»¬éƒ½ä¸æ˜¯æ»¡è¶³è¦æ±‚çš„ç­”æ¡ˆã€‚</strong></p>
<h3 id="ğŸåˆ†æ-3"><a href="#ğŸåˆ†æ-3" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>è¿™é“é¢˜å°±è¿™ä¹ˆçœ‹ï¼Œç¡®å®æ‡µäº†ä¸€é˜µï¼Œç´¢æ€§ç›´æ¥å…¨æ’åˆ—ï¼Œå¯»æ‰¾æ»¡è¶³æ¡ä»¶çš„ç»„åˆ</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Poker_Suquence</span> </span>{</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Set&lt;String&gt; set = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		String str = <span class="string">"AA223344"</span>;</span><br><span class="line">		dfs(str.toCharArray(), <span class="number">0</span>);</span><br><span class="line">		<span class="keyword">for</span>(String s : set) {</span><br><span class="line">			System.out.println(s);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[] data, <span class="keyword">int</span> k)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(k == data.length) {</span><br><span class="line">			judge(data);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		}</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = k; i &lt; data.length; i++) {</span><br><span class="line">			swap(data, i, k);</span><br><span class="line">			dfs(data, k + <span class="number">1</span>);</span><br><span class="line">			swap(data, i, k);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">judge</span><span class="params">(<span class="keyword">char</span>[] a)</span> </span>{</span><br><span class="line">		String s = <span class="keyword">new</span> String(a);</span><br><span class="line">		<span class="keyword">if</span>(s.lastIndexOf(<span class="string">'A'</span>) - s.indexOf(<span class="string">'A'</span>) != <span class="number">2</span>) {</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(s.lastIndexOf(<span class="string">'2'</span>) - s.indexOf(<span class="string">'2'</span>) != <span class="number">3</span>) {</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(s.lastIndexOf(<span class="string">'3'</span>) - s.indexOf(<span class="string">'3'</span>) != <span class="number">4</span>) {</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(s.lastIndexOf(<span class="string">'4'</span>) - s.indexOf(<span class="string">'4'</span>) != <span class="number">5</span>) {</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		}</span><br><span class="line">		set.add(s);</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">char</span>[] a, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>{</span><br><span class="line">		<span class="keyword">char</span> temp = a[i];</span><br><span class="line">		a[i] = a[j];</span><br><span class="line">		a[j] = temp;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h4 id="ğŸå…¨æ’åˆ—ç¬¬äºŒç§å†™æ³•"><a href="#ğŸå…¨æ’åˆ—ç¬¬äºŒç§å†™æ³•" class="headerlink" title="ğŸå…¨æ’åˆ—ç¬¬äºŒç§å†™æ³•"></a>ğŸå…¨æ’åˆ—ç¬¬äºŒç§å†™æ³•</h4><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Poker_Suquence</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		System.out.println(<span class="string">"-------------"</span>);</span><br><span class="line">		<span class="keyword">char</span>[] str2 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">8</span>];</span><br><span class="line">		dfs2(str2, <span class="number">0</span>);</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> a</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> k</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs2</span><span class="params">(<span class="keyword">char</span>[] a, <span class="keyword">int</span> k)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(k &gt;= a.length) {</span><br><span class="line">			<span class="keyword">if</span>(judge2(a)) {</span><br><span class="line">				show(a);</span><br><span class="line">			}</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">4</span>; i++) {</span><br><span class="line">				a[k] = (<span class="keyword">char</span>) (i + <span class="string">'0'</span>);</span><br><span class="line">				dfs2(a, k + <span class="number">1</span>);</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(<span class="keyword">char</span>[] a)</span> </span>{</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length; i++) {</span><br><span class="line">			<span class="keyword">if</span>(a[i] == <span class="string">'1'</span>) {</span><br><span class="line">				System.out.print(<span class="string">'A'</span>);</span><br><span class="line">			}<span class="keyword">else</span> {</span><br><span class="line">				System.out.print(a[i]);</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		System.out.println();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">judge2</span><span class="params">(<span class="keyword">char</span>[] a)</span> </span>{</span><br><span class="line">		<span class="keyword">boolean</span>[] bool = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">5</span>];</span><br><span class="line">		<span class="keyword">int</span> sizeA = <span class="number">0</span>, size2 = <span class="number">0</span>, size3 = <span class="number">0</span>, size4 = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length; i++) {</span><br><span class="line">			<span class="keyword">if</span>(a[i] == <span class="string">'1'</span>) {</span><br><span class="line">				sizeA++;</span><br><span class="line">				<span class="keyword">if</span>(i + <span class="number">2</span> &lt; a.length &amp;&amp; a[i] == a[i + <span class="number">2</span>] || i - <span class="number">2</span> &gt; <span class="number">0</span> &amp;&amp; a[i - <span class="number">2</span>] == a[i]) {</span><br><span class="line">					bool[<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(a[i] == <span class="string">'2'</span>) {</span><br><span class="line">				size2++;</span><br><span class="line">				<span class="keyword">if</span>(i + <span class="number">3</span> &lt; a.length &amp;&amp; a[i] == a[i + <span class="number">3</span>] || i - <span class="number">3</span> &gt; <span class="number">0</span> &amp;&amp; a[i - <span class="number">3</span>] == a[i]) {</span><br><span class="line">					bool[<span class="number">1</span>] = <span class="keyword">true</span>;</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(a[i] == <span class="string">'3'</span>) {</span><br><span class="line">				size3++;</span><br><span class="line">				<span class="keyword">if</span>(i + <span class="number">4</span> &lt; a.length &amp;&amp; a[i] == a[i + <span class="number">4</span>] || i - <span class="number">4</span> &gt; <span class="number">0</span> &amp;&amp; a[i - <span class="number">4</span>] == a[i]) {</span><br><span class="line">					bool[<span class="number">2</span>] = <span class="keyword">true</span>;</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(a[i] == <span class="string">'4'</span>) {</span><br><span class="line">				size4++;</span><br><span class="line">				<span class="keyword">if</span>(i + <span class="number">5</span> &lt; a.length &amp;&amp; a[i] == a[i + <span class="number">5</span>] || i - <span class="number">5</span> &gt; <span class="number">0</span> &amp;&amp; a[i - <span class="number">5</span>] == a[i]) {</span><br><span class="line">					bool[<span class="number">3</span>] = <span class="keyword">true</span>;</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line"></span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(sizeA == <span class="number">2</span> &amp;&amp; size3 == <span class="number">2</span> &amp;&amp; size4 == <span class="number">2</span> &amp;&amp; size2 == <span class="number">2</span>) {</span><br><span class="line">			bool[<span class="number">4</span>] = <span class="keyword">true</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> bool[<span class="number">0</span>] &amp;&amp; bool[<span class="number">1</span>] &amp;&amp; bool[<span class="number">2</span>] &amp;&amp; bool[<span class="number">3</span>] &amp;&amp; bool[<span class="number">4</span>];	</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h4 id="ğŸå…¨æ’åˆ—ç¬¬ä¸‰ç§å†™æ³•"><a href="#ğŸå…¨æ’åˆ—ç¬¬ä¸‰ç§å†™æ³•" class="headerlink" title="ğŸå…¨æ’åˆ—ç¬¬ä¸‰ç§å†™æ³•"></a>ğŸå…¨æ’åˆ—ç¬¬ä¸‰ç§å†™æ³•</h4><p>å°†Aå½“åš1</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Poker_Suquence</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> a[]={<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>};</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> b[]=<span class="keyword">new</span> <span class="keyword">int</span> [<span class="number">8</span>];</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		fun(<span class="number">0</span>);</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(b[i]==<span class="number">0</span>&amp;&amp;(i+a[n]+<span class="number">1</span>)&lt;<span class="number">8</span>&amp;&amp;b[i+a[n]+<span class="number">1</span>]==<span class="number">0</span>)</span><br><span class="line">            {</span><br><span class="line">                b[i]=b[i+a[n]+<span class="number">1</span>]=a[n];</span><br><span class="line">                <span class="keyword">if</span>(n==<span class="number">3</span>)</span><br><span class="line">                {</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">8</span>;j++)</span><br><span class="line">                    {</span><br><span class="line">                    	<span class="keyword">if</span>(b[j] == <span class="number">1</span>) {</span><br><span class="line">                    		System.out.print(<span class="string">'A'</span>);</span><br><span class="line">                    	}<span class="keyword">else</span> {                  		</span><br><span class="line">                    		System.out.print(b[j]);</span><br><span class="line">                    	}</span><br><span class="line">                    }</span><br><span class="line">                    System.out.println();</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">else</span> fun(n+<span class="number">1</span>);</span><br><span class="line">                b[i]=b[i+a[n]+<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸Full-Of-Permutation"><a href="#ğŸŒ¸Full-Of-Permutation" class="headerlink" title="ğŸŒ¸Full_Of_Permutation"></a>ğŸŒ¸Full_Of_Permutation</h2><p><strong>5ã€å·²çŸ¥ä¸åŒå­—æ¯æ„æˆçš„ä¸²ï¼Œæ±‚å®ƒçš„å…¨æ’åˆ—</strong></p>
<p>  <strong>ä¾‹å¦‚â€œABCDâ€çš„å…¨æ’åˆ—ï¼Ÿ</strong></p>
<h3 id="ğŸåˆ†æ-4"><a href="#ğŸåˆ†æ-4" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>ç›´æ¥è¿›è¡Œå…¨æ’åˆ—ï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œåˆ†ä¸ºå­—ç¬¦ä¸²å’Œå­—ç¬¦æ•°ç»„çš„å…¨æ’åˆ—</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Full_Of_Permutation</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		String str = <span class="string">"ABCD"</span>;</span><br><span class="line">		System.out.println(dfs(str).toString());</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//å­—ç¬¦ä¸²</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">dfs</span><span class="params">(String str)</span></span>{</span><br><span class="line">		List&lt;String&gt; list = <span class="keyword">new</span> Vector&lt;String&gt;();</span><br><span class="line">		<span class="comment">//å‡ºå£</span></span><br><span class="line">		<span class="keyword">if</span>(str.length() == <span class="number">1</span>) {</span><br><span class="line">			list.add(str);</span><br><span class="line">			<span class="keyword">return</span> list;</span><br><span class="line">		}</span><br><span class="line">		<span class="comment">// ä¸‹é¢æ˜¯é€’å½’çš„ç›¸ä¼¼æ€§</span></span><br><span class="line">		<span class="comment">/* Vectoréå¸¸ç±»ä¼¼ArrayListï¼Œä½†æ˜¯Vectoræ˜¯åŒæ­¥çš„ã€‚ */</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length(); i++) {</span><br><span class="line">			<span class="keyword">char</span> cur = str.charAt(i);</span><br><span class="line">			 <span class="comment">//ç”¨æ¥ä¸´æ—¶å­˜å‚¨ é€’å½’ä¹‹åçš„å…¨æ’åˆ—</span></span><br><span class="line">			List&lt;String&gt; lis = <span class="keyword">new</span> Vector&lt;String&gt;();</span><br><span class="line">			<span class="comment">//lisä¸ºé€’å½’sä¸²ä¸­é™¤å»iä¹‹åçš„å„ä¸ªå…ƒç´ çš„å…¨æ’åˆ—</span></span><br><span class="line">			lis = dfs(str.substring(<span class="number">0</span>, i) + str.substring(i + <span class="number">1</span>));</span><br><span class="line">			<span class="comment">//ç„¶åæŠŠiçš„åŠ åœ¨lisçš„å‰è¾¹å°±è¡Œ</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; lis.size(); k++) {</span><br><span class="line">				list.add(<span class="string">""</span> + cur + lis.get(k));</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> list;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Full_Of_Permutation</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		String str = <span class="string">"ABCD"</span>;</span><br><span class="line">		</span><br><span class="line">		dfs2(str.toCharArray(), <span class="number">0</span>);<span class="comment">//kä»ç¬¬0ä¸ªå¼€å§‹</span></span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//æ•°ç»„</span></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> a å¾…æ’åˆ—æ•°ç»„</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> k æ•°ç»„ä¸‹è¡¨</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs2</span><span class="params">(<span class="keyword">char</span>[] a, <span class="keyword">int</span> k)</span> </span>{</span><br><span class="line">		<span class="comment">//å‡ºå£</span></span><br><span class="line">		<span class="keyword">if</span>(k == a.length - <span class="number">1</span>) {</span><br><span class="line">			<span class="comment">//æŠŠæ•°ç»„ç±»å‹çš„aaå¼ºåˆ¶è½¬æ¢æˆå­—ç¬¦ä¸²ç±»å‹,å¹¶è¾“å‡º</span></span><br><span class="line">			System.out.println(String.valueOf(a));</span><br><span class="line">			<span class="keyword">return</span>;<span class="comment">//Kè¾¾åˆ°ä¸Šçº¿ï¼Œä¸èƒ½ç»§ç»­é€’å½’ï¼Œç¨‹åºè¿”å›</span></span><br><span class="line">		}</span><br><span class="line">		<span class="comment">//é€’å½’ç›¸ä¼¼æ€§</span></span><br><span class="line">		<span class="comment">//ä»ç¬¬kä¸ªæ•°å¼€å§‹ï¼Œåˆ°æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªæ•°ä¸ºæ­¢ï¼Œä¾æ¬¡è¿›è¡Œäº¤æ¢ï¼ˆkä»ç¬¬ä¸€ä¸ªæ•°å¼€å§‹ï¼‰</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = k; i &lt; a.length; i++) {<span class="comment">//i=k,å³ä¸èƒ½æ¼æ‰ä¸äº¤æ¢çš„æƒ…å†µ</span></span><br><span class="line">			<span class="comment">//è¯•æ¢</span></span><br><span class="line">			swap(a, i, k);</span><br><span class="line">			<span class="comment">//è°ƒç”¨K+1ï¼›é€’å½’åé¢çš„å…ƒç´ </span></span><br><span class="line">			dfs2(a, k + <span class="number">1</span>);</span><br><span class="line">			<span class="comment">//å›æº¯ï¼Œå†äº¤æ¢å›æ¥</span></span><br><span class="line">			swap(a, i, k);</span><br><span class="line">			 <span class="comment">//åšè¯•æ¢ï¼Œé€’å½’ä¹‹åç«‹å³å›æº¯</span></span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">char</span>[] a, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>{</span><br><span class="line">		<span class="keyword">char</span> temp = a[i];</span><br><span class="line">		a[i] = a[j];</span><br><span class="line">		a[j] = temp;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸Repeated-Letter-Combinations"><a href="#ğŸŒ¸Repeated-Letter-Combinations" class="headerlink" title="ğŸŒ¸Repeated_Letter_Combinations"></a>ğŸŒ¸Repeated_Letter_Combinations</h2><p><strong>6ã€æœ‰é‡å¤çš„å­—æ¯ä¸­æ±‚å–å‡ºmä¸ªæ‰€æœ‰ç»„åˆ</strong></p>
<p>â€‹    <strong>ä¾‹å¦‚ï¼š â€œAAABBCCCCCCDDâ€ ä¸­å–3ä¸ªå­—æ¯çš„æ‰€æœ‰ç»„åˆ</strong></p>
<h3 id="ğŸåˆ†æ-5"><a href="#ğŸåˆ†æ-5" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>æ— ç–‘æ˜¯ä»ä¸­æ‹¿å‡ºä¸‰ä¸ªå­—æ¯è¿›è¡Œå…¨æ’åˆ—ï¼Œè¯¦æƒ…è§ä»£ç </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Repeated_Letter_Combinations</span> </span>{</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span>[] data = {<span class="number">3</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">2</span>};<span class="comment">//å››ç§å…ƒç´ åˆ†åˆ«æ‰€å ä¸ªæ•°</span></span><br><span class="line">		<span class="keyword">int</span>[] x = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>];<span class="comment">//æ¯ç§å…ƒç´ å–å¤šå°‘ä¸ª</span></span><br><span class="line">		dfs(data, x, <span class="number">0</span>, <span class="number">3</span>);</span><br><span class="line">		System.out.println(sum);</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[] data, <span class="keyword">int</span>[] x, <span class="keyword">int</span> loc, <span class="keyword">int</span> goal)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(loc == <span class="number">4</span>) {</span><br><span class="line">			<span class="keyword">if</span>(goal == <span class="number">0</span>) {</span><br><span class="line">				sum++;</span><br><span class="line">				print(x);</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="comment">//i ä¸ºç¬¬locç§å…ƒç´ æ‰€å–å¾—ä¸ªæ•°</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= (goal &lt; data[loc] ? goal : data[loc]); i++) {</span><br><span class="line">			x[loc] = i;</span><br><span class="line">			dfs(data, x, loc + <span class="number">1</span>, goal - i);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span>[] x)</span> </span>{</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) {</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; x[i]; j++) {</span><br><span class="line">				System.out.print((<span class="keyword">char</span>)(<span class="string">'A'</span> + i));</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		System.out.println();</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h3><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>è“æ¡¥æ¯</category>
      </categories>
      <tags>
        <tag>é€’å½’</tag>
        <tag>å›æº¯</tag>
        <tag>å…¨æ’åˆ—</tag>
      </tags>
  </entry>
  <entry>
    <title>2020_javaè“æ¡¥_æš‘å‡è®­ç»ƒ_é€’å½’</title>
    <url>/Blue_bridge_recursion_1/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é€’å½’è®­ç»ƒ"><a href="#ğŸŒ¸é€’å½’è®­ç»ƒ" class="headerlink" title="ğŸŒ¸é€’å½’è®­ç»ƒ"></a>ğŸŒ¸é€’å½’è®­ç»ƒ</h2><h2 id="ğŸŒ¸The-39-Steps"><a href="#ğŸŒ¸The-39-Steps" class="headerlink" title="ğŸŒ¸The_39_Steps"></a>ğŸŒ¸The_39_Steps</h2><p>ğŸ<strong>1ã€å°æ˜åˆšåˆšçœ‹å®Œç”µå½±ã€Šç¬¬39çº§å°é˜¶ã€‹ã€‚ç¦»å¼€ç”µå½±é™¢çš„æ—¶å€™ï¼Œä»–æ•°äº†æ•°ç¤¼å ‚å‰çš„å°é˜¶æ•°ï¼Œæ°å¥½æ˜¯39çº§!</strong></p>
<p><strong>ç«™åœ¨å°é˜¶å‰ï¼Œä»–çªç„¶åˆæƒ³ç€ä¸€ä¸ªé—®é¢˜ï¼š</strong></p>
<p><strong>å¦‚æœæˆ‘æ¯ä¸€æ­¥åªèƒ½è¿ˆä¸Š1ä¸ªæˆ–2ä¸ªå°é˜¶ã€‚å…ˆè¿ˆå·¦è„šï¼Œç„¶åå·¦å³äº¤æ›¿ï¼Œæœ€åä¸€æ­¥æ˜¯è¿ˆå³è„šï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€å…±è¦èµ°å¶æ•°æ­¥ã€‚é‚£ä¹ˆï¼Œä¸Šå®Œ39çº§å°é˜¶ï¼Œæœ‰å¤šå°‘ç§ä¸åŒçš„ä¸Šæ³•å‘¢ï¼Ÿ</strong></p>
<p><strong>è¯·ä½ åˆ©ç”¨è®¡ç®—æœºçš„ä¼˜åŠ¿ï¼Œå¸®åŠ©å°æ˜å¯»æ‰¾ç­”æ¡ˆã€‚</strong></p>
<a id="more"></a>

<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>æ ¹æ®é¢˜ç›®è¦æ±‚ï¼Œä¸€æ¬¡åªèƒ½ï¼Œè¿ˆå‡ºä¸€æ­¥æˆ–è€…ä¸¤æ­¥ï¼Œç¬¬ä¸€è„šæ˜¯å·¦è„šï¼Œæœ€åä¸€è„šæ˜¯å³è„šï¼Œè¿™æ„å‘³ç€è‡ªå·±èµ°çš„æ­¥æ•°åªèƒ½æ˜¯å¶æ•°ï¼Œé€’å½’æ€æƒ³æ€è€ƒé¢˜ç›®ï¼Œ39çº§å°é˜¶çš„èµ°æ³•åº”è¯¥æ˜¯ä»37çº§å°é˜¶æˆ–è€…38çº§å°é˜¶èµ°ä¸Šæ¥çš„ï¼Œå³39çº§èµ°æ³•ç­‰äº37çº§èµ°æ³•åŠ ä¸Š38çº§èµ°æ³•çš„æ€»å’Œï¼Œä»¥æ­¤ä¸€ç›´å€’æ¨ï¼Œâ€¦â€¦..èµ°åˆ°ç¬¬ä¸‰çº§å°é˜¶æ˜¯ä»ç¬¬ç¬¬ä¸€çº§å’Œç¬¬äºŒçº§ä¸Šæ¥çš„ï¼Œå½“å°é˜¶åªå‰©ä¸‹2çº§ï¼Œ<strong>æ— è®ºä½ ä¹‹å‰èµ°äº†å¥‡æ•°æ­¥è¿˜æ˜¯å¶æ•°æ­¥ï¼Œéƒ½èƒ½æœ‰ä¸€ç§èµ°æ³•å®ç°æ€»å’Œæ­¥æ•°æ˜¯å¶æ•°æ­¥</strong>ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ä½œä¸ºé€’å½’å‡ºå£ä¹‹ä¸€ï¼Œç›´æ¥<code>return 1;</code>ï¼Œå½“å°é˜¶åªå‰©ä¸‹ä¸€æ­¥ï¼Œç”±äºæ€»æ­¥æ•°åªèƒ½æ˜¯å¶æ•°æ­¥ï¼Œæ‰€ä»¥ä¹‹å‰çš„æ­¥æ•°åªèƒ½æ˜¯å¥‡æ•°æ­¥æ‰èƒ½æ»¡è¶³æ¡ä»¶ï¼Œreturn 1ï¼Œå¶æ•°æ­¥åˆ™èµ°æ³•ä¸ç¬¦åˆé¢˜æ„ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">The_39_Steps</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		System.out.println(steps(n, <span class="number">0</span>));</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">steps</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> count)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(n == <span class="number">1</span>) {</span><br><span class="line">			<span class="keyword">if</span>(count % <span class="number">2</span> == <span class="number">0</span>) {</span><br><span class="line">				<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(n == <span class="number">2</span>) {</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> steps(n - <span class="number">1</span>, count + <span class="number">1</span>) + steps(n - <span class="number">2</span>, count + <span class="number">1</span>);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸Motorcade-checkpoint"><a href="#ğŸŒ¸Motorcade-checkpoint" class="headerlink" title="ğŸŒ¸Motorcade_checkpoint"></a>ğŸŒ¸Motorcade_checkpoint</h2><p><strong>ğŸ2ã€Xæ˜Ÿçƒç‰¹åˆ«è®²ç©¶ç§©åºï¼Œæ‰€æœ‰é“è·¯éƒ½æ˜¯å•è¡Œçº¿ã€‚</strong></p>
<p><strong>ä¸€ä¸ªç”²å£³è™«è½¦é˜Ÿï¼Œå…±16è¾†è½¦ï¼ŒæŒ‰ç…§ç¼–å·å…ˆåå‘è½¦ï¼Œå¤¹åœ¨å…¶å®ƒè½¦æµä¸­ï¼Œç¼“ç¼“å‰è¡Œã€‚</strong></p>
<p><strong>è·¯è¾¹æœ‰ä¸ªæ­»èƒ¡åŒï¼Œåªèƒ½å®¹ä¸€è¾†è½¦é€šè¿‡ï¼Œæ˜¯ä¸´æ—¶çš„æ£€æŸ¥ç«™ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</strong></p>
<p><a href="https://imgchr.com/i/aoLxxA" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/09/aoLxxA.png" alt="aoLxxA.png"></a></p>
<p><strong>Xæ˜Ÿçƒå¤ªæ­»æ¿ï¼Œè¦æ±‚æ¯è¾†è·¯è¿‡çš„è½¦å¿…é¡»è¿›å…¥æ£€æŸ¥ç«™ï¼Œä¹Ÿå¯èƒ½ä¸æ£€æŸ¥å°±æ”¾è¡Œï¼Œä¹Ÿå¯èƒ½ä»”ç»†æ£€æŸ¥ã€‚</strong></p>
<p><strong>å¦‚æœè½¦è¾†è¿›å…¥æ£€æŸ¥ç«™å’Œç¦»å¼€çš„æ¬¡åºå¯ä»¥ä»»æ„äº¤é”™ã€‚é‚£ä¹ˆï¼Œè¯¥è½¦é˜Ÿå†æ¬¡ä¸Šè·¯åï¼Œå¯èƒ½çš„æ¬¡åºæœ‰å¤šå°‘ç§ï¼Ÿ</strong> </p>
<p><strong>ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œå‡è®¾æ£€æŸ¥ç«™å¯å®¹çº³ä»»æ„æ•°é‡çš„æ±½è½¦ã€‚</strong></p>
<p><strong>æ˜¾ç„¶ï¼Œå¦‚æœè½¦é˜Ÿåªæœ‰1è¾†è½¦ï¼Œå¯èƒ½æ¬¡åº1ç§ï¼›2è¾†è½¦å¯èƒ½æ¬¡åº2ç§ï¼›3è¾†è½¦å¯èƒ½æ¬¡åº5ç§ã€‚</strong></p>
<h3 id="åˆ†æ-1"><a href="#åˆ†æ-1" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>è¿™é“é¢˜çœ‹ä¼¼ååˆ†ç»•ã€‚ä½†æ˜¯æŠŠæ£€æŸ¥ç«™çœ‹æˆä¸€ä¸ªè¿™é¢˜å°±å˜æˆäº†ä¸€ä¸ªåˆ—è¡¨æ±‚å‡ºæ ˆçš„æ¬¡åºæ•°é—®é¢˜ï¼Œæ¯ä¸€ç§æ“ä½œæœ‰ä¸¤ç§æƒ…å†µï¼Œè¿›ç«™å’Œå‡ºç«™ï¼Œä¸€è¾†è½¦åœ¨æ£€æŸ¥ç«™æ²¡æœ‰è½¦çš„æƒ…å†µä¸‹åªèƒ½é€‰æ‹©è¿›ç«™ï¼Œä¸€è¾†è½¦åœ¨æ£€æŸ¥ç«™æœ‰è½¦çš„æƒ…å†µä¸‹æœ‰</p>
<ul>
<li>è¿›ç«™ï¼Œæ£€æŸ¥ç«™è½¦è¾†æ•°ç›®åŠ ä¸€</li>
<li>ä¸è¿›ç«™ï¼Œæ£€æŸ¥ç«™æ£€æŸ¥è½¦è¾†ï¼Œè½¦è¾†å‡ºç«™ï¼Œæ£€æŸ¥ç«™è½¦è¾†æ•°ç›®å‡ä¸€</li>
</ul>
<p>å‡ºç«™æ¬¡åºæ•°å³ä¸Šé¢ï¼›ä¸¤ç§æƒ…å†µä¹‹å’Œ</p>
<p>åˆ©ç”¨n ä»£è¡¨æ­£åœ¨ç­‰å€™è¿›ç«™çš„è½¦è¾†æ•°ç›®ï¼Œmä»£è¡¨æ£€æŸ¥ç«™è½¦è¾†æ•°ç›®ï¼Œå½“n ä¸º0æ—¶é€’å½’å¯ç»“æŸè¯¦æƒ…è§ä»£ç </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Motorcade_checkpoint</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		System.out.println(check(n, <span class="number">0</span>));</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(n == <span class="number">0</span>) {<span class="comment">//å¦‚æœå·¦è¾¹æ²¡æœ‰è½¦</span></span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(m == <span class="number">0</span>) {<span class="comment">//å¦‚æœæ£€æŸ¥ç«™æ²¡æœ‰è½¦</span></span><br><span class="line">			<span class="keyword">return</span> check(n - <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(m &gt; <span class="number">0</span>) {<span class="comment">//å¦‚æœæ£€æŸ¥ç«™æœ‰è½¦å–å†³äºè½¦è¾†æ˜¯å…¥è¿˜æ˜¯å‡º</span></span><br><span class="line">			<span class="keyword">return</span> check(n - <span class="number">1</span>, m + <span class="number">1</span>) + check(n, m - <span class="number">1</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	}	</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸè§£æ³•äºŒï¼šå›æº¯ï¼ˆDFSï¼‰"><a href="#ğŸè§£æ³•äºŒï¼šå›æº¯ï¼ˆDFSï¼‰" class="headerlink" title="ğŸè§£æ³•äºŒï¼šå›æº¯ï¼ˆDFSï¼‰"></a>ğŸè§£æ³•äºŒï¼šå›æº¯ï¼ˆDFSï¼‰</h3><p>æ±‚è§£æ’åˆ—é—®é¢˜ä¸€æŠŠæƒ³åˆ°çš„å°±æ˜¯å›æº¯å‰ªæã€‚é¢˜ä¸­ï¼Œåªæœ‰ç«™ä¸­æœ‰è½¦ï¼Œè½¦è¾†æ‰ä¼šè¢«å…è®¸å‡ºç«™ï¼Œå‡è®¾1ä»£è¡¨è¿›ç«™ï¼Œ0ä»£è¡¨å‡ºç«™ï¼Œrä»£è¡¨è¿›ç«™çš„ä¸ªæ•°ï¼Œlä»£è¡¨å‡ºç«™çš„ä¸ªæ•°ï¼Œå³åªæœ‰å½“è¿›ç«™çš„ä¸ªæ•°å¤§äºç­‰äºå‡ºç«™çš„ä¸ªæ•°æ‰å¯ä»¥è¿›ç«™æˆ–è€…å‡ºç«™ï¼Œå¦åˆ™åªèƒ½è¿›ç«™ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Motorcade_checkpoint</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		dfs(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">		System.out.println(num);</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> r, <span class="keyword">int</span> l)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(n == <span class="number">32</span>) {</span><br><span class="line">			num++;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(r &gt; l) {</span><br><span class="line">			<span class="keyword">if</span>(r &lt; <span class="number">16</span>) {</span><br><span class="line">				dfs(n + <span class="number">1</span>, r + <span class="number">1</span>, l);</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span>(l &lt; <span class="number">16</span>) {</span><br><span class="line">				dfs(n + <span class="number">1</span>, r, l + <span class="number">1</span>);</span><br><span class="line">			}</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">if</span>(r == l || r &lt; <span class="number">16</span>) {</span><br><span class="line">				dfs(n + <span class="number">1</span>, r + <span class="number">1</span>, l);</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}	</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸè§£æ³•ä¸‰ï¼šæ•°å­¦æ¨ç†"><a href="#ğŸè§£æ³•ä¸‰ï¼šæ•°å­¦æ¨ç†" class="headerlink" title="ğŸè§£æ³•ä¸‰ï¼šæ•°å­¦æ¨ç†"></a>ğŸè§£æ³•ä¸‰ï¼šæ•°å­¦æ¨ç†</h3><p>æˆ‘ä»¬æŠŠnä¸ªå…ƒç´ çš„å‡ºæ ˆä¸ªæ•°çš„è®°ä¸ºf(n), é‚£ä¹ˆå¯¹äº1,2,3, æˆ‘ä»¬å¾ˆå®¹æ˜“å¾—å‡º</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">f(1)= 1   //å³ 1</span><br><span class="line">	</span><br><span class="line">f(2)= 2   //å³ 12ã€21</span><br><span class="line">	</span><br><span class="line">f(3)= 5   //å³ 123ã€132ã€213ã€321ã€231</span><br></pre></td></tr></tbody></table></figure>


<p>ç„¶åæˆ‘ä»¬æ¥è€ƒè™‘f(4), æˆ‘ä»¬ç»™4ä¸ªå…ƒç´ ç¼–å·ä¸ºa,b,c,d, é‚£ä¹ˆè€ƒè™‘ï¼šå…ƒç´ aåªå¯èƒ½å‡ºç°åœ¨1å·ä½ç½®ï¼Œ2å·ä½ç½®ï¼Œ3å·ä½ç½®å’Œ4å·ä½ç½®(å¾ˆå®¹æ˜“ç†è§£ï¼Œä¸€å…±å°±4ä¸ªä½ç½®ï¼Œæ¯”å¦‚abcd,å…ƒç´ aå°±åœ¨1å·ä½ç½®)ã€‚</p>
<h4 id="ğŸåˆ†æï¼š"><a href="#ğŸåˆ†æï¼š" class="headerlink" title="ğŸåˆ†æï¼š"></a>ğŸåˆ†æï¼š</h4><p>â€‹     1) å¦‚æœå…ƒç´ aåœ¨1å·ä½ç½®ï¼Œé‚£ä¹ˆåªå¯èƒ½aè¿›æ ˆï¼Œé©¬ä¸Šå‡ºæ ˆï¼Œæ­¤æ—¶è¿˜å‰©å…ƒç´ bã€cã€dç­‰å¾…æ“ä½œï¼Œå°±æ˜¯å­é—®é¢˜f(3)ï¼›<br>â€‹<br>â€‹     2) å¦‚æœå…ƒç´ aåœ¨2å·ä½ç½®ï¼Œé‚£ä¹ˆä¸€å®šæœ‰ä¸€ä¸ªå…ƒç´ æ¯”aå…ˆå‡ºæ ˆï¼Œå³æœ‰f(1)ç§å¯èƒ½é¡ºåºï¼ˆåªèƒ½æ˜¯bï¼‰ï¼Œè¿˜å‰©cã€dï¼Œå³f(2)ï¼Œ  æ ¹æ®ä¹˜æ³•åŸç†ï¼Œä¸€å…±çš„é¡ºåºä¸ªæ•°ä¸ºf(1)* f(2)ï¼›<br>â€‹<br>â€‹     3) å¦‚æœå…ƒç´ aåœ¨3å·ä½ç½®ï¼Œé‚£ä¹ˆä¸€å®šæœ‰ä¸¤ä¸ªå…ƒç´ æ¯”1å…ˆå‡ºæ ˆï¼Œå³æœ‰f(2)ç§å¯èƒ½é¡ºåºï¼ˆåªèƒ½æ˜¯bã€cï¼‰ï¼Œè¿˜å‰©dï¼Œå³f(1)ï¼Œ<br>â€‹<br>â€‹    æ ¹æ®ä¹˜æ³•åŸç†ï¼Œä¸€å…±çš„é¡ºåºä¸ªæ•°ä¸ºf(2) * f(1)ï¼›<br>â€‹<br>â€‹     4) å¦‚æœå…ƒç´ aåœ¨4å·ä½ç½®ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯aå…ˆè¿›æ ˆï¼Œæœ€åå‡ºæ ˆï¼Œé‚£ä¹ˆå…ƒç´ bã€cã€dçš„å‡ºæ ˆé¡ºåºå³æ˜¯æ­¤å°é—®é¢˜çš„è§£ï¼Œå³    f(3)ï¼›<br>â€‹<br>â€‹    ç»“åˆæ‰€æœ‰æƒ…å†µï¼Œå³f(4) = f(3) +f(2) * f(1) + f(1) * f(2) + f(3);<br>â€‹<br>â€‹    ä¸ºäº†è§„æ•´åŒ–ï¼Œæˆ‘ä»¬å®šä¹‰f(0) = 1ï¼›äºæ˜¯f(4)å¯ä»¥é‡æ–°å†™ä¸ºï¼š<br>â€‹<br>â€‹    f(4) = f(0) * f(3) + f(1) * f(2) + f(2) * f(1)+ f(3) * f(0)<br>â€‹<br>â€‹    ç„¶åæˆ‘ä»¬æ¨å¹¿åˆ°nï¼Œæ¨å¹¿æ€è·¯å’Œn=4æ—¶å®Œå…¨ä¸€æ ·ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼š<br>â€‹<br>â€‹    f(n) = f(0) * f(n-1) + f(1) * f(n-2) + â€¦ +f(n-1) * f(0)</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Motorcade_checkpoint</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		System.out.println(catalan(n));</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">catalan</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span>[] cal = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">		cal[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">		cal[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">		cal[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line">		cal[<span class="number">3</span>] = <span class="number">5</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">4</span>; i &lt;= n; i++) {</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= i - <span class="number">1</span>; j++) {</span><br><span class="line">				cal[i] += cal[j] * cal[i - <span class="number">1</span> - j];</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> cal[n];</span><br><span class="line">	}	</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸè§£æ³•å››ï¼šå¡å¡”å…°åºåˆ—"><a href="#ğŸè§£æ³•å››ï¼šå¡å¡”å…°åºåˆ—" class="headerlink" title="ğŸè§£æ³•å››ï¼šå¡å¡”å…°åºåˆ—"></a>ğŸè§£æ³•å››ï¼šå¡å¡”å…°åºåˆ—</h3><p>æ ¹æ®è§£æ³•ä¸‰ï¼Œæœ€åçš„åºåˆ—å…¶å®æ˜¯å¡å¡”å…°åºåˆ—ï¼Œ</p>
<p>ä»¤<code>h(0)=1,h(1)=1</code>ï¼Œå¡å¡”å…°æ•°æ»¡è¶³é€’å½’å¼:<br><code>h(n)= h(0)*h(n-1) + h(1)*h(n-2) + .. + h(n-1)h(0)</code> <strong>(å…¶ä¸­n&gt;=2)</strong>,è¿™æ˜¯né˜¶é€’æ¨å…³ç³»;<br>è¿˜å¯ä»¥åŒ–ç®€ä¸º1é˜¶é€’æ¨å…³ç³»:å¦‚<code>h(n)=(4n-2)/(n+1)*h(n-1)(n&gt;1) h(0)=1</code><br>è¯¥é€’æ¨å…³ç³»çš„è§£ä¸º:<br>$$<br>h(n)=\frac{C(2n,n)}{n+1}=\frac{P(2n,n)}{(n+1)!}=\frac{(2n!)}{(n!*(n+1)!)}(n=1,2,3,â€¦)<br>$$</p>
<p>$$<br>C_n = \frac{(2n)!}{(n+1)!n!}<br>$$</p>
<p>$$<br>C_0=1,        C_{n+1} = \frac{2(2n+1)}{n+2}C_n<br>$$</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Motorcade_checkpoint</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		System.out.println(catalan2(n));</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">catalan2</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span>[] cal = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">		cal[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">		cal[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) {</span><br><span class="line">			cal[i] = cal[i - <span class="number">1</span>]*(<span class="number">4</span>*i - <span class="number">2</span>) / (i + <span class="number">1</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> cal[n];</span><br><span class="line">	}	</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸Equation"><a href="#ğŸŒ¸Equation" class="headerlink" title="ğŸŒ¸Equation"></a>ğŸŒ¸Equation</h2><p><strong>3ã€åŒªè­¦è¯·æ‹¨110,å³ä½¿æ‰‹æœºæ¬ è´¹ä¹Ÿå¯æ‹¨é€šï¼</strong></p>
<p><strong>ä¸ºäº†ä¿éšœç¤¾ä¼šç§©åºï¼Œä¿æŠ¤äººæ°‘ç¾¤ä¼—ç”Ÿå‘½è´¢äº§å®‰å…¨ï¼Œè­¦å¯Ÿå”å”éœ€è¦ä¸ç½ªçŠ¯æ–—æ™ºæ–—å‹‡ï¼Œå› è€Œéœ€è¦ç»å¸¸æ€§åœ°è¿›è¡Œä½“åŠ›è®­ç»ƒå’Œæ™ºåŠ›è®­ç»ƒï¼</strong></p>
<p><strong>æŸæ‰¹è­¦å¯Ÿå”å”æ­£åœ¨è¿›è¡Œæ™ºåŠ›è®­ç»ƒï¼š</strong></p>
<p><strong>1 2 3 4 5 6 7 8 9 = 110</strong></p>
<p><strong>è¯·çœ‹ä¸Šè¾¹çš„ç®—å¼ï¼Œä¸ºäº†ä½¿ç­‰å¼æˆç«‹ï¼Œéœ€è¦åœ¨æ•°å­—é—´å¡«å…¥åŠ å·æˆ–è€…å‡å·ï¼ˆå¯ä»¥ä¸å¡«ï¼Œä½†ä¸èƒ½å¡«å…¥å…¶å®ƒç¬¦å·ï¼‰ã€‚ä¹‹é—´æ²¡æœ‰å¡«å…¥ç¬¦å·çš„æ•°å­—ç»„åˆæˆä¸€ä¸ªæ•°ï¼Œä¾‹å¦‚ï¼š12+34+56+7-8+9 å°±æ˜¯ä¸€ç§åˆæ ¼çš„å¡«æ³•ï¼›123+4+5+67-89 æ˜¯å¦ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆã€‚</strong></p>
<p><strong>è¯·ä½ åˆ©ç”¨è®¡ç®—æœºçš„ä¼˜åŠ¿ï¼Œå¸®åŠ©è­¦å¯Ÿå”å”å¿«é€Ÿæ‰¾åˆ°æ‰€æœ‰ç­”æ¡ˆã€‚</strong></p>
<p><strong>æ¯ä¸ªç­”æ¡ˆå ä¸€è¡Œã€‚å½¢å¦‚ï¼š</strong></p>
<p><strong>12+34+56+7-8+9</strong></p>
<p><strong>123+4+5+67-89</strong></p>
<p><strong>â€¦â€¦</strong></p>
<h3 id="ğŸåˆ†æ"><a href="#ğŸåˆ†æ" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>ç”¨æš´åŠ›æ€è·¯å»åˆ†æå¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯ä»1å¼€å§‹é€æ¸å¾€åé¢æ·»åŠ ç¬¦å·â€™+â€™æˆ–â€™-â€˜ï¼Œç›´åˆ°æ·»åŠ åˆ°9æ—¶å°†æ•´ä¸ªå¼å­è¿›è¡Œæ£€æŸ¥ï¼ŒæŸ¥çœ‹æ˜¯å¦æ˜¯æˆ‘ä»¬éœ€è¦çš„å¼å­ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¾“å‡ºã€‚å¦åˆ™è·³è¿‡è¿›è¡Œä¸‹ä¸€å±‚çš„é€’å½’é€’å½’å…¶å®å°±æ˜¯åˆ©ç”¨é€’å½’çš„æ–¹å¼å»å®ç°æš´åŠ›è§£æ³•è¯¦æƒ…çœ‹ä»£ç </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Equation</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		String str = <span class="string">"123456789"</span>;</span><br><span class="line">		func(str, <span class="number">1</span>);</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">(String v, <span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">		<span class="comment">//é€’å½’ç»“æŸæ¡ä»¶ä¿®æ”¹åˆ°æœ€åä¸€ä½æ—¶è¾“å‡º</span></span><br><span class="line">		<span class="keyword">if</span>(n == <span class="number">9</span>) {</span><br><span class="line">			check(v);</span><br><span class="line">		}<span class="keyword">else</span> { <span class="comment">// é€’å½’å‘åä¿®æ”¹ï¼Œæ•°å­—ä¸­é—´åŠ ä¸Šç¬¦å·</span></span><br><span class="line">			func(v.replace(n + <span class="string">""</span>, n + <span class="string">"+"</span>), n + <span class="number">1</span>);</span><br><span class="line">			func(v.replace(n + <span class="string">""</span>, n + <span class="string">"-"</span>), n + <span class="number">1</span>);</span><br><span class="line">			func(v, n + <span class="number">1</span>);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * éªŒè¯å­—ç¬¦ä¸²å‡½æ•°</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> str</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">check</span><span class="params">(String str)</span> </span>{</span><br><span class="line">		String[] s = str.split(<span class="string">"[\\+]"</span>);</span><br><span class="line">		<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(String t : s) {</span><br><span class="line">			String[] sub = t.split(<span class="string">"[\\-]"</span>);</span><br><span class="line">			<span class="keyword">int</span> num = Integer.parseInt(sub[<span class="number">0</span>]);</span><br><span class="line">			<span class="comment">//è®¡ç®—è´Ÿæ•°</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; sub.length; i++) {</span><br><span class="line">				num -= Integer.parseInt(sub[i]);</span><br><span class="line">			}</span><br><span class="line">			sum += num; <span class="comment">// æ­£æ•°æˆ–è´Ÿæ•°ç»“æœåŠ åˆ°æ€»å’Œä¸Šå»</span></span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(sum == <span class="number">110</span>) {</span><br><span class="line">			System.out.println(str);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸè§£æ³•äºŒï¼šç›´æ¥éå†ï¼ˆæš´åŠ›è§£æ³•ï¼‰"><a href="#ğŸè§£æ³•äºŒï¼šç›´æ¥éå†ï¼ˆæš´åŠ›è§£æ³•ï¼‰" class="headerlink" title="ğŸè§£æ³•äºŒï¼šç›´æ¥éå†ï¼ˆæš´åŠ›è§£æ³•ï¼‰"></a>ğŸè§£æ³•äºŒï¼šç›´æ¥éå†ï¼ˆæš´åŠ›è§£æ³•ï¼‰</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Equation</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		String str = <span class="string">"123456789"</span>;</span><br><span class="line">		fun(str);</span><br><span class="line">	}</span><br><span class="line">    <span class="comment">// éå†æ‰€æœ‰æƒ…å†µ</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fun</span><span class="params">(String s)</span> </span>{</span><br><span class="line">		<span class="keyword">char</span>[] c = s.toCharArray();</span><br><span class="line">		StringBuffer sb = <span class="keyword">new</span> StringBuffer();	<span class="comment">// è®°å½• ç»„æˆçš„å¼å­</span></span><br><span class="line">		<span class="keyword">int</span> len = s.length()-<span class="number">1</span>;	<span class="comment">// å­—ç¬¦ä¸²é•¿åº¦ - 1	</span></span><br><span class="line">		<span class="keyword">int</span>[] sign = <span class="keyword">new</span> <span class="keyword">int</span>[len];	<span class="comment">// signç”¨æ¥æ ‡è®°ç¬¦å·, æœ€å¤šæœ‰ï¼ˆsçš„é•¿åº¦-1ï¼‰ä¸ªç¬¦å·</span></span><br><span class="line">		<span class="comment">// ä»åèº«å‰æ·»åŠ ç¬¦å·</span></span><br><span class="line">		<span class="keyword">while</span>(sign[<span class="number">0</span>]&lt;<span class="number">3</span>){	<span class="comment">// æœ€å‰é¢çš„åˆ¤å®šç¬¦å·çš„å€¼è‹¥ &gt;=3 åˆ™ç»“æŸå¾ªç¯	</span></span><br><span class="line">			sb.append(c[<span class="number">0</span>]);	<span class="comment">// æ·»åŠ é¦–å…ƒç´ </span></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++){</span><br><span class="line">				<span class="keyword">if</span>(sign[i]==<span class="number">1</span>){		<span class="comment">// å€¼ä¸º1æ·»åŠ "+"å·</span></span><br><span class="line">					sb.append(<span class="string">"+"</span>);</span><br><span class="line">				}<span class="keyword">else</span> <span class="keyword">if</span>(sign[i]==<span class="number">2</span>){<span class="comment">// å€¼ä¸º2æ·»åŠ "-"å·</span></span><br><span class="line">					sb.append(<span class="string">"-"</span>);</span><br><span class="line">				}</span><br><span class="line">				sb.append(c[i+<span class="number">1</span>]);	<span class="comment">// ä¸ç®¡æ·»åŠ ä¸æ·»åŠ +-å·ï¼Œéƒ½æ·»åŠ åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">			}</span><br><span class="line">			</span><br><span class="line">			check2(sb.toString());	<span class="comment">// éªŒè¯å¹¶è¾“å‡º</span></span><br><span class="line">			</span><br><span class="line">			sb.setLength(<span class="number">0</span>);	<span class="comment">// æ¸…ç©ºsb</span></span><br><span class="line">			sign[len-<span class="number">1</span>]++;	<span class="comment">// æ¯å¾ªç¯ä¸€æ¬¡ï¼Œæœ€åä¸€ä¸ªç¬¦å·å€¼åŠ 1</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=len-<span class="number">1</span>;i&gt;<span class="number">0</span>;i--){	<span class="comment">//å½“å€¼ç­‰äº3æ—¶ï¼Œå®ç°é€¢3è¿›ä½</span></span><br><span class="line">				<span class="keyword">if</span>(sign[i]==<span class="number">3</span>){</span><br><span class="line">					sign[i] = <span class="number">0</span>;	<span class="comment">// sign[i] å½’é›¶</span></span><br><span class="line">					sign[i-<span class="number">1</span>]++;	<span class="comment">// sign[i-1]è¿›ä½</span></span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">// éªŒè¯å¹¶è¾“å‡º</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">check2</span><span class="params">(String str)</span></span>{</span><br><span class="line">		String[] s = str.split(<span class="string">"[\\+]|[-]"</span>);	<span class="comment">// å¾—åˆ°å…¨éƒ¨æ•°å­—</span></span><br><span class="line">		String sign = str.replaceAll(<span class="string">"\\d*"</span>, <span class="string">""</span>);	<span class="comment">// å¾—åˆ°å…¨éƒ¨ç¬¦å·ï¼ˆ+-ï¼‰</span></span><br><span class="line">		<span class="keyword">int</span> sum = Integer.parseInt(s[<span class="number">0</span>]);	<span class="comment">// æŠŠç¬¬ä¸€ä¸ªæ•°å­—ç»™sum</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length-<span class="number">1</span>;i++){</span><br><span class="line">			<span class="keyword">switch</span>(sign.charAt(i)){</span><br><span class="line">				<span class="keyword">case</span> <span class="string">'+'</span>: </span><br><span class="line">					sum += Integer.parseInt(s[i+<span class="number">1</span>]);</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				<span class="keyword">case</span> <span class="string">'-'</span>: </span><br><span class="line">					sum -= Integer.parseInt(s[i+<span class="number">1</span>]);</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(sum==<span class="number">110</span>){	<span class="comment">// ç¬¦åˆæ¡ä»¶è¾“å‡º</span></span><br><span class="line">			System.out.println(str);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸Bus-Fare"><a href="#ğŸŒ¸Bus-Fare" class="headerlink" title="ğŸŒ¸Bus_Fare"></a>ğŸŒ¸Bus_Fare</h2><p><strong>4ã€å…¬å›­ç¥¨ä»·ä¸º5è§’ã€‚å‡è®¾æ¯ä½æ¸¸å®¢åªæŒæœ‰ä¸¤ç§å¸å€¼çš„è´§å¸ï¼š5è§’ã€1å…ƒã€‚</strong></p>
<p><strong>å†å‡è®¾æŒæœ‰5è§’çš„æœ‰mäººï¼ŒæŒæœ‰1å…ƒçš„æœ‰näººã€‚</strong></p>
<p><strong>ç”±äºç‰¹æ®Šæƒ…å†µï¼Œå¼€å§‹çš„æ—¶å€™ï¼Œå”®ç¥¨å‘˜æ²¡æœ‰é›¶é’±å¯æ‰¾ã€‚</strong></p>
<p><strong>æˆ‘ä»¬æƒ³çŸ¥é“è¿™m+nåæ¸¸å®¢ä»¥ä»€ä¹ˆæ ·çš„é¡ºåºè´­ç¥¨åˆ™å¯ä»¥é¡ºåˆ©å®Œæˆè´­ç¥¨è¿‡ç¨‹ã€‚</strong></p>
<p><strong>æ˜¾ç„¶ï¼Œm &lt; nçš„æ—¶å€™ï¼Œæ— è®ºå¦‚ä½•éƒ½ä¸èƒ½å®Œæˆï¼›</strong></p>
<p><strong>m&gt;=nçš„æ—¶å€™ï¼Œæœ‰äº›æƒ…å†µä¹Ÿä¸è¡Œã€‚æ¯”å¦‚ï¼Œç¬¬ä¸€ä¸ªè´­ç¥¨çš„ä¹˜å®¢å°±æŒæœ‰1å…ƒã€‚</strong></p>
<p><strong>è¯·è®¡ç®—å‡ºè¿™m+nåæ¸¸å®¢æ‰€æœ‰å¯èƒ½é¡ºåˆ©å®Œæˆè´­ç¥¨çš„ä¸åŒæƒ…å†µçš„ç»„åˆæ•°ç›®ã€‚</strong></p>
<p><strong>æ³¨æ„ï¼šåªå…³å¿ƒ5è§’å’Œ1å…ƒäº¤æ›¿å‡ºç°çš„æ¬¡åºçš„ä¸åŒæ’åˆ—ï¼ŒæŒæœ‰åŒæ ·å¸å€¼çš„ä¸¤åæ¸¸å®¢äº¤æ¢ä½ç½®å¹¶ä¸ç®—åšä¸€ç§æ–°çš„æƒ…å†µæ¥è®¡æ•°ã€‚</strong></p>
<h3 id="ğŸåˆ†æ-1"><a href="#ğŸåˆ†æ-1" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>è¿™é“é¢˜å°±è¿™ä¹ˆçœ‹ï¼Œç¡®å®éš¾æ‰¾ï¼Œm, n éš¾æ‰¾ï¼Œé‚£ä¹ˆå°±å»æ‰¾<code>fun(m - 1, n)</code>å’Œ<code>fun(m, n - 1)</code>é€ä¸ªå»åˆ†æï¼Œåˆ†åˆ«å»æ‰ä¸€ä¸ªæ‹¿5æ¯›çš„å’Œä¸€ä¸ªæ‹¿ä¸€å…ƒçš„ï¼Œç„¶åå†å°†è¿™ä¸¤ç§æƒ…å†µç›¸åŠ ï¼Œæœ€åå¦‚æœm&lt;nï¼Œè¯´æ˜æ— è§£ï¼Œè¿”å›0å¦‚æœn==0ï¼Œé‚£ä¸€å®šåªæœ‰ä¸€ç§æƒ…å†µï¼Œå› ä¸ºæ‰€æœ‰äººéƒ½æ‹¿5æ¯›äº†ï¼Œå¦‚æœæ‹¿5æ¯›çš„æ¯”æ‹¿1å—çš„è¿˜è¦å¤šæˆ–è€…ç›¸ç­‰ï¼Œé‚£å¯ä»¥ç»§ç»­é€’å½’ä¸‹å»ï¼Œè¿™æ ·å°†æ‰€æœ‰çš„æƒ…å†µç›¸åŠ ï¼Œå°±å¯ä»¥å¾—åˆ°æ‰€æœ‰çš„å¯èƒ½äº†ï¼Œå…¶å®è¿™æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿäººæ¥ç­‰è½¦çš„è¿‡ç¨‹ï¼Œå‡å¦‚ä¸€å¼€å§‹ä¸€ä¸ªäººéƒ½æ²¡æœ‰ï¼Œé‚£ä¹ˆï¼Œæ¯è¿‡ä¸€ä¸ªæ—¶åˆ»ï¼Œæˆ‘ä»¬è®©ä¸€ä¸ªäººæ¥æ’é˜Ÿï¼Œè¿™ä¸ªäººå¯èƒ½æ‹¿5æ¯›ï¼Œå¯èƒ½æ‹¿ä¸€å—ï¼Œæœ€åæ€»å…±æ¥äº†m+nä¸ªäººï¼Œè€Œæ‰€æœ‰çš„æƒ…å†µç›¸åŠ å°±å¯ä»¥å¾—åˆ°ç­”æ¡ˆï¼Œå¯ä»¥çœ‹å‡ºï¼Œé€’å½’å®é™…ä¸Šæ˜¯ä»ç»“æœåˆ°å¼€å§‹çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯å€’ç€é€’æ¨ï¼Œæ¥æ‰¾åˆ°æ‰€æœ‰çš„æƒ…å†µçš„</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Bus_Fare</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> m = input.nextInt();</span><br><span class="line">		<span class="keyword">int</span> n = input.nextInt();</span><br><span class="line">		System.out.println(fun(m, n));</span><br><span class="line">		input.close();</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(m &lt; n) {</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(n == <span class="number">0</span>) {</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> fun(m - <span class="number">1</span>, n) + fun(m, n - <span class="number">1</span>);</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸Jump-Lattice"><a href="#ğŸŒ¸Jump-Lattice" class="headerlink" title="ğŸŒ¸Jump_Lattice"></a>ğŸŒ¸Jump_Lattice</h2><p><strong>5ã€å°æ˜å‚åŠ äº†å­¦æ ¡çš„è¶£å‘³è¿åŠ¨ä¼šï¼Œå…¶ä¸­çš„ä¸€ä¸ªé¡¹ç›®æ˜¯ï¼šè·³æ ¼å­ã€‚</strong></p>
<p><strong>åœ°ä¸Šç”»ç€ä¸€äº›æ ¼å­ï¼Œæ¯ä¸ªæ ¼å­é‡Œå†™ä¸€ä¸ªå­—ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šï¼ˆä¹Ÿå¯å‚è§ä¸‹å›¾ï¼‰</strong></p>
<p><a href="https://imgchr.com/i/aTB8NF" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/09/aTB8NF.png" alt="aTB8NF.png"></a></p>
<p><strong>æ¯”èµ›æ—¶ï¼Œå…ˆç«™åœ¨å·¦ä¸Šè§’çš„å†™ç€â€œä»â€å­—çš„æ ¼å­é‡Œï¼Œå¯ä»¥æ¨ªå‘æˆ–çºµå‘è·³åˆ°ç›¸é‚»çš„æ ¼å­é‡Œï¼Œä½†ä¸èƒ½è·³åˆ°å¯¹è§’çš„æ ¼å­æˆ–å…¶å®ƒä½ç½®ã€‚ä¸€ç›´è¦è·³åˆ°â€œåâ€å­—ç»“æŸã€‚</strong></p>
<p><strong>è¦æ±‚è·³è¿‡çš„è·¯çº¿åˆšå¥½æ„æˆâ€œä»æˆ‘åšèµ·æŒ¯å…´ä¸­åâ€è¿™å¥è¯ã€‚</strong></p>
<p><strong>è¯·ä½ å¸®åŠ©å°æ˜ç®—ä¸€ç®—ä»–ä¸€å…±æœ‰å¤šå°‘ç§å¯èƒ½çš„è·³è·ƒè·¯çº¿å‘¢ï¼Ÿ</strong></p>
<h3 id="ğŸåˆ†æ-2"><a href="#ğŸåˆ†æ-2" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>æ¨¡æ‹Ÿéå†äºŒç»´çŸ©é˜µï¼Œä»å·¦ä¸Šè§’è½ï¼ˆ0,0ï¼‰å‡ºå‘ï¼Œåªèƒ½å‘å³æˆ–è€…å‘ä¸‹ï¼ˆå‘å·¦å‘ä¸Šä¸æ»¡è¶³é¢˜æ„ï¼‰ç›´åˆ°å³ä¸‹è§’ï¼ˆ3, 4ï¼‰ç»“æŸã€‚ç”±äºæ­¤é¢˜å¹¶æœªç”¨åˆ°çŸ©é˜µä¸­çš„ä»»ä½•æ•°æ®è€Œä¸”çŸ©é˜µå…·æœ‰ç‰¹æ®Šæ€§ï¼Œä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’æ— è®ºå‘å³è¿˜æ˜¯å‘ä¸‹çš„ä»»ä½•ä¸€æ¡è·¯å¾„éƒ½æ»¡è¶³é¢˜æ„ï¼Œåªæ˜¯æ±‚è·¯å¾„çš„ä¸ªæ•°ã€‚æ‰€ä»¥æ­¤é¢˜å¹¶ä¸éœ€è¦å€ŸåŠ©çŸ©é˜µï¼Œåªéœ€è¦å†™ä¸ªéå†æ–¹å¼å³å¯ï¼Œå½“çŸ©é˜µxç‚¹å°äºç›®æ ‡x,ä½¿ç‚¹å‘å³ç§»åŠ¨ï¼Œå½“ç‚¹yå°äºç›®æ ‡yå€¼ï¼Œå°†ç‚¹å‘ä¸‹ç§»åŠ¨ï¼Œå½“ï¼ˆx, yï¼‰ç­‰äºç›®æ ‡çš„ï¼ˆx, yï¼‰åˆ™è·¯å¾„åŠ 1</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Jump_Lattice</span> </span>{</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> path = <span class="number">0</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		dfs(<span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">		System.out.println(path);</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> startX, <span class="keyword">int</span> startY, <span class="keyword">int</span> endX, <span class="keyword">int</span> endY)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(startX == endX &amp;&amp; startY == endY) {</span><br><span class="line">			path++;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(startX &lt; endX) {</span><br><span class="line">			dfs(startX + <span class="number">1</span>, startY, endX, endY);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(startY &lt; endY) {</span><br><span class="line">			dfs(startX, startY + <span class="number">1</span>, endX, endY);</span><br><span class="line">		}</span><br><span class="line">	}	</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸè§£æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"><a href="#ğŸè§£æ³•äºŒï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="ğŸè§£æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"></a>ğŸè§£æ³•äºŒï¼šåŠ¨æ€è§„åˆ’</h3><p>åŒé€’å½’æ€è·¯å€’æ¨ï¼Œç‚¹ï¼ˆ3, 4ï¼‰çš„è·¯å¾„æ•°æ¥è‡ªç‚¹ï¼ˆ2, 4ï¼‰å’Œï¼ˆ3, 3ï¼‰ï¼›ï¼ˆå…¶ä¸­è¾¹ç¼˜è·¯å¾„åªèƒ½æ¥è‡ªä¸€ä¸ªåœ°æ–¹ï¼Œæ‰€ä»¥éœ€è¦åˆå§‹åŒ–è¾¹ç¼˜è·¯å¾„æ•°ä¸º1å³<code>dp[0] [j] = 1</code>å’Œ<code>dp[i] [0] = 1</code>ï¼‰</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Jump_Lattice</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		<span class="comment">//dp</span></span><br><span class="line">		<span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>][<span class="number">5</span>];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) {</span><br><span class="line">			dp[i][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++) {</span><br><span class="line">			dp[<span class="number">0</span>][j] = <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">4</span>; i++) {</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; <span class="number">5</span>; j++) {</span><br><span class="line">				dp[i][j] = dp[i][j - <span class="number">1</span>] + dp[i - <span class="number">1</span>][j];</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		System.out.println(dp[<span class="number">3</span>][<span class="number">4</span>]);</span><br><span class="line">		</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h3><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>è“æ¡¥æ¯</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
        <tag>é€’å½’</tag>
        <tag>å›æº¯</tag>
        <tag>å¡å¡”å…°åºåˆ—</tag>
      </tags>
  </entry>
  <entry>
    <title>å­—ç¬¦ä¸²(é©¬æ‹‰è½¦)_leetcode.647.å›æ–‡å­ä¸²</title>
    <url>/Palindrome_substring/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½ çš„ä»»åŠ¡æ˜¯è®¡ç®—è¿™ä¸ªå­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªå›æ–‡å­ä¸²ã€‚</p>
<p>å…·æœ‰ä¸åŒå¼€å§‹ä½ç½®æˆ–ç»“æŸä½ç½®çš„å­ä¸²ï¼Œå³ä½¿æ˜¯ç”±ç›¸åŒçš„å­—ç¬¦ç»„æˆï¼Œä¹Ÿä¼šè¢«è§†ä½œä¸åŒçš„å­ä¸²ã€‚</p>
<a id="more"></a>

<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š"abc"</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šä¸‰ä¸ªå›æ–‡å­ä¸²: "a", "b", "c"</span><br><span class="line">ç¤ºä¾‹ 2ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼š"aaa"</span><br><span class="line">è¾“å‡ºï¼š6</span><br><span class="line">è§£é‡Šï¼š6ä¸ªå›æ–‡å­ä¸²: "a", "a", "a", "aa", "aa", "aaa"</span><br></pre></td></tr></tbody></table></figure>


<p>æç¤ºï¼š</p>
<p>è¾“å…¥çš„å­—ç¬¦ä¸²é•¿åº¦ä¸ä¼šè¶…è¿‡ 1000 ã€‚</p>
<h2 id="ğŸåˆ†æ"><a href="#ğŸåˆ†æ" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h2><p>è®¡ç®—æœ‰å¤šå°‘ä¸ªå›æ–‡å­ä¸²çš„æœ€æœ´ç´ æ–¹æ³•å°±æ˜¯æšä¸¾å‡ºæ‰€æœ‰çš„å›æ–‡å­ä¸²ï¼Œè€Œæšä¸¾å‡ºæ‰€æœ‰çš„å›æ–‡å­—ä¸²åˆæœ‰ä¸¤ç§æ€è·¯ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>æšä¸¾å‡ºæ‰€æœ‰çš„å­ä¸²ï¼Œç„¶åå†åˆ¤æ–­è¿™äº›å­ä¸²æ˜¯å¦æ˜¯æ–‡;</li>
<li>æšä¸¾æ¯ä¸€ä¸ªå¯èƒ½çš„å›æ–‡ä¸­å¿ƒï¼Œç„¶åä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«å‘å·¦å³ä¸¤è¾¹æ‹“å±•ï¼Œå½“ä¸¤ä¸ª<br>æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ ç›¸åŒçš„æ—¶å€™å°±æ‹“å±•ï¼Œåˆ™åœæ­¢æ‹“å±•ã€‚</li>
</ul>
<p>å‡è®¾å­—ç¬¦ä¸²çš„é•¿åº¦ä¸ºnã€‚æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå‰è€…ä¼šç”¨O(n2 )çš„æ—¶é—´æšä¸¾å‡ºæ‰€æœ‰çš„å­ä¸²<br>s[li..ri],ç„¶åå†ç”¨<code>O(r;- li + 1)</code>çš„æ—¶é—´æ£€æµ‹å½“å‰çš„å­ä¸²æ˜¯å¦æ˜¯æ–‡,æ•´ä¸ª<br>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n3)ã€‚åè€…æšä¸¾æ–‡ä¸­å¿ƒçš„æ˜¯0(n)çš„,å¯¹äºæ¯ä¸ªæ–‡<br>ä¸­å¿ƒæ‹“å±•çš„æ¬¡æ•°ä¹Ÿæ˜¯0(n)çš„ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯O(n2)ã€‚æ‰€ä»¥æˆ‘ä»¬é€‰æ‹©ç¬¬äºŒç§<br>æ–¹æ³•æ¥æšä¸¾æ‰€æœ‰çš„å›æ–‡å­ä¸²ã€‚</p>
<h2 id="ğŸè§£æ³•ä¸€ï¼šæš´åŠ›ä¼˜åŒ–ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰"><a href="#ğŸè§£æ³•ä¸€ï¼šæš´åŠ›ä¼˜åŒ–ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰" class="headerlink" title="ğŸè§£æ³•ä¸€ï¼šæš´åŠ›ä¼˜åŒ–ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰"></a>ğŸè§£æ³•ä¸€ï¼šæš´åŠ›ä¼˜åŒ–ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰</h2><p>ğŸ‚ ç›´æ¥æš´åŠ›æšä¸¾è¿™é‡Œå°±ä¸è´´äº†ï¼Œè¿™é‡Œè´´æš´åŠ›çš„ä¼˜åŒ–åˆ©ç”¨åŠ¨æ€è§„åˆ’ã€‚ä½†æ˜¯ä¹ŸåŒæ ·æ˜¯ä¸­å¿ƒæ‰©æ•£æ€æƒ³ã€‚</p>
<p>æš´åŠ›æ³•ä¸»è¦æµªè´¹åœ¨åˆ¤æ–­å›æ–‡ä¸²ä¸Šï¼Œä¸èƒ½æœ‰æ•ˆåˆ©ç”¨åŒä¸­å¿ƒçš„å›æ–‡ä¸²çš„çŠ¶æ€ï¼Œç®€å•æ¥è¯´å°±æ˜¯æ­¤æ—¶æˆ‘ä»¬å‡è®¾å‰é¢çš„å­ä¸²s[j,i]æ˜¯å›æ–‡ä¸²ï¼Œé‚£ä¹ˆï¼Œå­ä¸²s[j-1,i+1]ä¹Ÿæœ‰å¯èƒ½æ˜¯å›æ–‡ä¸²ï¼Œä¸éš¾æƒ³å‡ºå½“ä¸”ä»…å½“å­ä¸²s[j,i]æ˜¯å›æ–‡ä¸²ä¸”s[j-1]=s[i+1]æ—¶ï¼Œå­ä¸²s[j-1,i+1]ä¹Ÿæ˜¯å›æ–‡ä¸²ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡æ•°ç»„ä¿å­˜å­ä¸²æ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼Œç„¶åé€šè¿‡é€’æ¨ä¸Šä¸€æ¬¡çš„çŠ¶æ€ï¼Œå¾—åˆ°ä¸‹ä¸€æ¬¡çš„çŠ¶æ€ï¼Œå±äºåŠ¨æ€è§„åˆ’çš„è§£æ³•ï¼Œä»¤<code>dp[i][j]</code> è¡¨ç¤ºå­—ç¬¦ä¸²<code>s</code>åœ¨<code>[i,j]</code>åŒºé—´çš„å­ä¸²æ˜¯å¦æ˜¯ä¸€ä¸ªå›æ–‡ä¸²ï¼ŒçŠ¶æ€è½¬ç§»å¦‚ä¸‹ï¼š</p>
<p><code>å½“ s[i] == s[j] &amp;&amp; (j - i &lt; 2 || dp[i + 1] [j - 1])æ—¶ï¼Œdp[i] [j]=trueï¼Œå¦åˆ™ä¸ºfalse</code></p>
<ul>
<li>å½“åªæœ‰ä¸€ä¸ªå­—ç¬¦æ—¶ï¼Œæ¯”å¦‚aè‡ªç„¶æ˜¯ä¸€ä¸ªå›æ–‡ä¸²ã€‚</li>
<li>å½“æœ‰ä¸¤ä¸ªå­—ç¬¦æ—¶ï¼Œå¦‚æœæ˜¯ç›¸ç­‰çš„ï¼Œæ¯”å¦‚aaï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå›æ–‡ä¸²ã€‚</li>
<li>å½“æœ‰ä¸‰ä¸ªåŠä»¥ä¸Šå­—ç¬¦æ—¶ï¼Œæ¯”å¦‚ababa è¿™ä¸ªå­—ç¬¦è®°ä½œä¸²1,æŠŠä¸¤è¾¹çš„aå»æ‰,<br>ä¹Ÿå°±æ˜¯babè®°ä½œä¸²2ï¼Œå¯ä»¥çœ‹å‡ºåªè¦ä¸²2æ˜¯ä¸€ä¸ªå›æ–‡ä¸²,é‚£ä¹ˆå·¦å³å„å¤šäº†ä¸€<br>ä¸ªaçš„ä¸²1å¿…å®šä¹Ÿæ˜¯æ–‡ä¸²ã€‚æ‰€ä»¥å½“s[i]==s[j] æ—¶,è‡ªç„¶è¦çœ‹dp[i+1] [j- 1]æ˜¯ä¸æ˜¯ä¸€ä¸ªå›æ–‡ä¸²ã€‚</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countSubstrings2</span><span class="params">(String s)</span> </span>{</span><br><span class="line">	<span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[s.length()][s.length()];</span><br><span class="line">	<span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; s.length(); j++) {</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= j; i++) {</span><br><span class="line">			<span class="keyword">if</span>(s.charAt(i) == s.charAt(j) &amp;&amp; (j - i &lt; <span class="number">2</span> || dp[i + <span class="number">1</span>][j - <span class="number">1</span>])) {</span><br><span class="line">				dp[i][j] = <span class="keyword">true</span>;</span><br><span class="line">				res++;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸè§£æ³•äºŒï¼š-ä¸­å¿ƒæ‹“å±•æ³•"><a href="#ğŸè§£æ³•äºŒï¼š-ä¸­å¿ƒæ‹“å±•æ³•" class="headerlink" title="ğŸè§£æ³•äºŒï¼š ä¸­å¿ƒæ‹“å±•æ³•"></a>ğŸè§£æ³•äºŒï¼š ä¸­å¿ƒæ‹“å±•æ³•</h2><p>ğŸ‚ æ¯”å¦‚å¯¹ä¸€ä¸ªå­—ç¬¦ä¸²ababa ,é€‰æ‹©æœ€ä¸­é—´çš„aä½œä¸ºä¸­å¿ƒç‚¹å¾€ä¸¤è¾¹æ‰©æ•£,ç¬¬- -æ¬¡æ‰© æ•£å‘ç°leftæŒ‡å‘çš„æ˜¯bï¼Œright æŒ‡å‘çš„ä¹Ÿæ˜¯bï¼Œæ‰€ä»¥å›æ–‡ä¸²ï¼Œç»§ç»­æ‰©æ•£,åŒç†ababaä¹Ÿå›æ–‡ä¸²ã€‚<br>è¿™ä¸ªæ˜¯ç¡®å®šäº†ä¸€ä¸€ä¸ªä¸­å¿ƒåçš„å¯»æ‰¾çš„è·¯å¾„ï¼Œç„¶åæˆ‘ä»¬åªè¦å¯»æ‰¾åˆ°æ‰€æœ‰çš„ä¸­å¿ƒç‚¹ï¼Œé—®é¢˜å°±è§£å†³äº†ã€‚</p>
<p>ä¸­å¿ƒç‚¹-å…±æœ‰å¤šå°‘ä¸ªå‘¢?çœ‹èµ·æ¥åƒæ˜¯å’Œå­—ç¬¦ä¸²é•¿åº¦ç›¸ç­‰ï¼Œä½†ä½ ä¼šå‘ç°,å¦‚æœæ˜¯è¿™æ ·ï¼Œä¸Šé¢çš„ä¾‹å­æ°¸è¿œä¹Ÿæœä¸åˆ° abab ï¼Œæƒ³è±¡ä¸€ä¸‹å•ä¸ªå­—ç¬¦çš„å“ªä¸ªä¸­å¿ƒç‚¹æ‰©å±•å¯ä»¥å¾—åˆ°è¿™ä¸ªå­ä¸²?ä¼¼ä¹ä¸å¯èƒ½ã€‚æ‰€ä»¥ä¸­å¿ƒç‚¹ä¸èƒ½åªæœ‰å•ä¸ªå­—ç¬¦æ„æˆï¼Œè¿˜è¦åŒ…æ‹¬ä¸¤ä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚ä¸Šé¢è¿™ä¸ªå­ä¸²abab ï¼Œå°±å¯ä»¥æœ‰ä¸­å¿ƒç‚¹baæ‰©å±•ä¸€æ¬¡å¾—åˆ°ï¼Œæ‰€ä»¥æœ€ç»ˆçš„ä¸­å¿ƒ2 * 1en- 1ä¸ªï¼Œåˆ†åˆ«æ˜¯lenä¸ªå•å­—ç¬¦å’Œlen - 1ä¸ªåŒå­—ç¬¦ã€‚</p>
<p>å¦‚æœä¸Šé¢çœ‹ä¸å¤ªæ‡‚çš„è¯ï¼Œè¿˜å¯ä»¥çœ‹çœ‹ä¸‹é¢å‡ ä¸ªé—®é¢˜:</p>
<ul>
<li>ä¸ºä»€ä¹ˆæœ‰2* len- 1ä¸ªä¸­å¿ƒç‚¹?<ul>
<li>aba 5ä¸ªä¸­å¿ƒç‚¹ï¼Œåˆ†åˆ«æ˜¯aã€bã€aã€abã€ba</li>
<li>abbaæœ‰7ä¸ªä¸­å¿ƒç‚¹ï¼Œåˆ†åˆ«æ˜¯aã€bã€bã€aã€abã€bbã€ba</li>
</ul>
</li>
<li>ä»€ä¹ˆæ˜¯ä¸­å¿ƒç‚¹?<ul>
<li>ä¸­å¿ƒç‚¹å³leftæŒ‡é’ˆå’ŒrightæŒ‡é’ˆåˆå§‹åŒ–æŒ‡å‘çš„åœ°æ–¹ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªä¹Ÿå¯èƒ½æ˜¯ä¸¤ä¸ª</li>
</ul>
</li>
<li>ä¸ºä»€ä¹ˆä¸å¯èƒ½æ˜¯ä¸‰ä¸ªæˆ–è€…æ›´å¤š?<ul>
<li>å› ä¸º3ä¸ªå¯ä»¥ç”±1ä¸ªæ‰©å±•ä¸€æ¬¡å¾—åˆ°ï¼Œ4ä¸ªå¯ä»¥ç”±ä¸¤ä¸ªæ‰©å±•ä¸€æ¬¡å¾—åˆ°</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countSubstrings</span><span class="params">(String s)</span> </span>{</span><br><span class="line">	<span class="comment">//ä¸­å¿ƒæ‰©å±•</span></span><br><span class="line">	<span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> center = <span class="number">0</span>; center &lt; <span class="number">2</span> * s.length() - <span class="number">1</span>; center++) {</span><br><span class="line">		<span class="comment">// é¦–å…ˆæ˜¯leftï¼Œæœ‰ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„2å€å…³ç³»çš„å­˜åœ¨ï¼Œå…¶æ¬¡æ˜¯rightï¼Œå¯èƒ½å’ŒleftæŒ‡å‘åŒä¸€ä¸ªï¼ˆå¶æ•°æ—¶ï¼‰ï¼Œä¹Ÿå¯èƒ½å¾€åç§»åŠ¨ä¸€ä¸ªï¼ˆå¥‡æ•°ï¼‰</span></span><br><span class="line">		<span class="keyword">int</span> left = center / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">int</span> right = left + center % <span class="number">2</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>(left &gt;= <span class="number">0</span> &amp;&amp; right &lt; s.length() &amp;&amp; s.charAt(left) == s.charAt(right)) {</span><br><span class="line">			res++;</span><br><span class="line">			left--;</span><br><span class="line">			right++;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ªè§£æ³•ä¹ŸåŒæ ·é€‚ç”¨äº<code>leetcode 5 æœ€é•¿å›æ–‡å­ä¸²</code>ï¼ŒæŒ‰ä¸Šè¿°ä»£ç ï¼Œç¨ä½œä¿®æ”¹ï¼Œå³å¯å¾—åˆ°ï¼Œç¬¬äº”é¢˜çš„è§£æ³•:</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">longestPalindrome</span><span class="params">(String s)</span> </span>{</span><br><span class="line">        <span class="comment">// ababa æ±‚æœ€é•¿å…¬å…±å­ä¸²</span></span><br><span class="line">        <span class="keyword">int</span> len = s.length();</span><br><span class="line">        String result = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len * <span class="number">2</span> - <span class="number">1</span>; i++) {</span><br><span class="line">            <span class="keyword">int</span> left = i / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">int</span> right = left + i % <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">while</span> (left &gt;= <span class="number">0</span> &amp;&amp; right &lt; len &amp;&amp; s.charAt(left) == s.charAt(right)) {</span><br><span class="line">                String tmp = s.substring(left, right + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (tmp.length() &gt; result.length()) {</span><br><span class="line">                    result = tmp;</span><br><span class="line">                }</span><br><span class="line">                left--;</span><br><span class="line">                right++;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸè§£æ³•ä¸‰ï¼šManacher-ç®—æ³•"><a href="#ğŸè§£æ³•ä¸‰ï¼šManacher-ç®—æ³•" class="headerlink" title="ğŸè§£æ³•ä¸‰ï¼šManacher ç®—æ³•"></a>ğŸè§£æ³•ä¸‰ï¼šManacher ç®—æ³•</h2><p>ğŸ‚ Manacherç®—æ³•æ˜¯åœ¨çº¿æ€§æ—¶é—´å†…æ±‚è§£æœ€é•¿æ–‡å­ä¸²çš„ç®—æ³•ã€‚åœ¨æœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬è¦æ±‚è§£<br>å›æ–‡ä¸²çš„ä¸ªæ•°ï¼Œä¸ºä»€ä¹ˆä¹Ÿèƒ½ä½¿ç”¨Manacherç®—æ³•å‘¢?è¿™é‡Œæˆ‘ä»¬å°±éœ€è¦ç†è§£ä¸€ä¸‹<br>Manacherçš„åŸºæœ¬åŸç†ã€‚</p>
<p>Manacherç®—æ³•ä¹Ÿä¼šé¢ä¸´æ–¹æ³•ä¸€ã€ä¸­çš„å¥‡æ•°é•¿åº¦å’Œå¶æ•°é•¿åº¦çš„é—®é¢˜ï¼Œ å®ƒçš„å¤„ç†æ–¹<br>å¼æ˜¯åœ¨æ‰€æœ‰çš„ç›¸é‚»å­—ç¬¦ä¸­é—´æ’å…¥#,æ¯”å¦‚abaaä¼šè¢«å¤„ç†æˆ#a#b#a#a#ï¼Œ<br>è¿™æ ·å¯ä»¥ä¿è¯æ‰€æœ‰æ‰¾åˆ°çš„å›æ–‡ä¸²éƒ½æ˜¯å¥‡æ•°é•¿åº¦çš„ï¼Œä»¥ä»»æ„ä¸€ä¸ªå­—ç¬¦ä¸ºæ–‡ä¸­å¿ƒ,<br>æ—¢å¯ä»¥åŒ…å«åŸæ¥çš„å¥‡æ•°é•¿åº¦çš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥åŒ…å«åŸæ¥å¶æ•°é•¿åº¦çš„æƒ…å†µã€‚å‡è®¾åŸå­—<br>ç¬¦ä¸²ä¸ºs,ç»è¿‡è¿™ä¸ªå¤„ç†ä¹‹åçš„å­—ç¬¦ä¸²ä¸ºsã€‚</p>
<p>æˆ‘ä»¬ç”¨f(i)æ¥ç¤ºä»¥sçš„ç¬¬iä½ä¸ºå›æ–‡ä¸­å¿ƒï¼Œå¯ä»¥æ‹“å±•å‡ºçš„æœ€å¤§å›æ–‡åŠå¾„,é‚£ä¹ˆ<br>f(i)- 1å°±æ˜¯ä»¥iä¸ºä¸­å¿ƒçš„æœ€å¤§æ–‡ä¸²é•¿åº¦(æƒ³-æƒ³ä¸ºä»€ä¹ˆ)</p>
<p>Manacherç®—æ³•ä¾æ—§éœ€è¦æšä¸¾sçš„æ¯ä¸€ä¸ªä½ç½®å¹¶å…ˆå‡è®¾å®ƒå›æ–‡ä¸­å¿ƒ,ä½†æ˜¯å®ƒä¼šåˆ©ç”¨ç»è®¡ç®—å‡ºæ¥çš„çŠ¶æ€æ¥æ›´æ–°f(i),è€Œä¸å‘ã€Œä¸­å¿ƒæ‹“å±•| -æ ·ç›²ç›®åœ°æ‹“å±•ã€‚å…·ä½“åœ°è¯´ï¼Œå‡è®¾æˆ‘ä»¬å·²ç»è®¡ç®—å¥½äº†[1,i- 1]åŒºé—´å†…æ‰€æœ‰ç‚¹çš„f (å³æˆ‘ä»¬çŸ¥é“[1,i- 1]è¿™äº›ç‚¹ä½œä¸ºæ–‡ä¸­å¿ƒæ—¶å€™çš„æœ€å¤§åŠå¾„)ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå°±çŸ¥é“äº†[1,iä¸€1]æ‹“å±•å‡ºçš„å›æ–‡è¾¾åˆ°æœ€å¤§åŠå¾„æ—¶çš„å›æ–‡å³ç«¯ç‚¹ã€‚ä¾‹å¦‚i = 4çš„æ—¶å€™f(i)= 5,è¯´æ˜ä»¥ç¬¬4ä¸ªå…ƒç´ ä¸ºå›æ–‡ä¸­å¿ƒï¼Œæœ€å¤§èƒ½æ‹“å±•åˆ°çš„å›æ–‡åŠå¾„æ˜¯5,æ­¤æ—¶å³ç«¯ä¸º4+5-1= 8ã€‚æ‰€ä»¥å½“æˆ‘ä»¬çŸ¥é“ä¸€ ä¸ªiå¯¹åº”çš„f(i)çš„æ—¶å€™,æˆ‘ä»¬å°±å¯ä»¥å¾ˆå®¹æ˜“.å¾—åˆ°å®ƒçš„å³ç«¯ç‚¹ä¸º<code>i+ f(i)- 1ã€‚</code></p>
<p>Manacherç®—æ³•å¦‚ä½•é€šè¿‡å·²ç»è®¡ç®—å‡ºçš„çŠ¶æ€æ¥æ›´æ–°f(i)å‘¢? Manacherç®—æ³•è¦æ±‚<br>æˆ‘ä»¬ç»´æŠ¤ã€Œå½“å‰æœ€å¤§çš„å›æ–‡çš„å³ç«¯ç‚¹$$r_m$$ã€ä»¥åŠè¿™ä¸ªå›æ–‡å³ç«¯ç‚¹å¯¹åº”çš„å›æ–‡ä¸­å¿ƒ<br>$$i_m$$.æˆ‘ä»¬éœ€è¦é¡ºåºéå†s,å‡è®¾å½“å‰éå†çš„ä¸‹æ ‡ä¸ºiã€‚<strong>æˆ‘ä»¬çŸ¥é“åœ¨æ±‚è§£f(i)ä¹‹å‰</strong><br><strong>æˆ‘ä»¬åº”å½“å·²ç»å¾—åˆ°äº†ä»[1,i- 1] æ‰€æœ‰çš„f,å¹¶ä¸”å½“å‰å·²ç»æœ‰äº†ä¸€ä¸ªæœ€å¤§å›æ–‡å³ç«¯</strong><br>ç‚¹$$r_m$$ä»¥åŠå®ƒå¯¹åº”çš„å›æ–‡ä¸­å¿ƒ$$i_m$$.</p>
<ul>
<li><p>åˆå§‹åŒ– f(i)</p>
<ul>
<li>å¦‚æœi &lt; rm,è¯´æ˜iè¢«åŒ…å«åœ¨å½“å‰æœ€å¤§å›æ–‡å­ä¸²å†…ï¼Œå‡è®¾jæ˜¯iå…³äº<br>è¿™ä¸ªæœ€å¤§å›æ–‡çš„å›æ–‡ä¸­å¿ƒimçš„å¯¹ç§°ä½ç½®(å³j+i=2 x im) ,æˆ‘ä»¬<br>å¯ä»¥å¾—åˆ°f(i)è‡³å°‘ç­‰äº<code>min{f(j),rm-i+1</code>}.è¿™é‡Œå°†f(j)å’Œ<br>rm-i+ 1å–å°ï¼Œå…ˆè¦ä¿è¯è¿™ä¸ªæ–‡ä¸²åœ¨å½“å‰æœ€å¤§æ–‡ä¸²å†…ã€‚(æ€<br>è€ƒ:ä¸ºä»€ä¹ˆf(j)æœ‰å¯èƒ½å¤§äºrm-i+1? )</li>
<li>å¦‚æœi &gt; rm,é‚£å°±å…ˆåˆå§‹åŒ–f(i)= 1ã€‚</li>
</ul>
</li>
<li><p>ä¸­å¿ƒæ‹“å±•</p>
<ul>
<li>åšå®Œåˆå§‹åŒ–ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä¿è¯æ­¤æ—¶çš„ s[i + f(i) - 1] = s[i - f(i) + 1]ï¼Œè¦ç»§ç»­æ‹“å±•è¿™ä¸ªåŒºé—´ï¼Œæˆ‘ä»¬å°±è¦ç»§ç»­åˆ¤æ–­ s[i + f(i)] å’Œ s[i - f(i)] æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰å°† f(i)è‡ªå¢ï¼›è¿™æ ·å¾ªç¯ç›´åˆ° s[i + f(i)]ä¸ç­‰äº  s[i - f(i)]ï¼Œä»¥æ­¤ç±»æ¨ã€‚<strong>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå¾ªç¯æ¯æ¬¡ç»“æŸæ—¶éƒ½èƒ½ä¿è¯</strong> <code>s[i + f(i) - 1] = s[i - f(i) + 1]</code>ï¼Œ<strong>è€Œå¾ªç¯ç»§ç»­ï¼ˆå³å¯æ‹“å±•çš„æ¡ä»¶ï¼‰ä¸€å®šæ˜¯</strong> <code>s[i + f(i)] = s[i - f(i)]</code>ã€‚ è¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ä¸èƒ½è®©ä¸‹æ ‡è¶Šç•Œï¼Œæœ‰ä¸€ä¸ªå¾ˆç®€å•çš„åŠæ³•ï¼Œå°±æ˜¯åœ¨å¼€å¤´åŠ ä¸€ä¸ª $ï¼Œå¹¶åœ¨ç»“å°¾åŠ ä¸€ä¸ª !!ï¼Œè¿™æ ·å¼€å¤´å’Œç»“å°¾çš„ä¸¤ä¸ªå­—ç¬¦ä¸€å®šä¸ç›¸ç­‰ï¼Œå¾ªç¯å°±å¯ä»¥åœ¨è¿™é‡Œç»ˆæ­¢ã€‚</li>
</ul>
</li>
</ul>
<p>è¿™æ ·æˆ‘ä»¬å¯ä»¥å¾—åˆ° sæ‰€æœ‰ç‚¹ä¸ºä¸­å¿ƒçš„æœ€å¤§å›æ–‡åŠå¾„ï¼Œä¹Ÿå°±èƒ½å¤Ÿå¾—åˆ° S ä¸­æ‰€æœ‰å¯èƒ½çš„å›æ–‡ä¸­å¿ƒçš„çš„æœ€å¤§å›æ–‡åŠå¾„ï¼ŒæŠŠå®ƒä»¬ç´¯åŠ å°±å¯ä»¥å¾—åˆ°ç­”æ¡ˆã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countSubstrings3</span><span class="params">(String s)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> n = s.length();</span><br><span class="line">    StringBuffer t = <span class="keyword">new</span> StringBuffer(<span class="string">"$#"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) {</span><br><span class="line">        t.append(s.charAt(i));</span><br><span class="line">        t.append(<span class="string">'#'</span>);</span><br><span class="line">    }</span><br><span class="line">    n = t.length();</span><br><span class="line">    t.append(<span class="string">'!'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] f = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    <span class="keyword">int</span> iMax = <span class="number">0</span>, rMax = <span class="number">0</span>, ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) {</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ– f[i]</span></span><br><span class="line">        f[i] = i &lt;= rMax ? Math.min(rMax - i + <span class="number">1</span>, f[<span class="number">2</span> * iMax - i]) : <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// ä¸­å¿ƒæ‹“å±•</span></span><br><span class="line">        <span class="keyword">while</span> (t.charAt(i + f[i]) == t.charAt(i - f[i])) {</span><br><span class="line">            ++f[i];</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// åŠ¨æ€ç»´æŠ¤ iMax å’Œ rMax</span></span><br><span class="line">        <span class="keyword">if</span> (i + f[i] - <span class="number">1</span> &gt; rMax) {</span><br><span class="line">            iMax = i;</span><br><span class="line">            rMax = i + f[i] - <span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// ç»Ÿè®¡ç­”æ¡ˆ, å½“å‰è´¡çŒ®ä¸º (f[i] - 1) / 2 ä¸Šå–æ•´</span></span><br><span class="line">        ans += f[i] / <span class="number">2</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
        <tag>Manacher(é©¬æ‹‰è½¦)</tag>
        <tag>ä¸­å¿ƒæ‹“å±•</tag>
      </tags>
  </entry>
  <entry>
    <title>å†™æ ‘ç®—æ³•çš„å¥—è·¯æ¡†æ¶</title>
    <url>/Tree_algorithm/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸å¥—è·¯"><a href="#ğŸŒ¸å¥—è·¯" class="headerlink" title="ğŸŒ¸å¥—è·¯"></a>ğŸŒ¸å¥—è·¯</h2><p>äºŒå‰æ ‘ç®—æ³•çš„è®¾è®¡çš„æ€»è·¯çº¿ï¼šæ˜ç¡®ä¸€ä¸ªèŠ‚ç‚¹è¦åšçš„äº‹æƒ…ï¼Œç„¶åå‰©ä¸‹çš„äº‹æŠ›ç»™æ¡†æ¶ã€‚</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">traverse</span><span class="params">(TreeNode root)</span> </span>{</span><br><span class="line">    <span class="comment">// root éœ€è¦åšä»€ä¹ˆï¼Ÿåœ¨è¿™åšã€‚</span></span><br><span class="line">    <span class="comment">// å…¶ä»–çš„ä¸ç”¨ root æ“å¿ƒï¼ŒæŠ›ç»™æ¡†æ¶</span></span><br><span class="line">    traverse(root.left);</span><br><span class="line">    traverse(root.right);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸¾ä¸¤ä¸ªç®€å•çš„ä¾‹å­ä½“ä¼šä¸€ä¸‹è¿™ä¸ªæ€è·¯ï¼Œçƒ­çƒ­èº«ã€‚</p>
<a id="more"></a>

<h3 id="ğŸ1-å¦‚ä½•æŠŠäºŒå‰æ ‘æ‰€æœ‰çš„èŠ‚ç‚¹ä¸­çš„å€¼åŠ ä¸€ï¼Ÿ"><a href="#ğŸ1-å¦‚ä½•æŠŠäºŒå‰æ ‘æ‰€æœ‰çš„èŠ‚ç‚¹ä¸­çš„å€¼åŠ ä¸€ï¼Ÿ" class="headerlink" title="ğŸ1. å¦‚ä½•æŠŠäºŒå‰æ ‘æ‰€æœ‰çš„èŠ‚ç‚¹ä¸­çš„å€¼åŠ ä¸€ï¼Ÿ"></a><strong>ğŸ1. å¦‚ä½•æŠŠäºŒå‰æ ‘æ‰€æœ‰çš„èŠ‚ç‚¹ä¸­çš„å€¼åŠ ä¸€ï¼Ÿ</strong></h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">plusOne</span><span class="params">(TreeNode root)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (root == null) <span class="keyword">return</span>;</span><br><span class="line">    root.val += <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    plusOne(root.left);</span><br><span class="line">    plusOne(root.right);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸ2-å¦‚ä½•åˆ¤æ–­ä¸¤æ£µäºŒå‰æ ‘æ˜¯å¦å®Œå…¨ç›¸åŒï¼Ÿ"><a href="#ğŸ2-å¦‚ä½•åˆ¤æ–­ä¸¤æ£µäºŒå‰æ ‘æ˜¯å¦å®Œå…¨ç›¸åŒï¼Ÿ" class="headerlink" title="ğŸ2. å¦‚ä½•åˆ¤æ–­ä¸¤æ£µäºŒå‰æ ‘æ˜¯å¦å®Œå…¨ç›¸åŒï¼Ÿ"></a><strong>ğŸ2. å¦‚ä½•åˆ¤æ–­ä¸¤æ£µäºŒå‰æ ‘æ˜¯å¦å®Œå…¨ç›¸åŒï¼Ÿ</strong></h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isSameTree</span><span class="params">(TreeNode root1, TreeNode root2)</span> </span>{</span><br><span class="line">    <span class="comment">// éƒ½ä¸ºç©ºçš„è¯ï¼Œæ˜¾ç„¶ç›¸åŒ</span></span><br><span class="line">    <span class="keyword">if</span> (root1 == null &amp;&amp; root2 == null) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// ä¸€ä¸ªä¸ºç©ºï¼Œä¸€ä¸ªéç©ºï¼Œæ˜¾ç„¶ä¸åŒ</span></span><br><span class="line">    <span class="keyword">if</span> (root1 == null || root2 == null) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">// ä¸¤ä¸ªéƒ½éç©ºï¼Œä½† val ä¸ä¸€æ ·ä¹Ÿä¸è¡Œ</span></span><br><span class="line">    <span class="keyword">if</span> (root1.val != root2.val) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// root1 å’Œ root2 è¯¥æ¯”çš„éƒ½æ¯”å®Œäº†</span></span><br><span class="line">    <span class="keyword">return</span> isSameTree(root1.left, root2.left)</span><br><span class="line">        &amp;&amp; isSameTree(root1.right, root2.right);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å€ŸåŠ©æ¡†æ¶ï¼Œä¸Šé¢è¿™ä¸¤ä¸ªä¾‹å­ä¸éš¾ç†è§£å§ï¼Ÿå¦‚æœå¯ä»¥ç†è§£ï¼Œé‚£ä¹ˆæ‰€æœ‰äºŒå‰æ ‘ç®—æ³•ä½ éƒ½èƒ½è§£å†³ã€‚</p>
<p>ğŸ‚äºŒå‰æœç´¢æ ‘ï¼ˆBinary Search Treeï¼Œç®€ç§° BSTï¼‰æ˜¯ä¸€ç§å¾ˆå¸¸ç”¨çš„çš„äºŒå‰æ ‘ã€‚å®ƒçš„å®šä¹‰æ˜¯ï¼šä¸€ä¸ªäºŒå‰æ ‘ä¸­ï¼Œä»»æ„èŠ‚ç‚¹çš„å€¼è¦å¤§äºç­‰äºå·¦å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ï¼Œä¸”è¦å°äºç­‰äºå³è¾¹å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ã€‚</p>
<p>å¦‚ä¸‹å°±æ˜¯ä¸€ä¸ªç¬¦åˆå®šä¹‰çš„ BSTï¼š</p>
<p><a href="https://imgchr.com/i/ahCc4S" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/07/ahCc4S.png" alt="ahCc4S.png"></a></p>
<p>ä¸‹é¢å®ç° BST çš„åŸºç¡€æ“ä½œï¼šåˆ¤æ–­ BST çš„åˆæ³•æ€§ã€å¢ã€åˆ ã€æŸ¥ã€‚å…¶ä¸­â€œåˆ â€å’Œâ€œåˆ¤æ–­åˆæ³•æ€§â€ç•¥å¾®å¤æ‚ã€‚</p>
<h3 id="é›¶ã€ğŸåˆ¤æ–­-BST-çš„åˆæ³•æ€§"><a href="#é›¶ã€ğŸåˆ¤æ–­-BST-çš„åˆæ³•æ€§" class="headerlink" title="é›¶ã€ğŸåˆ¤æ–­ BST çš„åˆæ³•æ€§"></a><strong>é›¶ã€ğŸåˆ¤æ–­ BST çš„åˆæ³•æ€§</strong></h3><p>è¿™é‡Œæ˜¯æœ‰å‘çš„å“¦ï¼Œæˆ‘ä»¬æŒ‰ç…§åˆšæ‰çš„æ€è·¯ï¼Œæ¯ä¸ªèŠ‚ç‚¹è‡ªå·±è¦åšçš„äº‹ä¸å°±æ˜¯æ¯”è¾ƒè‡ªå·±å’Œå·¦å³å­©å­å—ï¼Ÿçœ‹èµ·æ¥åº”è¯¥è¿™æ ·å†™ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isValidBST</span><span class="params">(TreeNode root)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (root == null) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (root.left != null &amp;&amp; root.val &lt;= root.left.val) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (root.right != null &amp;&amp; root.val &gt;= root.right.val) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> isValidBST(root.left)</span><br><span class="line">        &amp;&amp; isValidBST(root.right);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ªç®—æ³•å‡ºç°äº†é”™è¯¯ï¼ŒBST çš„æ¯ä¸ªèŠ‚ç‚¹åº”è¯¥è¦å°äºå³è¾¹å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œä¸‹é¢è¿™ä¸ªäºŒå‰æ ‘æ˜¾ç„¶ä¸æ˜¯ BSTï¼Œä½†æ˜¯æˆ‘ä»¬çš„ç®—æ³•ä¼šæŠŠå®ƒåˆ¤å®šä¸º BSTã€‚</p>
<p><a href="https://imgchr.com/i/ahPVKA" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/07/ahPVKA.png" alt="ahPVKA.png"></a></p>
<p>å‡ºç°é”™è¯¯ï¼Œä¸è¦æ…Œå¼ ï¼Œæ¡†æ¶æ²¡æœ‰é”™ï¼Œä¸€å®šæ˜¯æŸä¸ªç»†èŠ‚é—®é¢˜æ²¡æ³¨æ„åˆ°ã€‚æˆ‘ä»¬é‡æ–°çœ‹ä¸€ä¸‹ BST çš„å®šä¹‰ï¼Œroot éœ€è¦åšçš„ä¸åªæ˜¯å’Œå·¦å³å­èŠ‚ç‚¹æ¯”è¾ƒï¼Œè€Œæ˜¯è¦æ•´ä¸ªå·¦å­æ ‘å’Œå³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹æ¯”è¾ƒã€‚æ€ä¹ˆåŠï¼Œé­é•¿è«åŠå•Šï¼</p>
<p>è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¾…åŠ©å‡½æ•°ï¼Œå¢åŠ å‡½æ•°å‚æ•°åˆ—è¡¨ï¼Œåœ¨å‚æ•°ä¸­æºå¸¦é¢å¤–ä¿¡æ¯ï¼Œè¯·çœ‹æ­£ç¡®çš„ä»£ç ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isValidBST</span><span class="params">(TreeNode root)</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> isValidBST(root, <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isValidBST</span><span class="params">(TreeNode root, TreeNode min, TreeNode max)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (min != <span class="keyword">null</span> &amp;&amp; root.val &lt;= min.val) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (max != <span class="keyword">null</span> &amp;&amp; root.val &gt;= max.val) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">return</span> isValidBST(root.left, min, root) </span><br><span class="line">        &amp;&amp; isValidBST(root.right, root, max);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ä¸€ã€ğŸåœ¨-BST-ä¸­æŸ¥æ‰¾ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨"><a href="#ä¸€ã€ğŸåœ¨-BST-ä¸­æŸ¥æ‰¾ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨" class="headerlink" title="ä¸€ã€ğŸåœ¨ BST ä¸­æŸ¥æ‰¾ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨"></a><strong>ä¸€ã€ğŸåœ¨ BST ä¸­æŸ¥æ‰¾ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨</strong></h3><p>æ ¹æ®æˆ‘ä»¬çš„æŒ‡å¯¼æ€æƒ³ï¼Œå¯ä»¥è¿™æ ·å†™ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isInBST</span><span class="params">(TreeNode root, <span class="keyword">int</span> target)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (root == null) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (root.val == target) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> isInBST(root.left, target)</span><br><span class="line">        || isInBST(root.right, target);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ ·å†™å®Œå…¨æ­£ç¡®ï¼Œå……åˆ†è¯æ˜äº†ä½ çš„æ¡†æ¶æ€§æ€ç»´å·²ç»å…»æˆã€‚ç°åœ¨ä½ å¯ä»¥è€ƒè™‘ä¸€ç‚¹ç»†èŠ‚é—®é¢˜äº†ï¼šå¦‚ä½•å……åˆ†åˆ©ç”¨ä¿¡æ¯ï¼ŒæŠŠ BST è¿™ä¸ªâ€œå·¦å°å³å¤§â€çš„ç‰¹æ€§ç”¨ä¸Šï¼Ÿ</p>
<p>å¾ˆç®€å•ï¼Œå…¶å®ä¸éœ€è¦é€’å½’åœ°æœç´¢ä¸¤è¾¹ï¼Œç±»ä¼¼äºŒåˆ†æŸ¥æ‰¾æ€æƒ³ï¼Œæ ¹æ® target å’Œ root.val çš„å¤§å°æ¯”è¾ƒï¼Œå°±èƒ½æ’é™¤ä¸€è¾¹ã€‚æˆ‘ä»¬æŠŠä¸Šé¢çš„æ€è·¯ç¨ç¨æ”¹åŠ¨ï¼š</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isInBST</span><span class="params">(TreeNode root, <span class="keyword">int</span> target)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (root == null) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (root.val == target)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (root.val &lt; target) </span><br><span class="line">        <span class="keyword">return</span> isInBST(root.right, target);</span><br><span class="line">    <span class="keyword">if</span> (root.val &gt; target)</span><br><span class="line">        <span class="keyword">return</span> isInBST(root.left, target);</span><br><span class="line">    <span class="comment">// root è¯¥åšçš„äº‹åšå®Œäº†ï¼Œé¡ºå¸¦æŠŠæ¡†æ¶ä¹Ÿå®Œæˆäº†ï¼Œå¦™</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>äºæ˜¯ï¼Œæˆ‘ä»¬å¯¹åŸå§‹æ¡†æ¶è¿›è¡Œæ”¹é€ ï¼ŒæŠ½è±¡å‡ºä¸€å¥—<strong>é’ˆå¯¹ BST çš„éå†æ¡†æ¶</strong>ï¼š</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BST</span><span class="params">(TreeNode root, <span class="keyword">int</span> target)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (root.val == target)</span><br><span class="line">        <span class="comment">// æ‰¾åˆ°ç›®æ ‡ï¼Œåšç‚¹ä»€ä¹ˆ</span></span><br><span class="line">    <span class="keyword">if</span> (root.val &lt; target) </span><br><span class="line">        BST(root.right, target);</span><br><span class="line">    <span class="keyword">if</span> (root.val &gt; target)</span><br><span class="line">        BST(root.left, target);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="äºŒã€ğŸåœ¨-BST-ä¸­æ’å…¥ä¸€ä¸ªæ•°"><a href="#äºŒã€ğŸåœ¨-BST-ä¸­æ’å…¥ä¸€ä¸ªæ•°" class="headerlink" title="äºŒã€ğŸåœ¨ BST ä¸­æ’å…¥ä¸€ä¸ªæ•°"></a><strong>äºŒã€ğŸåœ¨ BST ä¸­æ’å…¥ä¸€ä¸ªæ•°</strong></h3><p>å¯¹æ•°æ®ç»“æ„çš„æ“ä½œæ— ééå† + è®¿é—®ï¼Œéå†å°±æ˜¯â€œæ‰¾â€ï¼Œè®¿é—®å°±æ˜¯â€œæ”¹â€ã€‚å…·ä½“åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæ’å…¥ä¸€ä¸ªæ•°ï¼Œå°±æ˜¯å…ˆæ‰¾åˆ°æ’å…¥ä½ç½®ï¼Œç„¶åè¿›è¡Œæ’å…¥æ“ä½œã€‚</p>
<p>ä¸Šä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ€»ç»“äº† BST ä¸­çš„éå†æ¡†æ¶ï¼Œå°±æ˜¯â€œæ‰¾â€çš„é—®é¢˜ã€‚ç›´æ¥å¥—æ¡†æ¶ï¼ŒåŠ ä¸Šâ€œæ”¹â€çš„æ“ä½œå³å¯ã€‚ä¸€æ—¦æ¶‰åŠâ€œæ”¹â€ï¼Œå‡½æ•°å°±è¦è¿”å› TreeNode ç±»å‹ï¼Œå¹¶ä¸”å¯¹é€’å½’è°ƒç”¨çš„è¿”å›å€¼è¿›è¡Œæ¥æ”¶ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function">TreeNode <span class="title">insertIntoBST</span><span class="params">(TreeNode root, <span class="keyword">int</span> val)</span> </span>{</span><br><span class="line">    <span class="comment">// æ‰¾åˆ°ç©ºä½ç½®æ’å…¥æ–°èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">new</span> TreeNode(val);</span><br><span class="line">    <span class="comment">// if (root.val == val)</span></span><br><span class="line">    <span class="comment">//     BST ä¸­ä¸€èˆ¬ä¸ä¼šæ’å…¥å·²å­˜åœ¨å…ƒç´ </span></span><br><span class="line">    <span class="keyword">if</span> (root.val &lt; val) </span><br><span class="line">        root.right = insertIntoBST(root.right, val);</span><br><span class="line">    <span class="keyword">if</span> (root.val &gt; val) </span><br><span class="line">        root.left = insertIntoBST(root.left, val);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ä¸‰ã€ğŸåœ¨-BST-ä¸­åˆ é™¤ä¸€ä¸ªæ•°"><a href="#ä¸‰ã€ğŸåœ¨-BST-ä¸­åˆ é™¤ä¸€ä¸ªæ•°" class="headerlink" title="ä¸‰ã€ğŸåœ¨ BST ä¸­åˆ é™¤ä¸€ä¸ªæ•°"></a><strong>ä¸‰ã€ğŸåœ¨ BST ä¸­åˆ é™¤ä¸€ä¸ªæ•°</strong></h3><p>è¿™ä¸ªé—®é¢˜ç¨å¾®å¤æ‚ï¼Œä¸è¿‡ä½ æœ‰æ¡†æ¶æŒ‡å¯¼ï¼Œéš¾ä¸ä½ä½ ã€‚è·Ÿæ’å…¥æ“ä½œç±»ä¼¼ï¼Œå…ˆâ€œæ‰¾â€å†â€œæ”¹â€ï¼Œå…ˆæŠŠæ¡†æ¶å†™å‡ºæ¥å†è¯´ï¼š</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function">TreeNode <span class="title">deleteNode</span><span class="params">(TreeNode root, <span class="keyword">int</span> key)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (root.val == key) {</span><br><span class="line">        <span class="comment">// æ‰¾åˆ°å•¦ï¼Œè¿›è¡Œåˆ é™¤</span></span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (root.val &gt; key) {</span><br><span class="line">        root.left = deleteNode(root.left, key);</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (root.val &lt; key) {</span><br><span class="line">        root.right = deleteNode(root.right, key);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹äº†ï¼Œæ¯”æ–¹è¯´æ˜¯èŠ‚ç‚¹ Aï¼Œå¦‚ä½•åˆ é™¤è¿™ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ˜¯éš¾ç‚¹ã€‚å› ä¸ºåˆ é™¤èŠ‚ç‚¹çš„åŒæ—¶ä¸èƒ½ç ´å BST çš„æ€§è´¨ã€‚æœ‰ä¸‰ç§æƒ…å†µï¼Œç”¨å›¾ç‰‡æ¥è¯´æ˜ã€‚</p>
<p>æƒ…å†µ 1ï¼šA æ°å¥½æ˜¯æœ«ç«¯èŠ‚ç‚¹ï¼Œä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½ä¸ºç©ºï¼Œé‚£ä¹ˆå®ƒå¯ä»¥å½“åœºå»ä¸–äº†ã€‚</p>
<p><a href="https://imgchr.com/i/ahF87q" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/07/ahF87q.png" alt=""></a></p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (root.left == null &amp;&amp; root.right == null)</span><br><span class="line">    <span class="keyword">return</span> null;</span><br></pre></td></tr></tbody></table></figure>

<p>æƒ…å†µ 2ï¼šA åªæœ‰ä¸€ä¸ªéç©ºå­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå®ƒè¦è®©è¿™ä¸ªå­©å­æ¥æ›¿è‡ªå·±çš„ä½ç½®ã€‚</p>
<p><a href="https://imgchr.com/i/ahF1ns" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/07/ahF1ns.png" alt="ahF1ns.png"></a></p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// æ’é™¤äº†æƒ…å†µ 1 ä¹‹å</span></span><br><span class="line"><span class="keyword">if</span> (root.left == null) <span class="keyword">return</span> root.right;</span><br><span class="line"><span class="keyword">if</span> (root.right == null) <span class="keyword">return</span> root.left;</span><br></pre></td></tr></tbody></table></figure>

<p>æƒ…å†µ 3ï¼šA æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œéº»çƒ¦äº†ï¼Œä¸ºäº†ä¸ç ´å BST çš„æ€§è´¨ï¼ŒA å¿…é¡»æ‰¾åˆ°å·¦å­æ ‘ä¸­æœ€å¤§çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œæˆ–è€…å³å­æ ‘ä¸­æœ€å°çš„é‚£ä¸ªèŠ‚ç‚¹æ¥æ¥æ›¿è‡ªå·±ã€‚æˆ‘ä»¬ä»¥ç¬¬äºŒç§æ–¹å¼è®²è§£ã€‚</p>
<p><a href="https://imgchr.com/i/ahF3Bn" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/07/ahF3Bn.png" alt="ahF3Bn.png"></a></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (root.left != <span class="keyword">null</span> &amp;&amp; root.right != <span class="keyword">null</span>) {</span><br><span class="line">    <span class="comment">// æ‰¾åˆ°å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹</span></span><br><span class="line">    TreeNode minNode = getMin(root.right);</span><br><span class="line">    <span class="comment">// æŠŠ root æ”¹æˆ minNode</span></span><br><span class="line">    root.val = minNode.val;</span><br><span class="line">    <span class="comment">// è½¬è€Œå»åˆ é™¤ minNode</span></span><br><span class="line">    root.right = deleteNode(root.right, minNode.val);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‰ç§æƒ…å†µåˆ†æå®Œæ¯•ï¼Œå¡«å…¥æ¡†æ¶ï¼Œç®€åŒ–ä¸€ä¸‹ä»£ç </p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function">TreeNode <span class="title">deleteNode</span><span class="params">(TreeNode root, <span class="keyword">int</span> key)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (root == null) <span class="keyword">return</span> null;</span><br><span class="line">    <span class="keyword">if</span> (root.val == key) {</span><br><span class="line">        <span class="comment">// è¿™ä¸¤ä¸ª if æŠŠæƒ…å†µ 1 å’Œ 2 éƒ½æ­£ç¡®å¤„ç†äº†</span></span><br><span class="line">        <span class="keyword">if</span> (root.left == null) <span class="keyword">return</span> root.right;</span><br><span class="line">        <span class="keyword">if</span> (root.right == null) <span class="keyword">return</span> root.left;</span><br><span class="line">        <span class="comment">// å¤„ç†æƒ…å†µ 3</span></span><br><span class="line">        TreeNode minNode = getMin(root.right);</span><br><span class="line">        root.val = minNode.val;</span><br><span class="line">        root.right = deleteNode(root.right, minNode.val);</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (root.val &gt; key) {</span><br><span class="line">        root.left = deleteNode(root.left, key);</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (root.val &lt; key) {</span><br><span class="line">        root.right = deleteNode(root.right, key);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">TreeNode <span class="title">getMin</span><span class="params">(TreeNode node)</span> </span>{</span><br><span class="line">    <span class="comment">// BST æœ€å·¦è¾¹çš„å°±æ˜¯æœ€å°çš„</span></span><br><span class="line">    <span class="keyword">while</span> (node.left != null) node = node.left;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åˆ é™¤æ“ä½œå°±å®Œæˆäº†ã€‚æ³¨æ„ä¸€ä¸‹ï¼Œè¿™ä¸ªåˆ é™¤æ“ä½œå¹¶ä¸å®Œç¾ï¼Œå› ä¸ºæˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šé€šè¿‡ root.val = minNode.val ä¿®æ”¹èŠ‚ç‚¹å†…éƒ¨çš„å€¼æ¥äº¤æ¢èŠ‚ç‚¹ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ç³»åˆ—ç•¥å¾®å¤æ‚çš„é“¾è¡¨æ“ä½œäº¤æ¢ root å’Œ minNode ä¸¤ä¸ªèŠ‚ç‚¹ã€‚å› ä¸ºå…·ä½“åº”ç”¨ä¸­ï¼Œval åŸŸå¯èƒ½ä¼šå¾ˆå¤§ï¼Œä¿®æ”¹èµ·æ¥å¾ˆè€—æ—¶ï¼Œè€Œé“¾è¡¨æ“ä½œæ— éæ”¹ä¸€æ”¹æŒ‡é’ˆï¼Œè€Œä¸ä¼šå»ç¢°å†…éƒ¨æ•°æ®ã€‚</p>
<p>ä½†è¿™é‡Œå¿½ç•¥è¿™ä¸ªç»†èŠ‚ï¼Œæ—¨åœ¨çªå‡º BST åŸºæœ¬æ“ä½œçš„å…±æ€§ï¼Œä»¥åŠå€ŸåŠ©æ¡†æ¶é€å±‚ç»†åŒ–é—®é¢˜çš„æ€ç»´æ–¹å¼ã€‚</p>
<h3 id="å››ã€ğŸæœ€åæ€»ç»“"><a href="#å››ã€ğŸæœ€åæ€»ç»“" class="headerlink" title="å››ã€ğŸæœ€åæ€»ç»“"></a><strong>å››ã€ğŸæœ€åæ€»ç»“</strong></h3><p>ğŸ‚é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œä½ å­¦ä¼šäº†å¦‚ä¸‹å‡ ä¸ªæŠ€å·§ï¼š</p>
<ul>
<li><p>äºŒå‰æ ‘ç®—æ³•è®¾è®¡çš„æ€»è·¯çº¿ï¼šæŠŠå½“å‰èŠ‚ç‚¹è¦åšçš„äº‹åšå¥½ï¼Œå…¶ä»–çš„äº¤ç»™é€’å½’æ¡†æ¶ï¼Œä¸ç”¨å½“å‰èŠ‚ç‚¹æ“å¿ƒã€‚</p>
</li>
<li><p>å¦‚æœå½“å‰èŠ‚ç‚¹ä¼šå¯¹ä¸‹é¢çš„å­èŠ‚ç‚¹æœ‰æ•´ä½“å½±å“ï¼Œå¯ä»¥é€šè¿‡è¾…åŠ©å‡½æ•°å¢é•¿å‚æ•°åˆ—è¡¨ï¼Œå€ŸåŠ©å‚æ•°ä¼ é€’ä¿¡æ¯ã€‚</p>
</li>
<li><p>åœ¨äºŒå‰æ ‘æ¡†æ¶ä¹‹ä¸Šï¼Œæ‰©å±•å‡ºä¸€å¥— BST éå†æ¡†æ¶ï¼š</p>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BST</span><span class="params">(TreeNode root, <span class="keyword">int</span> target)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (root.val == target)</span><br><span class="line">        <span class="comment">// æ‰¾åˆ°ç›®æ ‡ï¼Œåšç‚¹ä»€ä¹ˆ</span></span><br><span class="line">    <span class="keyword">if</span> (root.val &lt; target) </span><br><span class="line">        BST(root.right, target);</span><br><span class="line">    <span class="keyword">if</span> (root.val &gt; target)</span><br><span class="line">        BST(root.left, target);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>java</tag>
        <tag>æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‹“æ‰‘å¹¿åº¦_leetcode.207_è¯¾ç¨‹è¡¨</title>
    <url>/Class_Schedule_Card/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸä½ è¿™ä¸ªå­¦æœŸå¿…é¡»é€‰ä¿® numCourse é—¨è¯¾ç¨‹ï¼Œè®°ä¸º 0 åˆ° numCourse-1 ã€‚</p>
<p>åœ¨é€‰ä¿®æŸäº›è¯¾ç¨‹ä¹‹å‰éœ€è¦ä¸€äº›å…ˆä¿®è¯¾ç¨‹ã€‚ ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ 0 ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 1 ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºä»–ä»¬ï¼š[0,1]</p>
<p>ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œè¯·ä½ åˆ¤æ–­æ˜¯å¦å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹çš„å­¦ä¹ ï¼Ÿ</p>
 <a id="more"></a>

<p>ç¤ºä¾‹ 1:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: 2, [[1,0]] </span><br><span class="line">è¾“å‡º: true</span><br><span class="line">è§£é‡Š: æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ 1 ä¹‹å‰ï¼Œä½ éœ€è¦å®Œæˆè¯¾ç¨‹ 0ã€‚æ‰€ä»¥è¿™æ˜¯å¯èƒ½çš„ã€‚</span><br></pre></td></tr></tbody></table></figure>

<p>ç¤ºä¾‹ 2:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: 2, [[1,0],[0,1]]</span><br><span class="line">è¾“å‡º: false</span><br><span class="line">è§£é‡Š: æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ 1 ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 0ï¼›å¹¶ä¸”å­¦ä¹ è¯¾ç¨‹ 0 ä¹‹å‰ï¼Œä½ è¿˜åº”å…ˆå®Œæˆè¯¾ç¨‹ 1ã€‚è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚</span><br></pre></td></tr></tbody></table></figure>


<p>æç¤ºï¼š</p>
<p>è¾“å…¥çš„å…ˆå†³æ¡ä»¶æ˜¯ç”± è¾¹ç¼˜åˆ—è¡¨ è¡¨ç¤ºçš„å›¾å½¢ï¼Œè€Œä¸æ˜¯ é‚»æ¥çŸ©é˜µ ã€‚è¯¦æƒ…è¯·å‚è§å›¾çš„è¡¨ç¤ºæ³•ã€‚<br>ä½ å¯ä»¥å‡å®šè¾“å…¥çš„å…ˆå†³æ¡ä»¶ä¸­æ²¡æœ‰é‡å¤çš„è¾¹ã€‚<br><code>1 &lt;= numCourses &lt;= 10^5</code></p>
<h2 id="ğŸŒ¸åˆ†ææ€è·¯"><a href="#ğŸŒ¸åˆ†ææ€è·¯" class="headerlink" title="ğŸŒ¸åˆ†ææ€è·¯"></a>ğŸŒ¸åˆ†ææ€è·¯</h2><ul>
<li><strong>æœ¬é¢˜å¯çº¦åŒ–ä¸º</strong>:è¯¾ç¨‹å®‰æ’å›¾æ˜¯å¦æ˜¯<strong>æœ‰å‘æ— ç¯å›¾(DAG)</strong>ã€‚å³è¯¾ç¨‹é—´è§„å®šäº†å‰ç½®æ¡ä»¶ï¼Œä½†ä¸èƒ½æ„æˆä»»ä½•ç¯è·¯ï¼Œåˆ™è¯¾ç¨‹å‰ç½®æ¡ä»¶å°†ä¸æˆç«‹ã€‚</li>
<li>æ€è·¯æ˜¯é€šè¿‡æ‹“æ‰‘æ’åºåˆ¤æ–­æ­¤è¯¾ç¨‹å®‰æ’å›¾æ˜¯å¦æ˜¯<strong>æœ‰å‘æ— ç¯å›¾(DAG)</strong>ã€‚æ‹“æ‰‘æ’<br>åºåŸç†:å¯¹DAGçš„é¡¶ç‚¹è¿›è¡Œæ’åºï¼Œä½¿å¾—å¯¹æ¯ä¸€æ¡æœ‰å‘è¾¹(u,),å‡æœ‰u(åœ¨æ’åºè®°å½•ä¸­)æ¯”uå…ˆå‡ºç°ã€‚å¯ç†è§£ä¸ºå¯¹æŸç‚¹vè€Œè¨€,åªæœ‰å½“vçš„æ‰€æœ‰<br>æºç‚¹å‡å‡ºç°äº†ï¼Œvæ‰èƒ½å‡ºç°ã€‚</li>
<li>é€šè¿‡è¯¾ç¨‹å‰ç½®æ¡ä»¶åˆ—è¡¨<code>prerequiisites</code> å¯ä»¥å¾—åˆ°è¯¾ç¨‹å®‰æ’å›¾çš„é‚»æ¥è¡¨<br><code>adjacency</code>ï¼Œä»¥é™ä½ç®—æ³•æ—¶é—´å¤æ‚åº¦,ä»¥ä¸‹ä¸¤ç§æ–¹æ³•éƒ½ä¼šç”¨åˆ°é‚»æ¥è¡¨ã€‚</li>
</ul>
<h2 id="ğŸŒ¸æ–¹æ³•ï¼šæ‹“æ‰‘å…¥åº¦è¡¨ï¼ˆBFSï¼‰"><a href="#ğŸŒ¸æ–¹æ³•ï¼šæ‹“æ‰‘å…¥åº¦è¡¨ï¼ˆBFSï¼‰" class="headerlink" title="ğŸŒ¸æ–¹æ³•ï¼šæ‹“æ‰‘å…¥åº¦è¡¨ï¼ˆBFSï¼‰"></a>ğŸŒ¸æ–¹æ³•ï¼šæ‹“æ‰‘å…¥åº¦è¡¨ï¼ˆBFSï¼‰</h2><h3 id="ğŸç®—æ³•æµç¨‹"><a href="#ğŸç®—æ³•æµç¨‹" class="headerlink" title="ğŸç®—æ³•æµç¨‹:"></a>ğŸç®—æ³•æµç¨‹:</h3><ol>
<li>ç»Ÿè®¡è¯¾ç¨‹å®‰æ’å›¾ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦,æˆå…¥åº¦è¡¨<code>indegrees.</code></li>
<li>å€ŸåŠ©-ä¸€ä¸ªé˜Ÿåˆ—<code>queue</code> ï¼Œå°†æ‰€æœ‰å…¥åº¦ä¸º0çš„èŠ‚ç‚¹å…¥é˜Ÿã€‚</li>
<li>å½“ <code>queue</code>éç©ºæ—¶ï¼Œä¾æ¬¡å°†é˜Ÿé¦–èŠ‚ç‚¹å‡ºé˜Ÿï¼Œåœ¨è¯¾ç¨‹å®‰æ’å›¾ä¸­åˆ é™¤æ­¤èŠ‚ç‚¹pre :ã€‚<ul>
<li>å¹¶ä¸æ˜¯çœŸæ­£ä»é‚»æ¥è¡¨ä¸­åˆ é™¤æ­¤èŠ‚ç‚¹pre, è€Œæ˜¯å°†æ­¤èŠ‚ç‚¹å¯¹åº”æ‰€æœ‰é‚»æ¥èŠ‚ç‚¹cur çš„å…¥åº¦-1,å³<code>indegrees[cur] -= 1ã€‚</code></li>
<li>å½“å…¥åº¦-1åé‚»æ¥èŠ‚ç‚¹cur çš„å…¥åº¦ä¸º0,è¯´æ˜cur æ‰€æœ‰çš„å‰é©±èŠ‚ç‚¹å·²ç»è¢«â€œåˆ é™¤â€ï¼Œæ­¤æ—¶å°†cur å…¥é˜Ÿã€‚</li>
</ul>
</li>
<li>åœ¨æ¯æ¬¡pre å‡ºé˜Ÿæ—¶ï¼Œæ‰§è¡Œ<code>numCourses-i</code><ul>
<li>è‹¥æ•´ä¸ªè¯¾ç¨‹å®‰æ’å›¾æ˜¯æœ‰å‘æ— ç¯å›¾(å³å¯ä»¥å®‰æ’)ï¼Œåˆ™æ‰€æœ‰èŠ‚ç‚¹-å®šéƒ½å…¥é˜Ÿå¹¶å‡ºé˜Ÿè¿‡,å³å®Œæˆæ‹“æ‰‘æ’åºã€‚æ¢ä¸ªè§’åº¦è¯´ï¼Œè‹¥è¯¾ç¨‹å®‰æ’å›¾ä¸­å­˜åœ¨ç¯ï¼Œä¸€å®šæœ‰èŠ‚ç‚¹çš„å…¥åº¦å§‹ç»ˆä¸ä¸º0ã€‚</li>
<li>å› æ­¤ï¼Œæ‹“æ‰‘æ’åºå‡ºé˜Ÿæ¬¡æ•°ç­‰äºè¯¾ç¨‹ä¸ªæ•°ï¼Œè¿”å›<code>numCourses == 0</code>åˆ¤æ–­è¯¾ç¨‹æ˜¯å¦å¯ä»¥æˆåŠŸå®‰æ’ã€‚</li>
</ul>
</li>
</ol>
<h3 id="ğŸå¤æ‚åº¦åˆ†æ"><a href="#ğŸå¤æ‚åº¦åˆ†æ" class="headerlink" title="ğŸå¤æ‚åº¦åˆ†æ:"></a>ğŸå¤æ‚åº¦åˆ†æ:</h3><ul>
<li>æ—¶é—´å¤æ‚åº¦O(N + M):éå†-ä¸ªå›¾éœ€è¦è®¿é—®æ‰€æœ‰èŠ‚ç‚¹å’Œæ‰€æœ‰ä¸´è¾¹ï¼ŒNå’ŒMåˆ†åˆ«ä¸ºèŠ‚æ•°é‡å’Œä¸´è¾¹æ•°é‡;</li>
<li>ç©ºé—´å¤æ‚åº¦O(N + M):ä¸ºå»ºç«‹é‚»æ¥è¡¨æ‰€éœ€é¢å¤–ç©ºé—´ï¼Œ <code>adjacency</code> é•¿åº¦ä¸ºNï¼Œå­˜å‚¨Mæ¡ä¸´è¾¹çš„æ•°æ®ã€‚</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span>[] indegrees = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];<span class="comment">//å…¥åº¦è¡¨</span></span><br><span class="line">	List&lt;List&lt;Integer&gt;&gt; adjacency = <span class="keyword">new</span> ArrayList&lt;&gt;();<span class="comment">//é¢†æ¥è¡¨</span></span><br><span class="line">	Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();<span class="comment">//éªŒè¯ç¯çš„é˜Ÿåˆ—</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i++) { <span class="comment">//åˆå§‹åŒ–é¢†æ¥è¡¨</span></span><br><span class="line">		adjacency.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> [] cp : prerequisites) {</span><br><span class="line">		indegrees[cp[<span class="number">0</span>]]++; <span class="comment">//åˆå§‹åŒ–å…¥åº¦è¡¨</span></span><br><span class="line">		adjacency.get(cp[<span class="number">1</span>]).add(cp[<span class="number">0</span>]);<span class="comment">//åˆå§‹åŒ–é¢†æ¥è¡¨</span></span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//å°†å…¥åº¦ä¸º0çš„æ’å…¥åˆ°é˜Ÿåˆ—ä¸­</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i++) {</span><br><span class="line">		<span class="keyword">if</span>(indegrees[i] == <span class="number">0</span>) {</span><br><span class="line">			queue.add(i);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//BFS TopSort</span></span><br><span class="line">	<span class="keyword">while</span>(!queue.isEmpty()) {</span><br><span class="line">		<span class="keyword">int</span> pre = queue.poll();</span><br><span class="line">		numCourses--;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> cur : adjacency.get(pre)) {</span><br><span class="line">			<span class="keyword">if</span>(--indegrees[cur] == <span class="number">0</span>) {</span><br><span class="line">				queue.add(cur);</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> numCourses == <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>python</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canFinish</span><span class="params">(self, numCourses: int, prerequisites: List[List[int]])</span> -&gt; bool:</span></span><br><span class="line">        indegrees = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(numCourses)]</span><br><span class="line">        adjacency = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> range(numCourses)]</span><br><span class="line">        queue = deque()</span><br><span class="line">        <span class="comment"># Get the indegree and adjacency of every course.</span></span><br><span class="line">        <span class="keyword">for</span> cur, pre <span class="keyword">in</span> prerequisites:</span><br><span class="line">            indegrees[cur] += <span class="number">1</span></span><br><span class="line">            adjacency[pre].append(cur)</span><br><span class="line">        <span class="comment"># Get all the courses with the indegree of 0.</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(indegrees)):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> indegrees[i]: queue.append(i)</span><br><span class="line">        <span class="comment"># BFS TopSort.</span></span><br><span class="line">        <span class="keyword">while</span> queue:</span><br><span class="line">            pre = queue.popleft()</span><br><span class="line">            numCourses -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> cur <span class="keyword">in</span> adjacency[pre]:</span><br><span class="line">                indegrees[cur] -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> indegrees[cur]: queue.append(cur)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">not</span> numCourses</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸æ–¹æ³•-ï¼šDFS"><a href="#ğŸŒ¸æ–¹æ³•-ï¼šDFS" class="headerlink" title="ğŸŒ¸æ–¹æ³• ï¼šDFS"></a>ğŸŒ¸æ–¹æ³• ï¼šDFS</h2><h4 id="ğŸæ€è·¯"><a href="#ğŸæ€è·¯" class="headerlink" title="ğŸæ€è·¯"></a>ğŸæ€è·¯</h4><p>åŸç†æ˜¯é€šè¿‡ DFS åˆ¤æ–­å›¾ä¸­æ˜¯å¦æœ‰ç¯ã€‚</p>
<h4 id="ğŸç®—æ³•æµç¨‹-1"><a href="#ğŸç®—æ³•æµç¨‹-1" class="headerlink" title="ğŸç®—æ³•æµç¨‹"></a>ğŸç®—æ³•æµç¨‹</h4><ol>
<li>å€ŸåŠ©ä¸€ä¸ªæ ‡å¿—åˆ—è¡¨<code>flags</code>, äºåˆ¤æ–­æ¯ä¸ªèŠ‚ç‚¹i (è¯¾ç¨‹) çš„çŠ¶æ€:<ol>
<li>æœªè¢«DFSè®¿é—®:<code>i==0;</code></li>
<li>å·²è¢«å…¶ä»–èŠ‚ç‚¹å¯åŠ¨çš„DFSè®¿é—®: <code>i == -1</code> ;</li>
<li>å·²è¢«å½“å‰èŠ‚ç‚¹å¯åŠ¨çš„DFSè®¿é—®: <code>i == 1</code>ã€‚</li>
</ol>
</li>
<li>å¯¹<code>numCourses</code> ä¸ªèŠ‚ç‚¹ä¾æ¬¡æ‰§è¡ŒDFS,åˆ¤æ–­æ¯ä¸ªèŠ‚ç‚¹èµ·æ­¥DFSå¦å­˜åœ¨ç¯ï¼Œè‹¥å­˜åœ¨ç¯ç›´æ¥è¿”å›Falseã€‚DFSæµç¨‹;<ol>
<li>ç»ˆæ­¢æ¡ä»¶:<ul>
<li>å½“<code>flag[i] = -1</code>ï¼Œè¯´æ˜å½“å‰è®¿é—®èŠ‚ç‚¹å·²è¢«å…¶ä»–èŠ‚ç‚¹å¯åŠ¨çš„DFSè®¿é—®ï¼Œæ— éœ€å†é‡å¤æœç´¢,ç›´æ¥è¿”å›Trueã€‚</li>
<li>å½“<code>flag[i] == 1</code>ï¼Œè¯´æ˜åœ¨æœ¬è½®DFSæœç´¢ä¸­èŠ‚ç‚¹iè¢«ç¬¬2æ¬¡è®¿é—®ï¼Œå³è¯¾ç¨‹å®‰æ’å›¾æœ‰ç¯ï¼Œç›´æ¥è¿”å›False.</li>
</ul>
</li>
<li>å°†å½“å‰è®¿é—®èŠ‚ç‚¹iå¯¹åº”flag[i] ç½®1, å³æ ‡çªè¢«æœ¬è½®DFSè®¿é—®è¿‡;</li>
<li>é€’å½’è®¿é—®å½“å‰èŠ‚ç‚¹içš„æ‰€æœ‰é‚»æ¥èŠ‚ç‚¹jï¼Œå½“å‘ç°ç¯ç›´æ¥è¿”å›False;</li>
<li>å½“å‰èŠ‚ç‚¹æ‰€æœ‰é‚»æ¥èŠ‚ç‚¹å·²è¢«éå†ï¼Œå¹¶æ²¡æœ‰å‘ç°ç¯ï¼Œåˆ™å°†å½“å‰èŠ‚ç‚¹flag ä¸º- 1å¹¶è¿”å›Trueã€‚</li>
</ol>
</li>
<li>è‹¥æ•´ä¸ªå›¾DFSç»“æŸå¹¶æœªå‘ç°ç¯,è¿”å›Trueã€‚</li>
</ol>
<h4 id="ğŸå¤æ‚åº¦åˆ†æ-1"><a href="#ğŸå¤æ‚åº¦åˆ†æ-1" class="headerlink" title="ğŸå¤æ‚åº¦åˆ†æ:"></a>ğŸå¤æ‚åº¦åˆ†æ:</h4><ul>
<li>æ—¶é—´å¤æ‚åº¦O(N + M):éå†ä¸€ä¸ªå›¾éœ€è¦è®¿é—®æ‰€æœ‰èŠ‚ç‚¹å’Œæ‰€æœ‰ä¸´è¾¹, Nå’ŒMåˆ†åˆ«ä¸ºèŠ‚ç‚¹æ•°é‡å’Œä¸´è¾¹æ•°é‡;</li>
<li>ç©ºé—´å¤æ‚åº¦O(N + M):ä¸ºå»ºç«‹é‚»æ¥è¡¨æ‰€éœ€é¢å¤–ç©ºé—´ï¼Œ adjacency é•¿åº¦ä¸ºN, å­˜å‚¨Mæ¡ä¸´è¾¹çš„æ•°æ®ã€‚</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canFinish2</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites)</span> </span>{</span><br><span class="line">	List&lt;List&lt;Integer&gt;&gt; adjacency = <span class="keyword">new</span> ArrayList&lt;&gt;();<span class="comment">//é¢†æ¥è¡¨</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i++) { <span class="comment">//åˆå§‹åŒ–é¢†æ¥è¡¨</span></span><br><span class="line">		adjacency.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span>[] flags = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> [] cp : prerequisites) {</span><br><span class="line">		adjacency.get(cp[<span class="number">1</span>]).add(cp[<span class="number">0</span>]);<span class="comment">//åˆå§‹åŒ–é¢†æ¥è¡¨</span></span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i++) {</span><br><span class="line">		<span class="keyword">if</span>(!dfs(adjacency, flags, i)) {</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; adjacency, <span class="keyword">int</span>[] flags, <span class="keyword">int</span> i)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="keyword">if</span>(flags[i] == <span class="number">1</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(flags[i] == -<span class="number">1</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	}</span><br><span class="line">	flags[i] = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(Integer j : adjacency.get(i)) {</span><br><span class="line">		<span class="keyword">if</span>(!dfs(adjacency, flags, j)) {</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	flags[i] = -<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canFinish</span><span class="params">(self, numCourses: int, prerequisites: List[List[int]])</span> -&gt; bool:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(i, adjacency, flags)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> flags[i] == <span class="number">-1</span>: <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            <span class="keyword">if</span> flags[i] == <span class="number">1</span>: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            flags[i] = <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> adjacency[i]:</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> dfs(j, adjacency, flags): <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            flags[i] = <span class="number">-1</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        adjacency = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> range(numCourses)]</span><br><span class="line">        flags = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(numCourses)]</span><br><span class="line">        <span class="keyword">for</span> cur, pre <span class="keyword">in</span> prerequisites:</span><br><span class="line">            adjacency[pre].append(cur)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(numCourses):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> dfs(i, adjacency, flags): <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></tbody></table></figure>

<p>è¯¥é¢˜è§£å­¦ä¹ æ¥è‡ª<a href="https://leetcode-cn.com/problems/course-schedule/solution/course-schedule-tuo-bu-pai-xu-bfsdfsliang-chong-fa/" target="_blank" rel="noopener">@Krahets</a></p>
<p><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>BFS</tag>
        <tag>java</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>ç´¢å¼•æ•°ç»„_leetcode.315.è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°</title>
    <url>/Count_the_number_of_elements/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼ŒæŒ‰è¦æ±‚è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ countsã€‚æ•°ç»„ counts æœ‰è¯¥æ€§è´¨ï¼š counts[i] çš„å€¼æ˜¯  nums[i] å³ä¾§å°äº nums[i] çš„å…ƒç´ çš„æ•°é‡ã€‚</p>
<a id="more"></a>

<p>ç¤ºä¾‹:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: [5,2,6,1]</span><br><span class="line">è¾“å‡º: [2,1,1,0]</span><br></pre></td></tr></tbody></table></figure>

<p>è§£é‡Š:</p>
<ul>
<li>5 çš„å³ä¾§æœ‰ 2 ä¸ªæ›´å°çš„å…ƒç´  (2 å’Œ 1).</li>
<li>2 çš„å³ä¾§ä»…æœ‰ 1 ä¸ªæ›´å°çš„å…ƒç´  (1).</li>
<li>6 çš„å³ä¾§æœ‰ 1 ä¸ªæ›´å°çš„å…ƒç´  (1).</li>
<li>1 çš„å³ä¾§æœ‰ 0 ä¸ªæ›´å°çš„å…ƒç´ .</li>
</ul>
<h2 id="ğŸŒ¸åˆ†æ"><a href="#ğŸŒ¸åˆ†æ" class="headerlink" title="ğŸŒ¸åˆ†æ"></a>ğŸŒ¸åˆ†æ</h2><blockquote>
<p>è¿™é“é¢˜è¦ç”¨æ’åºçš„æ€è·¯æ¥è§£å†³ã€‚å¿«é€ŸæŸ¥æ‰¾å’Œæ›´æ–°ï¼Œä½¿ç”¨é€’å½’æˆ–æ ‘çš„ç»“æ„å¯ä»¥é«˜æ•ˆå®ç°ã€‚</p>
</blockquote>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šå†’æ³¡-æš´åŠ›è§£æ³•"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šå†’æ³¡-æš´åŠ›è§£æ³•" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šå†’æ³¡/æš´åŠ›è§£æ³•"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šå†’æ³¡/æš´åŠ›è§£æ³•</h2><p>æš´åŠ›æ±‚è§£ï¼Œä¸è§£é‡Šã€‚</p>
<p>ç¨³å®šçš„æ’åºæ–¹æ³•éƒ½å¯æ±‚è§£è¿™ä¸ªé—®é¢˜ã€‚<br>å†’æ³¡æ’åºæ¯äº¤æ¢ä¸€æ¬¡æ¶ˆé™¤ä¸€å¯¹é€†åºï¼Œä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ•°ç»„è®°å½•æ¶ˆé™¤çš„æ¬¡æ•°ã€‚<br>æ—¶é—´å¤æ‚åº¦O(n2),è¶…æ—¶ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">countSmaller</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">	List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) {</span><br><span class="line">		<span class="keyword">int</span> flag = nums[i];</span><br><span class="line">		<span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; nums.length; j++) {</span><br><span class="line">			<span class="keyword">if</span>(flag &gt; nums[j]) {</span><br><span class="line">				count++;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(count != <span class="number">0</span>) {</span><br><span class="line">			res.add(count);</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			res.add(<span class="number">0</span>);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•äºŒï¼š-æ’å…¥æ’åº"><a href="#ğŸŒ¸è§£æ³•äºŒï¼š-æ’å…¥æ’åº" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼š æ’å…¥æ’åº"></a>ğŸŒ¸è§£æ³•äºŒï¼š æ’å…¥æ’åº</h2><p>ä»å³å¾€å·¦è¿›è¡Œæ’å…¥æ’åºï¼Œ<br>æ ¹æ®æ’å…¥çš„ä½ç½®è®¡ç®—å³è¾¹å°äºè¯¥å…ƒç´ çš„ä¸ªæ•°ã€‚</p>
<p>ä¼˜åŒ–ï¼šå…ˆä½¿ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ä½ç½®ï¼Œå†æ’å…¥ã€‚å¯ä»¥é™ä½å†…å¾ªç¯æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦O(nlogn)ï¼Œä½†æ˜¯å…ƒç´ äº¤æ¢çš„æ¬¡æ•°è¿˜æ˜¯O(n2)ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">countSmaller</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">//ä½¿ç”¨é“¾è¡¨å¤´æ’æ³•</span></span><br><span class="line">    LinkedList&lt;Integer&gt; res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> len = nums.length;</span><br><span class="line">    <span class="comment">//åå‘æ’å…¥æ’åº</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = len - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--){</span><br><span class="line">        <span class="keyword">int</span> j = i + <span class="number">1</span>, temp = nums[i];</span><br><span class="line">        <span class="keyword">while</span>(j &lt; len &amp;&amp; nums[j] &gt;= temp){</span><br><span class="line">            nums[j - <span class="number">1</span>] = nums[j];</span><br><span class="line">            j++;</span><br><span class="line">        }</span><br><span class="line">        nums[j - <span class="number">1</span>] = temp;</span><br><span class="line">        <span class="comment">//len - jå°±è¡¨ç¤ºè®¡æ•°ä¸ªæ•°</span></span><br><span class="line">        res.addFirst(len - j);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//æ·»åŠ æœ€åä¸€ä¸ªæ•°</span></span><br><span class="line">    res.add(<span class="number">0</span>);</span><br><span class="line">    <span class="comment">//LinkedListä¹Ÿæ˜¯List</span></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•ä¸‰ï¼š-å½’å¹¶æ’åº-ç´¢å¼•æ•°ç»„"><a href="#ğŸŒ¸è§£æ³•ä¸‰ï¼š-å½’å¹¶æ’åº-ç´¢å¼•æ•°ç»„" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸‰ï¼š å½’å¹¶æ’åº+ç´¢å¼•æ•°ç»„"></a>ğŸŒ¸è§£æ³•ä¸‰ï¼š å½’å¹¶æ’åº+ç´¢å¼•æ•°ç»„</h2><p>æ±‚è§£ â€œé€†åºå¯¹â€ çš„å…³é”®åœ¨äºï¼šå½“å…¶ä¸­ä¸€ä¸ªæ•°å­—æ”¾è¿›æœ€ç»ˆå½’å¹¶ä»¥åçš„æœ‰åºæ•°ç»„ä¸­çš„æ—¶å€™ï¼Œè¿™ä¸ªæ•°å­—ä¸ä¹‹å‰çœ‹è¿‡çš„æ•°å­—ä¸ªæ•°ï¼ˆæˆ–è€…æ˜¯æœªçœ‹è¿‡çš„æ•°å­—ä¸ªæ•°ï¼‰å¯ä»¥ç›´æ¥ç»Ÿè®¡å‡ºæ¥ï¼Œè€Œä¸å¿…ä¸€ä¸ªä¸€ä¸ªæ•°â€ã€‚</p>
<p>å›åˆ°æœ¬é¢˜ï¼Œæœ¬é¢˜è®©æˆ‘ä»¬æ±‚ â€œåœ¨ä¸€ä¸ªæ•°ç»„çš„æŸä¸ªå…ƒç´ çš„å³è¾¹ï¼Œæ¯”è‡ªå·±å°çš„å…ƒç´ çš„ä¸ªæ•°â€ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å°± åº”è¯¥åœ¨ â€œå‰æœ‰åºæ•°ç»„â€ çš„å…ƒç´ å‡ºåˆ—çš„æ—¶å€™ï¼Œæ•°ä¸€æ•° â€œåæœ‰åºæ•°ç»„â€ å·²ç»å‡ºåˆ—äº†å¤šå°‘å…ƒç´ ï¼Œå› ä¸ºè¿™äº›å·²ç»å‡ºåˆ—çš„å…ƒç´ éƒ½æ¯”å½“å‰å‡ºåˆ—çš„å…ƒç´ è¦å°ï¼ˆæˆ–è€…ç­‰äºï¼‰ã€‚</p>
<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>ä¸è¿‡é¢˜ç›®ä¸­è¦æ±‚æˆ‘ä»¬è¦å…·ä½“è®¡ç®—åˆ°å…ƒç´ çº§åˆ«ã€‚â€œå½’å¹¶æ’åºâ€ å®Œæˆä»¥åï¼ŒåŸå§‹æ•°ç»„çš„ä½ç½®å°±å·²ç»å˜åŒ–äº†ï¼Œå› æ­¤å¦‚ä½•å®šä½å…ƒç´ æ˜¯å…³é”®ã€‚</p>
<p><strong>ä¸€ä¸ªå…ƒç´ åœ¨ç®—æ³•çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ä½ç½®å‘ç”Ÿå˜åŒ–ï¼Œæˆ‘ä»¬è¿˜æƒ³å®šä½å®ƒ</strong>ï¼Œå°±æ˜¯æœ€å°ç´¢å¼•å †ï¼Œä½¿ç”¨ â€œç´¢å¼•æ•°ç»„â€ çš„å…³é”®åœ¨äºï¼š</p>
<ul>
<li><strong>â€œåŸå§‹æ•°ç»„â€ ä¸å˜ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„å¤§å°ï¼ŒçœŸæ­£ä½ç½®å˜æ¢çš„æ˜¯ â€œç´¢å¼•æ•°ç»„â€</strong>ã€‚</li>
</ul>
<p>ä¸ºäº†å®Œæˆ â€œç´¢å¼•æ•°ç»„â€ çš„å½’å¹¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ª â€œç´¢å¼•æ•°ç»„â€ é•¿åº¦çš„ä¸´æ—¶æ•°ç»„ï¼ŒæŠŠç´¢å¼•æ•°ç»„çš„å€¼å¤åˆ¶è¿‡å»ï¼Œæ¯”è¾ƒå®Œæˆä»¥åï¼Œå†èµ‹å€¼å› â€œç´¢å¼•æ•°ç»„â€ã€‚</p>
<h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul>
<li>å¦‚æœ â€œå‰æœ‰åºæ•°ç»„â€ å’Œ â€œåæœ‰åºæ•°ç»„â€ ç›´æ¥åˆå¹¶çš„æ—¶å€™ï¼Œå°±æœ‰åºï¼Œå°±ä¸å¿…å½’å¹¶</li>
<li>åœ¨ â€œå½’å¹¶â€ çš„æ—¶å€™ï¼Œå…¨å±€ä½¿ç”¨ä¸€ä¸ªä¸´æ—¶å­˜å‚¨æ•°ç»„ï¼Œè€Œä¸å¿…æ¯ä¸€ä¸ªå½’å¹¶éƒ½æ–°å»ºä¸´æ—¶çš„å­˜å‚¨ç©ºé—´ã€‚</li>
<li>å‡ºåˆ—ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œé©¬ä¸Šå¾—åˆ°å³è¾¹æ¯”è‡ªå·±å°çš„å…ƒç´ çš„ä¸ªæ•°ï¼Œæ˜¯é€šè¿‡ä¸åŒçš„æŒ‡é’ˆä¹‹é—´çš„è·ç¦»å¾—åˆ°çš„ã€‚</li>
</ul>
<p><strong>java</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] temp;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] counter;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] indexes;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">countSmaller</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> len = nums.length;</span><br><span class="line">        <span class="keyword">if</span> (len == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        }</span><br><span class="line">        temp = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        counter = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        indexes = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) {</span><br><span class="line">            indexes[i] = i;</span><br><span class="line">        }</span><br><span class="line">        mergeAndCountSmaller(nums, <span class="number">0</span>, len - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) {</span><br><span class="line">            res.add(counter[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é’ˆå¯¹æ•°ç»„ nums æŒ‡å®šçš„åŒºé—´ [l, r] è¿›è¡Œå½’å¹¶æ’åºï¼Œåœ¨æ’åºçš„è¿‡ç¨‹ä¸­å®Œæˆç»Ÿè®¡ä»»åŠ¡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> l</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> r</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">mergeAndCountSmaller</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (l == r) {</span><br><span class="line">            <span class="comment">// æ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œæ²¡æœ‰æ¯”è¾ƒï¼Œä¸ç»Ÿè®¡</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> mid = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">        mergeAndCountSmaller(nums, l, mid);</span><br><span class="line">        mergeAndCountSmaller(nums, mid + <span class="number">1</span>, r);</span><br><span class="line">        <span class="comment">// å½’å¹¶æ’åºçš„ä¼˜åŒ–ï¼ŒåŒæ ·é€‚ç”¨äºè¯¥é—®é¢˜</span></span><br><span class="line">        <span class="comment">// å¦‚æœç´¢å¼•æ•°ç»„æœ‰åºï¼Œå°±æ²¡æœ‰å¿…è¦å†ç»§ç»­è®¡ç®—äº†</span></span><br><span class="line">        <span class="keyword">if</span> (nums[indexes[mid]] &gt; nums[indexes[mid + <span class="number">1</span>]]) {</span><br><span class="line">            mergeOfTwoSortedArrAndCountSmaller(nums, l, mid, r);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * [l, mid] æ˜¯æ’å¥½åºçš„</span></span><br><span class="line"><span class="comment">     * [mid + 1, r] æ˜¯æ’å¥½åºçš„</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> l</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> mid</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> r</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">mergeOfTwoSortedArrAndCountSmaller</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> mid, <span class="keyword">int</span> r)</span> </span>{</span><br><span class="line">        <span class="comment">// 3,4  1,2</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = l; i &lt;= r; i++) {</span><br><span class="line">            temp[i] = indexes[i];</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> i = l;</span><br><span class="line">        <span class="keyword">int</span> j = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// å·¦è¾¹å‡ºåˆ—çš„æ—¶å€™ï¼Œè®¡æ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = l; k &lt;= r; k++) {</span><br><span class="line">            <span class="keyword">if</span> (i &gt; mid) {</span><br><span class="line">                indexes[k] = temp[j];</span><br><span class="line">                j++;</span><br><span class="line">            } <span class="keyword">else</span> <span class="keyword">if</span> (j &gt; r) {</span><br><span class="line">                indexes[k] = temp[i];</span><br><span class="line">                i++;</span><br><span class="line">                <span class="comment">// æ­¤æ—¶ j ç”¨å®Œäº†ï¼Œ[7,8,9 | 1,2,3]</span></span><br><span class="line">                <span class="comment">// ä¹‹å‰çš„æ•°å°±å’Œåé¢çš„åŒºé—´é•¿åº¦æ„æˆé€†åº</span></span><br><span class="line">                counter[indexes[k]] += (r - mid);</span><br><span class="line">            } <span class="keyword">else</span> <span class="keyword">if</span> (nums[temp[i]] &lt;= nums[temp[j]]) {</span><br><span class="line">                indexes[k] = temp[i];</span><br><span class="line">                i++;</span><br><span class="line">                <span class="comment">// æ­¤æ—¶ [4,5, 6   | 1,2,3 10 12 13]</span></span><br><span class="line">                <span class="comment">//           mid          j</span></span><br><span class="line">                counter[indexes[k]] += (j - mid - <span class="number">1</span>);</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                <span class="comment">// nums[indexes[i]] &gt; nums[indexes[j]] æ„æˆé€†åº</span></span><br><span class="line">                indexes[k] = temp[j];</span><br><span class="line">                j++;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]{<span class="number">5</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">1</span>};</span><br><span class="line">        Solution solution = <span class="keyword">new</span> Solution();</span><br><span class="line">        List&lt;Integer&gt; countSmaller = solution.countSmaller(nums);</span><br><span class="line">        System.out.println(countSmaller);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>python</strong></p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countSmaller</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        size = len(nums)</span><br><span class="line">        <span class="keyword">if</span> size == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        <span class="keyword">if</span> size == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> [<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        temp = [<span class="literal">None</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(size)]</span><br><span class="line">        indexes = [i <span class="keyword">for</span> i <span class="keyword">in</span> range(size)]</span><br><span class="line">        res = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(size)]</span><br><span class="line"></span><br><span class="line">        self.__helper(nums, <span class="number">0</span>, size - <span class="number">1</span>, temp, indexes, res)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__helper</span><span class="params">(self, nums, left, right, temp, indexes, res)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> left == right:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        mid = left + (right - left) // <span class="number">2</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># è®¡ç®—ä¸€ä¸‹å·¦è¾¹</span></span><br><span class="line">        self.__helper(nums, left, mid, temp, indexes, res)</span><br><span class="line">        <span class="comment"># è®¡ç®—ä¸€ä¸‹å³è¾¹</span></span><br><span class="line">        self.__helper(nums, mid + <span class="number">1</span>, right, temp, indexes, res)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> nums[indexes[mid]] &lt;= nums[indexes[mid + <span class="number">1</span>]]:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        self.__sort_and_count_smaller(nums, left, mid, right, temp, indexes, res)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__sort_and_count_smaller</span><span class="params">(self, nums, left, mid, right, temp, indexes, res)</span>:</span></span><br><span class="line">        <span class="comment"># [left,mid] å‰æœ‰åºæ•°ç»„</span></span><br><span class="line">        <span class="comment"># [mid+1,right] åæœ‰åºæ•°ç»„</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å…ˆæ‹·è´ï¼Œå†åˆå¹¶</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(left, right + <span class="number">1</span>):</span><br><span class="line">            temp[i] = indexes[i]</span><br><span class="line"></span><br><span class="line">        l = left</span><br><span class="line">        r = mid + <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(left, right + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> l &gt; mid:</span><br><span class="line">                <span class="comment"># l ç”¨å®Œï¼Œå°±æ‹¼å‘½ä½¿ç”¨ r</span></span><br><span class="line">                <span class="comment"># [1,2,3,4] [5,6,7,8]</span></span><br><span class="line">                indexes[i] = temp[r]</span><br><span class="line">                r += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> r &gt; right:</span><br><span class="line">                <span class="comment"># r ç”¨å®Œï¼Œå°±æ‹¼å‘½ä½¿ç”¨ l</span></span><br><span class="line">                <span class="comment"># [6,7,8,9] [1,2,3,4]</span></span><br><span class="line">                indexes[i] = temp[l]</span><br><span class="line">                l += <span class="number">1</span></span><br><span class="line">                <span class="comment"># æ³¨æ„ï¼šæ­¤æ—¶å‰é¢å‰©ä¸‹çš„æ•°ï¼Œæ¯”åé¢æ‰€æœ‰çš„æ•°éƒ½å¤§</span></span><br><span class="line">                res[indexes[i]] += (right - mid)</span><br><span class="line">            <span class="keyword">elif</span> nums[temp[l]] &lt;= nums[temp[r]]:</span><br><span class="line">                <span class="comment"># [3,5,7,9] [4,6,8,10]</span></span><br><span class="line">                indexes[i] = temp[l]</span><br><span class="line">                l += <span class="number">1</span></span><br><span class="line">                <span class="comment"># æ³¨æ„ï¼š</span></span><br><span class="line">                res[indexes[i]] += (r - mid - <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">assert</span> nums[temp[l]] &gt; nums[temp[r]]</span><br><span class="line">                <span class="comment"># ä¸Šé¢ä¸¤ç§æƒ…å†µåªåœ¨å…¶ä¸­ä¸€ç§ç»Ÿè®¡å°±å¯ä»¥äº†</span></span><br><span class="line">                <span class="comment"># [3,5,7,9] [4,6,8,10]</span></span><br><span class="line">                indexes[i] = temp[r]</span><br><span class="line">                r += <span class="number">1</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•å››ï¼š-äºŒå‰æœç´¢æ ‘"><a href="#ğŸŒ¸è§£æ³•å››ï¼š-äºŒå‰æœç´¢æ ‘" class="headerlink" title="ğŸŒ¸è§£æ³•å››ï¼š äºŒå‰æœç´¢æ ‘"></a>ğŸŒ¸è§£æ³•å››ï¼š äºŒå‰æœç´¢æ ‘</h2><p>ä½¿ç”¨äºŒå‰æœç´¢æ ‘ä¹Ÿå¯ä»¥å®Œæˆæ’å…¥å¹¶ç»Ÿè®¡çš„åŠŸèƒ½ï¼Œä»å³å¾€å·¦æ„å»ºäºŒå‰æ ‘ã€‚<br>é€’å½’å®ç°ï¼š<br>å½“èµ°åˆ°å³èŠ‚ç‚¹æ—¶ï¼Œ</p>
<ul>
<li>ç»Ÿè®¡æ ¹èŠ‚ç‚¹å’Œå·¦èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œ</li>
<li>ç»§ç»­æ’å…¥å¹¶ç»Ÿè®¡å³è¾¹æ˜¯å¦è¿˜æœ‰è¾ƒå°å€¼ï¼›</li>
</ul>
<p>å½“èµ°åˆ°å·¦èŠ‚ç‚¹æˆ–è€…æ ¹èŠ‚ç‚¹æ—¶ï¼Œ</p>
<ul>
<li>è®¡æ•°å™¨åŠ ä¸€</li>
<li>ç»§ç»­æ’å…¥å¹¶ç»Ÿè®¡å·¦è¾¹æ˜¯å¦è¿˜æœ‰è¾ƒå°å€¼ã€‚</li>
</ul>
<p>éå†ä¸€éå°±å¯ä»¥å®Œæˆæœç´¢ï¼Œæ—¶é—´å¤æ‚åº¦O(nlogn)ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">countSmaller</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">        <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">        Integer[] res = <span class="keyword">new</span> Integer[nums.length];</span><br><span class="line">        Arrays.fill(res, <span class="number">0</span>);</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">//åå‘æ„é€ äºŒå‰æ ‘ï¼Œç»Ÿè®¡å³è¾¹çš„è¾ƒå°æ•°</span></span><br><span class="line">        TreeNode root = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = nums.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--){</span><br><span class="line">            root = addAndCount(root, <span class="keyword">new</span> TreeNode(nums[i]), res, i);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> Arrays.asList(res);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">addAndCount</span><span class="params">(TreeNode root, TreeNode node, Integer[] res, <span class="keyword">int</span> i)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>){</span><br><span class="line">            root = node;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">//æ ¹èŠ‚ç‚¹çš„å·¦è¾¹ä¿å­˜ä¸å¤§äºæ ¹èŠ‚ç‚¹çš„å…ƒç´ </span></span><br><span class="line">        <span class="keyword">if</span>(root.val &gt;= node.val){ </span><br><span class="line">            <span class="comment">//ç»Ÿè®¡å·¦èŠ‚ç‚¹çš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">            root.count++;</span><br><span class="line">            root.left = addAndCount(root.left, node, res, i);</span><br><span class="line">        }<span class="keyword">else</span>{</span><br><span class="line">            <span class="comment">//èµ°åˆ°å³è¾¹è·å–è¯¥å…ƒç´ å·¦è¾¹çš„ä¸ªæ•°ï¼ˆæ ¹èŠ‚ç‚¹ 1 + å·¦èŠ‚ç‚¹ root.countï¼‰</span></span><br><span class="line">            res[i] += <span class="number">1</span> + root.count;</span><br><span class="line">            <span class="comment">//ç»Ÿè®¡å³è¾¹æ˜¯å¦è¿˜æœ‰æ›´å°çš„å…ƒç´ </span></span><br><span class="line">            root.right = addAndCount(root.right, node, res, i);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span></span>{</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">    TreeNode left, right;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">(<span class="keyword">int</span> val)</span></span>{</span><br><span class="line">        <span class="keyword">this</span>.val = val;</span><br><span class="line">        <span class="keyword">this</span>.count = <span class="number">0</span>;</span><br><span class="line">        left = <span class="keyword">null</span>;</span><br><span class="line">        right = <span class="keyword">null</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•äº”ï¼š-æ ‘çŠ¶æ•°ç»„"><a href="#ğŸŒ¸è§£æ³•äº”ï¼š-æ ‘çŠ¶æ•°ç»„" class="headerlink" title="ğŸŒ¸è§£æ³•äº”ï¼š æ ‘çŠ¶æ•°ç»„"></a>ğŸŒ¸è§£æ³•äº”ï¼š æ ‘çŠ¶æ•°ç»„</h2><h3 id="ğŸå‰è¨€"><a href="#ğŸå‰è¨€" class="headerlink" title="ğŸå‰è¨€"></a>ğŸå‰è¨€</h3><ul>
<li>ã€Œæ ‘çŠ¶æ•°ç»„ã€å±äºé«˜çº§çš„æ•°æ®ç»“æ„ï¼Œå¦‚æœæ˜¯éç«èµ›é€‰æ‰‹å’Œæ™®é€šå…¬å¸é¢è¯•ï¼Œå¯ä»¥ä¸ç”¨æŒæ¡</li>
<li><strong>ã€Œæ ‘çŠ¶æ•°ç»„ã€è¿™ä¸ªæ•°æ®ç»“æ„ç”¨äºé«˜æ•ˆåœ°è§£å†³ã€Œå‰ç¼€å’ŒæŸ¥è¯¢ã€ä¸ã€Œå•ç‚¹æ›´æ–°ã€é—®é¢˜</strong></li>
</ul>
<h3 id="ğŸç¦»æ•£åŒ–"><a href="#ğŸç¦»æ•£åŒ–" class="headerlink" title="ğŸç¦»æ•£åŒ–"></a>ğŸç¦»æ•£åŒ–</h3><p>é¦–å…ˆå¯¹æ•°ç»„å…ƒç´ åšé¢„å¤„ç†ï¼Œè¿™ä¸€æ­¥å«ã€Œç¦»æ•£åŒ–ã€ã€‚</p>
<ul>
<li>è€ƒè™‘åˆ°ã€Œæ ‘çŠ¶æ•°ç»„ã€çš„åº•å±‚æ˜¯æ•°ç»„ï¼ˆçº¿æ€§ç»“æ„ï¼‰ï¼Œä¸ºäº†é¿å…å¼€è¾Ÿå¤šä½™çš„ã€Œæ ‘çŠ¶æ•°ç»„ã€ç©ºé—´ï¼Œéœ€è¦è¿›è¡Œã€Œç¦»æ•£åŒ–ã€</li>
<li>ã€Œç¦»æ•£åŒ–ã€çš„ä½œç”¨æ˜¯ï¼šé’ˆå¯¹æ•°å€¼çš„å¤§å°åšä¸€ä¸ªæ’åçš„ã€Œæ˜ å°„ã€ï¼ŒæŠŠåŸå§‹æ•°æ®æ˜ å°„åˆ° <code>[1, len]</code> è¿™ä¸ªåŒºé—´ï¼Œè¿™æ ·ã€Œæ ‘çŠ¶æ•°ç»„ã€åº•å±‚çš„æ•°ç»„ç©ºé—´ä¼šæ›´ç´§å‡‘ï¼Œæ›´æ˜“äºç»´æŠ¤ã€‚</li>
</ul>
<h3 id="ğŸåˆ†æ"><a href="#ğŸåˆ†æ" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>å› ä¸ºæˆ‘ä»¬å…³å¿ƒã€Œ<strong>å½“å‰ä½ç½®çš„å³è¾¹æ¯”å½“å‰æ•°å€¼å°çš„å…ƒç´ çš„ä¸ªæ•°</strong>ã€ï¼Œå› æ­¤å¯ä»¥è®¾è®¡å¦‚ä¸‹çš„ç®—æ³•æµç¨‹ï¼š</p>
<ul>
<li>ä»å³å‘å·¦è¯»å–æ’åï¼›</li>
<li>å…ˆæŸ¥è¯¢<strong>ä¸¥æ ¼å°äº</strong>å½“å‰æ’åçš„ã€Œå‰ç¼€å’Œã€ï¼Œè¿™é‡Œã€Œå‰ç¼€å’Œã€æŒ‡çš„æ˜¯ï¼Œä¸¥æ ¼å°äºå½“å‰æ’åçš„å…ƒç´ çš„ä¸ªæ•°ï¼Œè¿™ä¸€æ­¥å¯¹åº”ã€Œå‰ç¼€å’ŒæŸ¥è¯¢ã€ï¼›</li>
<li>ç„¶åç»™ã€Œå½“å‰æ’åã€åŠ  11ï¼Œè¿™ä¸€æ­¥å¯¹åº”ã€Œå•ç‚¹æ›´æ–°ã€ã€‚</li>
</ul>
<p>æˆ‘ä»¬æ ¹æ®ä¸Šé¢çš„æ­¥éª¤ï¼Œé’ˆå¯¹ [5, 2, 6, 1] å¾—åˆ°æ’å [3, 2, 4, 1] ï¼ŒæŠŠå…·ä½“çš„è®¡ç®—è¿‡ç¨‹å†™ä¸€ä¸‹ï¼š</p>
<blockquote>
<ul>
<li>ç¬¬ 1 æ­¥ï¼šè¯»åˆ° 1 ã€‚<br>1 çš„æ’åæ˜¯ 1 ï¼Œé¦–å…ˆå…ˆåœ¨ã€Œæ ‘çŠ¶æ•°ç»„ã€çš„ä¸‹æ ‡ 1 ä½ç½®æ›´æ–°ï¼Œæ‰§è¡Œçš„æ“ä½œæ˜¯ +1ï¼Œå¾ˆæ˜æ˜¾ï¼Œåœ¨æ’å 1 ä¹‹å‰è‚¯å®šæ²¡æœ‰æ•°äº†ï¼ˆæŸ¥è¯¢æ’ååœ¨ 1 ä¹‹å‰çš„æ•°æœ‰å¤šå°‘ä¸ªï¼‰ï¼Œæ‰€ä»¥åœ¨ç»“æœæ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®å¡« 0ã€‚</li>
<li>ç¬¬ 2 æ­¥ï¼šè¯»åˆ° 6ã€‚<br>6 çš„æ’åæ˜¯ 4ï¼Œé¦–å…ˆå…ˆåœ¨ã€Œæ ‘çŠ¶æ•°ç»„ã€çš„ä¸‹æ ‡ 4 ä½ç½®æ›´æ–°ï¼Œæ‰§è¡Œçš„æ“ä½œæ˜¯ +1ï¼Œæ¥ä¸‹æ¥åœ¨ã€Œæ ‘çŠ¶æ ‘ç»„ã€é‡Œé¢æ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢ï¼ŒæŸ¥è¯¢åœ¨æ’å 4 ä¹‹å‰çš„å…ƒç´ ä¸ªæ•°æœ‰å¤šå°‘ï¼Œç»“æœæ˜¯ 1ï¼Œæ‰€ä»¥åœ¨ç»“æœæ•°ç»„çš„å€’æ•°ç¬¬ 2 ä¸ªä½ç½®å¡« 0ï¼›</li>
<li>ç¬¬ 3 æ­¥ï¼šè¯»åˆ° 2ã€‚<br>2 çš„æ’åæ˜¯ 2ï¼Œé¦–å…ˆå…ˆåœ¨ã€Œæ ‘çŠ¶æ•°ç»„ã€çš„ä¸‹æ ‡ 2 ä½ç½®æ›´æ–°ï¼Œæ‰§è¡Œçš„æ“ä½œæ˜¯ +1+1ï¼Œæ¥ä¸‹æ¥åœ¨ã€Œæ ‘çŠ¶æ ‘ç»„ã€é‡Œé¢æ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢ï¼ŒæŸ¥è¯¢åœ¨æ’å 2 ä¹‹å‰çš„å…ƒç´ ä¸ªæ•°æœ‰å¤šå°‘ï¼Œç»“æœæ˜¯ 1ï¼Œæ‰€ä»¥åœ¨ç»“æœæ•°ç»„çš„å€’æ•°ç¬¬ 3 ä¸ªä½ç½®å¡« 11ï¼›</li>
<li>ç¬¬ 4 æ­¥ï¼šè¯»åˆ° 5ã€‚<br>5 çš„æ’åæ˜¯ 3ï¼Œé¦–å…ˆå…ˆåœ¨ã€Œæ ‘çŠ¶æ•°ç»„ã€çš„ä¸‹æ ‡ 3 ä½ç½®æ›´æ–°ï¼Œæ‰§è¡Œçš„æ“ä½œæ˜¯ +1+1ï¼Œæ¥ä¸‹æ¥åœ¨ã€Œæ ‘çŠ¶æ ‘ç»„ã€é‡Œé¢æ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢ï¼ŒæŸ¥è¯¢åœ¨æ’å 3 ä¹‹å‰çš„å…ƒç´ ä¸ªæ•°æœ‰å¤šå°‘ï¼Œç»“æœæ˜¯ 2ï¼Œæ‰€ä»¥åœ¨ç»“æœæ•°ç»„çš„å€’æ•°ç¬¬ 4 ä¸ªä½ç½®å¡« 2ã€‚</li>
<li>äºæ˜¯ [2, 1, 1, 0] å³ä¸ºæ‰€æ±‚ã€‚</li>
</ul>
</blockquote>
<p>ğŸå‚è€ƒä»£ç </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">countSmaller</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> len = nums.length;</span><br><span class="line">        <span class="keyword">if</span> (len == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨äºŒåˆ†æœç´¢æ ‘æ–¹ä¾¿æ’åº</span></span><br><span class="line">        Set&lt;Integer&gt; set = <span class="keyword">new</span> TreeSet();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) {</span><br><span class="line">            set.add(nums[i]);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ’åè¡¨</span></span><br><span class="line">        Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> rank = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (Integer num : set) {</span><br><span class="line">            map.put(num, rank);</span><br><span class="line">            rank++;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        FenwickTree fenwickTree = <span class="keyword">new</span> FenwickTree(set.size() + <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// ä»åå‘å‰å¡«è¡¨</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">            <span class="comment">// 1ã€æŸ¥è¯¢æ’å</span></span><br><span class="line">            rank = map.get(nums[i]);</span><br><span class="line">            <span class="comment">// 2ã€åœ¨æ ‘çŠ¶æ•°ç»„æ’åçš„é‚£ä¸ªä½ç½® + 1</span></span><br><span class="line">            fenwickTree.update(rank, <span class="number">1</span>);</span><br><span class="line">            <span class="comment">// 3ã€æŸ¥è¯¢ä¸€ä¸‹å°äºç­‰äºâ€œå½“å‰æ’å - 1â€çš„å…ƒç´ æœ‰å¤šå°‘</span></span><br><span class="line">            res.add(fenwickTree.query(rank - <span class="number">1</span>));</span><br><span class="line">        }</span><br><span class="line">        Collections.reverse(res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">FenwickTree</span> </span>{</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span>[] tree;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> len;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">FenwickTree</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">            <span class="keyword">this</span>.len = n;</span><br><span class="line">            tree = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å•ç‚¹æ›´æ–°ï¼šå°† index è¿™ä¸ªä½ç½® + 1</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> delta)</span> </span>{</span><br><span class="line">            <span class="comment">// ä»ä¸‹åˆ°ä¸Šï¼Œæœ€å¤šåˆ° sizeï¼Œå¯ä»¥ç­‰äº size</span></span><br><span class="line">            <span class="keyword">while</span> (i &lt;= <span class="keyword">this</span>.len) {</span><br><span class="line">                tree[i] += delta;</span><br><span class="line">                i += lowbit(i);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// åŒºé—´æŸ¥è¯¢ï¼šæŸ¥è¯¢å°äºç­‰äº index çš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">        <span class="comment">// æŸ¥è¯¢çš„è¯­ä¹‰æ˜¯"å‰ç¼€å’Œ"</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{</span><br><span class="line">            <span class="comment">// ä»å³åˆ°å·¦æŸ¥è¯¢</span></span><br><span class="line">            <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (i &gt; <span class="number">0</span>) {</span><br><span class="line">                sum += tree[i];</span><br><span class="line">                i -= lowbit(i);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">return</span> sum;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span> </span>{</span><br><span class="line">            <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]{<span class="number">5</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">1</span>};</span><br><span class="line">        Solution4 solution4 = <span class="keyword">new</span> Solution4();</span><br><span class="line">        List&lt;Integer&gt; countSmaller = solution4.countSmaller(nums);</span><br><span class="line">        System.out.println(countSmaller);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>python</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> List</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countSmaller</span><span class="params">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">FenwickTree</span>:</span></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">                self.size = n</span><br><span class="line">                self.tree = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n + <span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">__lowbit</span><span class="params">(self, index)</span>:</span></span><br><span class="line">                <span class="keyword">return</span> index &amp; (-index)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># å•ç‚¹æ›´æ–°ï¼šå°† index è¿™ä¸ªä½ç½® + 1</span></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">(self, index, delta)</span>:</span></span><br><span class="line">                <span class="comment"># ä»ä¸‹åˆ°ä¸Šï¼Œæœ€å¤šåˆ° sizeï¼Œå¯ä»¥ç­‰äº size</span></span><br><span class="line">                <span class="keyword">while</span> index &lt;= self.size:</span><br><span class="line">                    self.tree[index] += delta</span><br><span class="line">                    index += self.__lowbit(index)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># åŒºé—´æŸ¥è¯¢ï¼šæŸ¥è¯¢å°äºç­‰äº index çš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">            <span class="comment"># æŸ¥è¯¢çš„è¯­ä¹‰æ˜¯"å‰ç¼€å’Œ"</span></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">query</span><span class="params">(self, index)</span>:</span></span><br><span class="line">                res = <span class="number">0</span></span><br><span class="line">                <span class="comment"># ä»ä¸Šåˆ°ä¸‹ï¼Œæœ€å°‘åˆ° 1ï¼Œå¯ä»¥ç­‰äº 1</span></span><br><span class="line">                <span class="keyword">while</span> index &gt; <span class="number">0</span>:</span><br><span class="line">                    res += self.tree[index]</span><br><span class="line">                    index -= self.__lowbit(index)</span><br><span class="line">                <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç‰¹åˆ¤</span></span><br><span class="line">        size = len(nums)</span><br><span class="line">        <span class="keyword">if</span> size == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        <span class="keyword">if</span> size == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> [<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å»é‡ï¼Œæ–¹ä¾¿ç¦»æ•£åŒ–</span></span><br><span class="line">        s = list(set(nums))</span><br><span class="line"></span><br><span class="line">        s_len = len(s)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç¦»æ•£åŒ–ï¼Œå€ŸåŠ©å †</span></span><br><span class="line">        <span class="keyword">import</span> heapq</span><br><span class="line">        heapq.heapify(s)</span><br><span class="line"></span><br><span class="line">        rank_map = dict()</span><br><span class="line">        rank = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> range(s_len):</span><br><span class="line">            num = heapq.heappop(s)</span><br><span class="line">            rank_map[num] = rank</span><br><span class="line">            rank += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        fenwick_tree = FenwickTree(s_len)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ä»åå‘å‰å¡«è¡¨</span></span><br><span class="line">        res = [<span class="literal">None</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(size)]</span><br><span class="line">        <span class="comment"># ä»åå‘å‰å¡«è¡¨</span></span><br><span class="line">        <span class="keyword">for</span> index <span class="keyword">in</span> range(size - <span class="number">1</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">            <span class="comment"># 1ã€æŸ¥è¯¢æ’å</span></span><br><span class="line">            rank = rank_map[nums[index]]</span><br><span class="line">            <span class="comment"># 2ã€åœ¨æ ‘çŠ¶æ•°ç»„æ’åçš„é‚£ä¸ªä½ç½® + 1</span></span><br><span class="line">            fenwick_tree.update(rank, <span class="number">1</span>)</span><br><span class="line">            <span class="comment"># 3ã€æŸ¥è¯¢ä¸€ä¸‹å°äºç­‰äºâ€œå½“å‰æ’å - 1â€çš„å…ƒç´ æœ‰å¤šå°‘</span></span><br><span class="line">            res[index] = fenwick_tree.query(rank - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    nums = [<span class="number">5</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">1</span>]</span><br><span class="line">    solution = Solution()</span><br><span class="line">    result = solution.countSmaller(nums)</span><br><span class="line">    print(result)</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h3><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>python</tag>
        <tag>æ ‘çŠ¶æ•°ç»„</tag>
        <tag>å†’æ³¡æ’åº</tag>
        <tag>æ’å…¥æ’åº</tag>
        <tag>å½’å¹¶æ’åº</tag>
        <tag>ç´¢å¼•æ•°ç»„</tag>
        <tag>BST</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®—æ³•_æ•°æ®ç»“æ„_æ ‘çŠ¶æ•°ç»„åŸºç¡€ç®€ä»‹</title>
    <url>/Tree_array/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸æ ‘çŠ¶æ•°ç»„ç®€ä»‹"><a href="#ğŸŒ¸æ ‘çŠ¶æ•°ç»„ç®€ä»‹" class="headerlink" title="ğŸŒ¸æ ‘çŠ¶æ•°ç»„ç®€ä»‹"></a>ğŸŒ¸æ ‘çŠ¶æ•°ç»„ç®€ä»‹</h2><hr>
<blockquote>
<p>ã€Œæ ‘çŠ¶æ•°ç»„ã€ä¹Ÿå« Binary Indexed Treeï¼ŒäºŒè¿›åˆ¶ç´¢å¼•æ ‘ï¼Œå¾ˆå¥½åœ°è¡¨ç¤ºäº†ã€Œæ ‘çŠ¶æ•°ç»„ã€å¤„ç†æ•°æ®çš„æ€è·¯ï¼šã€Œæ ‘çŠ¶æ•°ç»„ã€é‡ŒæŸä¸ªå…ƒç´ ç®¡ç†äº†åŸå§‹è¾“å…¥æ•°ç»„å¤šå°‘æ•°æ®æ˜¯ç”±ä¸‹æ ‡å†³å®šçš„ã€‚</p>
</blockquote>
<a id="more"></a>

<h2 id="å‰ç¼€å’Œæ•°ç»„ğŸŒ¸"><a href="#å‰ç¼€å’Œæ•°ç»„ğŸŒ¸" class="headerlink" title="å‰ç¼€å’Œæ•°ç»„ğŸŒ¸"></a>å‰ç¼€å’Œæ•°ç»„ğŸŒ¸</h2><ul>
<li><p>çŸ¥é“å‰ç¼€å’Œå°±å¯ä»¥æ±‚åŒºé—´å’Œï¼Œè¿™æ˜¯å› ä¸ºä¸åŒè§„æ¨¡çš„åŒºé—´å’Œæœ‰é‡å¤çš„éƒ¨åˆ†ï¼Œç›¸å‡ä»¥åå°±å¾—åˆ°äº†åŒºé—´å’Œ</p>
<p><img src="D:%5C%E6%A1%8C%E9%9D%A2%E6%96%87%E4%BB%B6%5C%E5%88%98%E7%AC%83%E5%AF%8C181106010%5Cself_study%5C%E5%8A%9B%E6%89%A3%5C%E5%9B%BE%E7%89%87%E6%95%B0%E6%8D%AE%5C%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84%5C1.png" alt="1"></p>
</li>
</ul>
<p>ğŸå¦‚å›¾æ‰€ç¤ºï¼š<strong>çº¢è‰²éƒ¨åˆ†çš„å’Œ = ç»¿è‰²éƒ¨åˆ†çš„å’Œ - é»„è‰²éƒ¨åˆ†çš„å’Œ</strong>ã€‚</p>
<ul>
<li><p>å¯ä»¥å®šä¹‰ï¼šå‰ç¼€å’Œ<code>preSum[i]</code> è¡¨ç¤º <code>nums[0, i]</code> çš„å’Œï¼Œåˆ™åŒºé—´å’Œ <code>sumRange[from, to]</code> = <code>preSum[to] - preSum[from - 1]</code>ï¼›</p>
</li>
<li><p>æ³¨æ„åˆ° <code>preSum[from - 1]</code> æœ‰ä¸‹æ ‡è¶Šç•Œçš„é£é™©ï¼Œé€šå¸¸çš„åšæ³•æ˜¯ï¼šè®©å‰ç¼€å’Œæ•°ç»„å¤šè®¾ç½®ä¸€ä½ï¼Œä¸ºæ­¤ä¿®æ”¹å®šä¹‰ï¼š<code>preSum[i]</code>è¡¨ç¤º <code>nums[0, i)</code> çš„å’Œï¼Œåˆå§‹åŒ–çš„æ—¶å€™ <code>preSum[0] = 0</code>ï¼Œåˆ™ï¼š <code>sumRange[from, to] = preSum[to + 1] - preSum[from]</code>ã€‚</p>
</li>
<li><p>é¢„å…ˆè®¡ç®—å‡ºã€Œå‰ç¼€å’Œã€ä½¿å¾—è®¡ç®—ã€ŒåŒºé—´å’Œã€çš„æ—¶é—´å¤æ‚åº¦æˆä¸º O(1)ã€‚</p>
</li>
</ul>
<p>ã€Œå‰ç¼€å’Œã€æ•°ç»„çš„æ€è·¯æ˜¯ï¼šå°†åŸå§‹æ•°ç»„è¿›è¡Œé¢„å¤„ç†ï¼Œå°†æ¥éœ€è¦æŸ¥è¯¢æ•°æ®çš„æ—¶å€™ï¼Œåªéœ€è¦æŸ¥è¯¢é¢„å¤„ç†æ•°ç»„çš„æŸäº›å€¼å³å¯ã€‚</p>
<p>è¦ä¼˜åŒ–ã€Œä¿®æ”¹æ“ä½œã€é€ æˆçš„çº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼Œé¢„å¤„ç†æ•°æ®ç»„ç»‡æˆçº¿æ€§ç»“æ„è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œå› æ­¤ä¸€ç§æ–¹æ¡ˆæ˜¯æŠŠé¢„å¤„ç†çš„æ•°æ®ç»„ç»‡æˆã€Œæ ‘å½¢ç»“æ„ã€ï¼Œæœ‰ä¸¤ç§æ•°æ®ç»“æ„ï¼š</p>
<ul>
<li>çº¿æ®µæ ‘ï¼šé«˜æ•ˆå¤„ç†ã€ŒåŒºé—´å’Œã€æŸ¥è¯¢ï¼ˆä¸ä»…ä»…å¯ä»¥å¤„ç†å’Œã€è¿˜å¯ä»¥å¤„ç†åŒºé—´æœ€å€¼ç­‰ï¼‰ï¼Œå•ç‚¹ä¿®æ”¹ï¼›</li>
<li>æ ‘çŠ¶æ•°ç»„ï¼šé«˜æ•ˆå¤„ç†ã€Œå‰ç¼€å’Œã€æŸ¥è¯¢ï¼Œå•ç‚¹ä¿®æ”¹ã€‚</li>
</ul>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>äº‹å®ä¸Šï¼Œã€ŒåŒºé—´ä¿®æ”¹ã€ä¹Ÿæ˜¯æ”¯æŒçš„ï¼Œä½†æ¶‰åŠçš„çŸ¥è¯†æ¯”è¾ƒå¤æ‚ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥è‡ªè¡ŒæŸ¥é˜…ç›¸å…³èµ„æ–™è¿›è¡Œå­¦ä¹ ï¼›</li>
<li>ã€Œçº¿æ®µæ ‘ã€èƒ½åšçš„äº‹æƒ…çš„èŒƒå›´å¤§äºã€Œæ ‘çŠ¶æ•°ç»„ã€èƒ½åšçš„äº‹æƒ…ï¼Œã€Œæ ‘çŠ¶æ•°ç»„ã€åšçš„äº‹æƒ…æ›´å°‘ã€æ›´ä¸“ä¸€ï¼Œä»£ç å±‚é¢ç›¸å¯¹è¾ƒç®€å•ã€‚</li>
</ul>
<p>çº¿æ®µæ ‘ã€å’Œã€Œæ ‘çŠ¶æ•°ç»„ã€ä¸€æ ·ï¼Œéƒ½æ˜¯å¯¹åŸå§‹è¾“å…¥æ•°ç»„è¿›è¡Œäº†é¢„å¤„ç†ï¼Œä½¿å¾—åœ¨çœŸæ­£éœ€è¦æŸ¥è¯¢æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦çœ‹ã€Œé¢„å¤„ç†æ•°ç»„ã€çš„éƒ¨åˆ†ä¿¡æ¯å³å¯ï¼Œç”±äºç»„ç»‡æˆæ ‘å½¢ç»“æ„ï¼Œã€Œä¿®æ”¹ã€å’Œã€ŒæŸ¥è¯¢ã€çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(\log N)O(logN)ã€‚</p>
<p>æ€æƒ³ï¼šç©ºé—´æ¢æ—¶é—´ã€‚<br>æ³¨æ„ï¼šã€Œçº¿æ®µæ ‘ã€å’Œã€Œæ ‘çŠ¶æ•°ç»„ã€ä¸èƒ½å¤„ç†è¾“å…¥æ•°ç»„çš„é•¿åº¦æœ‰å¢åŠ æˆ–è€…å‡å°‘çš„æƒ…å†µã€‚</p>
<ul>
<li>çº¿æ®µæ ‘æ˜¯ä¸€æ£µäºŒå‰æ ‘</li>
</ul>
<p>çº¢è‰²éƒ¨åˆ†è¡¨ç¤ºé¢„å¤„ç†æ•°ç»„ï¼Œè“è‰²éƒ¨åˆ†æ˜¯åŸå§‹è¾“å…¥æ•°ç»„ï¼Œç®­å¤´è¡¨ç¤ºå½“å‰å€¼æ˜¯å“ªäº›ç»“ç‚¹çš„å€¼çš„å’Œã€‚</p>
<p><img src="D:%5C%E6%A1%8C%E9%9D%A2%E6%96%87%E4%BB%B6%5C%E5%88%98%E7%AC%83%E5%AF%8C181106010%5Cself_study%5C%E5%8A%9B%E6%89%A3%5C%E5%9B%BE%E7%89%87%E6%95%B0%E6%8D%AE%5C%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84%5C2.png" alt="2"></p>
<ul>
<li>æ ‘çŠ¶æ•°ç»„æ˜¯å¤šå‰æ ‘</li>
</ul>
<p>çº¢è‰²éƒ¨åˆ†è¡¨ç¤ºé¢„å¤„ç†æ•°ç»„ï¼Œè“è‰²éƒ¨åˆ†æ˜¯åŸå§‹è¾“å…¥æ•°ç»„ï¼Œç®­å¤´è¡¨ç¤ºå½“å‰å€¼æ˜¯å“ªäº›ç»“ç‚¹çš„å€¼çš„å’Œã€‚</p>
<p><img src="D:%5C%E6%A1%8C%E9%9D%A2%E6%96%87%E4%BB%B6%5C%E5%88%98%E7%AC%83%E5%AF%8C181106010%5Cself_study%5C%E5%8A%9B%E6%89%A3%5C%E5%9B%BE%E7%89%87%E6%95%B0%E6%8D%AE%5C%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84%5C3.png" alt="3"></p>
<h2 id="ğŸŒ¸ã€Œæ ‘çŠ¶æ•°ç»„ã€å¦‚ä½•ç»„ç»‡åŸå§‹è¾“å…¥æ•°æ®çš„ç»“æ„"><a href="#ğŸŒ¸ã€Œæ ‘çŠ¶æ•°ç»„ã€å¦‚ä½•ç»„ç»‡åŸå§‹è¾“å…¥æ•°æ®çš„ç»“æ„" class="headerlink" title="ğŸŒ¸ã€Œæ ‘çŠ¶æ•°ç»„ã€å¦‚ä½•ç»„ç»‡åŸå§‹è¾“å…¥æ•°æ®çš„ç»“æ„"></a>ğŸŒ¸ã€Œæ ‘çŠ¶æ•°ç»„ã€å¦‚ä½•ç»„ç»‡åŸå§‹è¾“å…¥æ•°æ®çš„ç»“æ„</h2><p>æ³¨æ„ï¼šå’Œã€Œå †ã€ä¸€æ ·ï¼Œæ ‘çŠ¶æ•°ç»„çš„ 00 å·ä¸‹æ ‡ä¸æ”¾ç½®å…ƒç´ ï¼Œä» 11 å·ä¸‹æ ‡å¼€å§‹ä½¿ç”¨ã€‚ä»ä¸Šå›¾å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œä¸æ•°ç»„ C çš„æŸä¸ªç»“ç‚¹æœ‰å…³çš„æ•°ç»„ A çš„æŸäº›ç»“ç‚¹ï¼Œå®ƒä»¬çš„ä¸‹æ ‡ä¹‹é—´æœ‰å¦‚ä¸‹å…³ç³»ã€‚</p>
<table>
<thead>
<tr>
<th align="left"><strong>æ•°ç»„</strong> <code>C</code> <strong>çš„å€¼ç”±æ•°ç»„</strong> <code>A</code> <strong>çš„å“ªäº›å…ƒç´ è€Œæ¥</strong></th>
<th><strong>æ•°ç»„</strong> <code>A</code> <strong>çš„å…ƒç´ ä¸ªæ•°</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>C[1] = A[1]</code></td>
<td>1</td>
</tr>
<tr>
<td align="left"><code>C[2] = A[1] + A[2]</code></td>
<td>2</td>
</tr>
<tr>
<td align="left"><code>C[3] = A[3]</code></td>
<td>1</td>
</tr>
<tr>
<td align="left"><code>C[4] = A[1] + A[2] + A[3] + A[4]</code></td>
<td>4</td>
</tr>
<tr>
<td align="left"><code>C[5] = A[5]</code></td>
<td>1</td>
</tr>
<tr>
<td align="left"><code>C[6] = A[5] + A[6]</code></td>
<td>2</td>
</tr>
<tr>
<td align="left"><code>C[7] = A[7]</code></td>
<td>1</td>
</tr>
<tr>
<td align="left"><code>C[8] = A[1] + A[2] + A[3] + A[4] + A[5] + A[6] + A[7] + A[8]</code></td>
<td>8</td>
</tr>
</tbody></table>
<p>è¿™ä»¶äº‹æƒ…æ˜¯ç”±ä¸‹æ ‡æ•°å€¼çš„äºŒè¿›åˆ¶å†³å®šçš„ï¼ŒæŠŠä¸‹æ ‡å†™æˆäºŒè¿›åˆ¶çš„å½¢å¼ï¼Œæœ€ä½ä½çš„ 11 ä»¥åŠåé¢çš„ 00 è¡¨ç¤ºäº†é¢„å¤„ç†æ•°ç»„ C ç®¡ç†äº†å¤šå°‘è¾“å…¥æ•°ç»„ A çš„å…ƒç´ ã€‚æˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸‹é¢çš„å›¾ï¼š</p>
<p><img src="D:%5C%E6%A1%8C%E9%9D%A2%E6%96%87%E4%BB%B6%5C%E5%88%98%E7%AC%83%E5%AF%8C181106010%5Cself_study%5C%E5%8A%9B%E6%89%A3%5C%E5%9B%BE%E7%89%87%E6%95%B0%E6%8D%AE%5C%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84%5C4.png" alt=""></p>
<p>ä¾‹å¦‚ï¼š66 çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º 01100110ï¼Œè¿™é‡Œåªä¿ç•™æœ€ä½ 4 ä½ã€‚å°† 66 è¿›è¡ŒäºŒçº§åˆ¶åˆ†è§£å¾—åˆ°ï¼š</p>
<p>â€‹                                                        6=1Ã—2^2^+1Ã—2^1^</p>
<p>æœ€åçš„è¿™éƒ¨åˆ† 1 x  2^1^ å†³å®šäº† C[6] ç®¡ç†äº†å¤šå°‘ä¸ªè¾“å…¥æ•°ç»„ A çš„æ•°æ®ï¼Œè¿™é‡Œæ˜¯ 2 ä¸ªï¼Œå³ä»ä¸‹æ ‡ 6 å¼€å§‹ï¼ˆåŒ…æ‹¬ 6ï¼‰å‘å‰æ•° 2 ä¸ªæ•°ï¼Œå› æ­¤ <code>C[6] = A[5] +A[6]</code>ï¼Œå…¶å®ƒåŒç†ã€‚</p>
<p>è¿™å°±æ˜¯å¼€å¤´æ‰€è¯´çš„ï¼šã€Œæ ‘çŠ¶æ•°ç»„ã€é‡ŒæŸä¸ªå…ƒç´ ç®¡ç†äº†åŸå§‹è¾“å…¥æ•°ç»„å¤šå°‘æ•°æ®æ˜¯ç”±ä¸‹æ ‡å†³å®šçš„ã€‚</p>
<p>æˆ‘ä»¬çœ‹åˆ°ï¼š</p>
<ul>
<li>ã€Œæ ‘çŠ¶æ•°ç»„ã€ç»„ç»‡æˆçš„æ ‘æ˜¯æœ‰å±‚çº§çš„ï¼Œ<strong>ä¸‹æ ‡çš„äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€ä½ä½ 1 åé¢çš„ 0 çš„ä¸ªæ•°å†³å®šäº†ï¼Œå½“å‰ç»“ç‚¹åœ¨ç¬¬å‡ å±‚</strong>ï¼›</li>
<li>è¿™æ ·ç»„ç»‡æ•°æ®ï¼Œä»å¶å­ç»“ç‚¹åˆ°çˆ¶ç»“ç‚¹æ˜¯å¯ä»¥é€šè¿‡ä¸€ä¸ªå«åš lowbit çš„å‡½æ•°è®¡ç®—å‡ºæ¥ï¼Œå¹¶ä¸”å¯ä»¥çŸ¥é“å°äºç­‰äºå½“å‰ä¸‹æ ‡çš„åŒä¸€å±‚ç»“ç‚¹çš„æ‰€æœ‰ç»“ç‚¹ï¼Œä¸ºäº†è¯´æ¸…æ¥šè¿™ä¸€ç‚¹ï¼Œéœ€è¦æœ‰ä¸€å®šçš„ç¯‡å¹…ã€‚</li>
</ul>
<h2 id="ğŸŒ¸lowbit-å‡½æ•°"><a href="#ğŸŒ¸lowbit-å‡½æ•°" class="headerlink" title="ğŸŒ¸lowbit å‡½æ•°"></a>ğŸŒ¸lowbit å‡½æ•°</h2><p>è¿™æ ·å‘½åçš„å«ä¹‰æ˜¯æˆªå–ä¸€ä¸ªæ­£æ•´æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºé‡Œçš„æœ€ä½ä½çš„ 11 å’Œå®ƒåé¢çš„æ‰€æœ‰çš„ 00ã€‚<code>lowbit</code> çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>lowbit(x) = x &amp; (-x);</p>
</blockquote>
<p>è¯´æ˜ï¼š </p>
<ul>
<li>è¿™é‡Œ x ä¸€å®šæ˜¯æ­£æ•´æ•°ï¼Œå³ x &gt;= 1ï¼›</li>
<li>è¿™é‡Œ &amp; è¡¨ç¤ºæŒ‰ä½ä¸è¿ç®—ï¼›</li>
<li>-x ä¹Ÿå¯ä»¥å†™æˆ (<del>x + 1) ï¼Œè¿™é‡Œ ~ è¡¨ç¤ºã€ŒæŒ‰ä½å–åã€ã€‚è¿™æ˜¯è´Ÿæ•°çš„å®šä¹‰ï¼Œè´Ÿæ•°ç”¨è¡¥ç è¡¨ç¤ºï¼Œå®ƒçš„å€¼ç­‰äºè¿™ä¸ªè´Ÿæ•°çš„ç»å¯¹å€¼æŒ‰ä½å–åä»¥åå†åŠ  11ï¼Œå› æ­¤ lowbit(x) = x &amp; (</del>x + 1);</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€äº›å…³äºè´Ÿæ•°å’Œè¡¥ç çš„çŸ¥è¯†ï¼Œå¦‚æœæ‚¨æ¯”è¾ƒç†Ÿæ‚‰çš„è¯ï¼Œå¯ä»¥å¿½ç•¥</p>
<h2 id="ğŸŒ¸å¤ä¹ è´Ÿæ•°å’Œè¡¥ç çš„ç›¸å…³çŸ¥è¯†"><a href="#ğŸŒ¸å¤ä¹ è´Ÿæ•°å’Œè¡¥ç çš„ç›¸å…³çŸ¥è¯†" class="headerlink" title="ğŸŒ¸å¤ä¹ è´Ÿæ•°å’Œè¡¥ç çš„ç›¸å…³çŸ¥è¯†"></a>ğŸŒ¸å¤ä¹ è´Ÿæ•°å’Œè¡¥ç çš„ç›¸å…³çŸ¥è¯†</h2><ul>
<li>è®¡ç®—æœºåº•å±‚å­˜å‚¨æ•´æ•°ä½¿ç”¨ 32 ä½ï¼›</li>
<li>æœ€é«˜ä½è¡¨ç¤ºç¬¦å·ä½ï¼š1 è¡¨ç¤ºè´Ÿæ•°ï¼Œ 0 è¡¨ç¤ºæ­£æ•°ï¼›</li>
<li>è´Ÿæ•°ä½¿ç”¨è¡¥ç è¡¨ç¤ºã€‚</li>
</ul>
<p>è¡¥ç æŒ‰ç…§å¦‚ä¸‹è§„åˆ™å®šä¹‰ï¼š</p>
<ul>
<li>æ­£æ•°çš„è¡¥ç æ˜¯å®ƒè‡ªå·±ï¼›</li>
<li>è´Ÿæ•°çš„è¡¥ç æ˜¯å®ƒå¯¹åº”æ­£æ•´æ•°æŒ‰ä½å–åä»¥åå†åŠ  1ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼šè®¡ç®— -5âˆ’5 çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th>æ­¥éª¤</th>
<th><strong>äºŒè¿›åˆ¶è¡¨ç¤º</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç¬¬ 1 æ­¥ï¼šå†™å‡º 5 çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼›</td>
<td><code>00000000 00000000 00000000 00000101</code></td>
</tr>
<tr>
<td>ç¬¬ 2 æ­¥ï¼šå°† 5 çš„äºŒè¿›åˆ¶è¡¨ç¤ºæŒ‰ä½å–åï¼›</td>
<td><code>11111111 11111111 11111111 11111010</code></td>
</tr>
<tr>
<td>ç¬¬ 3 æ­¥ï¼šåœ¨ç¬¬ 2 æ­¥çš„åŸºç¡€ä¸Šå†åŠ  1ã€‚</td>
<td>1<code>1111111 11111111 11111111 11111011</code></td>
</tr>
</tbody></table>
<p>è¿™æ ·è®¾è®¡çš„å¥½å¤„æ˜¯ï¼š<strong>ç¬¦å·ä½å‚ä¸è®¡ç®—ï¼Œå¹¶ä¸”ä¿è¯äº†ç»“æœæ­£ç¡®</strong>ï¼Œæˆ‘ä»¬å†çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p>
<p>ä¾‹ 2ï¼šè®¡ç®— 16 - 8</p>
<table>
<thead>
<tr>
<th>æ­¥éª¤</th>
<th><strong>äºŒè¿›åˆ¶è¡¨ç¤º</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç¬¬ 1 æ­¥ï¼šå†™å‡º16 çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼›</td>
<td><code>00000000 00000000 00000000 00010000</code></td>
</tr>
<tr>
<td>ç¬¬ 2 æ­¥ï¼šå†™å‡º -8 çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼›</td>
<td><code>11111111 11111111 11111111 11111000</code></td>
</tr>
<tr>
<td>ç¬¬ 3 æ­¥ï¼šè®¡ç®— 16 - 8ã€‚</td>
<td><code>00000000 00000000 00000000 00001000</code></td>
</tr>
</tbody></table>
<p>è®¡ç®— 16 - 816âˆ’8ï¼Œç›´æ¥åŠ ï¼Œé«˜ä½æº¢å‡ºï¼Œä½†ä¸å½±å“ç»“æœã€‚</p>
<h2 id="ğŸŒ¸lowbit-è¿ç®—è§£é‡Šï¼š"><a href="#ğŸŒ¸lowbit-è¿ç®—è§£é‡Šï¼š" class="headerlink" title="ğŸŒ¸lowbit è¿ç®—è§£é‡Šï¼š"></a>ğŸŒ¸lowbit è¿ç®—è§£é‡Šï¼š</h2><ul>
<li>å…ˆæŒ‰ä½å–åæ­£å¥½è®©æœ€ä½ä½çš„ 1å˜æˆ 0ï¼Œæœ€ä½ä½çš„ 1 åé¢çš„ 0 å˜æˆ 1ï¼Œæœ€ä½ä½çš„ 1 å‰é¢çš„ 1 å˜æˆ 0ï¼Œ0 å˜æˆ 1ï¼›</li>
<li>å†åŠ  1 ä½¿å¾—ä½ä½çš„ 1 å…¨å˜æˆ 0ï¼ŒåŸæ¥å˜æˆ 0 çš„ 1 ç”±äºè¿›ä½åˆå˜å›äº† 1ï¼›</li>
<li>å†æŒ‰ä½å–ä½™ï¼Œæ­£å¥½å°±ç•™ä¸‹äº†ä¸€ä¸ª 1ã€‚</li>
</ul>
<h2 id="ğŸŒ¸ã€Œå•ç‚¹æ›´æ–°ã€ä¸ã€Œå‰ç¼€å’ŒæŸ¥è¯¢ã€"><a href="#ğŸŒ¸ã€Œå•ç‚¹æ›´æ–°ã€ä¸ã€Œå‰ç¼€å’ŒæŸ¥è¯¢ã€" class="headerlink" title="ğŸŒ¸ã€Œå•ç‚¹æ›´æ–°ã€ä¸ã€Œå‰ç¼€å’ŒæŸ¥è¯¢ã€"></a><strong>ğŸŒ¸ã€Œå•ç‚¹æ›´æ–°ã€ä¸ã€Œå‰ç¼€å’ŒæŸ¥è¯¢ã€</strong></h2><h3 id="ğŸå•ç‚¹æ›´æ–°"><a href="#ğŸå•ç‚¹æ›´æ–°" class="headerlink" title="ğŸå•ç‚¹æ›´æ–°"></a><strong>ğŸå•ç‚¹æ›´æ–°</strong></h3><ul>
<li>ã€Œå•ç‚¹æ›´æ–°ã€ä»å­©å­ç»“ç‚¹åˆ°çˆ¶äº²ç»“ç‚¹ï¼Œæ²¿é€”æ‰€æœ‰çš„ç»“ç‚¹éƒ½éœ€è¦æ›´æ–°ï¼›</li>
<li>ä»å­©å­ç»“ç‚¹åˆ°çˆ¶äº²ç»“ç‚¹ï¼Œå°±æ˜¯ä¸æ–­åŠ ä¸Šå½“å‰ä¸‹æ ‡çš„ lowbit å€¼ï¼Œäº§ç”Ÿè¿›ä½ã€‚</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å•ç‚¹æ›´æ–°</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> i     åŸå§‹æ•°ç»„ç´¢å¼• i</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> delta å˜åŒ–å€¼ = æ›´æ–°ä»¥åçš„å€¼ - åŸå§‹å€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> delta)</span> </span>{</span><br><span class="line">    <span class="comment">// ä»ä¸‹åˆ°ä¸Šæ›´æ–°ï¼Œæ³¨æ„ï¼Œé¢„å¤„ç†æ•°ç»„ï¼Œæ¯”åŸå§‹æ•°ç»„çš„ len å¤§ 1ï¼Œæ•… é¢„å¤„ç†ç´¢å¼•çš„æœ€å¤§å€¼ä¸º len</span></span><br><span class="line">    <span class="keyword">while</span> (i &lt;= len) {</span><br><span class="line">        tree[i] += delta;</span><br><span class="line">        i += lowbit(i);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ğŸå‰ç¼€å’ŒæŸ¥è¯¢"><a href="#ğŸå‰ç¼€å’ŒæŸ¥è¯¢" class="headerlink" title="ğŸå‰ç¼€å’ŒæŸ¥è¯¢"></a><strong>ğŸå‰ç¼€å’ŒæŸ¥è¯¢</strong></h3><p>æˆ‘ä»¬ä½¿ç”¨è®°å· preSum[7] è¡¨ç¤ºæŸ¥è¯¢ A[1] + A[2] + â€¦ + A[7]ã€‚ä¾ç„¶æ˜¯è€ƒè™‘ 7 çš„äºŒè¿›åˆ¶ (0111)<del>2</del>åˆ†è§£ï¼š</p>
<p>â€‹                                                               <strong>7=1Ã—2^2^+1Ã—2^1^+1Ã—2^0^</strong></p>
<p>è¿™ä¸‰éƒ¨åˆ†å¯ä»¥çœ‹æˆ (0100)<del>2</del>ã€(0010) <del>2</del> ã€(0001)<del>2</del><br>  è¿™ 3 éƒ¨åˆ†ä¹‹å’Œï¼Œåˆ†åˆ«è¡¨ç¤º 4 ä¸ªå…ƒç´  + 2 ä¸ªå…ƒç´  + 1 ä¸ªå…ƒç´ ï¼Œæ­£å¥½æ˜¯ lowbit å€¼ä¸€ç›´å‡ï¼Œå‡åˆ° 0 ä¸ºæ­¢ï¼Œ<strong>æ¯å‡å»ä¸€ä¸ª lowbit å€¼ï¼Œæ¶ˆå»ä¸€ä¸ª 1</strong>ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢å‰ç¼€å’Œ</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> i å‰ç¼€çš„æœ€å¤§ç´¢å¼•ï¼Œå³æŸ¥è¯¢åŒºé—´ [0, i] çš„æ‰€æœ‰å…ƒç´ ä¹‹å’Œ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{</span><br><span class="line">    <span class="comment">// ä»å³åˆ°å·¦æŸ¥è¯¢</span></span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &gt; <span class="number">0</span>) {</span><br><span class="line">        sum += tree[i];</span><br><span class="line">        i -= lowbit(i);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸæ ‘çŠ¶æ•°ç»„çš„åˆå§‹åŒ–"><a href="#ğŸæ ‘çŠ¶æ•°ç»„çš„åˆå§‹åŒ–" class="headerlink" title="ğŸæ ‘çŠ¶æ•°ç»„çš„åˆå§‹åŒ–"></a>ğŸæ ‘çŠ¶æ•°ç»„çš„åˆå§‹åŒ–</h2><p>è¿™é‡Œè¦è¯´æ˜çš„æ˜¯ï¼Œåˆå§‹åŒ–å‰ç¼€å’Œæ•°ç»„åº”è¯¥äº¤ç»™è°ƒç”¨è€…æ¥å†³å®šã€‚ä¸‹é¢æ˜¯ä¸€ç§åˆå§‹åŒ–çš„æ–¹å¼ã€‚æ ‘çŠ¶æ•°ç»„çš„åˆå§‹åŒ–å¯ä»¥é€šè¿‡ã€Œå•ç‚¹æ›´æ–°ã€æ¥å®ç°ï¼Œå› ä¸ºæœ€å¼€å§‹çš„æ—¶å€™ï¼Œæ•°ç»„çš„æ¯ä¸ªå…ƒç´ çš„å€¼éƒ½ä¸º 0ï¼Œæ¯ä¸ªéƒ½å¯¹åº”åœ°åŠ ä¸ŠåŸå§‹æ•°ç»„çš„å€¼ï¼Œå°±å®Œæˆäº†é¢„å¤„ç†æ•°ç»„ C çš„åˆ›å»ºã€‚</p>
<p>è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„ï¼Œupdate æ“ä½œçš„ç¬¬ 2ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå˜åŒ–å€¼ï¼Œè€Œä¸æ˜¯å˜åŒ–ä»¥åçš„å€¼ã€‚å› ä¸ºæˆ‘ä»¬çš„æ“ä½œæ˜¯é€å±‚å‘ä¸Šæ±‡æŠ¥ï¼Œæ±‡æŠ¥å˜æ›´å€¼ä¼šè®©æˆ‘ä»¬çš„æ“ä½œæ›´åŠ ç®€å•ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">FenwickTree</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">    <span class="keyword">this</span>.len = nums.length + <span class="number">1</span>;</span><br><span class="line">    tree = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="keyword">this</span>.len + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= len; i++) {</span><br><span class="line">        update(i, nums[i]);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>ğŸã€Œæ ‘çŠ¶æ•°ç»„ã€çš„å®Œæ•´ä»£ç </strong>ï¼š</p>
<p><strong>java</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FenwickTree</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é¢„å¤„ç†æ•°ç»„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] tree;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> len;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FenwickTree</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.len = n;</span><br><span class="line">        tree = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å•ç‚¹æ›´æ–°</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> i     åŸå§‹æ•°ç»„ç´¢å¼• i</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> delta å˜åŒ–å€¼ = æ›´æ–°ä»¥åçš„å€¼ - åŸå§‹å€¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> delta)</span> </span>{</span><br><span class="line">        <span class="comment">// ä»ä¸‹åˆ°ä¸Šæ›´æ–°ï¼Œæ³¨æ„ï¼Œé¢„å¤„ç†æ•°ç»„ï¼Œæ¯”åŸå§‹æ•°ç»„çš„ len å¤§ 1ï¼Œæ•… é¢„å¤„ç†ç´¢å¼•çš„æœ€å¤§å€¼ä¸º len</span></span><br><span class="line">        <span class="keyword">while</span> (i &lt;= len) {</span><br><span class="line">            tree[i] += delta;</span><br><span class="line">            i += lowbit(i);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢å‰ç¼€å’Œ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> i å‰ç¼€çš„æœ€å¤§ç´¢å¼•ï¼Œå³æŸ¥è¯¢åŒºé—´ [0, i] çš„æ‰€æœ‰å…ƒç´ ä¹‹å’Œ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{</span><br><span class="line">        <span class="comment">// ä»å³åˆ°å·¦æŸ¥è¯¢</span></span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &gt; <span class="number">0</span>) {</span><br><span class="line">            sum += tree[i];</span><br><span class="line">            i -= lowbit(i);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>python</strong></p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FenwickTree</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.size = n</span><br><span class="line">        self.tree = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n + <span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lowbit</span><span class="params">(self, index)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> index &amp; (-index)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å•ç‚¹æ›´æ–°ï¼šä»ä¸‹åˆ°ä¸Šï¼Œæœ€å¤šåˆ° sizeï¼Œå¯ä»¥å–ç­‰</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">(self, index, delta)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> index &lt;= self.size:</span><br><span class="line">            self.tree[index] += delta</span><br><span class="line">            index += self.__lowbit(index)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åŒºé—´æŸ¥è¯¢ï¼šä»ä¸Šåˆ°ä¸‹ï¼Œæœ€å°‘åˆ° 1ï¼Œå¯ä»¥å–ç­‰</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">query</span><span class="params">(self, index)</span>:</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> index &gt; <span class="number">0</span>:</span><br><span class="line">            res += self.tree[index]</span><br><span class="line">            index -= self.__lowbit(index)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></tbody></table></figure>

<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>python</tag>
        <tag>æ ‘çŠ¶æ•°ç»„</tag>
        <tag>å‰ç¼€å’Œæ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title>åŒæ ˆ_leetcode.678.æœ‰æ•ˆåœ°æ‹¬å·å­—ç¬¦ä¸²</title>
    <url>/Valid_bracket_string/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªåªåŒ…å«ä¸‰ç§å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼šï¼ˆ ï¼Œï¼‰ å’Œ *ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥æ£€éªŒè¿™ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ºæœ‰æ•ˆå­—ç¬¦ä¸²ã€‚æœ‰æ•ˆå­—ç¬¦ä¸²å…·æœ‰å¦‚ä¸‹è§„åˆ™ï¼š</p>
<ul>
<li>ä»»ä½•å·¦æ‹¬å· ( å¿…é¡»æœ‰ç›¸åº”çš„å³æ‹¬å· )ã€‚</li>
<li>ä»»ä½•å³æ‹¬å· ) å¿…é¡»æœ‰ç›¸åº”çš„å·¦æ‹¬å· ( ã€‚</li>
<li>å·¦æ‹¬å· ( å¿…é¡»åœ¨å¯¹åº”çš„å³æ‹¬å·ä¹‹å‰ )ã€‚</li>
<li>*å¯ä»¥è¢«è§†ä¸ºå•ä¸ªå³æ‹¬å· ) ï¼Œæˆ–å•ä¸ªå·¦æ‹¬å· ( ï¼Œæˆ–ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚</li>
<li>ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä¹Ÿè¢«è§†ä¸ºæœ‰æ•ˆå­—ç¬¦ä¸²ã€‚</li>
</ul>
<a id="more"></a>

<p>ç¤ºä¾‹:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: "()"</span><br><span class="line">è¾“å‡º: True</span><br><span class="line">ç¤ºä¾‹ 2:</span><br><span class="line"></span><br><span class="line">è¾“å…¥: "(*)"</span><br><span class="line">è¾“å‡º: True</span><br><span class="line">ç¤ºä¾‹ 3:*</span><br><span class="line"></span><br><span class="line">*è¾“å…¥: "( *))"</span><br><span class="line">è¾“å‡º: True</span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨æ„:<code>å­—ç¬¦ä¸²å¤§å°å°†åœ¨ [1ï¼Œ100] èŒƒå›´å†…ã€‚</code></p>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><blockquote>
<p>è¿™é“é¢˜æ˜¯ç»å…¸çš„æ‹¬å·å‹ï¼Œç¬¬ä¸€æƒ³åˆ°çš„åº”è¯¥æ˜¯åŒæ ˆ</p>
</blockquote>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šDFS"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šDFS" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šDFS"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šDFS</h2><ul>
<li>å…ˆç¼–å†™æ—  * æƒ…å†µçš„ä»£ç <ul>
<li>count è®°å½•å·¦æ‹¬å·ä¸ªæ•°</li>
<li>é‡å·¦åˆ™å¢ï¼Œé‡å³åˆ™å‡</li>
<li>è‹¥ä¸å¤Ÿå‡åˆ™ return false</li>
</ul>
</li>
<li>è¡¥å……æœ‰ * çš„æƒ…å†µ<ul>
<li>åˆ†åˆ«å¼€å‡ºä¸‰ç§å¯èƒ½ç»§ç»­æ¢ç´¢</li>
<li>ä»»ä½•ä¸€ç§æˆäº†å³å¯</li>
</ul>
</li>
<li>æ—¶é—´å¤æ‚åº¦åˆ†æ<ul>
<li>ä»£ç ç»“æ„æ¶‰åŠå¾ªç¯ï¼Œå¯èƒ½æœ‰é€’å½’ï¼Œæ•…å¯ç”¨æœ€å¥½ã€æœ€å¥½ã€åŠ æƒå¹³å‡æ—¶é—´- å¤æ‚åº¦è¡¨ç¤º</li>
<li>è‹¥ä¸è€ƒè™‘ä¸­é€”æå‰ç»“æŸï¼ˆé€’å½’ç»ˆæ­¢ æˆ– å·¦æ‹¬å·ä¸è¶³åŒ¹é…å³æ‹¬å·çš„ç»ˆæ­¢ï¼‰<ul>
<li>æœ€å¥½ O(n)ï¼Œæ— æ˜Ÿå·çš„æƒ…å†µ</li>
<li>æœ€å O(3^n^),å…¨æ˜¯æ˜Ÿå·çš„æƒ…å†µ</li>
</ul>
</li>
<li>è‹¥è€ƒè™‘ä¸­é€”æå‰ç»“æŸ<ul>
<li>æœ€å¥½ O(1)ï¼Œå³æ‹¬å·å¼€å¤´<br>æœ€å O(3^n^),å…¨æ˜Ÿå·çš„æƒ…å†µ</li>
<li>æ±‚å’Œå„æƒ…å†µçš„ æ¦‚ç‡ * æ­¤æƒ…å†µè¦éå†çš„å…ƒç´ ä¸ªæ•°</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkValidString</span><span class="params">(String s)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span>(s.isEmpty()) {</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> check(s, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(String s, <span class="keyword">int</span> start, <span class="keyword">int</span> count)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="keyword">if</span>(count &lt; <span class="number">0</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">// countè®°å½•ï¼ˆ çš„ä¸ªæ•°</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = start; i &lt; s.length(); i++) {</span><br><span class="line">		<span class="keyword">char</span> c = s.charAt(i);</span><br><span class="line">		<span class="keyword">if</span>(c == <span class="string">'('</span>) {</span><br><span class="line">			count++;</span><br><span class="line">		}<span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">')'</span>) {</span><br><span class="line">			<span class="keyword">if</span>(count-- == <span class="number">0</span>) { <span class="comment">//è‹¥ï¼ˆ ä¸º0ï¼Œè¡¨ç¤ºå³æ‹¬å·å¤šäº†ï¼Œæ²¡æœ‰å¤šä½™çš„å·¦æ‹¬å·è¿›è¡ŒåŒ¹é…</span></span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">			}</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">return</span> check(s, i + <span class="number">1</span>, count + <span class="number">1</span>) || <span class="comment">//*ä½œä¸º(</span></span><br><span class="line">					check(s, i + <span class="number">1</span>, count - <span class="number">1</span>) || <span class="comment">//*ä½œä¸º)</span></span><br><span class="line">					check(s, i + <span class="number">1</span>, count);		<span class="comment">//*ä½œä¸ºnull</span></span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> count == <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•äºŒï¼š-è´ªå¿ƒ"><a href="#ğŸŒ¸è§£æ³•äºŒï¼š-è´ªå¿ƒ" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼š è´ªå¿ƒ"></a>ğŸŒ¸è§£æ³•äºŒï¼š è´ªå¿ƒ</h2><ul>
<li>ä¸æ–¹æ³•ä¸€ç¥ä¼¼</li>
<li>æ— éœ€æ¯ç§æƒ…å†µéƒ½ç»†åˆ†è€ƒè™‘ï¼Œåªéœ€å…³æ³¨ å·¦æ‹¬å·è‡³å°‘å‡ ä¸ªã€è‡³å¤šå‡ ä¸ª</li>
<li>é‡å·¦åˆ™è‡³å¤š/è‡³å°‘éƒ½å¢åŠ </li>
<li>é‡å³åˆ™è‡³å¤š/è‡³å°‘éƒ½å‡å°‘<ul>
<li>è‹¥è‡³å¤š <code>max</code> éƒ½ä¸å¤ŸæŠµå³æ‹¬å·ï¼Œåˆ™ <code>return false</code></li>
</ul>
</li>
<li>é‡ *åˆ™å¯èƒ½å‡å°‘/ä¸å˜/å¢å¤šï¼Œå³ <code>min--</code>; <code>max++</code>;<ul>
<li>è‹¥è‡³å°‘ <code>min</code> å°äº 0 ï¼Œè¯´æ˜æ­¤åˆ†æ”¯èµ°ä¸é€šï¼Œéœ€å‰ªæ</li>
<li>ç±»ä¼¼æ–¹æ³•ä¸€ä¸­çš„é€’å½’ç»ˆæ­¢æ¡ä»¶ <code>if (count &lt; 0) return false</code>;</li>
</ul>
</li>
<li>æœ€ç»ˆè¦æ±‚å·¦æ‹¬å·å¿…é¡»æ— å‰©ä½™ <code>min == 0;</code><ul>
<li><code>min &lt; 0</code> çš„æƒ…å†µåœ¨ä¸Šä¸€æ¡æ€è·¯ä¸­å‰ªæäº†</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkValidString2</span><span class="params">(String s)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> min = <span class="number">0</span>, max = <span class="number">0</span>; <span class="comment">// ç»´æŠ¤å·¦æ‹¬å·çš„æ•°é‡èŒƒå›´[min,max]</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">char</span> c : s.toCharArray()) {</span><br><span class="line">		<span class="keyword">if</span>(c == <span class="string">'('</span>) {</span><br><span class="line">			min++;</span><br><span class="line">			max++;</span><br><span class="line">		}<span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">')'</span>){</span><br><span class="line">			<span class="keyword">if</span>(min &gt; <span class="number">0</span>) { <span class="comment">//è‡³å°‘å€¼ çš„å·¦æ‹¬å· å¤§äº0ï¼Œåˆ™è‡³å°‘å€¼å‡ä¸€</span></span><br><span class="line">				min--;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span>(max-- == <span class="number">0</span>) { <span class="comment">//æœ€å¤§å·¦æ‹¬å·æ•°é‡ä¸å¤ŸåŒ¹é…å³æ‹¬å·</span></span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">			}</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">if</span>(min &gt; <span class="number">0</span>) { <span class="comment">//*ä½œä¸ºå³æ‹¬å·è¿›è¡ŒæŠµæ¶ˆ</span></span><br><span class="line">				min--;</span><br><span class="line">			}</span><br><span class="line">			max++;	<span class="comment">//*ä½œä¸ºå·¦æ‹¬å·ï¼Œè‡³å¤§å€¼åŠ ä¸€</span></span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> min == <span class="number">0</span>; <span class="comment">//åªéœ€è¦åˆ¤æ–­è‡³å°‘çš„å·¦æ‹¬å·æœ‰å¤šä½™ä¸</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•ä¸‰ï¼š-åŒå‘éå†"><a href="#ğŸŒ¸è§£æ³•ä¸‰ï¼š-åŒå‘éå†" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸‰ï¼š åŒå‘éå†"></a>ğŸŒ¸è§£æ³•ä¸‰ï¼š åŒå‘éå†</h2><ul>
<li>æç«¯å‡è®¾æ›¿æ¢ä¸ºå…¨å·¦æˆ–å…¨å³ï¼ŒåŒå‘éå†éªŒè¯</li>
<li>å‡è®¾æ‰€æœ‰<code>*</code>ä¸º <code>(</code><ul>
<li>å› å·¦æ‹¬å·å¿…é¡»åœ¨é…å¯¹çš„å·¦è¾¹ï¼Œæ•…ä»å·¦å‘å³éå†ï¼Œçœ‹æ˜¯å¦è¶³å¤Ÿè¦†ç›–æ‰€æœ‰ <code>')'</code></li>
</ul>
</li>
<li>å‡è®¾æ‰€æœ‰ <code>*</code>éƒ½ä¸º <code>')'</code><ul>
<li>å› å³æ‹¬å·å¿…é¡»åœ¨é…å¯¹çš„å³è¾¹ï¼Œæ•…ä»å³å‘å·¦éå†ï¼Œçœ‹æ˜¯å¦è¶³å¤Ÿè¦†ç›–æ‰€æœ‰ <code>'('</code></li>
</ul>
</li>
</ul>
<p><strong>java</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkValidString3</span><span class="params">(String s)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> l = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) {</span><br><span class="line">		<span class="keyword">char</span> c = s.charAt(i);</span><br><span class="line">		<span class="keyword">if</span>(c != <span class="string">')'</span>) {</span><br><span class="line">			l++;</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">if</span>(l-- == <span class="number">0</span>) { <span class="comment">//æ„å‘³ç€å³æ‹¬å·å¤šäº†ï¼Œæ²¡æœ‰å¤šä½™çš„å·¦æ‹¬å·è¿›è¡ŒåŒ¹é…</span></span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//è¿›è¡Œæå‰ç‰¹åˆ¤ï¼Œè‹¥èƒ½å¤ŸåŒ¹é…åˆ™é€€å‡º</span></span><br><span class="line">	<span class="keyword">if</span>(l == <span class="number">0</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//*å…¨éƒ¨ä½œä¸ºå³æ‹¬å·ï¼Œä»å³å¾€å·¦è¿›è¡Œéå†åŒ¹é…</span></span><br><span class="line">	<span class="keyword">int</span> r = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = s.length() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">		<span class="keyword">char</span> c = s.charAt(i);</span><br><span class="line">		<span class="keyword">if</span>(c != <span class="string">'('</span>) {</span><br><span class="line">			r++;</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">if</span>(r-- == <span class="number">0</span>) { <span class="comment">//æ„å‘³ç€å·¦æ‹¬å·å¤šäº†ï¼Œæ— æ³•å®ŒæˆåŒ¹é…</span></span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//æ­¤æ—¶å·¦æ‹¬å·æ²¡æœ‰å¯Œä½™</span></span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•å››ï¼š-åŒæ ˆ"><a href="#ğŸŒ¸è§£æ³•å››ï¼š-åŒæ ˆ" class="headerlink" title="ğŸŒ¸è§£æ³•å››ï¼š åŒæ ˆ"></a>ğŸŒ¸è§£æ³•å››ï¼š åŒæ ˆ</h2><ul>
<li>æ‹¬å·åŒ¹é…é—®é¢˜çš„ç»å…¸è§£æ³•</li>
<li>æ ˆå­˜æ”¾çš„æ˜¯ç´¢å¼•</li>
<li>ä¸€æ ˆå­˜å·¦æ‹¬å·ï¼Œä¸€æ ˆå­˜æ˜Ÿå·</li>
<li>éå†è¿‡ç¨‹ä¸­ï¼ŒåŒæ—¶åˆ¤æ–­æ˜¯å¦æœ‰è¶³å¤Ÿçš„å³æ‹¬å·ä½¿ä»–ä»¬å‡ºæ ˆ<ul>
<li>ä¼˜å…ˆæŠµæ¶ˆå·¦æ‹¬å·ï¼ˆè´ªå¿ƒæ€æƒ³ï¼‰</li>
</ul>
</li>
<li>ä¸¤æ ˆåŒæ—¶å‡ºæ ˆå¹¶åˆ¤æ–­ï¼Œè¦æ±‚æ‰€æœ‰å·¦æ‹¬å·ï¼Œéƒ½æœ‰ å…¶å³è¾¹ç´¢å¼•çš„æ˜Ÿå· èƒ½ä½¿å…¶æŠµæ¶ˆ</li>
<li>å·¦æ‹¬å·ä¸èƒ½è¿˜æœ‰å¯Œä½™</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkValidString4</span><span class="params">(String s)</span> </span>{</span><br><span class="line">	<span class="comment">//å®šä¹‰åŒæ ˆå‚¨å­˜ï¼ˆã€*çš„ä¸‹æ ‡</span></span><br><span class="line">	Stack&lt;Integer&gt; left = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">	Stack&lt;Integer&gt; star = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) {</span><br><span class="line">		<span class="keyword">char</span> c = s.charAt(i);</span><br><span class="line">		<span class="keyword">if</span>(c == <span class="string">'('</span>) {</span><br><span class="line">			left.push(i);</span><br><span class="line">		}<span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'*'</span>) {</span><br><span class="line">			star.push(i);</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">if</span>(!left.isEmpty()) { <span class="comment">//ä¼˜å…ˆå‡ºæ ˆå·¦æ‹¬å·</span></span><br><span class="line">				left.pop();</span><br><span class="line">			}<span class="keyword">else</span> <span class="keyword">if</span>(!star.isEmpty()) {</span><br><span class="line">				star.pop();</span><br><span class="line">			}<span class="keyword">else</span> {</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//è‹¥å·¦æ ˆå’Œæ˜Ÿæ ˆæ‰”ä¸ä¸ºç©ºï¼Œåˆ™å°†åŒæ ˆåŒæ—¶å‡ºæ ˆï¼Œç”¨*ä»£æ›¿ï¼‰åŒ¹é…ï¼ˆ</span></span><br><span class="line">	<span class="keyword">while</span>(!left.isEmpty() &amp;&amp; !star.isEmpty()) {</span><br><span class="line">		<span class="keyword">if</span>(left.pop() &gt; star.pop()) { <span class="comment">//è‹¥å·¦æ ˆçš„ä¸‹æ ‡åœ¨æ˜Ÿæ ˆçš„å³è¾¹ï¼Œæ— æ³•è¿›è¡ŒåŒ¹é…</span></span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> left.isEmpty();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>æšä¸¾</tag>
        <tag>java</tag>
        <tag>åŒæ ˆ</tag>
        <tag>è´ªå¿ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¨¡æ‹Ÿ_leetcode.415_å­—ç¬¦ä¸²ç›¸åŠ </title>
    <url>/String_addition/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²å½¢å¼çš„éè´Ÿæ•´æ•° num1 å’Œnum2 ï¼Œè®¡ç®—å®ƒä»¬çš„å’Œã€‚</p>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>num1 å’Œnum2 çš„é•¿åº¦éƒ½å°äº 5100.</li>
<li>num1 å’Œnum2 éƒ½åªåŒ…å«æ•°å­— 0-9.</li>
<li>num1 å’Œnum2 éƒ½ä¸åŒ…å«ä»»ä½•å‰å¯¼é›¶ã€‚</li>
</ul>
<p>ä½ ä¸èƒ½ä½¿ç”¨ä»»ä½•å…§å»º BigInteger åº“ï¼Œ ä¹Ÿä¸èƒ½ç›´æ¥å°†è¾“å…¥çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°å½¢å¼ã€‚</p>
<a id="more"></a>

<h2 id="ğŸŒ¸æ–¹æ³•ï¼šæ¨¡æ‹Ÿæ¨ªç«–åŠ å‡æ³•"><a href="#ğŸŒ¸æ–¹æ³•ï¼šæ¨¡æ‹Ÿæ¨ªç«–åŠ å‡æ³•" class="headerlink" title="ğŸŒ¸æ–¹æ³•ï¼šæ¨¡æ‹Ÿæ¨ªç«–åŠ å‡æ³•"></a>ğŸŒ¸æ–¹æ³•ï¼šæ¨¡æ‹Ÿæ¨ªç«–åŠ å‡æ³•</h2><h4 id="ç®—æ³•æµç¨‹"><a href="#ç®—æ³•æµç¨‹" class="headerlink" title="ç®—æ³•æµç¨‹"></a>ç®—æ³•æµç¨‹</h4><ul>
<li>åˆ©ç”¨åŒæŒ‡é’ˆ<code>i</code>, <code>j</code>åˆ†åˆ«æŒ‡å‘<code>num1</code>å’Œ<code>num2</code> çš„æœ«å°¾ï¼Œæ¨¡æ‹Ÿäººå·¥åŠ æ³•</li>
<li>è®¡ç®—è¿›ä½ï¼šè®¡ç®—<code>carry = temp // 2,</code> ä»£è¡¨å½“å‰ä½ç›¸åŠ æ˜¯å¦éœ€è¦è¿›ä½</li>
<li>æ·»åŠ å½“å‰ä½ï¼šè®¡ç®—<code>temp = n1 + n2 + carry</code>ï¼Œå¹¶å°†å½“å‰ä½<code>temp % 10</code>æ·»åŠ åˆ°<code>res</code>çš„å¤´éƒ¨</li>
<li>ç´¢å¼•æº¢å‡ºï¼šå½“æŒ‡é’ˆiï¼Œjèµ°è¿‡æ•°å­—é¦–éƒ¨ï¼Œç»™<code>n1</code>ï¼Œ<code>n2</code>èµ‹å€¼ä¸º0,ï¼Œç›¸å½“äºç»™<code>num1</code>ï¼Œ<code>num2</code>é•¿åº¦è¾ƒçŸ­çš„æ•°å­—å‰é¢å¡«0ï¼Œä»¥ä¾¿åç»­è®¡ç®—</li>
<li>å½“éå†å®Œ<code>num1,num2</code>åè·³å‡ºå¾ªç¯ï¼Œå¹¶æ ¹æ®carryå€¼å†³å®šæ˜¯å¦åœ¨å¤´éƒ¨æ·»åŠ è¿›ä½1ï¼Œæœ€ç»ˆè¿”å›res</li>
</ul>
<p><strong>å¤æ‚åº¦</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(max(M,N))ï¼šå…¶ä¸­ Mï¼ŒN ä¸º 2æ•°å­—é•¿åº¦ï¼ŒæŒ‰ä½éå†ä¸€éæ•°å­—ï¼ˆä»¥è¾ƒé•¿çš„æ•°å­—ä¸ºå‡†ï¼‰ï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1)ï¼šæŒ‡é’ˆä¸å˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">addStrings</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">	StringBuilder res = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">	<span class="keyword">int</span> i = num1.length() - <span class="number">1</span>, j = num2.length() - <span class="number">1</span>, carry = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>) {</span><br><span class="line">		<span class="keyword">int</span> n1 = i &gt;= <span class="number">0</span> ? num1.charAt(i) - <span class="string">'0'</span> : <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> n2 = j &gt;= <span class="number">0</span> ? num2.charAt(j) - <span class="string">'0'</span> : <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> temp = n1 + n2 + carry;</span><br><span class="line">		carry = temp / <span class="number">10</span>;</span><br><span class="line">		res.append(temp % <span class="number">10</span>);</span><br><span class="line">		i--;</span><br><span class="line">		j--;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(carry == <span class="number">1</span>) {</span><br><span class="line">		res.append(<span class="number">1</span>);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> res.reverse().toString();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>python</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addString</span><span class="params">(self, num1: str, num2: str)</span> -&gt; str:</span></span><br><span class="line">        res = <span class="string">""</span></span><br><span class="line">        i, j, carry =len(num1) - <span class="number">1</span>, len(num2) - <span class="number">1</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> i &gt;= <span class="number">0</span> <span class="keyword">or</span> j &gt;= <span class="number">0</span>:</span><br><span class="line">            n1 = int(num1[i]) <span class="keyword">if</span> i &gt;= <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span> </span><br><span class="line">            n2 = int(num2[j]) <span class="keyword">if</span> j &gt;= <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">            temp = n1 + n2 + carry</span><br><span class="line">            carry = temp // <span class="number">10</span></span><br><span class="line">            res = str(temp % <span class="number">10</span>) + res</span><br><span class="line">            i, j = i - <span class="number">1</span>, j - <span class="number">1</span> </span><br><span class="line">        <span class="keyword">return</span> <span class="string">"1"</span> + res <span class="keyword">if</span> carry <span class="keyword">else</span> res</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>æ¨¡æ‹Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¨¡æ‹Ÿ_leetcode.415_å­—ç¬¦ä¸²ç›¸ä¹˜</title>
    <url>/String_multiplication/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸¤ä¸ªä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºçš„éè´Ÿæ•´æ•° num1 å’Œ num2ï¼Œè¿”å› num1 å’Œ num2 çš„ä¹˜ç§¯ï¼Œå®ƒä»¬çš„ä¹˜ç§¯ä¹Ÿè¡¨ç¤ºä¸ºå­—ç¬¦ä¸²å½¢å¼ã€‚</p>
<a id="more"></a>

<p>ç¤ºä¾‹ 1:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: num1 = "2", num2 = "3"</span><br><span class="line">è¾“å‡º: "6"</span><br><span class="line">ç¤ºä¾‹ 2:</span><br><span class="line"></span><br><span class="line">è¾“å…¥: num1 = "123", num2 = "456"</span><br><span class="line">è¾“å‡º: "56088"</span><br></pre></td></tr></tbody></table></figure>

<p>è¯´æ˜ï¼š</p>
<ul>
<li>num1 å’Œ num2 çš„é•¿åº¦å°äº110ã€‚</li>
<li>num1 å’Œ num2 åªåŒ…å«æ•°å­— 0-9ã€‚</li>
<li>num1 å’Œ num2 å‡ä¸ä»¥é›¶å¼€å¤´ï¼Œé™¤éæ˜¯æ•°å­— 0 æœ¬èº«ã€‚</li>
<li>ä¸èƒ½ä½¿ç”¨ä»»ä½•æ ‡å‡†åº“çš„å¤§æ•°ç±»å‹ï¼ˆæ¯”å¦‚ BigIntegerï¼‰æˆ–ç›´æ¥å°†è¾“å…¥è½¬æ¢ä¸ºæ•´æ•°æ¥å¤„ç†ã€‚</li>
</ul>
<h2 id="ğŸæ–¹æ³•ï¼šæ¨¡æ‹Ÿæ¨ªç«–ä¹˜æ³•"><a href="#ğŸæ–¹æ³•ï¼šæ¨¡æ‹Ÿæ¨ªç«–ä¹˜æ³•" class="headerlink" title="ğŸæ–¹æ³•ï¼šæ¨¡æ‹Ÿæ¨ªç«–ä¹˜æ³•"></a>ğŸæ–¹æ³•ï¼šæ¨¡æ‹Ÿæ¨ªç«–ä¹˜æ³•</h2><h4 id="ç®—æ³•æµç¨‹"><a href="#ç®—æ³•æµç¨‹" class="headerlink" title="ç®—æ³•æµç¨‹"></a>ç®—æ³•æµç¨‹</h4><p>ç«–å¼è¿ç®—æ€æƒ³ï¼Œä»¥num1ä¸º123ï¼Œ    num2ä¸º456 ä¸ºä¾‹åˆ†æ:<br>    num2æ¯ä¸€ä½ä¸num1è¿›è¡Œç›¸ä¹˜,æ¯ä¸€æ­¥çš„ç»“æœè¿›è¡Œ ç´¯åŠ ã€‚<br>    æ³¨æ„:</p>
<ul>
<li>num2é™¤äº†ç¬¬ä¸€ä½çš„å…¶ä»–ä½ä¸</li>
<li>num1è¿ç®—çš„ç»“æœéœ€è¦ è¡¥0</li>
<li>è®¡ç®—å­—ç¬¦ä¸²æ•°å­—ç´¯åŠ å…¶å®å°±æ˜¯415.å­—ç¬¦ä¸²ç›¸åŠ </li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">multiply</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (num1.equals(<span class="string">"0"</span>) || num2.equals(<span class="string">"0"</span>)) {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// ä¿å­˜è®¡ç®—ç»“æœ</span></span><br><span class="line">    String res = <span class="string">"0"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// num2 é€ä½ä¸ num1 ç›¸ä¹˜</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = num2.length() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">        <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// ä¿å­˜ num2 ç¬¬iä½æ•°å­—ä¸ num1 ç›¸ä¹˜çš„ç»“æœ</span></span><br><span class="line">        StringBuilder temp = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="comment">// è¡¥ 0 </span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; num2.length() - <span class="number">1</span> - i; j++) {</span><br><span class="line">            temp.append(<span class="number">0</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> n2 = num2.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// num2 çš„ç¬¬ i ä½æ•°å­— n2 ä¸ num1 ç›¸ä¹˜</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = num1.length() - <span class="number">1</span>; j &gt;= <span class="number">0</span> || carry != <span class="number">0</span>; j--) {</span><br><span class="line">            <span class="keyword">int</span> n1 = j &lt; <span class="number">0</span> ? <span class="number">0</span> : num1.charAt(j) - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">int</span> product = (n1 * n2 + carry) % <span class="number">10</span>;</span><br><span class="line">            temp.append(product);</span><br><span class="line">            carry = (n1 * n2 + carry) / <span class="number">10</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// å°†å½“å‰ç»“æœä¸æ–°è®¡ç®—çš„ç»“æœæ±‚å’Œä½œä¸ºæ–°çš„ç»“æœ</span></span><br><span class="line">        res = addStrings(res, temp.reverse().toString());</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">}</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¯¹ä¸¤ä¸ªå­—ç¬¦ä¸²æ•°å­—è¿›è¡Œç›¸åŠ ï¼Œè¿”å›å­—ç¬¦ä¸²å½¢å¼çš„å’Œ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">addStrings</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">    StringBuilder builder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = num1.length() - <span class="number">1</span>, j = num2.length() - <span class="number">1</span>;</span><br><span class="line">         i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span> || carry != <span class="number">0</span>;</span><br><span class="line">         i--, j--) {</span><br><span class="line">        <span class="keyword">int</span> x = i &lt; <span class="number">0</span> ? <span class="number">0</span> : num1.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">int</span> y = j &lt; <span class="number">0</span> ? <span class="number">0</span> : num2.charAt(j) - <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">int</span> sum = (x + y + carry) % <span class="number">10</span>;</span><br><span class="line">        builder.append(sum);</span><br><span class="line">        carry = (x + y + carry) / <span class="number">10</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> builder.reverse().toString();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸç«–å¼ä¼˜åŒ–"><a href="#ğŸç«–å¼ä¼˜åŒ–" class="headerlink" title="ğŸç«–å¼ä¼˜åŒ–"></a>ğŸç«–å¼ä¼˜åŒ–</h2><p>è¯¥ç®—æ³•æ˜¯é€šè¿‡ä¸¤æ•°ç›¸ä¹˜æ—¶ï¼Œä¹˜æ•°æŸä½ä¸è¢«ä¹˜æ•°æŸä½ç›¸ä¹˜ï¼Œä¸äº§ç”Ÿç»“æœçš„ä½ç½®çš„è§„<br>å¾‹æ¥å®Œæˆã€‚å…·ä½“è§„å¦‚ä¸‹:</p>
<ul>
<li>ä¹˜æ•°num1ä½æ•°ä¸ºM,è¢«ä¹˜æ•°num2ä½æ•°ä¸ºN,</li>
<li>num1 x num2ç»“æœ</li>
<li>reså¤§æ€»ä½æ•°ä¸ºM+N</li>
<li>numl[i] x num2[j]çš„ç»“æœä¸ºtmp (ä½æ•°ä¸ºä¸¤ä½, â€œ0xâ€ ,â€xyâ€çš„å½¢å¼),ç¬¬ä¸€ä½ä½äºres[i+j] ï¼Œç¬¬äºŒä½ä½äºres[i+j+1] ã€‚</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">multiply2</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (num1.equals(<span class="string">"0"</span>) || num2.equals(<span class="string">"0"</span>)) {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[num1.length() + num2.length()];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = num1.length() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">        <span class="keyword">int</span> n1 = num1.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = num2.length() - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) {</span><br><span class="line">            <span class="keyword">int</span> n2 = num2.charAt(j) - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">int</span> sum = (res[i + j + <span class="number">1</span>] + n1 * n2);</span><br><span class="line">            res[i + j + <span class="number">1</span>] = sum % <span class="number">10</span>;</span><br><span class="line">            res[i + j] += sum / <span class="number">10</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; res.length; i++) {</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; res[i] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">        result.append(res[i]);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> result.toString();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>æ¨¡æ‹Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>å¡å¡”å…°åºåˆ—_leetcode.96.ä¸åŒçš„äºŒå‰æœç´¢æ ‘</title>
    <url>/Different_binary_search_trees/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p> ğŸç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œæ±‚ä»¥ 1 â€¦ n ä¸ºèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘æœ‰å¤šå°‘ç§ï¼Ÿ</p>
<a id="more"></a>

<p>ç¤ºä¾‹:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: 3</span><br><span class="line">è¾“å‡º: 5</span><br><span class="line">è§£é‡Š:</span><br><span class="line">ç»™å®š n = 3, ä¸€å…±æœ‰ 5 ç§ä¸åŒç»“æ„çš„äºŒå‰æœç´¢æ ‘:</span><br><span class="line"></span><br><span class="line"> 1         3     3      2      1</span><br><span class="line">  \       /     /      / \      \</span><br><span class="line">   3     2     1      1   3      2</span><br><span class="line">  /     /       \                 \</span><br><span class="line"> 2     1         2                 3</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸åˆ†æ"><a href="#ğŸŒ¸åˆ†æ" class="headerlink" title="ğŸŒ¸åˆ†æ"></a>ğŸŒ¸åˆ†æ</h2><blockquote>
<p>ç»™å®šä¸€ä¸ªæœ‰åºåºåˆ—1..n,ä¸ºäº†æ„å»ºå‡ºä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œæˆ‘ä»¬å¯ä»¥éå†æ¯ä¸ªæ•°å­—<br>i,å°†è¯¥æ•°å­—ä½œä¸ºæ ‘æ ¹ï¼Œæ‰€ä»¥å¦‚æœæ±‚1..nçš„æ‰€æœ‰å¯èƒ½ã€‚</p>
<ul>
<li><p>æˆ‘ä»¬åªéœ€è¦æŠŠ1ä½œä¸ºæ ¹èŠ‚ç‚¹, [] ç©ºä½œä¸ºå·¦å­æ ‘, [2 .. n]çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå³<br>å­æ ‘ã€‚</p>
</li>
<li><p>2ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œ[1] ä½œä¼ªå·¦å­æ ‘, [3..n]çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå³å­æ ‘ã€‚</p>
</li>
<li><p>3ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œ[1ï¼Œ 2 ]çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå·¦å­æ ‘ï¼Œ[4 â€¦ n]çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå³å­æ ‘ï¼Œç„¶åå·¦å­æ ‘å’Œå³å­æ ‘ä¸¤ä¸¤ç»„åˆã€‚</p>
</li>
<li><p>4ä½œä¸ºæ ¹èŠ‚ç‚¹[1 ï¼Œ2ï¼Œ3]çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºä½å­æ ‘ï¼Œ[5 .. n]çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå³å­æ ‘,ç„¶åä½å­æ ‘å’Œå³å­æ ‘ä¸¤ä¸¤ç»„åˆã€‚</p>
</li>
<li><p>â€¦â€¦.</p>
</li>
<li><p>nä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œ[ 1â€¦. n]çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå·¦å­æ ‘ï¼Œ[]ä½œä¸ºå³å­æ ‘ã€‚</p>
</li>
</ul>
<p>ç”±æ­¤å¯è§ï¼ŒåŸé—®é¢˜å¯ä»¥åˆ†è§£æˆè§„æ¨¡è¾ƒå°çš„ä¸¤ä¸ªå­é—®é¢˜ï¼Œå­é—®é¢˜çš„è§£å¯ä»¥å¤ç”¨ã€‚<br>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä½¿ç”¨é€’å½’ã€åŠ¨æ€è§„åˆ’æ¥æ±‚è§£æœ¬é¢˜ã€‚</p>
</blockquote>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šé€’å½’æœç´¢"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šé€’å½’æœç´¢" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šé€’å½’æœç´¢"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šé€’å½’æœç´¢</h2><blockquote>
<p>æŒ‰ç…§ä»¥ä¸Šåˆ†æçš„æ€è·¯ï¼Œå‡è®¾nä¸ªèŠ‚ç‚¹å­˜åœ¨äºŒå‰æ’åºæ ‘çš„ä¸ªæ•°æ˜¯G(n),ä»¤f(i)ä¸ºä»¥iä¸ºæ ¹çš„äºŒå‰æœç´¢æ ‘çš„ä¸ªæ•°,å½“æ‰¾åˆ°å…¶ä¸­ä¸€ä¸ªæ•°<code>i</code>çš„å·¦å­æ ‘å¯èƒ½çš„æ•°é‡G(i - 1),å³å­æ ‘å¯èƒ½çš„æ•°é‡æ˜¯G(n - i),é‚£ä¹ˆ<code>f(i) = G(i - 1)  * G(n - i)</code></p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numTrees</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">0</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> dfs(n);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="keyword">int</span> res = <span class="number">0</span>;	<span class="comment">//ä¿å­˜å¯èƒ½çš„ä¸ªæ•°</span></span><br><span class="line">	<span class="comment">//é€’å½’è¦ç´ ï¼šç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">0</span> || n == <span class="number">1</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//å°†[1..n]ä½œä¸ºæ ¹èŠ‚ç‚¹</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">		<span class="comment">//æ‹¿åˆ°æ‰€æœ‰å¯èƒ½çš„å·¦å­æ ‘[]ã€[1..i)åŒºé—´å†…ä¸ªæ•°</span></span><br><span class="line">		<span class="keyword">int</span> leftCount = dfs(i - <span class="number">1</span>);</span><br><span class="line">		<span class="comment">//æ‹¿åˆ°æ‰€æœ‰å¯èƒ½çš„å³å­æ ‘[]ã€(i...n]åŒºé—´å†…ä¸ªæ•°</span></span><br><span class="line">		<span class="keyword">int</span> rightCount = dfs(n - i);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//å°†ä¸ªæ•°è¿›è¡Œæ’åˆ—ç»„åˆ</span></span><br><span class="line">		res += leftCount * rightCount;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•äºŒï¼š-è®°å¿†åŒ–é€’å½’æœç´¢"><a href="#ğŸŒ¸è§£æ³•äºŒï¼š-è®°å¿†åŒ–é€’å½’æœç´¢" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼š è®°å¿†åŒ–é€’å½’æœç´¢"></a>ğŸŒ¸è§£æ³•äºŒï¼š è®°å¿†åŒ–é€’å½’æœç´¢</h2><blockquote>
<p>ç”±äºé€’å½’çš„åˆ†å‰ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´å¾ˆå¤šé‡å¤è§£çš„è®¡ç®—ï¼Œæ‰€ä»¥ä½¿ç”¨ <code>memoization</code> æŠ€æœ¯ï¼ŒæŠŠé€’å½’è¿‡ç¨‹ä¸­æ±‚å‡ºçš„è§£ä¿å­˜èµ·æ¥ï¼Œç¬¬äºŒæ¬¡éœ€è¦çš„æ—¶å€™ç›´æ¥æ‹¿å³å¯ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numTrees2</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">0</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">	Map&lt;Integer, Integer&gt; memory = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">	<span class="keyword">return</span> dfs2(n, memory);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">dfs2</span><span class="params">(<span class="keyword">int</span> n, Map&lt;Integer, Integer&gt; memory)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="comment">//å¦‚æœå·²ç»è¢«è®¡ç®—è¿‡çš„æ•°ï¼Œç›´æ¥å–å‡ºè¿”å›</span></span><br><span class="line">	<span class="keyword">if</span>(memory.containsKey(n)) {</span><br><span class="line">		<span class="keyword">return</span> memory.get(n);</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> res = <span class="number">0</span>;	<span class="comment">//ä¿å­˜å¯èƒ½çš„ä¸ªæ•°</span></span><br><span class="line">	<span class="comment">//é€’å½’è¦ç´ ï¼šç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">0</span> || n == <span class="number">1</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//å°†[1..n]ä½œä¸ºæ ¹èŠ‚ç‚¹</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">		<span class="comment">//æ‹¿åˆ°æ‰€æœ‰å¯èƒ½çš„å·¦å­æ ‘[]ã€[1..i)åŒºé—´å†…ä¸ªæ•°</span></span><br><span class="line">		<span class="keyword">int</span> leftCount = dfs2(i - <span class="number">1</span>, memory);</span><br><span class="line">		<span class="comment">//æ‹¿åˆ°æ‰€æœ‰å¯èƒ½çš„å³å­æ ‘[]ã€(i...n]åŒºé—´å†…ä¸ªæ•°</span></span><br><span class="line">		<span class="keyword">int</span> rightCount = dfs2(n - i, memory);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//å°†ä¸ªæ•°è¿›è¡Œæ’åˆ—ç»„åˆ</span></span><br><span class="line">		res += leftCount * rightCount;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//è®°å½•ä¿å­˜çš„å€¼</span></span><br><span class="line">	memory.put(<span class="keyword">null</span>, res);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’"><a href="#ğŸŒ¸è§£æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’"></a>ğŸŒ¸è§£æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’</h2><blockquote>
<p>æ ¹æ®å‰é¢çš„è§£æ³•ä¸€å®šä¹‰ï¼š</p>
<p><code>G(n)= f(1)+ f(2)+ f(3)+ f(4)+...+ f(n)</code></p>
<p><code>f(i)=G(i-1)*G(n-i)</code></p>
<p>G(n) ä»f(1â€¦n)å¾—åˆ°ï¼Œf(i) é€’å½’ä¾èµ–äºG(n)ï¼Œ)<em>G</em>(<em>n</em>) å’Œåºåˆ—çš„å†…å®¹æ— å…³ï¼Œåªå’Œåºåˆ—çš„é•¿åº¦æœ‰å…³</p>
<p>åˆ°æ­¤ï¼Œæˆ‘ä»¬ä»å°åˆ°å¤§è®¡ç®—Gå‡½æ•°å³å¯,å› ä¸ºG(n)çš„å€¼ä¾èµ–äºG(0)â€¦G(n- 1)ã€‚</p>
</blockquote>
<p><strong>java</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numTrees3</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">0</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	}		</span><br><span class="line">	<span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">	dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">	dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//å°†[1..n]ä½œä¸ºæ ¹èŠ‚ç‚¹,å·²è®°å½•dp[1]=1</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) {</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i; j++) {</span><br><span class="line">			<span class="comment">//è®°ç®—å·¦è¾¹j - 1ä¸ªæ•°å¯èƒ½çš„ä¸ªæ•°ï¼Œå³è¾¹i-jä¸ªæ•°å¯èƒ½çš„ä¸ªæ•°</span></span><br><span class="line">			dp[i] += dp[j - <span class="number">1</span>] * dp[i - j];</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> dp[n];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’ç©ºé—´ä¼˜åŒ–"><a href="#ğŸŒ¸è§£æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’ç©ºé—´ä¼˜åŒ–" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’ç©ºé—´ä¼˜åŒ–"></a>ğŸŒ¸è§£æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’ç©ºé—´ä¼˜åŒ–</h2><p>æºè‡ª<a href="https://leetcode.com/problems/unique-binary-search-trees/discuss/31815/A-0-ms-c%2B%2B-solution-with-my-explanation" target="_blank" rel="noopener"></a><a href="https://leetcode.com/heii0w0rid" target="_blank" rel="noopener">HeII0W0rId</a>ï¼Œå¯ç§»æ­¥</p>
<h2 id="ğŸŒ¸è§£æ³•å››ï¼š-å¡å¡”å…°å…¬å¼"><a href="#ğŸŒ¸è§£æ³•å››ï¼š-å¡å¡”å…°å…¬å¼" class="headerlink" title="ğŸŒ¸è§£æ³•å››ï¼š å¡å¡”å…°å…¬å¼"></a>ğŸŒ¸è§£æ³•å››ï¼š å¡å¡”å…°å…¬å¼</h2><blockquote>
<p>ç»¼åˆG(n)ã€f(i) çš„ å…¬å¼å¯ä»¥å¾—åˆ°</p>
<p><code>G(n)= G(0)* G(n-1)+G(1)*(n-2)+...+ G(n-1)*G(0)</code></p>
<p>è¿™å°±è§‰å¾—è¿™ä¸ªå…¬å¼æŒºçœ¼ç†Ÿçš„ã€‚</p>
<p>ä¸‹é¢ç»™å‡ºå¡å¡”å…°å…¬å¼çš„å®šä¹‰</p>
<p>ä»¤<code>h(0)=1,h(1)=1</code>ï¼Œå¡å¡”å…°æ•°æ»¡è¶³é€’å½’å¼:<br><code>h(n)= h(0)*h(n-1) + h(1)*h(n-2) + .. + h(n-1)h(0)</code> <strong>(å…¶ä¸­n&gt;=2)</strong>,è¿™æ˜¯né˜¶é€’æ¨å…³ç³»;<br>è¿˜å¯ä»¥åŒ–ç®€ä¸º1é˜¶é€’æ¨å…³ç³»:å¦‚<code>h(n)=(4n-2)/(n+1)*h(n-1)(n&gt;1) h(0)=1</code><br>è¯¥é€’æ¨å…³ç³»çš„è§£ä¸º:<br>$$<br>h(n)=\frac{C(2n,n)}{n+1}=\frac{P(2n,n)}{(n+1)!}=\frac{(2n!)}{(n!*(n+1)!)}(n=1,2,3,â€¦)<br>$$</p>
<p>$$<br>C_n = \frac{(2n)!}{(n+1)!n!}<br>$$</p>
<p>$$<br>C_0=1,        C_{n+1} = \frac{2(2n+1)}{n+2}C_n<br>$$</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numTrees5</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">    <span class="keyword">long</span> catalan = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) {</span><br><span class="line">    	catalan = catalan * <span class="number">2</span> * (<span class="number">2</span> * i + <span class="number">1</span>) / (i + <span class="number">2</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>) catalan;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>java</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
        <tag>é€’å½’</tag>
        <tag>å¡å¡”å…°å…¬å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>å›æº¯_leetcode.17.ç”µè¯å·ç çš„å­—æ¯ç»„åˆ</title>
    <url>/Alphabetic_combination_of_telephone_numbers/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— <code>2-9</code> çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚</p>
<p>ç»™å‡ºæ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰ã€‚æ³¨æ„ 1 ä¸å¯¹åº”ä»»ä½•å­—æ¯ã€‚</p>
<a id="more"></a>

<p>ç¤ºä¾‹:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š"23"</span><br><span class="line">è¾“å‡ºï¼š["ad", "ae", "af", "bd", "be", "bf", "cd", "ce", "cf"].</span><br></pre></td></tr></tbody></table></figure>

<p>è¯´æ˜:<br>å°½ç®¡ä¸Šé¢çš„ç­”æ¡ˆæ˜¯æŒ‰å­—å…¸åºæ’åˆ—çš„ï¼Œä½†æ˜¯ä½ å¯ä»¥ä»»æ„é€‰æ‹©ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚</p>
<h2 id="ğŸŒ¸åˆ†æ"><a href="#ğŸŒ¸åˆ†æ" class="headerlink" title="ğŸŒ¸åˆ†æ"></a>ğŸŒ¸åˆ†æ</h2><p>å¯¹äºæ‰“å°â€2345â€è¿™æ ·çš„å­—ç¬¦ä¸²ï¼š<br>ç¬¬ä¸€æ¬¡é€’å½’å°±æ˜¯ä¸Šå›¾ä¸­æœ€ä¸‹é¢çš„æ–¹æ ¼ï¼Œç„¶åå¤„ç†å®Œç¬¬ä¸€ä¸ªå­—ç¬¦2ä¹‹åï¼Œå°†è¾“å…¥çš„å­—ç¬¦æ”¹å˜æˆâ€345â€å¹¶è°ƒç”¨ç¬¬äºŒä¸ªé€’å½’å‡½æ•°<br>ç¬¬äºŒæ¬¡é€’å½’å¤„ç†3ï¼Œå°†å­—ç¬¦ä¸²æ”¹å˜æˆâ€45â€åå†æ¬¡é€’å½’<br>ç¬¬ä¸‰æ¬¡é€’å½’å¤„ç†4ï¼Œå°†å­—ç¬¦ä¸²æ”¹å˜æˆâ€5â€åç»§ç»­é€’å½’<br>ç¬¬å››æ¬¡é€’å½’å¤„ç†5ï¼Œå°†å­—ç¬¦ä¸²æ”¹å˜æˆâ€â€åç»§ç»­é€’å½’<br>æœ€åå‘ç°å­—ç¬¦ä¸²ä¸ºç©ºäº†ï¼Œå°†ç»“æœæ”¾åˆ°åˆ—è¡¨ä¸­å¹¶è¿”å›<br>ä¸Šé¢æ˜¯ä»å‡½æ•°è°ƒç”¨çš„è§’åº¦å»çœ‹çš„ï¼Œè€Œæ¯æ¬¡è°ƒç”¨ä¸‹ä¸€å±‚é€’å½’æ—¶ï¼Œéƒ½éœ€è¦å°†æœ¬å±‚çš„ä¸€äº›å¤„ç†ç»“æœæ”¾åˆ°ä¸€ä¸ªä¸´æ—¶å˜é‡ä¸­ï¼Œå†ä¼ é€’ç»™ä¸‹ä¸€å±‚ï¼Œä»è¿™ä¸ªå˜é‡å±‚å±‚ä¼ é€’çš„å˜åŒ–çœ‹ï¼Œå°±åƒä¸€æ£µæ ‘ä¸€æ ·ï¼Œè¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¾ˆé«˜ï¼Œæ˜¯O(3^n)è¿™ä¸ªçº§åˆ«çš„ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(n)</p>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šå›æº¯"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šå›æº¯" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šå›æº¯"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šå›æº¯</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">	<span class="comment">//ä¸€ä¸ªæ˜ å°„è¡¨ï¼Œç¬¬äºŒä¸ªä½ç½®æ˜¯"abcâ€œ,ç¬¬ä¸‰ä¸ªä½ç½®æ˜¯"def"ã€‚ã€‚ã€‚</span></span><br><span class="line">	<span class="comment">//è¿™é‡Œä¹Ÿå¯ä»¥ç”¨mapï¼Œç”¨æ•°ç»„å¯ä»¥æ›´èŠ‚çœç‚¹å†…å­˜</span></span><br><span class="line">	String[] letter_map = {<span class="string">" "</span>,<span class="string">"*"</span>,<span class="string">"abc"</span>,<span class="string">"def"</span>,<span class="string">"ghi"</span>,<span class="string">"jkl"</span>,<span class="string">"mno"</span>,<span class="string">"pqrs"</span>,<span class="string">"tuv"</span>,<span class="string">"wxyz"</span>};</span><br><span class="line">	<span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">letterCombinations</span><span class="params">(String digits)</span> </span>{</span><br><span class="line">		<span class="comment">//æ³¨æ„è¾¹ç•Œæ¡ä»¶</span></span><br><span class="line">		<span class="keyword">if</span>(digits==<span class="keyword">null</span> || digits.length()==<span class="number">0</span>) {</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		}</span><br><span class="line">		iterStr(digits, <span class="string">""</span>, <span class="number">0</span>);</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//æœ€ç»ˆè¾“å‡ºç»“æœçš„list</span></span><br><span class="line">	List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//é€’å½’å‡½æ•°</span></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">iterStr</span><span class="params">(String str, String letter, <span class="keyword">int</span> index)</span> </span>{</span><br><span class="line">		<span class="comment">//é€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼Œæ³¨æ„è¿™é‡Œçš„ç»ˆæ­¢æ¡ä»¶çœ‹ä¸Šå»è·ŸåŠ¨æ€æ¼”ç¤ºå›¾æœ‰äº›ä¸åŒï¼Œä¸»è¦æ˜¯åšäº†ç‚¹ä¼˜åŒ–</span></span><br><span class="line">		<span class="comment">//åŠ¨æ€å›¾ä¸­æ˜¯æ¯æ¬¡æˆªå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œ"234"ï¼Œå˜æˆ"23"ï¼Œå†å˜æˆ"3"ï¼Œæœ€åå˜æˆ""ï¼Œè¿™æ ·æ€§èƒ½ä¸ä½³</span></span><br><span class="line">		<span class="comment">//è€Œç”¨indexè®°å½•æ¯æ¬¡éå†åˆ°å­—ç¬¦ä¸²çš„ä½ç½®ï¼Œè¿™æ ·æ€§èƒ½æ›´å¥½</span></span><br><span class="line">		<span class="keyword">if</span>(index == str.length()) {</span><br><span class="line">			res.add(letter);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="comment">//è·å–indexä½ç½®çš„å­—ç¬¦ï¼Œå‡è®¾è¾“å…¥çš„å­—ç¬¦æ˜¯"234"</span></span><br><span class="line">		<span class="comment">//ç¬¬ä¸€æ¬¡é€’å½’æ—¶indexä¸º0æ‰€ä»¥c=2ï¼Œç¬¬äºŒæ¬¡indexä¸º1æ‰€ä»¥c=3ï¼Œç¬¬ä¸‰æ¬¡c=4</span></span><br><span class="line">		<span class="comment">//subStringæ¯æ¬¡éƒ½ä¼šç”Ÿæˆæ–°çš„å­—ç¬¦ä¸²ï¼Œè€Œindexåˆ™æ˜¯å–å½“å‰çš„ä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥æ•ˆç‡æ›´é«˜ä¸€ç‚¹</span></span><br><span class="line">		<span class="keyword">char</span> c = str.charAt(index);</span><br><span class="line">		<span class="comment">//map_stringçš„ä¸‹è¡¨æ˜¯ä»0å¼€å§‹ä¸€ç›´åˆ°9ï¼Œ c-'0'å°±å¯ä»¥å–åˆ°ç›¸å¯¹çš„æ•°ç»„ä¸‹æ ‡ä½ç½®</span></span><br><span class="line">		<span class="comment">//æ¯”å¦‚c=2æ—¶å€™ï¼Œ2-'0'ï¼Œè·å–ä¸‹æ ‡ä¸º2,letter_map[2]å°±æ˜¯"abc"</span></span><br><span class="line">		<span class="keyword">int</span> pos = c - <span class="string">'0'</span>;</span><br><span class="line">		String map_string = letter_map[pos];</span><br><span class="line">		<span class="comment">//éå†å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ç¬¬ä¸€æ¬¡å¾—åˆ°çš„æ˜¯2ï¼Œé¡µå°±æ˜¯éå†"abc"</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;map_string.length();i++) {</span><br><span class="line">			<span class="comment">//è°ƒç”¨ä¸‹ä¸€å±‚é€’å½’ï¼Œç”¨æ–‡å­—å¾ˆéš¾æè¿°ï¼Œè¯·é…åˆåŠ¨æ€å›¾ç†è§£</span></span><br><span class="line">			iterStr(str, letter+map_string.charAt(i), index+<span class="number">1</span>);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># python    </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">letterCombinations</span><span class="params">(self, digits)</span>:</span></span><br><span class="line">		<span class="string">"""</span></span><br><span class="line"><span class="string">		:type digits: str</span></span><br><span class="line"><span class="string">		:rtype: List[str]</span></span><br><span class="line"><span class="string">		"""</span></span><br><span class="line">		<span class="comment"># æ³¨æ„è¾¹ç•Œæ¡ä»¶</span></span><br><span class="line">		<span class="keyword">if</span> <span class="keyword">not</span> digits:</span><br><span class="line">			<span class="keyword">return</span> []</span><br><span class="line">		<span class="comment"># ä¸€ä¸ªæ˜ å°„è¡¨ï¼Œç¬¬äºŒä¸ªä½ç½®æ˜¯"abcâ€œ,ç¬¬ä¸‰ä¸ªä½ç½®æ˜¯"def"ã€‚ã€‚ã€‚</span></span><br><span class="line">		<span class="comment"># è¿™é‡Œä¹Ÿå¯ä»¥ç”¨mapï¼Œç”¨æ•°ç»„å¯ä»¥æ›´èŠ‚çœç‚¹å†…å­˜</span></span><br><span class="line">		d = [<span class="string">" "</span>,<span class="string">"*"</span>,<span class="string">"abc"</span>,<span class="string">"def"</span>,<span class="string">"ghi"</span>,<span class="string">"jkl"</span>,<span class="string">"mno"</span>,<span class="string">"pqrs"</span>,<span class="string">"tuv"</span>,<span class="string">"wxyz"</span>]</span><br><span class="line">		<span class="comment"># æœ€ç»ˆè¾“å‡ºç»“æœçš„list</span></span><br><span class="line">		res = []</span><br><span class="line">		</span><br><span class="line">		<span class="comment"># é€’å½’å‡½æ•°</span></span><br><span class="line">		<span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(tmp,index)</span>:</span></span><br><span class="line">			<span class="comment"># é€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼Œæ³¨æ„è¿™é‡Œçš„ç»ˆæ­¢æ¡ä»¶çœ‹ä¸Šå»è·ŸåŠ¨æ€æ¼”ç¤ºå›¾æœ‰äº›ä¸åŒï¼Œä¸»è¦æ˜¯åšäº†ç‚¹ä¼˜åŒ–</span></span><br><span class="line">			<span class="comment"># åŠ¨æ€å›¾ä¸­æ˜¯æ¯æ¬¡æˆªå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œ"234"ï¼Œå˜æˆ"23"ï¼Œå†å˜æˆ"3"ï¼Œæœ€åå˜æˆ""ï¼Œè¿™æ ·æ€§èƒ½ä¸ä½³</span></span><br><span class="line">			<span class="comment"># è€Œç”¨indexè®°å½•æ¯æ¬¡éå†åˆ°å­—ç¬¦ä¸²çš„ä½ç½®ï¼Œè¿™æ ·æ€§èƒ½æ›´å¥½</span></span><br><span class="line">			<span class="keyword">if</span> index==len(digits):</span><br><span class="line">				res.append(tmp)</span><br><span class="line">				<span class="keyword">return</span></span><br><span class="line">			<span class="comment"># è·å–indexä½ç½®çš„å­—ç¬¦ï¼Œå‡è®¾è¾“å…¥çš„å­—ç¬¦æ˜¯"234"</span></span><br><span class="line">			<span class="comment"># ç¬¬ä¸€æ¬¡é€’å½’æ—¶indexä¸º0æ‰€ä»¥c=2ï¼Œç¬¬äºŒæ¬¡indexä¸º1æ‰€ä»¥c=3ï¼Œç¬¬ä¸‰æ¬¡c=4</span></span><br><span class="line">			<span class="comment"># subStringæ¯æ¬¡éƒ½ä¼šç”Ÿæˆæ–°çš„å­—ç¬¦ä¸²ï¼Œè€Œindexåˆ™æ˜¯å–å½“å‰çš„ä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥æ•ˆç‡æ›´é«˜ä¸€ç‚¹</span></span><br><span class="line">			c = digits[index]</span><br><span class="line">			<span class="comment"># map_stringçš„ä¸‹è¡¨æ˜¯ä»0å¼€å§‹ä¸€ç›´åˆ°9ï¼Œ ord(c)-48 æ˜¯è·å–cçš„ASCIIç ç„¶å-48,48æ˜¯0çš„ASCII</span></span><br><span class="line">			<span class="comment"># æ¯”å¦‚c=2æ—¶å€™ï¼Œ2-'0'ï¼Œè·å–ä¸‹æ ‡ä¸º2,letter_map[2]å°±æ˜¯"abc"</span></span><br><span class="line">			letters = d[ord(c)<span class="number">-48</span>]</span><br><span class="line">			</span><br><span class="line">			<span class="comment"># éå†å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ç¬¬ä¸€æ¬¡å¾—åˆ°çš„æ˜¯2ï¼Œé¡µå°±æ˜¯éå†"abc"</span></span><br><span class="line">			<span class="keyword">for</span> i <span class="keyword">in</span> letters:</span><br><span class="line">				<span class="comment"># è°ƒç”¨ä¸‹ä¸€å±‚é€’å½’ï¼Œç”¨æ–‡å­—å¾ˆéš¾æè¿°ï¼Œè¯·é…åˆåŠ¨æ€å›¾ç†è§£</span></span><br><span class="line">				dfs(tmp+i,index+<span class="number">1</span>)</span><br><span class="line">		dfs(<span class="string">""</span>,<span class="number">0</span>)</span><br><span class="line">		<span class="keyword">return</span> res</span><br></pre></td></tr></tbody></table></figure>





<h2 id="ğŸŒ¸è§£æ³•äºŒï¼šæš´åŠ›æ³•ï¼ˆé˜Ÿåˆ—ï¼‰"><a href="#ğŸŒ¸è§£æ³•äºŒï¼šæš´åŠ›æ³•ï¼ˆé˜Ÿåˆ—ï¼‰" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼šæš´åŠ›æ³•ï¼ˆé˜Ÿåˆ—ï¼‰"></a>ğŸŒ¸è§£æ³•äºŒï¼šæš´åŠ›æ³•ï¼ˆé˜Ÿåˆ—ï¼‰</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">letterCombinations</span><span class="params">(String digits)</span> </span>{</span><br><span class="line">		<span class="keyword">if</span>(digits==<span class="keyword">null</span> || digits.length()==<span class="number">0</span>) {</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		}</span><br><span class="line">		<span class="comment">//ä¸€ä¸ªæ˜ å°„è¡¨ï¼Œç¬¬äºŒä¸ªä½ç½®æ˜¯"abcâ€œ,ç¬¬ä¸‰ä¸ªä½ç½®æ˜¯"def"ã€‚ã€‚ã€‚</span></span><br><span class="line">		<span class="comment">//è¿™é‡Œä¹Ÿå¯ä»¥ç”¨mapï¼Œç”¨æ•°ç»„å¯ä»¥æ›´èŠ‚çœç‚¹å†…å­˜</span></span><br><span class="line">		String[] letter_map = {</span><br><span class="line">			<span class="string">" "</span>,<span class="string">"*"</span>,<span class="string">"abc"</span>,<span class="string">"def"</span>,<span class="string">"ghi"</span>,<span class="string">"jkl"</span>,<span class="string">"mno"</span>,<span class="string">"pqrs"</span>,<span class="string">"tuv"</span>,<span class="string">"wxyz"</span></span><br><span class="line">		};</span><br><span class="line">		List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		<span class="comment">//å…ˆå¾€é˜Ÿåˆ—ä¸­åŠ å…¥ä¸€ä¸ªç©ºå­—ç¬¦</span></span><br><span class="line">		res.add(<span class="string">""</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;digits.length();i++) {</span><br><span class="line">			<span class="comment">//ç”±å½“å‰éå†åˆ°çš„å­—ç¬¦ï¼Œå–å­—å…¸è¡¨ä¸­æŸ¥æ‰¾å¯¹åº”çš„å­—ç¬¦ä¸²</span></span><br><span class="line">			String letters = letter_map[digits.charAt(i)-<span class="string">'0'</span>];</span><br><span class="line">			<span class="keyword">int</span> size = res.size();</span><br><span class="line">			<span class="comment">//è®¡ç®—å‡ºé˜Ÿåˆ—é•¿åº¦åï¼Œå°†é˜Ÿåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ æŒ¨ä¸ªæ‹¿å‡ºæ¥</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;size;j++) {</span><br><span class="line">				<span class="comment">//æ¯æ¬¡éƒ½ä»é˜Ÿåˆ—ä¸­æ‹¿å‡ºç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">				String tmp = res.remove(<span class="number">0</span>);</span><br><span class="line">				<span class="comment">//ç„¶åè·Ÿ"def"è¿™æ ·çš„å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¹¶å†æ¬¡æ”¾åˆ°é˜Ÿåˆ—ä¸­</span></span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;letters.length();k++) {</span><br><span class="line">					res.add(tmp+letters.charAt(k));</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">letterCombinations</span><span class="params">(self, digits)</span>:</span></span><br><span class="line">		<span class="string">"""</span></span><br><span class="line"><span class="string">		:type digits: str</span></span><br><span class="line"><span class="string">		:rtype: List[str]</span></span><br><span class="line"><span class="string">		"""</span>	</span><br><span class="line">		<span class="keyword">if</span> <span class="keyword">not</span> digits:</span><br><span class="line">			<span class="keyword">return</span> []</span><br><span class="line">		<span class="comment"># ä¸€ä¸ªæ˜ å°„è¡¨ï¼Œç¬¬äºŒä¸ªä½ç½®æ˜¯"abcâ€œ,ç¬¬ä¸‰ä¸ªä½ç½®æ˜¯"def"ã€‚ã€‚ã€‚</span></span><br><span class="line">		<span class="comment"># è¿™é‡Œä¹Ÿå¯ä»¥ç”¨mapï¼Œç”¨æ•°ç»„å¯ä»¥æ›´èŠ‚çœç‚¹å†…å­˜</span></span><br><span class="line">		d = [<span class="string">" "</span>,<span class="string">"*"</span>,<span class="string">"abc"</span>,<span class="string">"def"</span>,<span class="string">"ghi"</span>,<span class="string">"jkl"</span>,<span class="string">"mno"</span>,<span class="string">"pqrs"</span>,<span class="string">"tuv"</span>,<span class="string">"wxyz"</span>]</span><br><span class="line">		<span class="comment"># å…ˆå¾€é˜Ÿåˆ—ä¸­åŠ å…¥ä¸€ä¸ªç©ºå­—ç¬¦</span></span><br><span class="line">		res = [<span class="string">""</span>]</span><br><span class="line">		<span class="keyword">for</span> i <span class="keyword">in</span> digits:</span><br><span class="line">			size = len(res)</span><br><span class="line">			<span class="comment"># ç”±å½“å‰éå†åˆ°çš„å­—ç¬¦ï¼Œå–å­—å…¸è¡¨ä¸­æŸ¥æ‰¾å¯¹åº”çš„å­—ç¬¦ä¸²</span></span><br><span class="line">			letters = d[ord(i)<span class="number">-48</span>]</span><br><span class="line">			<span class="comment"># è®¡ç®—å‡ºé˜Ÿåˆ—é•¿åº¦åï¼Œå°†é˜Ÿåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ æŒ¨ä¸ªæ‹¿å‡ºæ¥</span></span><br><span class="line">			<span class="keyword">for</span> _ <span class="keyword">in</span> xrange(size):</span><br><span class="line">				<span class="comment"># æ¯æ¬¡éƒ½ä»é˜Ÿåˆ—ä¸­æ‹¿å‡ºç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">				tmp = res.pop(<span class="number">0</span>)</span><br><span class="line">				<span class="comment"># ç„¶åè·Ÿ"def"è¿™æ ·çš„å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¹¶å†æ¬¡æ”¾åˆ°é˜Ÿåˆ—ä¸­</span></span><br><span class="line">				<span class="keyword">for</span> j <span class="keyword">in</span> letters:</span><br><span class="line">					res.append(tmp+j)</span><br><span class="line">		<span class="keyword">return</span> res</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>é€’å½’</tag>
        <tag>å›æº¯</tag>
        <tag>é˜Ÿåˆ—</tag>
      </tags>
  </entry>
  <entry>
    <title>æ»‘çª—_leetcode.713.ä¹˜ç§¯å°äºKçš„å­æ•°ç»„</title>
    <url>/Subarray_with_product_less_than_k/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸYour are given an array of positive integers nums.</p>
<p>Count and print the number of (contiguous) subarrays where the product of all the elements in the subarray is less than k.</p>
<a id="more"></a>

<p>Example 1:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">Input: nums = [10, 5, 2, 6], k = 100</span><br><span class="line">Output: 8</span><br><span class="line">Explanation: The 8 subarrays that have product less than 100 are: [10], [5], [2], [6], [10, 5], [5, 2], [2, 6], [5, 2, 6].</span><br><span class="line">Note that [10, 5, 2] is not included as the product of 100 is not strictly less than k.</span><br></pre></td></tr></tbody></table></figure>


<p>Note:</p>
<p><code>0 &lt; nums.length &lt;= 50000.</code><br><code>0 &lt; nums[i] &lt; 1000.</code><br><code>0 &lt;= k &lt; 10^6.</code></p>
<p>è¯‘ï¼š</p>
<p>ç»™å®šä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ numsã€‚</p>
<p>æ‰¾å‡ºè¯¥æ•°ç»„å†…ä¹˜ç§¯å°äº k çš„è¿ç»­çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚</p>
<p>ç¤ºä¾‹ 1:</p>
<p><code>è¾“å…¥: nums = [10,5,2,6], k = 100</code><br><code>è¾“å‡º: 8</code><br><code>è§£é‡Š: 8ä¸ªä¹˜ç§¯å°äº100çš„å­æ•°ç»„åˆ†åˆ«ä¸º: [10], [5], [2], [6], [10,5], [5,2], [2,6], [5,2,6]ã€‚</code><br><code>éœ€è¦æ³¨æ„çš„æ˜¯ [10,5,2] å¹¶ä¸æ˜¯ä¹˜ç§¯å°äº100çš„å­æ•°ç»„ã€‚</code><br>è¯´æ˜:</p>
<p><code>0 &lt; nums.length &lt;= 50000</code><br><code>0 &lt; nums[i] &lt; 1000</code><br><code>0 &lt;= k &lt; 10^6</code></p>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾</h2><h3 id="ğŸåˆ†æ"><a href="#ğŸåˆ†æ" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾è§£å†³è¿™é“é¢˜ç›®ï¼Œå³å¯¹äºå›ºå®šçš„ iï¼ŒäºŒåˆ†æŸ¥æ‰¾å‡ºæœ€å¤§çš„ j æ»¡è¶³ nums[i] åˆ° nums[j] çš„ä¹˜ç§¯å°äº kã€‚ä½†ç”±äºä¹˜ç§¯å¯èƒ½ä¼šéå¸¸å¤§ï¼ˆåœ¨æœ€åæƒ…å†µä¸‹ä¼šè¾¾åˆ° $$1000^{50000}$$ ï¼‰ï¼Œä¼šå¯¼è‡´æ•°å€¼æº¢å‡ºï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¯¹nums æ•°ç»„å–å¯¹æ•°ï¼Œå°†ä¹˜æ³•è½¬æ¢ä¸ºåŠ æ³•ï¼Œå³$$log(âˆ<em>inums[i]) = \sum</em>{i}lognums[i]$$ è¿™æ ·å°±ä¸ä¼šå‡ºç°æ•°å€¼æº¢å‡ºçš„é—®é¢˜äº†ã€‚</p>
<h3 id="ğŸç®—æ³•"><a href="#ğŸç®—æ³•" class="headerlink" title="ğŸç®—æ³•"></a>ğŸç®—æ³•</h3><p>å¯¹ nums ä¸­çš„æ¯ä¸ªæ•°å–å¯¹æ•°åï¼Œæˆ‘ä»¬å­˜å‚¨å®ƒçš„å‰ç¼€å’Œprefixï¼Œå³$$prefix[i + 1] = \sum_{x=0}^inums[x]$$ï¼Œè¿™æ ·åœ¨äºŒåˆ†æŸ¥æ‰¾æ—¶ï¼Œå¯¹äº iå’Œ jï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ prefix[j + 1] - prefix[i] å¾—åˆ° nums[i] åˆ° nums[j] çš„ä¹˜ç§¯çš„å¯¹æ•°ã€‚å¯¹äºå›ºå®šçš„ iï¼Œå½“æ‰¾åˆ°æœ€å¤§çš„æ»¡è¶³æ¡ä»¶çš„ jåï¼Œå®ƒä¼šåŒ…å« jâˆ’i+1 ä¸ªä¹˜ç§¯å°äº k çš„è¿ç»­å­æ•°ç»„ã€‚</p>
<p>ä¸‹é¢çš„ä»£ç å’Œç®—æ³•ä¸­ä¸‹æ ‡çš„å®šä¹‰ç•¥æœ‰ä¸åŒã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSubarrayProductLessThanK2</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span> (k == <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">double</span> logk = Math.log(k);</span><br><span class="line">	<span class="keyword">double</span>[] prefix = <span class="keyword">new</span> <span class="keyword">double</span>[nums.length + <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) {</span><br><span class="line">		prefix[i + <span class="number">1</span>] = prefix[i] + Math.log(nums[i]);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; prefix.length; i++) {</span><br><span class="line">		<span class="keyword">int</span> lo = i + <span class="number">1</span>, hi = prefix.length;</span><br><span class="line">		<span class="keyword">while</span> (lo &lt; hi) {</span><br><span class="line">			<span class="keyword">int</span> mi = lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span> (prefix[mi] &lt; prefix[i] + logk - <span class="number">1e-9</span>)</span><br><span class="line">				lo = mi + <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				hi = mi;</span><br><span class="line">		}</span><br><span class="line">		ans += lo - i - <span class="number">1</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> ans;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•äºŒï¼š-Sliding-Window-æ»‘åŠ¨çª—å£"><a href="#ğŸŒ¸è§£æ³•äºŒï¼š-Sliding-Window-æ»‘åŠ¨çª—å£" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼š Sliding Window æ»‘åŠ¨çª—å£"></a>ğŸŒ¸è§£æ³•äºŒï¼š Sliding Window æ»‘åŠ¨çª—å£</h2><h3 id="ğŸåˆ†æ-1"><a href="#ğŸåˆ†æ-1" class="headerlink" title="ğŸåˆ†æ"></a>ğŸåˆ†æ</h3><p>å¯¹åº”æ¯ä¸ªright, æ‰¾åˆ°æ»¡è¶³ä»(left,right)ä¹‹é—´ä¹˜ç§¯å°äºkçš„æœ€å°çš„leftã€‚æ¯”å¦‚(2,6) ä¹Ÿæ»¡è¶³ï¼Œ(3,6) ä¹Ÿæ»¡è¶³,æˆ‘ä»¬è¦æ‰¾çš„leftæ˜¯2ã€‚ä¸è¿‡å…¶å®è¿™å¥è¯ä¸è¯´ä¹Ÿè¡Œè¿˜å®¹æ˜“è®©äººè¯¯è§£ï¼Œå› ä¸ºæˆ‘ä»¬çš„åˆ¤æ–­æ˜¯è®©righté€æ¸å‘å³èµ°ï¼Œå½“(left, right) ä¹‹é—´çš„ä¹˜ç§¯å°äºkæˆ‘ä»¬å°±ä¸æ‰¾äº†ï¼Œå› æ­¤è‚¯å®šå°±æ˜¯æœ€å°çš„leftã€‚</p>
<h3 id="ğŸæ ¸å¿ƒæ€æƒ³"><a href="#ğŸæ ¸å¿ƒæ€æƒ³" class="headerlink" title="ğŸæ ¸å¿ƒæ€æƒ³:"></a>ğŸæ ¸å¿ƒæ€æƒ³:</h3><p>å§‹ç»ˆä¿è¯å½“å‰çª—å£ä¸­ä¹˜ç§¯å°äºkã€‚å½“å‰çª—å£ä¸‹çš„ä¹˜ç§¯å°äºkç­‰ä»·äºå½“å‰çª—å£ä¸‹å­æ•°ç»„çš„å„ä¸ªè¿ç»­å­æ•°ç»„ä¹˜ç§¯ä¹Ÿå°äºkã€‚ä¸¾ä¸ªä¾‹å­:å½“çª—å£ä¸º[10,5,2]æ—¶, 10,5,2&lt;k, é‚£ä¹ˆéšä¾¿ä»å…¶ä¸­æ‹¿å‡ºä¸¤ä¸ªæˆ–ä¸€ä¸ªæˆ–ä¸‰ä¸ªæ˜¯ä¸æ˜¯éƒ½å°äºkã€‚<br>æ¥ä¸‹æ¥è¿™é‡Œæœ‰ä¸ªå¾ˆé‡è¦çš„æ¡ä»¶æ˜¯è¦è¿ç»­çš„å­æ•°ç»„ä¹Ÿå°±æ˜¯è¯´[10,5,2]ä¸­ä¸èƒ½å–[10,2]å› ä¸ºä¸è¿ç»­ã€‚<br>æ€è·¯å¾ˆæ˜æ˜¾äº†:</p>
<ol>
<li>ä½¿ç”¨å˜é‡countå­˜å‚¨ä¸ªæ•°</li>
<li>æˆ‘ä»¬è®©å³æŒ‡é’ˆä¸æ–­å‰è¿›ï¼Œå½“çª—å£ ä¹˜ç§¯å°äºkæ—¶,å°±è®©count+=çª—å£è¿ç»­å­æ•°ç»„ä¸ªæ•°</li>
<li>å½“çª—å£ä¹˜ç§¯å¤§äºç­‰äºkæ—¶,æˆ‘ä»¬å°±è®©ä¹˜ç§¯å»é™¤å·¦æŒ‡é’ˆå¯¹åº”çš„å€¼ï¼Œç„¶åå·¦æŒ‡é’ˆå³ç§»,ç›´è‡³ä¹˜ç§¯å°äºkã€‚</li>
</ol>
<p>é‚£ä¹ˆçª—å£ä¸­è¿ç»­å­æ•°ç»„çš„ä¸ªæ•°æ˜¯å¤šå°‘å‘¢?<br><code>count+=right-left+1</code> (æ­¤å¦‚ä¾‹å­ä¸­[10, 5, 2, 6],åˆå§‹æƒ…å†µçª—å£ä¸­åªæœ‰10,æ‰€ä»¥count+1, ä¹‹åçª—å£ä¸­åŠ ä¸Šäº†5,å˜æˆ[10,5],å…¶ä¸­è¿ç»­å­æ•°ç»„æœ‰: ((10),(5),(10,5)ï¼Œ, ä¹‹å‰çš„10å·²ç»åŠ è¿‡äº†ï¼Œå› æ­¤æ¯æ¬¡åŠ è¿›å»çš„è¿ç»­å­æ•°ç»„æ˜¯ä»¥å½“å‰rightå¯¹åº”çš„æ•°ä¸ºé¦–çš„è¿ç»­å­æ•°ç»„ï¼Œå†ä»¥[10,5,2], ä»¥2ä¸ºé¦–å°±æ˜¯(2,2,5,2,5,10),å¯¹åº”ä¸º<code>right-left+1.</code></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSubarrayProductLessThanK</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>{</span><br><span class="line">	 <span class="keyword">if</span>(k &lt;= <span class="number">1</span>) {</span><br><span class="line">		 <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	 }</span><br><span class="line">	 <span class="keyword">int</span> now = <span class="number">1</span>, left = <span class="number">0</span>, count = <span class="number">0</span>;</span><br><span class="line">	 <span class="keyword">for</span>(<span class="keyword">int</span> right = <span class="number">0</span>; right &lt; nums.length; right++) {</span><br><span class="line">		 now *= nums[right];</span><br><span class="line">		 <span class="keyword">while</span>(now &gt;= k) {</span><br><span class="line">			 now /= nums[left++];</span><br><span class="line">		 }</span><br><span class="line">		 count += right - left + <span class="number">1</span>;</span><br><span class="line">	 }</span><br><span class="line">	 <span class="keyword">return</span> count;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>åˆ†æ²»</tag>
        <tag>äºŒåˆ†æœç´¢</tag>
        <tag>java</tag>
        <tag>æ»‘çª—</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ†æ²»_é¢è¯•é¢˜.08.03_é­”æœ¯ç´¢å¼•</title>
    <url>/Magic_index/</url>
    <content><![CDATA[<h3 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h3><p>ğŸé­”æœ¯ç´¢å¼•ã€‚ åœ¨æ•°ç»„A[0â€¦n-1]ä¸­ï¼Œæœ‰æ‰€è°“çš„é­”æœ¯ç´¢å¼•ï¼Œæ»¡è¶³æ¡ä»¶A[i] = iã€‚ç»™å®šä¸€ä¸ªæœ‰åºæ•´æ•°æ•°ç»„ï¼Œç¼–å†™ä¸€ç§æ–¹æ³•æ‰¾å‡ºé­”æœ¯ç´¢å¼•ï¼Œè‹¥æœ‰çš„è¯ï¼Œåœ¨æ•°ç»„Aä¸­æ‰¾å‡ºä¸€ä¸ªé­”æœ¯ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿”å›-1ã€‚è‹¥æœ‰å¤šä¸ªé­”æœ¯ç´¢å¼•ï¼Œè¿”å›ç´¢å¼•å€¼æœ€å°çš„ä¸€ä¸ªã€‚</p>
<p>ç¤ºä¾‹1:</p>
<a id="more"></a>

<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [0, 2, 3, 4, 5]</span><br><span class="line">è¾“å‡ºï¼š0</span><br><span class="line">è¯´æ˜: 0ä¸‹æ ‡çš„å…ƒç´ ä¸º0</span><br><span class="line">ç¤ºä¾‹2:</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šnums = [1, 1, 1]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></tbody></table></figure>

<p>æç¤º:</p>
<p><code>numsé•¿åº¦åœ¨[1, 1000000]ä¹‹é—´</code></p>
<h2 id="ğŸŒ¸æ–¹æ³•ï¼šæš´åŠ›å‰ªæ"><a href="#ğŸŒ¸æ–¹æ³•ï¼šæš´åŠ›å‰ªæ" class="headerlink" title="ğŸŒ¸æ–¹æ³•ï¼šæš´åŠ›å‰ªæ"></a>ğŸŒ¸æ–¹æ³•ï¼šæš´åŠ›å‰ªæ</h2><h4 id="ç®—æ³•æµç¨‹"><a href="#ç®—æ³•æµç¨‹" class="headerlink" title="ç®—æ³•æµç¨‹"></a>ç®—æ³•æµç¨‹</h4><ul>
<li>ä¸åšè¯¦ç»†ä»‹ç»ï¼Œç®€å•çš„ä»£ç ä¸€çœ‹å°±æ‡‚</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMagicIndex</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(res &lt; nums.length) {</span><br><span class="line">        <span class="keyword">if</span>(res == nums[res]) {</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span>(res &lt; nums[res]) {</span><br><span class="line">            res = nums[res];</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            res++;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>python</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMagicIndex</span><span class="params">(self, nums: list[int])</span> -&gt; int:</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> res &lt; len(nums):</span><br><span class="line">            <span class="keyword">if</span> res == nums[res]:</span><br><span class="line">                <span class="keyword">return</span> res</span><br><span class="line">            <span class="keyword">elif</span> res &lt; nums[res]:</span><br><span class="line">                res = nums[res]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•äºŒï¼šåˆ†æ²»å‰ªæ"><a href="#ğŸŒ¸è§£æ³•äºŒï¼šåˆ†æ²»å‰ªæ" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼šåˆ†æ²»å‰ªæ"></a>ğŸŒ¸è§£æ³•äºŒï¼šåˆ†æ²»å‰ªæ</h2><h4 id="ğŸæ€è·¯ä¸ç®—æ³•"><a href="#ğŸæ€è·¯ä¸ç®—æ³•" class="headerlink" title="ğŸæ€è·¯ä¸ç®—æ³•"></a>ğŸæ€è·¯ä¸ç®—æ³•</h4><p>æœ¬æ–¹æ³•ä¼šè¿›è¡Œä¸€å®šç¨‹åº¦çš„å‰ªæï¼Œåœ¨ä¸€äº›æƒ…å†µä¸‹ä¼šè¾¾åˆ°è¾ƒä¼˜çš„æ—¶é—´å¤æ‚åº¦ï¼Œåœ¨æœ€å·®æƒ…å†µä¸‹ä»ä¼šé€€åŒ–æˆçº¿æ€§çš„æ—¶é—´å¤æ‚åº¦ï¼Œè¿™é‡Œæˆ‘ä»¬åˆ†ä¸¤ç§æƒ…å†µè®¨è®ºã€‚</p>
<p>ç¬¬ä¸€ç§æƒ…å†µæ˜¯æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ç­”æ¡ˆã€‚æˆ‘ä»¬å‡è®¾è¿™ä¸ªç­”æ¡ˆä¸ºi,é‚£<br>ä¹ˆæ„å‘³ç€[0â€¦- 1]çš„å€¼å‡å°äºè‡ªèº«çš„ä¸‹æ ‡ï¼Œ[i+ 1â€¦n- 1]çš„å€¼å‡å¤§äºè‡ªèº«çš„ä¸‹æ ‡ã€‚æˆ‘ä»¬å°†æ•´ä¸ªæ•°ç»„æ¯ä¸ªå…ƒç´ å‡å»å…¶è‡ªèº«æ‰€åœ¨çš„ä¸‹æ ‡ï¼Œé‚£ä¹ˆæœ€åçš„ç­”æ¡ˆå³ä¸º0æ‰€åœ¨çš„ä¸‹æ ‡ï¼Œä¸”è„0ä¹‹å‰çš„å…ƒç´ å‡ä¸ºè´Ÿæ•°ï¼Œ0ä¹‹åçš„å…ƒç´ å‡ä¸ºæ­£æ•°ã€‚ä»¥[-1,0,2,4,5] ä¸ºä¾‹ï¼Œå‡å»è‡ªèº«ä¸‹æ ‡ä»¥åä»¥åå¾—åˆ°[-1,-1,0,1,1]ï¼Œ æ•´ä¸ªæ•°ç»„æ˜¯å…·æœ‰å•è°ƒæ€§çš„ï¼Œç›´æ¥äºŒåˆ†æŸ¥æ‰¾å³èƒ½åœ¨O(log n)çš„æ—¶é—´å†…æ‰¾åˆ°ç­”æ¡ˆ0æ‰€åœ¨çš„ä¸‹æ ‡ã€‚</p>
<p>ç¬¬äºŒç§æƒ…å†µæ˜¯æ•°ç»„ä¸­å­˜åœ¨å¤šä¸ªæ»¡è¶³æ¡ä»¶çš„ç­”æ¡ˆï¼Œæ­¤æ—¶æˆ‘ä»¬å‘ç°æ•´ä¸ªæ•°ç»„ä¸å…·æœ‰ä»»ä½•æ€§è´¨ã€‚ä»¥[0, 0, 2, 2, 5]ä¸ºä¾‹,æˆ‘ä»¬ä»è¿›è¡Œæ¬¡å°†æ¯ä¸ªå…ƒç´ å‡å»å…¶è‡ªèº«ä¸‹æ ‡çš„æ“ä½œï¼Œå¾—åˆ°[0,-1,0,-1,1]ã€‚ç›®æ ‡æ˜¯è¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªå‡ºç°çš„ 0,è€Œç”±äºæ•°ç»„æ²¡æœ‰å•è°ƒæ€§,è¿™é‡Œæ— æ³•ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾,ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä¾æ®æ­¤æ¥è¿›è¡Œä¸€å®šç¨‹åº¦çš„å‰ªæï¼Œæˆ‘ä»¬å‰ªæçš„ç­–ç•¥ä¸º:</p>
<ul>
<li>æ¯æ¬¡æˆ‘ä»¬é€‰æ‹©æ•°ç»„çš„ä¸­é—´å…ƒç´ ,å¦‚æœå½“å‰ä¸­é—´å…ƒç´ æ˜¯æ»¡è¶³æ¡ä»¶çš„ç­”æ¡ˆï¼Œé‚£ä¹ˆè¿™ä¸ªä½ç½®å¾€åçš„å…ƒç´ æˆ‘ä»¬éƒ½ä¸å†è€ƒè™‘ï¼Œåªè¦å¯»æ‰¾å·¦åŠéƒ¨åˆ†æ˜¯å¦æœ‰æ»¡<br>æ¡ä»¶çš„ç­”æ¡ˆå³å‘µã€‚</li>
<li>å¦åˆ™æˆ‘ä»¬éœ€è¦æŸ¥çœ‹å·¦åŠéƒ¨åˆ†æ˜¯å¦æœ‰æ»¡è¶³æ¡ä»¶çš„ç­”æ¡ˆ,å¦‚æœæ²¡æœ‰çš„è¯æˆ‘ä»¬ä»ç„¶éœ€è¦åœ¨å³åŠè¾¹å¯»æ‰¾ï¼Œä½¿ç”¨çš„ç­–ç•¥åŒä¸Šã€‚</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥ä¾é æ­¤ç­–ç•¥å®šä¹‰-ä¸ªé€’å½’å‡½æ•°: <code>getAnswer(numsï¼Œ 1eft, right)</code>è¿”å›æ•°ç»„<code>nums</code>çš„ä¸‹æ ‡èŒƒå›´<code>[left, right]</code> ä¸­ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ç­”æ¡ˆï¼Œ å¦‚æœæ²¡æœ‰è¿”å›-1ã€‚æ¯æ¬¡é€‰æ‹©ä¸­é—´çš„ä½ç½®mid,æ­¤æ—¶ç›´æ¥å…ˆé€’å½’è°ƒç”¨æ•°ç»„å·¦åŠéƒ¨åˆ†<code>getAnswer (numsï¼Œleft, mid ä¸€1)</code>å¾—åˆ°è¿”å›å€¼<code>leftAnswer,</code>å¦‚æœå­˜åœ¨åˆ™ç›´æ¥è¿”å›ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™æ­¤è¾ƒ<code>nums[mid]</code>å’Œmidå¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰åˆ™è¿”å›mid,å¦åˆ™éœ€è¦é€’å½’è°ƒç”¨<code>getAnswer (nums, mid + 1ï¼Œright)</code></p>
<p>æ˜¾ç„¶ï¼Œæ­¤å‰ªæç­–ç•¥åœ¨[- 1, 0, 1,2, 4]è¿™ç§ç­”æ¡ˆä¸ºæ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹ä¼šé€€åŒ–æˆçº¿æ€§çš„æ—¶é—´å¤æ‚åº¦ï¼Œä½†æ˜¯åœ¨ä¸€äº›æƒ…å†µä¸‹ä¼šæœ‰ä¸é”™çš„è¡¨ç°ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMagicIndex</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> getAnswer(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAnswer</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (left &gt; right) {</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">int</span> mid = (right - left) / <span class="number">2</span> + left;</span><br><span class="line">    <span class="keyword">int</span> leftAnswer = getAnswer(nums, left, mid - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (leftAnswer != -<span class="number">1</span>) {</span><br><span class="line">        <span class="keyword">return</span> leftAnswer;</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] == mid) {</span><br><span class="line">        <span class="keyword">return</span> mid;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> getAnswer(nums, mid + <span class="number">1</span>, right);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution1</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMagicIndex</span><span class="params">(self, nums: list[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">getAnser</span><span class="params">(nums: list[int], left: int, right: int)</span> -&gt; int:</span></span><br><span class="line">            <span class="keyword">if</span> left &gt; right:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">            mid = left + (right - left) // <span class="number">2</span>;</span><br><span class="line">            leftAnswer = getAnser(nums, left, mid - <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> leftAnswer != <span class="number">-1</span>:</span><br><span class="line">                <span class="keyword">return</span> leftAnswer</span><br><span class="line">            <span class="keyword">elif</span> nums[mid] == mid:</span><br><span class="line">                <span class="keyword">return</span> mid</span><br><span class="line">            <span class="keyword">return</span> getAnser(nums, mid + <span class="number">1</span>, right)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> getAnser(nums, <span class="number">0</span>, len(nums) - <span class="number">1</span>)</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•ä¸‰ï¼šäºŒåˆ†å‰ªæ"><a href="#ğŸŒ¸è§£æ³•ä¸‰ï¼šäºŒåˆ†å‰ªæ" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸‰ï¼šäºŒåˆ†å‰ªæ"></a>ğŸŒ¸è§£æ³•ä¸‰ï¼šäºŒåˆ†å‰ªæ</h2><h4 id="ğŸæ€è·¯ä¸ç®—æ³•-1"><a href="#ğŸæ€è·¯ä¸ç®—æ³•-1" class="headerlink" title="ğŸæ€è·¯ä¸ç®—æ³•"></a>ğŸæ€è·¯ä¸ç®—æ³•</h4><p>å¯¹äº[0, 1,4, 4, 4]è¿™ä¸ªæ•°ç»„ï¼Œä½¿ç”¨äºŒåˆ†æ³•æ‹¿å‡ºä½äºä¸­é—´çš„<code>idx</code>ä¸º2çš„æ•°å­—<br>4,ç„¶åæˆ‘ä»¬å‘ç°<code>nums[idx] &gt; idx</code>æ­¤åˆ»æˆ‘ä»¬é™¤äº†å¯ä»¥ç¡®è®¤<code>idx2</code>ä¸æ˜¯é­”æœ¯ç´¢å¼•|å¤–,è¿˜å¯ä»¥ç¡®å®š<code>idx3</code>ä¹Ÿè‚¯å®šä¸æ˜¯é­”æœ¯ç´¢å¼•ã€‚å› ä¸ºå‡å¦‚<code>idx3</code>æ˜¯é­”æœ¯ç´¢çš„è¯é‚£<code>idx3</code>çš„å€¼å°±å¿…é¡»æ˜¯3, 0è¿™å°†å¯¼è‡´<code>nums[idx3] &lt; nums[dx2],</code>å’Œé¢˜ç›®çš„é€’å¢æ•°ç»„â€çŸ›ç›¾ã€‚<br>æ‰€ä»¥ï¼Œæ­¤åˆ»é­”æœ¯ç´¢å¼•åªå¯èƒ½å‡ºç°åœ¨<code>[0, mid - 1</code>]å’Œ<code>[nums[mid], nums.length -1]</code>è¿™ä¸¤ä¸ªèŒƒå›´é‡Œã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">findMagicIndex</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">	<span class="keyword">return</span> helper(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">helper</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="keyword">if</span> (i &gt; j) {</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span> mid = (i + j) &gt;&gt;&gt; <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span> (nums[mid] &lt; mid) {</span><br><span class="line">		<span class="keyword">int</span> ans1 = helper(nums, i, nums[i]);</span><br><span class="line">		<span class="keyword">int</span> ans2 = helper(nums, mid + <span class="number">1</span>, j);</span><br><span class="line">		<span class="keyword">return</span> ans1 != -<span class="number">1</span> ? ans1 : ans2;</span><br><span class="line">	} <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; mid) {</span><br><span class="line">		<span class="keyword">int</span> ans1 = helper(nums, i, mid - <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">int</span> ans2 = helper(nums, nums[mid], j);</span><br><span class="line">		<span class="keyword">return</span> ans1 != -<span class="number">1</span> ? ans1 : ans2;</span><br><span class="line">	} <span class="keyword">else</span> {</span><br><span class="line">		<span class="keyword">int</span> ans = helper(nums, <span class="number">0</span>, mid - <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">return</span> ans != -<span class="number">1</span> ? ans : mid;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>é¢è¯•é¢˜</category>
      </categories>
      <tags>
        <tag>åˆ†æ²»</tag>
        <tag>äºŒåˆ†æœç´¢</tag>
        <tag>java</tag>
        <tag>python</tag>
        <tag>å‰ªæ</tag>
      </tags>
  </entry>
  <entry>
    <title>äºŒåˆ†æŸ¥æ‰¾_æ¨¡æ¿å­¦ä¹ (å‡æ²»æ€æƒ³)</title>
    <url>/Binary_search_template/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¦–å…ˆç”¨ä¸€ä¸ªé¢˜è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾çš„å¼•å…¥"><a href="#ğŸŒ¸é¦–å…ˆç”¨ä¸€ä¸ªé¢˜è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾çš„å¼•å…¥" class="headerlink" title="ğŸŒ¸é¦–å…ˆç”¨ä¸€ä¸ªé¢˜è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾çš„å¼•å…¥"></a>ğŸŒ¸é¦–å…ˆç”¨ä¸€ä¸ªé¢˜è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾çš„å¼•å…¥</h2><p>ğŸç»™å®šä¸€ä¸ªæ’åºæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­æ— é‡å¤å…ƒç´ ã€‚</p>
<p>ç¤ºä¾‹ 1:</p>
<p><code>è¾“å…¥: [1,3,5,6], 5</code><br><code>è¾“å‡º: 2</code><br>ç¤ºä¾‹ 2:</p>
<a id="more"></a>

<p><code>è¾“å…¥: [1,3,5,6], 2</code><br><code>è¾“å‡º: 1</code><br>ç¤ºä¾‹ 3:</p>
<p><code>è¾“å…¥: [1,3,5,6], 7</code><br><code>è¾“å‡º: 4</code><br>ç¤ºä¾‹ 4:</p>
<p><code>è¾“å…¥: [1,3,5,6], 0</code><br><code>è¾“å‡º: 0</code></p>
<h2 id="ğŸŒ¸åˆ†æ"><a href="#ğŸŒ¸åˆ†æ" class="headerlink" title="ğŸŒ¸åˆ†æ"></a>ğŸŒ¸åˆ†æ</h2><h2 id="ğŸŒ¸æ–¹æ³•ä¸€ï¼šæš´åŠ›è§£æ³•"><a href="#ğŸŒ¸æ–¹æ³•ä¸€ï¼šæš´åŠ›è§£æ³•" class="headerlink" title="ğŸŒ¸æ–¹æ³•ä¸€ï¼šæš´åŠ›è§£æ³•"></a>ğŸŒ¸æ–¹æ³•ä¸€ï¼šæš´åŠ›è§£æ³•</h2><ul>
<li><p>ä»æ•°ç»„çš„å·¦è¾¹éå†åˆ°å³è¾¹ï¼Œå¦‚æœé‡åˆ°ç›¸ç­‰çš„å…ƒç´ ï¼Œç›´æ¥è¿”å›ä¸‹æ ‡ï¼›</p>
</li>
<li><p>é‡åˆ°ç¬¬ 1 ä¸ªä¸¥æ ¼å¤§äº target çš„å…ƒç´ ï¼Œè¿”å›è¿™ä¸ªå…ƒç´ çš„ä¸‹æ ‡ï¼›</p>
</li>
<li><p>å¦‚æœæ•°ç»„é‡Œæ‰€æœ‰çš„å…ƒç´ éƒ½ä¸¥æ ¼å°äº targetï¼Œè¿”å›æ•°ç»„çš„é•¿åº¦ lenã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">searchInsert</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>{</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) {</span><br><span class="line">        <span class="keyword">if</span>(target &lt;= nums[i]){</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> nums.length;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>python</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">searchInsert</span><span class="params">(self, nums: List[int], target: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">            <span class="keyword">if</span> nums[i] &gt;= target:</span><br><span class="line">                <span class="keyword">return</span> i</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> len(nums)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">searchInsert</span><span class="params">(self, nums: List[int], target: int)</span> -&gt; int:</span></span><br><span class="line">    <span class="keyword">if</span> target <span class="keyword">in</span> list:</span><br><span class="line">        <span class="keyword">return</span> list.index(target)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        list.append(target)</span><br><span class="line">        list.sort()</span><br><span class="line">        <span class="keyword">return</span> list.index(target)</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸æ–¹æ³•äºŒï¼š-äºŒåˆ†æŸ¥æ‰¾"><a href="#ğŸŒ¸æ–¹æ³•äºŒï¼š-äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="ğŸŒ¸æ–¹æ³•äºŒï¼š äºŒåˆ†æŸ¥æ‰¾"></a>ğŸŒ¸æ–¹æ³•äºŒï¼š äºŒåˆ†æŸ¥æ‰¾</h2><p>ğŸåˆ†æï¼šåœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æ’å…¥å…ƒç´ çš„ä½ç½®ï¼Œæ˜¾ç„¶å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚è¿™ç¯‡é¢˜è§£æä¾›çš„æ€è·¯æ˜¯ã€Œæ’é™¤æ³•ã€ï¼Œæ€è·¯æ˜¯ï¼š<strong>åœ¨å¾ªç¯çš„è¿‡ç¨‹ä¸­ï¼Œä¸æ–­æ’é™¤ä¸éœ€è¦çš„è§£ï¼Œæœ€åå‰©ä¸‹çš„é‚£ä¸ªå…ƒç´ çš„ä½ç½®å°±ä¸€å®šæ˜¯æ’å…¥å…ƒç´ çš„ä½ç½®ã€‚</strong></p>
<p>å…·ä½“æ¥è¯´ï¼š</p>
<ul>
<li>é¦–å…ˆï¼Œæ’å…¥ä½ç½®æœ‰å¯èƒ½åœ¨æ•°ç»„çš„æœ«å°¾ï¼ˆé¢˜ç›®ä¸­çš„ç¤ºä¾‹ 3ï¼‰ï¼Œéœ€è¦å•ç‹¬åˆ¤æ–­ï¼Œæ­¤æ—¶è¿”å›æ•°ç»„çš„é•¿åº¦ï¼›</li>
<li>å¦åˆ™ï¼Œæ ¹æ®ç¤ºä¾‹å’Œæš´åŠ›è§£æ³•çš„åˆ†æï¼Œæ’å…¥çš„ä½ç½®æ˜¯<strong>å¤§äºç­‰äº</strong> <code>target</code> çš„<strong>ç¬¬ 1 ä¸ªå…ƒç´ çš„ä½ç½®ã€‚</strong></li>
</ul>
<p>å› æ­¤ï¼Œ<strong>ä¸¥æ ¼å°äº</strong> <code>target</code> <strong>çš„å…ƒç´ ä¸€å®šä¸æ˜¯è§£</strong>ï¼Œåœ¨å¾ªç¯ä½“ä¸­å°†å·¦å³è¾¹ç•Œ <code>left</code> å’Œ <code>right</code> é€æ¸å‘ä¸­é—´é æ‹¢ï¼Œæœ€å left å’Œ right ç›¸é‡ï¼Œåˆ™æ‰¾åˆ°äº†æ’å…¥å…ƒç´ çš„ä½ç½®ã€‚</p>
<p>æ’å…¥å…ƒç´ çš„ä½ç½®å¯èƒ½åœ¨æ•°ç»„çš„æœ«å°¾ä¸‹æ ‡çš„ä¸‹ä¸€ä¸ªï¼ˆè§ä¾‹ 3ï¼‰ï¼Œå› æ­¤åœ¨åˆå§‹åŒ–å³è¾¹ç•Œ <code>right</code> çš„æ—¶å€™ï¼Œå¯ä»¥è®¾ç½®æˆä¸ºæ•°ç»„çš„é•¿åº¦ <code>len</code>,æ ¹æ®è¿™ä¸ªæ€è·¯ï¼Œå¯ä»¥å†™å‡ºå¦‚ä¸‹ä»£ç ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">searchInsert</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>{</span><br><span class="line">       <span class="keyword">int</span> len = nums.length;</span><br><span class="line">       <span class="keyword">if</span> (len == <span class="number">0</span>) {</span><br><span class="line">           <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">       }</span><br><span class="line">       </span><br><span class="line">       <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">       <span class="comment">// å› ä¸ºæœ‰å¯èƒ½æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®çš„ä¸‹ä¸€ä¸ªæ˜¯æˆ‘ä»¬è¦æ‰¾çš„ï¼Œæ•…å³è¾¹ç•Œæ˜¯ len</span></span><br><span class="line">       <span class="keyword">int</span> right = len;</span><br><span class="line">       <span class="keyword">while</span> (left &lt; right) {</span><br><span class="line">           <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">           <span class="comment">// å°äº target çš„å…ƒç´ ä¸€å®šä¸æ˜¯è§£</span></span><br><span class="line">           <span class="keyword">if</span> (nums[mid] &lt; target) {</span><br><span class="line">               <span class="comment">// ä¸‹ä¸€è½®æœç´¢çš„åŒºé—´æ˜¯ [mid + 1, right]</span></span><br><span class="line">               left = mid + <span class="number">1</span>;</span><br><span class="line">           } <span class="keyword">else</span> {</span><br><span class="line">             	<span class="comment">// ä¸‹ä¸€è½®æœç´¢çš„åŒºé—´æ˜¯ [left, mid]</span></span><br><span class="line">               right = mid;</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> left;</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> List</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">searchInsert</span><span class="params">(self, nums: List[int], target: int)</span> -&gt; int:</span></span><br><span class="line">        size = len(nums)</span><br><span class="line">        <span class="keyword">if</span> size == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        left = <span class="number">0</span></span><br><span class="line">        <span class="comment"># å› ä¸ºæœ‰å¯èƒ½æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®çš„ä¸‹ä¸€ä¸ªæ˜¯æˆ‘ä»¬è¦æ‰¾çš„ï¼Œæ•…å³è¾¹ç•Œæ˜¯ len</span></span><br><span class="line">        right = size</span><br><span class="line">        <span class="keyword">while</span> left &lt; right:</span><br><span class="line">            mid = (left + right) // <span class="number">2</span></span><br><span class="line">            <span class="comment"># ä¸¥æ ¼å°äº target çš„å…ƒç´ ä¸€å®šä¸æ˜¯è§£</span></span><br><span class="line">            <span class="keyword">if</span> nums[mid] &lt; target:</span><br><span class="line">                <span class="comment"># ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ [mid + 1, right]</span></span><br><span class="line">                left = mid + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                right = mid</span><br><span class="line">        <span class="keyword">return</span> left</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾ç®—æ³•ç®€ä»‹"><a href="#ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾ç®—æ³•ç®€ä»‹" class="headerlink" title="ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾ç®—æ³•ç®€ä»‹"></a>ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾ç®—æ³•ç®€ä»‹</h2><hr>
<p><img src="https://s1.ax1x.com/2020/07/17/UsKbVA.png" alt=""></p>
<h2 id="ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾çš„æ€æƒ³"><a href="#ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾çš„æ€æƒ³" class="headerlink" title="ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾çš„æ€æƒ³"></a>ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾çš„æ€æƒ³</h2><p>å‡è€Œæ²»ä¹‹ï¼Œå³å°†å¤§è§„æ¨¡é—®é¢˜è½¬åŒ–æˆå°è§„æ¨¡é—®é¢˜ã€‚å‡è€Œæ²»ä¹‹æ˜¯åˆ†è€Œæ²»ä¹‹çš„ç‰¹ä¾‹ï¼Œå°†å¤§é—®é¢˜åˆ’åˆ†æˆè‹¥å¹²ä¸ªå­é—®é¢˜ä»¥åï¼Œæœ€ç»ˆç­”æ¡ˆåªåœ¨å…¶ä¸­ä¸€ä¸ªå­é—®é¢˜é‡Œã€‚</p>
<h2 id="ğŸŒ¸ç”Ÿæ´»ä¸­çš„äºŒåˆ†æŸ¥æ‰¾"><a href="#ğŸŒ¸ç”Ÿæ´»ä¸­çš„äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="ğŸŒ¸ç”Ÿæ´»ä¸­çš„äºŒåˆ†æŸ¥æ‰¾"></a>ğŸŒ¸ç”Ÿæ´»ä¸­çš„äºŒåˆ†æŸ¥æ‰¾</h2><p>ä»¥å‰å¤®è§†æœ‰ä¸€æ¡£èŠ‚ç›®å«ã€Šå¹¸è¿ 52ã€‹ï¼Œé‡Œé¢æœ‰ä¸ªæ¸¸æˆã€ŒçŒœä»·æ ¼ã€ï¼Œä¸»æŒäººè¯´çŒœé«˜äº†ï¼Œè§‚ä¼—å°±å¾€ä½äº†çŒœï¼Œä¸»æŒäººè¯´çŒœä½äº†ï¼Œè§‚ä¼—å°±å¾€é«˜äº†çŒœï¼Œç›´è‡³çŒœä¸­ä¸ºæ­¢ã€‚</p>
<p>ç¨‹åºå‘˜å®šä½ bugï¼Œç»å¸¸æ˜¯åœ¨ä¸€äº›é€»è¾‘å…³é”®ç‚¹åšä¸€äº›å˜é‡çš„æ‰“å°è¾“å‡ºï¼Œä»¥é€æ¸ç¼©å°æŸ¥æ‰¾èŒƒå›´ï¼Œæœ€ç»ˆå®šä½å‡ºé—®é¢˜çš„ä»£ç è¡Œï¼ˆæˆ–è€…å—ï¼‰ã€‚</p>
<h2 id="ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾çš„åŸºæœ¬é—®é¢˜ï¼ˆäºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿ä¸€ï¼‰"><a href="#ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾çš„åŸºæœ¬é—®é¢˜ï¼ˆäºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿ä¸€ï¼‰" class="headerlink" title="ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾çš„åŸºæœ¬é—®é¢˜ï¼ˆäºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿ä¸€ï¼‰"></a>ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾çš„åŸºæœ¬é—®é¢˜ï¼ˆäºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿ä¸€ï¼‰</h2><p>ã€ŒåŠ›æ‰£ã€ç¬¬ 704 é¢˜ï¼šäºŒåˆ†æŸ¥æ‰¾</p>
<p>æ€è·¯ï¼šå…ˆçœ‹ä¸­é—´ä½ç½®çš„å…ƒç´ ï¼Œå¦‚æœæ°å¥½ç­‰äºï¼Œåˆ™ç›´æ¥è¿”å›ä¸­é—´ä½ç½®çš„ä¸‹æ ‡ï¼Œå¦åˆ™çœ‹ä¸­é—´ä½ç½®å…ƒç´ çš„å€¼ nums[mid] å’Œ target çš„å…³ç³»å†³å®šä¸‹ä¸€è½®åœ¨å“ªä¸€ä¾§å¯»æ‰¾ç›®æ ‡å…ƒç´ ã€‚</p>
<p>è¿™ä¸ªæ€è·¯æŠŠå¾…æŸ¥æ‰¾æ•°ç»„åˆ†ä¸ºäº† 3 ä¸ªéƒ¨åˆ†ï¼šmid æ‰€åœ¨ä½ç½®ï¼Œmid çš„å·¦è¾¹ï¼Œmid çš„å³è¾¹ã€‚æ ¹æ® mid å…ƒç´ ä¸ç›®æ ‡å…ƒç´ çš„å€¼çš„å¤§å°å…³ç³»ï¼Œå¦‚æœ nums[mid] æ°å¥½ç­‰äº target ç›´æ¥è¿”å›å°±å¥½äº†ï¼Œå¦åˆ™æ ¹æ®ä¸ç­‰å…³ç³»ï¼Œç¡®å®šä¸‹ä¸€è½®æœç´¢çš„åŒºé—´åœ¨å“ªé‡Œã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> len = nums.length;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = len - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// ç›®æ ‡å…ƒç´ å¯èƒ½å­˜åœ¨åœ¨åŒºé—´ [left, right]</span></span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right) {</span><br><span class="line">            <span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] == target) {</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            } <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target) {</span><br><span class="line">                <span class="comment">// ç›®æ ‡å…ƒç´ å¯èƒ½å­˜åœ¨åœ¨åŒºé—´ [mid + 1, right]</span></span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                <span class="comment">// ç›®æ ‡å…ƒç´ å¯èƒ½å­˜åœ¨åœ¨åŒºé—´ [left, mid - 1]</span></span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¯´æ˜ï¼š</p>
<ul>
<li><p>å¾ªç¯å¯ä»¥ç»§ç»­çš„æ¡ä»¶æ˜¯ while (left &lt;= right) ï¼Œè¡¨ç¤ºå½“ left == right æˆç«‹çš„æ—¶å€™ï¼Œè¿˜æœ‰ä¸€ä¸ªå…ƒç´ ï¼Œå³ä¸‹æ ‡ leftï¼ˆrightï¼‰ä½ç½®çš„å…ƒç´ è¿˜æ²¡æœ‰çœ‹åˆ°ï¼Œéœ€è¦ç»§ç»­æŸ¥çœ‹è¿™ä¸ªå…ƒç´ çš„å€¼ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯ç›®æ ‡å…ƒç´ ï¼›</p>
</li>
<li><p>å…³äºå–ä¸­é—´æ•° int mid = (left + right) / 2; åœ¨ left + right å¾ˆå¤§çš„æ—¶å€™ä¼šå‘ç”Ÿæ•´å½¢æº¢å‡ºï¼Œä¸€èˆ¬è¿™æ ·æ”¹å†™ï¼š</p>
</li>
</ul>
<p><code>int mid = left + (right - left) / 2;</code></p>
<p>è¿™ä¸¤ç§å†™æ³•äº‹å®ä¸Šæ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œåœ¨ left å’Œ right éƒ½è¡¨ç¤ºæ•°ç»„ä¸‹æ ‡çš„æ—¶å€™ï¼Œå‡ ä¹ä¸ä¼šè¶Šç•Œï¼Œå› ä¸ºç»å¤§å¤šæ•°æƒ…å†µä¸‹ä¸ä¼šå¼€é‚£ä¹ˆé•¿çš„æ•°ç»„ã€‚</p>
<p>åœ¨ Java ä¸­è¿˜å¯ä»¥è¿™æ ·å†™</p>
<p><code>int mid = (left + right) &gt;&gt;&gt; 1;</code></p>
<p><code>&gt;&gt;&gt;</code>ï¼Œå®ƒè¡¨ç¤ºï¼Œåœ¨ <code>left + right</code> å‘ç”Ÿæ•´å‹æº¢å‡ºçš„æ—¶å€™ï¼Œ<strong>é«˜ä½è¡¥ 0</strong>ï¼Œç»“æœä¾ç„¶æ­£ç¡®ã€‚è¿™ä¸€ç‚¹æ˜¯ä» JDK çš„æºç ä¸­ <code>Arrays.binarySearch()</code> æ–¹æ³•å€Ÿé‰´æ¥çš„ã€‚</p>
<p>åœ¨ Python ä¸­ä¸ç”¨è¿™æ ·æ”¹å†™ï¼ŒPython åœ¨ <code>left + right</code> å‘ç”Ÿæ•´å‹æº¢å‡ºçš„æ—¶å€™ä¼šè‡ªåŠ¨è½¬æˆé•¿æ•´å½¢ã€‚</p>
<p>è¿™é‡Œä¸å»ºè®®æŠŠ <code>/ 2</code> æ”¹å†™æˆ <code>&gt;&gt; 1</code>ï¼Œç†ç”±æ˜¯é«˜çº§è¯­è¨€åœ¨ç¼–è¯‘æœŸé—´ä¼šåšä¼˜åŒ–ï¼Œä¼šå°† <code>/ 2</code>ï¼Œä»¥åŠé™¤ä»¥ 2 çš„æ–¹å¹‚çš„æ“ä½œï¼Œåœ¨å†…éƒ¨ä¿®æ”¹ä¸º <code>&gt;&gt;</code>ï¼Œå·¥ç¨‹å¸ˆåªéœ€è¦å†™ç¨‹åºæœ¬æ¥çš„é€»è¾‘å°±å¥½äº†ã€‚å¦‚æœä½¿ç”¨ä½è¿ç®—ï¼Œåœ¨ C++ ä¸­å¯èƒ½è¿˜éœ€è¦æ³¨æ„è¿ç®—ä¼˜å…ˆçº§çš„é—®é¢˜ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆå–äºŒåˆ†ä¹‹ä¸€ï¼Ÿä¸‰åˆ†ä¹‹ä¸€ã€äº”åˆ†ä¹‹å››å¯ä¸å¯ä»¥ï¼Ÿ</strong><br>ï¼ˆå¯¹äºè¿™é“é—®é¢˜ï¼‰å½“ç„¶å¯ä»¥ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡ŒéªŒè¯ã€‚ç»“åˆäºŒåˆ†æŸ¥æ‰¾çš„æ€è·¯å¹¶ä¸éš¾ç†è§£ï¼Œå…¶å®åªè¦åœ¨æ•°ç»„ä¸­é—´ä»»æ„æ‰¾ä¸€ä¸ªä½ç½®çš„å…ƒç´ ï¼Œå¦‚æœæ°å¥½æ˜¯ç›®æ ‡å…ƒç´ ï¼Œåˆ™ç›´æ¥è¿”å›ã€‚å¦‚æœä¸æ˜¯æ ¹æ®è¿™ä¸ªå…ƒç´ çš„å€¼å’Œç›®æ ‡å…ƒç´ çš„å¤§å°å…³ç³»ï¼Œè¿›è€Œåœ¨å½“å‰ä½ç½®çš„å·¦ä¾§è¿˜æ˜¯å³ä¾§ç»§ç»­æŸ¥æ‰¾ã€‚</p>
<p>åœ¨æˆ‘ä»¬å¯¹é—®é¢˜ä¸€æ— æ‰€çŸ¥çš„æ—¶å€™ï¼Œå–ä¸­é—´æ•°æ˜¯æœ€å¥½çš„åšæ³•ï¼ˆå¦‚æœæœ‰å­¦ä¹ è¿‡ã€Šæœºå™¨å­¦ä¹ ã€‹ç†µçš„æ¦‚å¿µå¯èƒ½ä¼šæœ‰æ„Ÿè§¦ï¼‰ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªç»†èŠ‚ï¼Œ<code>/ 2</code> è¡¨ç¤ºçš„æ˜¯ä¸‹å–æ•´ï¼Œå½“æ•°ç»„ä¸­çš„å…ƒç´ ä¸ªæ•°ä¸ºå¶æ•°çš„æ—¶å€™ï¼Œ<code>int mid = left + (right - left) / 2;</code> åªèƒ½å–åˆ°ä½äºå·¦è¾¹çš„é‚£ä¸ªå…ƒç´ ã€‚é‚£ä¹ˆå–ä½äºå³è¾¹çš„é‚£ä¸ªå…ƒç´ å¯ä»¥å—ï¼Œå½“ç„¶å¯ä»¥ï¼Œç†ç”±åŒä¸Šã€‚<br>å–å³è¾¹ä¸­é—´æ•°çš„è¡¨è¾¾å¼æ˜¯ï¼ˆå…¶å®å°±æ˜¯åœ¨æ‹¬å·é‡Œ + 1ï¼Œè¡¨ç¤ºä¸Šå–æ•´ï¼‰ï¼š</p>
<p><code>int mid = left + (right - left) / 2;</code><br>ä»¥ä¸Šçš„ä»£ç å¯ä»¥è®¤ä¸ºæ˜¯äºŒåˆ†æŸ¥æ‰¾çš„æ¨¡æ¿ä¸€ã€‚ä¸‹é¢æˆ‘ä»¬ä»‹ç»äºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿äºŒï¼Œåº”ç”¨è¿™ä¸ªæ¨¡æ¿çš„æ€æƒ³å¯ä»¥è§£å†³ã€ŒåŠ›æ‰£ã€ä¸Šå¾ˆå¤šäºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„å˜ç§å’Œä¸€äº›å¤æ‚çš„äºŒåˆ†æŸ¥æ‰¾é—®é¢˜ã€‚</p>
<h2 id="ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿äºŒï¼ˆåœ¨å¾ªç¯ä½“é‡Œæ’é™¤ä¸å­˜åœ¨ç›®æ ‡å…ƒç´ çš„åŒºé—´ï¼‰"><a href="#ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿äºŒï¼ˆåœ¨å¾ªç¯ä½“é‡Œæ’é™¤ä¸å­˜åœ¨ç›®æ ‡å…ƒç´ çš„åŒºé—´ï¼‰" class="headerlink" title="ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿äºŒï¼ˆåœ¨å¾ªç¯ä½“é‡Œæ’é™¤ä¸å­˜åœ¨ç›®æ ‡å…ƒç´ çš„åŒºé—´ï¼‰"></a>ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿äºŒï¼ˆåœ¨å¾ªç¯ä½“é‡Œæ’é™¤ä¸å­˜åœ¨ç›®æ ‡å…ƒç´ çš„åŒºé—´ï¼‰</h2><h3 id="ğŸåŸºæœ¬æ€æƒ³"><a href="#ğŸåŸºæœ¬æ€æƒ³" class="headerlink" title="ğŸåŸºæœ¬æ€æƒ³"></a>ğŸåŸºæœ¬æ€æƒ³</h3><p>ä»è€ƒè™‘å“ªäº›å…ƒç´ ä¸€å®šä¸æ˜¯ç›®æ ‡å…ƒç´ å¼€å§‹è€ƒè™‘ã€‚åœ¨æœ¬é¢˜è§£æœ€å¼€å§‹å…¶å®å·²ç»ä»‹ç»äº†ï¼šæ ¹æ®çœ‹åˆ°çš„ <code>mid</code> <strong>ä½ç½®çš„å…ƒç´ ï¼Œæ’é™¤æ‰ä¸€å®šä¸å¯èƒ½å­˜åœ¨ç›®æ ‡å…ƒç´ çš„åŒºé—´ï¼Œè€Œä¸‹ä¸€è½®åœ¨å¯èƒ½å­˜åœ¨ç›®æ ‡çš„å­åŒºé—´é‡Œç»§ç»­æŸ¥æ‰¾ã€‚</strong></p>
<h3 id="ğŸå…·ä½“åšæ³•"><a href="#ğŸå…·ä½“åšæ³•" class="headerlink" title="ğŸå…·ä½“åšæ³•"></a>ğŸå…·ä½“åšæ³•</h3><ul>
<li>å…ˆæŠŠå¾ªç¯å¯ä»¥ç»§ç»­çš„æ¡ä»¶å†™æˆ <code>while (left &lt; right)</code>ï¼Œè¡¨ç¤ºé€€å‡ºå¾ªç¯çš„æ—¶å€™ï¼Œ<code>[left, right]</code> è¿™ä¸ªåŒºé—´é‡Œåªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œè¿™ä¸ªå…ƒç´ æœ‰å¯èƒ½å°±æ˜¯ç›®æ ‡å…ƒç´ ï¼›</li>
<li>å†™ if å’Œ else è¯­å¥çš„æ—¶å€™ï¼Œæ€è€ƒå½“ <code>nums[mid]</code> æ»¡è¶³ä»€ä¹ˆæ€§è´¨çš„æ—¶å€™ï¼Œ<code>num[mid]</code> ä¸æ˜¯è§£ï¼Œè¿›è€Œæ¥ç€åˆ¤æ–­ mid çš„å·¦è¾¹æœ‰æ²¡æœ‰å¯èƒ½æ˜¯è§£ï¼Œmid çš„å³è¾¹æœ‰æ²¡æœ‰å¯èƒ½æ˜¯è§£ï¼›<br>è¯´æ˜ï¼š</li>
<li>åšé¢˜çš„ç»éªŒå‘Šè¯‰æˆ‘ï¼Œæ€è€ƒä»€ä¹ˆæ—¶å€™ä¸æ˜¯è§£æ¯”è¾ƒå¥½æƒ³ã€‚å¦‚æœä¸€ä¸ªæ•°è¦æ»¡è¶³å¤šä¸ªæ¡ä»¶ï¼Œåªéœ€è¦å¯¹å…¶ä¸­ä¸€ä¸ªæ¡ä»¶å–åï¼Œå°±å¯ä»¥è¾¾åˆ°ç¼©å°æœç´¢èŒƒå›´çš„ç›®çš„ï¼›</li>
<li>æ­¤æ—¶ mid ä½œä¸ºå¾…æŸ¥æ‰¾æ•°ç»„çš„åˆ†ç•Œï¼Œå°±æŠŠå®ƒåˆ†ä¸ºä¸¤ä¸ªåŒºé—´ï¼šä¸€ä¸ªéƒ¨åˆ†å¯èƒ½å­˜åœ¨ç›®æ ‡å…ƒç´ ï¼Œä¸€ä¸ªéƒ¨åˆ†ä¸€å®šä¸å­˜åœ¨ç›®æ ‡å…ƒç´ ã€‚</li>
</ul>
<h3 id="ğŸç†è§£å¦‚ä½•é¿å…æ­»å¾ªç¯ï¼ˆé‡éš¾ç‚¹ï¼‰"><a href="#ğŸç†è§£å¦‚ä½•é¿å…æ­»å¾ªç¯ï¼ˆé‡éš¾ç‚¹ï¼‰" class="headerlink" title="ğŸç†è§£å¦‚ä½•é¿å…æ­»å¾ªç¯ï¼ˆé‡éš¾ç‚¹ï¼‰"></a>ğŸç†è§£å¦‚ä½•é¿å…æ­»å¾ªç¯ï¼ˆé‡éš¾ç‚¹ï¼‰</h3><p>æ ¹æ® mid è¢«åˆ†åˆ°å·¦è¾¹åŒºé—´è¿˜æ˜¯å³è¾¹åŒºé—´ï¼Œä»£ç å†™å‡ºæ¥åªæœ‰ä»¥ä¸‹ 2 ç§ï¼š</p>
<p><strong>è¾¹ç•Œæ”¶ç¼©è¡Œä¸º 1ï¼š</strong> mid è¢«åˆ†åˆ°å·¦è¾¹ã€‚å³åŒºé—´è¢«åˆ†æˆ <code>[left, mid]</code> ä¸ <code>[mid + 1, right]ï¼Œ</code>è¿™é‡Œç”¨ã€Œé—­åŒºé—´ã€è¡¨ç¤ºåŒºé—´ç«¯ç‚¹å¯ä»¥å–åˆ°ï¼Œä¸‹åŒï¼›</p>
<p>ä»£ç å†™å‡ºæ¥æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (check(mid)) {</span><br><span class="line">    <span class="comment">// ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ [mid + 1, right]ï¼Œå› æ­¤æŠŠå·¦è¾¹ç•Œè®¾ç½®ä¸º mid + 1 ä½ç½®</span></span><br><span class="line">    left = mid + <span class="number">1</span>;</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    <span class="comment">// ä¸Šé¢å¯¹äº†ä»¥åï¼Œå‰©ä¸‹çš„åŒºé—´ä¸€å®šæ˜¯ [left, mid]ï¼Œå› æ­¤å³è¾¹ç•Œè®¾ç½®ä¸º mid ä½ç½®</span></span><br><span class="line">    right = mid;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¯´æ˜ï¼šè¿™é‡Œçš„ <code>check(mid)</code> å‡½æ•°é€šå¸¸æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œåœ¨ä¸€äº›æƒ…å†µä¸‹æœ‰å¯èƒ½é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œå»ºè®®ä¸“é—¨æŠ½å–æˆä¸€ä¸ªç§æœ‰æ–¹æ³•ï¼Œä»¥çªæ˜¾ä¸»å¹²é€»è¾‘ã€‚</p>
<p><strong>è¾¹ç•Œæ”¶ç¼©è¡Œä¸º 2</strong>ï¼š mid è¢«åˆ†åˆ°å³è¾¹ã€‚å³åŒºé—´è¢«åˆ†æˆ [left, mid - 1] ä¸ [mid, right]ï¼›</p>
<p>åŒä¸Šï¼Œä»£ç å†™å‡ºæ¥æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (check(mid)) {</span><br><span class="line">    <span class="comment">// ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ [left, mid - 1]ï¼Œå› æ­¤æŠŠå³è¾¹ç•Œè®¾ç½®ä¸º mid - 1 ä½ç½®</span></span><br><span class="line">    right = mid - <span class="number">1</span>;</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    <span class="comment">// ä¸Šé¢å¯¹äº†ä»¥åï¼Œå‰©ä¸‹çš„åŒºé—´ä¸€å®šæ˜¯ [mid, right]ï¼Œå› æ­¤å·¦è¾¹ç•Œè®¾ç½®ä¸º mid ä½ç½®</span></span><br><span class="line">    left = mid;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>é¢å¯¹é¢çš„<strong>è¾¹ç•Œæ”¶ç¼©è¡Œä¸º 2</strong>ï¼ˆmid è¢«åˆ†åˆ°å³è¾¹ï¼‰ï¼Œåœ¨å¾…æœç´¢åŒºé—´æ”¶ç¼©åˆ°åªå‰©ä¸‹ 2 ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œ<strong>å°±æœ‰å¯èƒ½é€ æˆæ­»å¾ªç¯ã€‚æœç´¢åŒºé—´ä¸èƒ½ç¼©å°ï¼Œæ˜¯é€ æˆæ­»å¾ªç¯çš„åŸå› </strong>ã€‚</p>
<p>æœ‰äº†ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬æŠŠä¸Šé¢ã€Œè¾¹ç•Œæ”¶ç¼©è¡Œä¸ºã€å¯¹åº”çš„ä¸­é—´æ•°å–æ³•è¡¥ä¸Šï¼š</p>
<p><strong>è¾¹ç•Œæ”¶ç¼©è¡Œä¸º 1ï¼š</strong> mid è¢«åˆ†åˆ°å·¦è¾¹ã€‚å³åŒºé—´è¢«åˆ†æˆ <code>[left, mid] ä¸ [mid + 1, right]ï¼Œ</code>æ­¤æ—¶å–ä¸­é—´æ•°çš„æ—¶å€™ä¸‹å–æ•´ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span> (check(mid)) {</span><br><span class="line">    <span class="comment">// ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ [mid + 1, right]</span></span><br><span class="line">    left = mid + <span class="number">1</span>;</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    right = mid;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>è¾¹ç•Œæ”¶ç¼©è¡Œä¸º 2ï¼š</strong> mid è¢«åˆ†åˆ°å³è¾¹ã€‚å³åŒºé—´è¢«åˆ†æˆ <strong>[left, mid - 1] ä¸ [mid, right]ï¼Œ</strong>æ­¤æ—¶å–ä¸­é—´æ•°çš„æ—¶å€™ä¸Šå–æ•´ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> mid = left + (right - left + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span> (check(mid)) {</span><br><span class="line">    <span class="comment">// ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ [left, mid - 1]</span></span><br><span class="line">    right = mid - <span class="number">1</span>;</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    left = mid;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœè¿™é‡Œæœ‰ç–‘æƒ‘ï¼Œå¤§å®¶åœ¨ç»ƒä¹ çš„è¿‡ç¨‹ä¸­ï¼Œå½“å‘ç”Ÿæ­»å¾ªç¯çš„æ—¶å€™ï¼šåœ¨ while å¾ªç¯é‡ŒæŠŠ leftã€rightã€mid å˜é‡çš„å€¼æ‰“å°å‡ºæ¥çœ‹çœ‹ï¼Œå°±å¾ˆæ¸…æ¥šäº†ã€‚</p>
<p>é‡åˆ°å‡ æ¬¡æ­»å¾ªç¯ï¼Œè°ƒè¯•æ­£ç¡®ä»¥åï¼Œå°±èƒ½å¾ˆæ¸…æ¥šåœ°è®°ä½ä¸‹é¢è¿™æ¡è§„åˆ™ï¼šåœ¨ if else è¯­å¥é‡Œé¢åªè¦å‡ºç° left = mid çš„æ—¶å€™ï¼ŒæŠŠå»ä¸­é—´æ•°è¡Œä¸ºæ”¹æˆä¸Šå–æ•´å³å¯ã€‚</p>
<h2 id="ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿äºŒï¼ˆåœ¨å¾ªç¯ä½“é‡Œæ’é™¤ä¸å­˜åœ¨ç›®æ ‡å…ƒç´ çš„åŒºé—´ï¼‰çš„ä¸€èˆ¬æ­¥éª¤"><a href="#ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿äºŒï¼ˆåœ¨å¾ªç¯ä½“é‡Œæ’é™¤ä¸å­˜åœ¨ç›®æ ‡å…ƒç´ çš„åŒºé—´ï¼‰çš„ä¸€èˆ¬æ­¥éª¤" class="headerlink" title="ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿äºŒï¼ˆåœ¨å¾ªç¯ä½“é‡Œæ’é™¤ä¸å­˜åœ¨ç›®æ ‡å…ƒç´ çš„åŒºé—´ï¼‰çš„ä¸€èˆ¬æ­¥éª¤"></a>ğŸŒ¸äºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿äºŒï¼ˆåœ¨å¾ªç¯ä½“é‡Œæ’é™¤ä¸å­˜åœ¨ç›®æ ‡å…ƒç´ çš„åŒºé—´ï¼‰çš„ä¸€èˆ¬æ­¥éª¤</h2><p>1ã€ç¡®å®šæœç´¢åŒºé—´åˆå§‹åŒ–æ—¶å€™çš„å·¦å³è¾¹ç•Œï¼Œæœ‰æ—¶éœ€è¦å…³æ³¨ä¸€ä¸‹è¾¹ç•Œå€¼ã€‚åœ¨åˆå§‹åŒ–æ—¶ï¼Œæœ‰æ—¶æŠŠæœç´¢åŒºé—´è®¾ç½®å¤§ä¸€ç‚¹æ²¡æœ‰å…³ç³»ï¼Œä½†æ˜¯å¦‚æœæ°å¥½æŠŠè¾¹ç•Œå€¼æ’é™¤åœ¨å¤–ï¼Œå†æ€ä¹ˆæœç´¢éƒ½å¾—ä¸åˆ°ç»“æœï¼›</p>
<p>ä¾‹å¦‚æœ¬é¢˜ï¼ˆã€ŒåŠ›æ‰£ã€ç¬¬ 35 é¢˜ï¼‰ï¼Œå¦‚æœä¸€å¼€å§‹æŠŠ len è¿™ä¸ªä½ç½®æ’é™¤åœ¨å¤–è¿›è¡ŒäºŒåˆ†æœç´¢ï¼ˆåœ¨ä¹‹å‰ä¹Ÿæ²¡æœ‰ç‰¹åˆ¤ï¼‰ï¼Œä»£ç æ˜¯æ€ä¹ˆéƒ½é€šä¸è¿‡è¯„æµ‹ç³»ç»Ÿçš„ã€‚</p>
<p>2ã€å…ˆå†™ä¸Š while (left &lt; right) ï¼Œè¡¨ç¤ºé€€å‡ºå¾ªç¯çš„æ¡ä»¶æ˜¯ left == rightï¼Œå¯¹äºè¿”å›å·¦å³è¾¹ç•Œå°±ä¸ç”¨æ€è€ƒäº†ï¼Œå› æ­¤æ­¤æ—¶å®ƒä»¬ä¸‹æ ‡çš„å€¼ç›¸ç­‰ï¼›</p>
<p>3ã€å…ˆå†™ä¸‹å–æ•´çš„ä¸­é—´æ•°å–æ³•ï¼Œç„¶å<strong>ä»å¦‚ä½•æŠŠ mid æ’é™¤æ‰çš„è§’åº¦æ€è€ƒ if å’Œ else è¯­å¥åº”è¯¥æ€æ ·å†™ã€‚</strong>è¿™é‡Œå»ºè®®å†™ä¸¤ä¸ªæ³¨é‡Šï¼Œéå¿…éœ€ã€‚</p>
<ul>
<li><p>ä¸€èˆ¬è€Œè¨€ï¼Œæˆ‘éƒ½ä¼šæŠŠ<strong>ã€Œä»€ä¹ˆæ—¶å€™ä¸æ˜¯ç›®æ ‡å…ƒç´ ã€ä½œä¸ºæ³¨é‡Šå†™åœ¨ä»£ç ä¸­ï¼Œæé†’è‡ªå·±è¦åˆ¤æ–­æ­£ç¡®ï¼Œ</strong>è¿™ä¸€æ­¥åˆ¤æ–­éå¸¸å…³é”®ï¼Œç›´æ¥å½±å“åˆ°åé¢çš„ä»£ç é€»è¾‘ï¼›</p>
</li>
<li><p>ç„¶åæ¥ç€æ€è€ƒ mid ä¸æ˜¯è§£çš„æƒ…å†µä¸‹ï¼Œmid çš„å·¦å³ä¸¤è¾¹å¯èƒ½å­˜åœ¨è§£ï¼Œ<strong>æŠŠä¸‹ä¸€è½®æœç´¢çš„åŒºé—´èŒƒå›´ä½œä¸ºæ³¨é‡Šå†™è¿›ä»£ç é‡Œï¼Œ</strong>è¿›è€Œåœ¨ç¡®å®šä¸‹ä¸€è½®æœç´¢åŒºé—´è¾¹ç•Œçš„æ”¶ç¼©è¡Œä¸ºæ—¶ï¼Œä¸å®¹æ˜“å‡ºé”™ã€‚</p>
</li>
<li><p>if æœ‰æŠŠæ¡å†™å¯¹çš„æƒ…å†µä¸‹ï¼Œelse å°±æ˜¯ if çš„åé¢ï¼Œå¯ä»¥ä¸ç”¨æ€è€ƒï¼Œç›´æ¥å†™å‡ºæ¥ã€‚</p>
</li>
</ul>
<p>è¯´æ˜ï¼šè¿™ç§æ€è€ƒæ–¹å¼ï¼Œå°±æ­£æ­£å¥½æŠŠå¾…æœç´¢åŒºé—´ä»é€»è¾‘ä¸Šåˆ†æˆä¸¤ä¸ªåŒºé—´ï¼Œä¸€ä¸ªåŒºé—´ä¸å¯èƒ½å­˜åœ¨ç›®æ ‡å…ƒç´ ï¼Œè¿›è€Œåœ¨å¦ä¸€ä¸ªåŒºé—´é‡Œç»§ç»­æœç´¢ï¼Œæ›´ç¬¦åˆäºŒåˆ†çš„è¯­ä¹‰ã€‚</p>
<p>4ã€æ ¹æ® if else é‡Œé¢å†™çš„æƒ…å†µï¼Œçœ‹çœ‹æ˜¯å¦éœ€è¦ä¿®æ”¹ä¸­é—´æ•°ä¸‹å–æ•´çš„è¡Œä¸ºï¼›</p>
<p>åªæœ‰çœ‹åˆ° left = mid çš„æ—¶å€™ï¼Œæ‰éœ€è¦è°ƒæ•´æˆä¸ºä¸Šå–æ•´ï¼Œè®°ä½è¿™ä¸€ç‚¹å³å¯ï¼Œæˆ‘å› ä¸ºåˆšå¼€å§‹ä¸ç†è§£è¿™ç§å†™æ³•ï¼Œé‡åˆ°å¾ˆå¤šæ¬¡æ­»å¾ªç¯ï¼Œç°åœ¨å·²ç»ç‰¢è®°åœ¨å¿ƒäº†ã€‚</p>
<p>5ã€é€€å‡ºå¾ªç¯çš„æ—¶å€™ï¼Œä¸€å®šæœ‰ <code>left == right</code> æˆç«‹<strong>ã€‚æœ‰äº›æ—¶å€™å¯ä»¥ç›´æ¥è¿”å› left ï¼ˆæˆ–è€… rightï¼Œç”±äºå®ƒä»¬ç›¸ç­‰ï¼Œåé¢éƒ½çœç•¥æ‹¬å¼§ï¼‰æˆ–è€…ä¸ left ç›¸å…³çš„æ•°å€¼ï¼Œæœ‰äº›æ—¶å€™è¿˜é¡»è¦å†åšä¸€æ¬¡åˆ¤æ–­ï¼Œåˆ¤æ–­ left ä¸ right æ˜¯å¦æ˜¯æˆ‘ä»¬éœ€è¦æŸ¥æ‰¾çš„å…ƒç´ ï¼Œè¿™ä¸€æ­¥å«ã€Œåå¤„ç†ã€ã€‚</strong></p>
<p>æœ¬é¢˜å°±æ˜¯è¿™æ ·ï¼Œå› ä¸ºæ’å…¥å…ƒç´ çš„ä½ç½®ï¼Œä¸€å®šåœ¨æœç´¢èŒƒå›´é‡Œï¼Œå› æ­¤é€€å‡ºå¾ªç¯çš„æ—¶å€™ï¼Œä¸ç”¨å†åšä¸€æ¬¡åˆ¤æ–­ã€‚</p>
<h3 id="ğŸä¸å…¶å®ƒäºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿çš„æ¯”è¾ƒ"><a href="#ğŸä¸å…¶å®ƒäºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿çš„æ¯”è¾ƒ" class="headerlink" title="ğŸä¸å…¶å®ƒäºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿çš„æ¯”è¾ƒ"></a>ğŸä¸å…¶å®ƒäºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿çš„æ¯”è¾ƒ</h3><p>while é‡Œé¢çš„è¡¨è¾¾å¼å†³å®šäº†é€€å‡ºå¾ªç¯ä»¥ååŒºé—´ [left, right] æœ‰å‡ ä¸ªå…ƒç´ ã€‚å‡ ä¸ªæ¨¡æ¿çš„ä¸»è¦åŒºåˆ«å°±åœ¨è¿™é‡Œã€‚</p>
<p>1ã€ <code>while (left &lt;= right)</code> äº‹å®ä¸Šæ˜¯æŠŠå¾…æœç´¢åŒºé—´ã€Œä¸‰åˆ†ã€ï¼Œif else æœ‰ä¸‰ä¸ªåˆ†æ”¯ï¼Œå®ƒç›´æ¥é¢å¯¹ç›®æ ‡å…ƒç´ ï¼Œåœ¨ç›®æ ‡å…ƒç´ åœ¨å¾…æœç´¢æ•°ç»„ä¸­æœ‰åªæœ‰ 1 ä¸ªçš„æ—¶å€™ï¼Œå¯èƒ½æå‰ç»“æŸæŸ¥æ‰¾ã€‚ä½†æ˜¯å¦‚æœç›®æ ‡å…ƒç´ æ²¡æœ‰åœ¨å¾…æœç´¢æ•°ç»„ä¸­å­˜åœ¨ï¼Œåˆ™ä¸èƒ½èŠ‚çº¦æœç´¢æ¬¡æ•°ï¼›</p>
<p>2ã€<code>while (left &lt; right)</code> æ˜¯æœ¬é¢˜è§£æ¨èä½¿ç”¨çš„æ€è€ƒæ–¹æ³•ï¼Œä¸å»ºè®®èƒŒæ¨¡æ¿ï¼Œå»ºè®®çš„æ–¹æ³•æ˜¯å¤šåšé¢˜ï¼ŒæŒæ¡è§£é¢˜çš„æ€è·¯å’ŒæŠ€å·§ï¼›</p>
<p>ä¼˜ç‚¹æ˜¯ï¼šæ›´ç¬¦åˆäºŒåˆ†è¯­ä¹‰ï¼Œä¸ç”¨å»æ€è€ƒè¿”å› left è¿˜æ˜¯ rightï¼Œåœ¨é€€å‡ºå¾ªç¯çš„æ—¶å€™ï¼Œæœ‰çš„æ—¶å€™ï¼Œæ ¹æ®è¯­å¢ƒï¼Œä¸æ­£ç¡®çš„æ•°éƒ½æ’é™¤æ‰ï¼Œæœ€åå‰©ä¸‹çš„é‚£ä¸ªæ•°å°±ä¸€å®šæ˜¯ç›®æ ‡å€¼ï¼Œä¸éœ€è¦å†åšä¸€æ¬¡åˆ¤æ–­ã€‚</p>
<p><strong>ğŸè¿™ç§æ–¹æ³•æ€è€ƒçš„ç»†èŠ‚æœ€å°‘ï¼Œå†™ç¨‹åºä¸æ˜“å‡ºé”™ã€‚</strong></p>
<p>ç¼ºç‚¹æ˜¯ï¼šéœ€è¦ç†è§£å½“åˆ†æ”¯é€»è¾‘å‡ºç° left = mid çš„æ—¶å€™ï¼Œè¦ä¿®æ”¹å–ä¸­é—´æ•°çš„è¡Œä¸ºï¼Œä½¿å…¶ä¸Šå–æ•´ã€‚</p>
<p>3ã€<code>while (left + 1 &lt; right)</code> è¿™ç§å†™æ³•å…¶å®å¾ˆå¤šäººéƒ½åœ¨ç”¨ï¼Œå¦‚æœä½ ç†è§£äº†æœ¬é¢˜è§£ä»‹ç»çš„æ–¹æ³•ï¼Œç†è§£å®ƒå°±å¾ˆå®¹æ˜“äº†ã€‚ä½¿ç”¨å®ƒåœ¨é€€å‡ºå¾ªç¯çš„æ—¶å€™ï¼Œæœ‰ <code>left + 1 = right</code> æˆç«‹ï¼Œå³ left å’Œ rightå¤¹æˆçš„åŒºé—´é‡Œä¸€å®šæœ‰ 2 ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶éœ€è¦åˆ†åˆ«åˆ¤æ–­ left å’Œ right ä½ç½®çš„å…ƒç´ æ˜¯ä¸æ˜¯ç›®æ ‡å…ƒç´ ï¼Œæœ‰æ—¶éœ€è¦æ³¨æ„åˆ¤æ–­çš„å…ˆåé¡ºåºã€‚</p>
<p>ä¼˜ç‚¹ï¼šä¸ç”¨å»ç†è§£å’Œå¤„ç†ç¬¬ 2 ç‚¹è¯´çš„é‚£ç§ä¸Šå–æ•´çš„è¡Œä¸ºï¼Œå› ä¸ºä¸ä¼šå‡ºç°æ­»å¾ªç¯ã€‚<br>ç¼ºç‚¹ï¼š</p>
<ul>
<li><code>while (left + 1 &lt; right)</code> è¿™ç§å†™æ³•æˆ‘ä¸ªäººè®¤ä¸ºä¸é‚£ä¹ˆè‡ªç„¶ï¼›</li>
<li>ä¸€å®šéœ€è¦åå¤„ç†ï¼Œåœ¨åå¤„ç†è¿™ä¸ªé—®é¢˜ä¸Šå¢åŠ äº†æ€è€ƒçš„è´Ÿæ‹…ï¼›</li>
<li><code>left = mid</code> å’Œ <code>right = mid</code> è¿™ç§å†™æ³•æ¯”è¾ƒéšæ„ï¼Œè€Œäº‹å®ä¸Šï¼Œç¨‹åºå‘˜å®Œå…¨æœ‰èƒ½åŠ›å†³å®š mid æ˜¯ä¿ç•™è¿˜æ˜¯è¢«æ’é™¤åœ¨å¤–ã€‚</li>
</ul>
<h2 id="ğŸŒ¸è¡¥å……ï¼šäºŒåˆ†æŸ¥æ‰¾å˜ä½“ï¼ˆæ¥è‡ªæå®¢APPä¸“æ ï¼‰"><a href="#ğŸŒ¸è¡¥å……ï¼šäºŒåˆ†æŸ¥æ‰¾å˜ä½“ï¼ˆæ¥è‡ªæå®¢APPä¸“æ ï¼‰" class="headerlink" title="ğŸŒ¸è¡¥å……ï¼šäºŒåˆ†æŸ¥æ‰¾å˜ä½“ï¼ˆæ¥è‡ªæå®¢APPä¸“æ ï¼‰"></a>ğŸŒ¸è¡¥å……ï¼šäºŒåˆ†æŸ¥æ‰¾å˜ä½“ï¼ˆæ¥è‡ªæå®¢APPä¸“æ ï¼‰</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå€¼ç­‰äºç»™å®šå€¼çš„å…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">firstEquals</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> target)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = arr.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) {</span><br><span class="line">        <span class="keyword">int</span> mid = l + ((r - l) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &lt; target) l = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> r = mid; <span class="comment">// æ”¶ç¼©å³è¾¹ç•Œä¸å½±å“ first equals</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (arr[l] == target &amp;&amp; (l == <span class="number">0</span> || arr[l - <span class="number">1</span>] &lt; target)) <span class="keyword">return</span> l;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// æŸ¥æ‰¾æœ€åä¸€ä¸ªå€¼ç­‰äºç»™å®šå€¼çš„å…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">lastEquals</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> target)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = arr.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) {</span><br><span class="line">        <span class="keyword">int</span> mid = l + ((r - l + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &gt; target) r = mid - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> l = mid; <span class="comment">// æ”¶ç¼©å·¦è¾¹ç•Œä¸å½±å“ last equals</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (arr[l] == target &amp;&amp; (l == arr.length - <span class="number">1</span> || arr[l + <span class="number">1</span>] &gt; target)) <span class="keyword">return</span> l;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºç»™å®šå€¼çš„å…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">firstLargeOrEquals</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> target)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = arr.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) {</span><br><span class="line">        <span class="keyword">int</span> mid = l + ((r - l) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &lt; target) l = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> r = mid; <span class="comment">// æ”¶ç¼©å³è¾¹ç•Œä¸å½±å“ first equals</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (arr[l] &gt;= target &amp;&amp; (l == <span class="number">0</span> || arr[l - <span class="number">1</span>] &lt; target)) <span class="keyword">return</span> l; <span class="comment">// &gt;=</span></span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// æŸ¥æ‰¾æœ€åä¸€ä¸ªå°äºç­‰äºç»™å®šå€¼çš„å…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">lastLessOrEquals</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> target)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = arr.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) {</span><br><span class="line">        <span class="keyword">int</span> mid = l + ((r - l + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &gt; target) r = mid - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> l = mid; <span class="comment">// æ”¶ç¼©å·¦è¾¹ç•Œä¸å½±å“ last equals</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (arr[l] &lt;= target &amp;&amp; (l == arr.length - <span class="number">1</span> || arr[l + <span class="number">1</span>] &gt; target)) <span class="keyword">return</span> l; <span class="comment">// &lt;=</span></span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ³¨ï¼šæœ¬åšä¸ºè‡ªèº«äºŒåˆ†æŸ¥æ‰¾å­¦ä¹ çš„è®°å½•æ”¶è—ï¼Œä»¥ä¸ŠäºŒåˆ†æŸ¥æ‰¾çš„å†…å®¹å‡æˆªå–è‡ªliweiwei1419ï¼Œå¨å¨å“¥å†™çš„çœŸçš„æŒºæ£’ï¼Œä¸ºå¤§å®¶æ¨èä¸€æ³¢"><a href="#æ³¨ï¼šæœ¬åšä¸ºè‡ªèº«äºŒåˆ†æŸ¥æ‰¾å­¦ä¹ çš„è®°å½•æ”¶è—ï¼Œä»¥ä¸ŠäºŒåˆ†æŸ¥æ‰¾çš„å†…å®¹å‡æˆªå–è‡ªliweiwei1419ï¼Œå¨å¨å“¥å†™çš„çœŸçš„æŒºæ£’ï¼Œä¸ºå¤§å®¶æ¨èä¸€æ³¢" class="headerlink" title="æ³¨ï¼šæœ¬åšä¸ºè‡ªèº«äºŒåˆ†æŸ¥æ‰¾å­¦ä¹ çš„è®°å½•æ”¶è—ï¼Œä»¥ä¸ŠäºŒåˆ†æŸ¥æ‰¾çš„å†…å®¹å‡æˆªå–è‡ªliweiwei1419ï¼Œå¨å¨å“¥å†™çš„çœŸçš„æŒºæ£’ï¼Œä¸ºå¤§å®¶æ¨èä¸€æ³¢"></a>æ³¨ï¼šæœ¬åšä¸ºè‡ªèº«äºŒåˆ†æŸ¥æ‰¾å­¦ä¹ çš„è®°å½•æ”¶è—ï¼Œä»¥ä¸ŠäºŒåˆ†æŸ¥æ‰¾çš„å†…å®¹å‡æˆªå–è‡ª<a href="https://leetcode-cn.com/problems/search-insert-position/solution/te-bie-hao-yong-de-er-fen-cha-fa-fa-mo-ban-python-/" target="_blank" rel="noopener">liweiwei1419</a>ï¼Œå¨å¨å“¥å†™çš„çœŸçš„æŒºæ£’ï¼Œä¸ºå¤§å®¶æ¨èä¸€æ³¢</h3><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>åˆ†æ²»</tag>
        <tag>äºŒåˆ†æœç´¢</tag>
        <tag>java</tag>
        <tag>python</tag>
        <tag>æ¨¡æ¿</tag>
      </tags>
  </entry>
  <entry>
    <title>äºŒåˆ†æŸ¥æ‰¾_leetcode.410_åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼</title>
    <url>/The_maximum_value_of_the_split_array/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° mï¼Œä½ éœ€è¦å°†è¿™ä¸ªæ•°ç»„åˆ†æˆ m ä¸ªéç©ºçš„è¿ç»­å­æ•°ç»„ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•ä½¿å¾—è¿™ m ä¸ªå­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼æœ€å°ã€‚</p>
<p>æ³¨æ„:<br>æ•°ç»„é•¿åº¦ n æ»¡è¶³ä»¥ä¸‹æ¡ä»¶:</p>
<p><code>1 â‰¤ n â‰¤ 1000</code><br><code>1 â‰¤ m â‰¤ min(50, n)</code><br>ç¤ºä¾‹:</p>
<a id="more"></a>

<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">nums = [7,2,5,10,8]</span><br><span class="line">m = 2</span><br><span class="line"></span><br><span class="line">è¾“å‡º:</span><br><span class="line">18</span><br></pre></td></tr></tbody></table></figure>

<p>è§£é‡Š:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">ä¸€å…±æœ‰å››ç§æ–¹æ³•å°†numsåˆ†å‰²ä¸º2ä¸ªå­æ•°ç»„ã€‚</span><br><span class="line">å…¶ä¸­æœ€å¥½çš„æ–¹å¼æ˜¯å°†å…¶åˆ†ä¸º[7,2,5] å’Œ [10,8]ï¼Œ</span><br><span class="line">å› ä¸ºæ­¤æ—¶è¿™ä¸¤ä¸ªå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ä¸º18ï¼Œåœ¨æ‰€æœ‰æƒ…å†µä¸­æœ€å°ã€‚</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸åˆ†ææ€è·¯"><a href="#ğŸŒ¸åˆ†ææ€è·¯" class="headerlink" title="ğŸŒ¸åˆ†ææ€è·¯"></a>ğŸŒ¸åˆ†ææ€è·¯</h2><p>ğŸè¿™é“é¢˜è¦æ‰¾ä¸€ä¸ªæ•´æ•°ï¼Œè¿™ä¸ªæ•´æ•°æœ‰ç¡®å®šçš„èŒƒå›´ï¼Œå› æ­¤å¯ä»¥è€ƒè™‘ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œç±»ä¼¼çš„å…¸å‹é—®é¢˜æœ‰ã€ŒåŠ›æ‰£ã€ç¬¬ 69 é¢˜ï¼šå¹³æ–¹æ ¹ï¼Œã€ŒåŠ›æ‰£ã€ç¬¬ 287 é¢˜ï¼šå¯»æ‰¾é‡å¤æ•°ã€‚</p>
<p>é¢˜ç›®è¦æ±‚çš„å˜é‡ï¼ˆå„è‡ªåˆ†ç»„çš„å’Œçš„æœ€å¤§å€¼ Mï¼‰ä¸å¦ä¸€ä¸ªå˜é‡ï¼ˆç»„æ•°ï¼‰æœ‰ç›¸å…³å…³ç³»ï¼ˆè´Ÿçº¿æ€§ç›¸å…³ï¼‰ï¼Œè€Œé¢˜ç›®å¯¹ç»„æ•°æœ‰é™åˆ¶ï¼Œæ ¹æ®è¿™ä¸ªç›¸å…³å…³ç³»å»é€¼è¿‘ M çš„æœ€å°å€¼ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç±»å¸¸è§çš„ä½¿ç”¨ã€ŒäºŒåˆ†æŸ¥æ‰¾ã€çš„é¢˜å‹ï¼šã€ŒåŠ›æ‰£ã€ç¬¬ 875 é¢˜ï¼š çˆ±åƒé¦™è•‰çš„ç‚ç‚ã€‚</p>
<p>é‡ç‚¹ç†è§£ï¼š</p>
<ul>
<li><strong>å¤§äºçš„æ—¶å€™èˆå¼ƒï¼Œå°äºç­‰äºçš„æ—¶å€™ä¿ç•™ï¼Œè¿™æ ·å·¦å³å‘ä¸­é—´é€¼è¿‘èƒ½æ‰¾åˆ° M çš„æœ€å°å€¼ï¼Œ</strong>å…·ä½“å¯ä»¥çœ‹é¢˜è§£ä¸­å”¯ä¸€çš„é‚£å¼ å›¾ï¼›</li>
<li>ç†è§£è´ªå¿ƒç®—æ³•çš„åº”ç”¨ï¼Œåœ¨ä»å·¦å‘å³åˆ’åˆ†ç»„çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„æ–¹æ¡ˆæ˜¯å°½é‡è®©ä¸€ä¸ªç»„æœ‰æ›´å¤šçš„å…ƒç´ ï¼Œç›´è‡³è¶…è¿‡äº†è®¾å®šçš„ä¸´ç•Œå€¼</li>
</ul>
<h2 id="ğŸŒ¸æ–¹æ³•ï¼šäºŒåˆ†æŸ¥æ‰¾"><a href="#ğŸŒ¸æ–¹æ³•ï¼šäºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="ğŸŒ¸æ–¹æ³•ï¼šäºŒåˆ†æŸ¥æ‰¾"></a>ğŸŒ¸æ–¹æ³•ï¼šäºŒåˆ†æŸ¥æ‰¾</h2><p>ğŸæ³¨æ„é¢˜ç›®ä¸­ç»™å‡ºçš„è¿™ 3 ä¸ªæ¡ä»¶ï¼š</p>
<ul>
<li>æ•°ç»„ä¸­çš„å…ƒç´ å‡æ˜¯ã€Œéè´Ÿæ•´æ•°ã€ï¼›</li>
<li>å­æ•°ç»„çš„ç‰¹ç‚¹æ˜¯ï¼šã€Œéç©ºã€ä¸”ã€Œè¿ç»­ã€ï¼›</li>
<li>æ°å¥½åˆ†æˆ <code>m</code> ä¸ªéç©ºã€Œéç©ºè¿ç»­å­æ•°ç»„ã€ã€‚</li>
</ul>
<p>é¢˜ç›®ä¸­è¿˜ç»™å‡ºäº†ä¸€ä¸ªæ¦‚å¿µï¼šã€Œè¿ç»­å­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼ã€ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªå˜é‡ <code>maxIntervalSum</code> è¡¨ç¤ºã€‚ä¸éš¾çŸ¥é“ï¼š</p>
<ul>
<li>æ¯ä¸€ä¸ªã€Œéç©ºè¿ç»­å­æ•°ç»„ã€å¦‚æœåŒ…å«çš„å…ƒç´ ä¸ªæ•°è¶Šå¤šï¼Œé‚£ä¹ˆ <code>maxIntervalSum</code> å°±å¯èƒ½è¶Šå¤§ï¼ˆéè´Ÿæ•´æ•°ä¿è¯ï¼‰ï¼›</li>
<li><strong>ä¸€ä¸ª <code>maxIntervalSum</code>çš„æ•°å€¼å°±å”¯ä¸€å¯¹åº”äº†ä¸€ä¸ªåˆ†å‡ºçš„ã€Œéç©ºè¿ç»­å­æ•°ç»„ã€çš„ç»„æ•° M ï¼Œå®ƒä»¬æ˜¯å‡½æ•°å…³ç³»ï¼ˆä¸€ä¸€å¯¹åº”ï¼‰ï¼Œ <code>maxIntervalSum</code> æ˜¯è‡ªå˜é‡ï¼ŒM æ˜¯å› å˜é‡ï¼Œå¯ä»¥å†™æˆï¼š</strong><br><code>M = function(maxIntervalSum)</code></li>
</ul>
<p><strong>å¦‚ä½•æ‰¾åˆ°ä¸€ä¸ª <code>maxIntervalSum</code>ï¼Œä½¿å¾—å®ƒå¯¹åº”çš„ M æ°å¥½ç­‰äºé¢˜ç›®ç»™å‡ºçš„ <code>m</code>ã€‚ä½†æ˜¯æˆ‘ä»¬å®¹æ˜“åˆ†æå‡ºï¼Œè¿™ä¸ªå‡½æ•°æ˜¯ä¸€ä¸ªå•è°ƒé€’å‡çš„å‡½æ•°ï¼š</strong></p>
<ul>
<li>å¦‚æœ <code>maxIntervalSum</code> è¶Šå°ï¼Œåˆ†å‡ºçš„ã€Œéç©ºè¿ç»­å­æ•°ç»„ã€çš„ç»„æ•° M å°±è¶Šå¤§ï¼›</li>
<li>å¦‚æœ <code>maxIntervalSum</code> è¶Šå¤§ï¼Œåˆ†å‡ºçš„ã€Œéç©ºè¿ç»­å­æ•°ç»„ã€çš„ç»„æ•° M å°±è¶Šå°ã€‚</li>
</ul>
<p>å› æ­¤è¿™ä¸ªå‡½æ•°æ˜¯å•è°ƒä¸å¢çš„å‡½æ•°ã€‚</p>
<p><img src="https://pic.leetcode-cn.com/078e19e89976f6487da9936288855a27feb50b935b69a475dd3c9c3bb730b5dc-image.png" alt=""></p>
<p>åŸå› å°±åœ¨äºä¸Šé¢å¼ºè°ƒçš„é¢˜ç›®ä¸­ç»™å‡ºçš„ 2 ä¸ªæ¡ä»¶ï¼šéè´Ÿæ•´æ•°å’Œéç©ºè¿ç»­å­æ•°ç»„ï¼Œ<strong>ç”±äºè¿™ç§å•è°ƒæ€§ï¼Œå¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ä¸ m å¯¹åº”çš„ <code>maxIntervalSum ã€‚</code></strong></p>
<p>å‚è€ƒä»£ç ï¼š</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›ç»†èŠ‚ï¼š</p>
<ul>
<li><p>åªè¦è¿ç»­åŠ èµ·æ¥çš„æ•°å€¼è¶…è¿‡äº† <code>maxIntervalSum</code>ï¼Œå°±æ–°äº§ç”Ÿä¸€ä¸ªæ–°çš„è¿ç»­å­æ•°ç»„ï¼›</p>
</li>
<li><p><code>maxIntervalSum</code> çš„æœ€å°å€¼æ˜¯è¿™ä¸ªæ•°ç»„ä¸­çš„æœ€å¤§å€¼ï¼Œè¿™æ˜¯å› ä¸º <code>max(nums)</code> ä¸€å®šä¼šè¢«åˆ†åˆ°å…¶ä¸­ä¸€ç»„ï¼›</p>
</li>
<li><p><code>maxIntervalSum</code> çš„æœ€å¤§å€¼æ˜¯è¿™ä¸ªæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„å’Œï¼Œæç«¯æƒ…å†µå°±æ˜¯é¢˜</p>
<p>ç›®ä¸­ç»™å‡º <code>m = 1</code> çš„æ—¶å€™ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">splitArray</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> m)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> max = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// è®¡ç®—ã€Œå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ã€çš„ä¸Šä¸‹ç•Œ</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> num : nums) {</span><br><span class="line">		max = Math.max(max, num);</span><br><span class="line">		sum += num;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">       <span class="comment">// ä½¿ç”¨ã€ŒäºŒåˆ†æŸ¥æ‰¾ã€ç¡®å®šä¸€ä¸ªæ°å½“çš„ã€Œå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ã€ï¼Œ</span></span><br><span class="line">       <span class="comment">// ä½¿å¾—å®ƒå¯¹åº”çš„ã€Œå­æ•°ç»„çš„åˆ†å‰²æ•°ã€æ°å¥½ç­‰äº m</span></span><br><span class="line">	<span class="keyword">int</span> left = max;</span><br><span class="line">	<span class="keyword">int</span> right = sum;</span><br><span class="line">	<span class="keyword">while</span>(left &lt; right) {</span><br><span class="line">		<span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">int</span> splits = split(nums, mid);</span><br><span class="line">		<span class="keyword">if</span>(splits &gt; m) {</span><br><span class="line">               <span class="comment">// å¦‚æœåˆ†å‰²æ•°å¤ªå¤šï¼Œè¯´æ˜ã€Œå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ã€å¤ªå°ï¼Œæ­¤æ—¶éœ€è¦å°†ã€Œå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ã€è°ƒå¤§</span></span><br><span class="line">               <span class="comment">// ä¸‹ä¸€è½®æœç´¢çš„åŒºé—´æ˜¯ [mid + 1, right]å¤„ã€‚</span></span><br><span class="line">			left = mid + <span class="number">1</span>;</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			 <span class="comment">// ä¸‹ä¸€è½®æœç´¢çš„åŒºé—´æ˜¯ä¸Šä¸€è½®çš„åé¢åŒºé—´ [left, mid]</span></span><br><span class="line">			right = mid;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> left;</span><br><span class="line">}</span><br><span class="line">   <span class="comment">/***</span></span><br><span class="line"><span class="comment">   *</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> nums åŸå§‹æ•°ç»„</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> maxIntervalSum å­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span> æ»¡è¶³ä¸è¶…è¿‡ã€Œå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ã€çš„åˆ†å‰²æ•°</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">split</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> maxIntervalSum)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="comment">//è‡³å°‘ä¸€ä¸ªåˆ†å‰²æ•°</span></span><br><span class="line">	<span class="keyword">int</span> splits = <span class="number">1</span>;</span><br><span class="line">	<span class="comment">//å½“å‰åŒºé—´çš„å’Œ</span></span><br><span class="line">	<span class="keyword">int</span> curIntervalSum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> num : nums) {</span><br><span class="line">		<span class="keyword">if</span>(curIntervalSum + num &gt; maxIntervalSum) {</span><br><span class="line">			curIntervalSum = <span class="number">0</span>;</span><br><span class="line">			splits++;</span><br><span class="line">		}</span><br><span class="line">		curIntervalSum += num;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> splits;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>python</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">splitArray</span><span class="params">(self, nums: list[int], m: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">split</span><span class="params">(nums: list[int], maxIntervalSum: int)</span> -&gt; int:</span></span><br><span class="line">            splits = <span class="number">1</span></span><br><span class="line">            curIntervalSum = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">                <span class="keyword">if</span> curIntervalSum + num &gt; maxIntervalSum:</span><br><span class="line">                    curIntervalSum = <span class="number">0</span></span><br><span class="line">                    splits += <span class="number">1</span></span><br><span class="line">                curIntervalSum += num</span><br><span class="line">            <span class="keyword">return</span> splits</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">#   è®¡ç®—ã€Œå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ã€çš„ä¸Šä¸‹ç•Œ</span></span><br><span class="line">        _max = max(nums)</span><br><span class="line">        _sum = sum(nums)</span><br><span class="line">        <span class="comment">#  ä½¿ç”¨ã€ŒäºŒåˆ†æŸ¥æ‰¾ã€ç¡®å®šä¸€ä¸ªæ°å½“çš„ã€Œå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ã€ï¼Œ</span></span><br><span class="line">        <span class="comment"># ä½¿å¾—å®ƒå¯¹åº”çš„ã€Œå­æ•°ç»„çš„åˆ†å‰²æ•°ã€æ°å¥½ç­‰äº m</span></span><br><span class="line">        left, right = _max, _sum</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right):</span><br><span class="line">            mid = left + (right - left) / <span class="number">2</span></span><br><span class="line">            </span><br><span class="line">            splits = split(nums, mid)</span><br><span class="line">            <span class="keyword">if</span> splits &gt; m:</span><br><span class="line">                left = mid + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                right = mid</span><br><span class="line">        <span class="keyword">return</span> left</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸æ€»ç»“"><a href="#ğŸŒ¸æ€»ç»“" class="headerlink" title="ğŸŒ¸æ€»ç»“"></a>ğŸŒ¸æ€»ç»“</h2><h4 id="ğŸç†è§£å•è°ƒæ€§"><a href="#ğŸç†è§£å•è°ƒæ€§" class="headerlink" title="ğŸç†è§£å•è°ƒæ€§"></a>ğŸç†è§£å•è°ƒæ€§</h4><ul>
<li>ä¸€ä¸ªé‡è¦çš„æ€§è´¨ï¼šåˆ†å‰²æ•°è¶Šå¤§ï¼Œã€Œå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ã€å°±è¶Šå°ï¼ˆéé€’å¢ï¼Œæ»¡è¶³å•è°ƒæ€§ï¼‰ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œå®šä½åˆ†å‰²æ•°ï¼›</li>
<li>ä¸€ç§ã€Œåˆ†å‰²æ–¹æ¡ˆï¼ˆåˆ†æˆå‡ ä¸ªå­æ•°ç»„ï¼‰ã€å¯¹åº”äº†ä¸€ä¸ªã€Œå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ã€ï¼›</li>
<li>åè¿‡æ¥ï¼Œä¸€ä¸ªã€Œå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ã€å¯¹åº”äº†ä¸€ç§ã€Œåˆ†å‰²æ–¹æ¡ˆï¼ˆåˆ†æˆå‡ ä¸ªå­æ•°ç»„ï¼‰ã€ï¼›</li>
<li>å®ƒä»¬æ˜¯ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼ˆå…³é”®ï¼‰ã€‚</li>
</ul>
<h4 id="ğŸæ€è·¯æ•´ç†ï¼ˆç»•äº†ä¸ªå¼¯å­å»é€¼è¿‘ï¼‰"><a href="#ğŸæ€è·¯æ•´ç†ï¼ˆç»•äº†ä¸ªå¼¯å­å»é€¼è¿‘ï¼‰" class="headerlink" title="ğŸæ€è·¯æ•´ç†ï¼ˆç»•äº†ä¸ªå¼¯å­å»é€¼è¿‘ï¼‰"></a>ğŸæ€è·¯æ•´ç†ï¼ˆç»•äº†ä¸ªå¼¯å­å»é€¼è¿‘ï¼‰</h4><ul>
<li>å…ˆæ‰¾ã€Œå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ã€çš„ä¸­é—´æ•°ï¼ˆå°è¯•å¾—åˆ°çš„ä¸€ä¸ªå€¼ï¼‰ï¼Œçœ‹çœ‹å®ƒå¯¹åº”çš„ã€Œåˆ†å‰²æ–¹æ¡ˆï¼ˆåˆ†æˆå‡ ä¸ªå­æ•°ç»„ï¼‰ã€æ˜¯å¤šå°‘ï¼›</li>
<li>å¦‚æœã€Œåˆ†å‰²æ–¹æ¡ˆï¼ˆåˆ†æˆå‡ ä¸ªå­æ•°ç»„ï¼‰ã€æ¯”é¢˜ç›®è¦æ±‚çš„ <code>m</code> è¿˜å¤šï¼Œè¯´æ˜ã€Œå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ã€è¿˜å¤ªå°ï¼Œæ‰€ä»¥ä¸‹ä¸€æ¬¡æœç´¢åº”è¯¥è‡³å°‘æ˜¯ä¸­ä½æ•° <code>+ 1</code>ï¼ˆ<code>left = mid + 1</code>ï¼‰ï¼Œå®ƒçš„åé¢å³è‡³å¤šæ˜¯ä¸­ä½æ•°ï¼ˆ<code>right = mid</code>ï¼‰ã€‚</li>
</ul>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>åˆ†æ²»</tag>
        <tag>äºŒåˆ†æœç´¢</tag>
        <tag>java</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>äºŒåˆ†_å‰‘æŒ‡offer.11_æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—</title>
    <url>/Rotate%20the_smallest_number_in_the_array/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸæŠŠä¸€ä¸ªæ•°ç»„æœ€å¼€å§‹çš„è‹¥å¹²ä¸ªå…ƒç´ æ¬åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°ç»„çš„æ—‹è½¬ã€‚è¾“å…¥ä¸€ä¸ªé€’å¢æ’åºçš„æ•°ç»„çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¾“å‡ºæ—‹è½¬æ•°ç»„çš„æœ€å°å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œæ•°ç»„ [3,4,5,1,2] ä¸º [1,2,3,4,5] çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¯¥æ•°ç»„çš„æœ€å°å€¼ä¸º1ã€‚  </p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<a id="more"></a>

<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[3,4,5,1,2]</span><br><span class="line">è¾“å‡ºï¼š1</span><br><span class="line">ç¤ºä¾‹ 2ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼š[2,2,2,0,1]</span><br><span class="line">è¾“å‡ºï¼š0</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸åˆ†ææ€è·¯"><a href="#ğŸŒ¸åˆ†ææ€è·¯" class="headerlink" title="ğŸŒ¸åˆ†ææ€è·¯"></a>ğŸŒ¸åˆ†ææ€è·¯</h2><ul>
<li><p>ğŸå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯»æ‰¾æ—‹è½¬æ•°ç»„çš„æœ€å°å…ƒç´ å³ä¸ºå¯»æ‰¾ å³æ’åºæ•°ç»„ çš„é¦–ä¸ªå…ƒç´  numbers[x] ï¼Œç§° x ä¸º æ—‹è½¬ç‚¹ ã€‚</p>
</li>
<li><p>æ’åºæ•°ç»„çš„æŸ¥æ‰¾é—®é¢˜é¦–å…ˆè€ƒè™‘ä½¿ç”¨ äºŒåˆ†æ³• è§£å†³ï¼Œå…¶å¯å°†éå†æ³•çš„ çº¿æ€§çº§åˆ« æ—¶é—´å¤æ‚åº¦é™ä½è‡³ å¯¹æ•°çº§åˆ« ã€‚</p>
</li>
</ul>
<p><a href="https://imgchr.com/i/U7EXOs" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/07/22/U7EXOs.png" alt="U7EXOs.png"></a></p>
<h2 id="ğŸŒ¸æ–¹æ³•ï¼šäºŒåˆ†æŸ¥æ‰¾"><a href="#ğŸŒ¸æ–¹æ³•ï¼šäºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="ğŸŒ¸æ–¹æ³•ï¼šäºŒåˆ†æŸ¥æ‰¾"></a>ğŸŒ¸æ–¹æ³•ï¼šäºŒåˆ†æŸ¥æ‰¾</h2><h3 id="ğŸç®—æ³•æµç¨‹"><a href="#ğŸç®—æ³•æµç¨‹" class="headerlink" title="ğŸç®—æ³•æµç¨‹"></a>ğŸç®—æ³•æµç¨‹</h3><ol>
<li><p>å¾ªç¯äºŒåˆ†ï¼š è®¾ç½® i, j æŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ numbers æ•°ç»„å·¦å³ä¸¤ç«¯ï¼Œm = (i + j) // 2ä¸ºæ¯æ¬¡äºŒåˆ†çš„ä¸­ç‚¹ï¼ˆ â€œ//â€œ ä»£è¡¨å‘ä¸‹å–æ•´é™¤æ³•ï¼Œå› æ­¤æ’æœ‰ i â‰¤ m &lt; jï¼‰ï¼Œå¯åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š</p>
<ul>
<li>å½“numbers[m] &gt; numbers[j] æ—¶: mä¸€åœ¨å·¦æ’åºæ•°ç»„ä¸­ï¼Œå³æ—‹è½¬ç‚¹xä¸€å®šåœ¨[m+ 1,j]é—­åŒºé—´å†…,å› æ­¤æ‰§è¡Œi= m+ 1;</li>
<li>å½“numbers[m] &lt; numbers[j] æ—¶: mä¸€å®šåœ¨å³æ’åºæ•°ç»„ä¸­ï¼Œå³æ—‹è½¬ç‚¹xä¸€å®šåœ¨[i, m]é—­åŒºé—´å†…ï¼Œå› æ­¤æ‰§è¡Œj = m;</li>
<li>å½“numbers[m] = numbers[j] æ—¶:æ— æ³•åˆ¤æ–­måœ¨å“ªä¸ªæ’åºæ•°ç»„ä¸­ï¼Œå³æ— æ³•åˆ¤æ–­æ—‹è½¬ç‚¹xåœ¨[i, m]è¿˜æ˜¯[m+ 1,j]é—´ä¸­ã€‚è§£å†³æ–¹æ¡ˆ:æ‰§è¡Œj= j- 1ç¼©å°åˆ¤æ–­èŒƒå›´(åˆ†æè§ä»¥ä¸‹å†…å®¹) ã€‚</li>
</ul>
</li>
<li><p>è¿”å›å€¼:å½“i = jæ—¶è·³å‡ºäºŒåˆ†å¾ªç¯ï¼Œå¹¶è¿”è¿¥numbers[i]å³å¯ã€‚</p>
<blockquote>
<p><strong>æ€è€ƒ:</strong>æ˜¯å¦å¯ä»¥ç”¨numbers[m] å’Œnumbers[i]|æ¯”è¾ƒåšä»£æ›¿?<br><strong>è§£æ:</strong>ä¸å¯ä»¥ã€‚å› ä¸ºåšæ¯”è¾ƒçš„ç›®çš„æ˜¯åˆ¤æ–­måœ¨å“ªä¸ªæ’åºæ•°ç»„ä¸­ã€‚åœ¨numbers [m]&gt;numbers[i] æƒ…å†µä¸‹,æ— æ³•åˆ¤æ–­måœ¨å“ªä¸ªæ’åºæ•°ç»„ä¸­ã€‚æœ¬è´¨æ˜¯å› ä¸ºjåˆå§‹å€¼è‚¯å®šåœ¨å³æ’åºæ•°ç»„ä¸­; i åˆå§‹å€¼æ— æ³•ç¡®å®šåœ¨å“ªä¸ªæ’åºæ•°ç»„ä¸­ã€‚<br><strong>ç¤ºä¾‹</strong>:å½“i=0,j= 4,m=2æ—¶,æœ‰numbers[m] &gt; numbers[i] ï¼Œ ä»¥ä¸‹ä¸¤ç¤ºä¾‹<br>å¾—å‡ºä¸åŒç»“æœã€‚<br>numbers= [1, 2,3,4,5]æ—‹è½¬ç‚¹x= 0: måœ¨å³æ’åºæ•°ç»„(é™…ä¾‹åªæœ‰å³æ’åº<br>æ•°ç»„) ;<br>numbers= [3, 4,5,1,2]æ—‹è½¬ç‚¹x= 3: måœ¨å·¦æ’åºæ•°ç»„ã€‚</p>
</blockquote>
<p><strong>å±•å¼€åˆ†ænumbers[m] = numbers[j] æƒ…å†µ:</strong></p>
<ol>
<li><strong>æ— æ³•åˆ¤å®šmåœ¨å·¦(å³)æ’åºæ•°ç»„:</strong>è®¾ä»¥ä¸‹ä¸¤ä¸ªæ—‹è½¬ç‚¹å€¼ä¸º 0çš„ç¤ºä¾‹æ•°ç»„ï¼Œåˆ™å½“i=0,j= 4æ—¶m=2ï¼Œä¸¤é™…ä¾‹ç»“æœä¸åŒã€‚<ol>
<li>ä¾‹[1,0,1,1,1]:æ—‹è½¬ç‚¹x= 1,å› æ­¤m= 2åœ¨<strong>å³æ’åºæ•°ç»„</strong>ä¸­ã€‚</li>
<li>ä¾‹[1,1,1,0,1]:æ—‹è½¬ç‚¹x=3,å› æ­¤m = 2åœ¨<strong>å·¦æ’åºæ•°ç»„</strong>ä¸­ã€‚</li>
</ol>
</li>
<li>j= j - 1<strong>æ“ä½œçš„æ­£ç¡®æ€§è¯æ˜</strong>:åªéœ€è¯æ˜æ™¦æ¬¡æ‰§è¡Œæ­¤æ“ä½œåï¼Œæ—‹è½¬ç‚¹xä»åœ¨[i, j]åŒºé—´å†…å³å¯ã€‚<ol>
<li><strong>è‹¥måœ¨å³æ’åºæ•°ç»„ä¸­</strong>: numbers[m] == numbers[j]ï¼Œå› æ­¤æ•°ç»„[m,j] (æ’æœ‰m &lt; j)é—´å†…æ‰€æœ‰å…ƒç´ å€¼ç›¸ç­‰ï¼Œæ‰§è¡Œj= j- 1åªä¼šæŠ›å¼ƒ-ä¸ªé‡å¤å€¼,å› æ­¤æ—‹è½¬ç‚¹xä»åœ¨[i, j]åŒºé—´å†…ã€‚</li>
<li><strong>è‹¥måœ¨å·¦æ’åºæ•°ç»„ä¸­:</strong>äº|å·¦æ’åºæ•°ç»„ä»»ä¸€å…ƒç´ &gt;=å³æ’åºæ•°ç»„ä»»ä¸€å…ƒç´ |ï¼Œå› æ­¤å¯æ¨å‡ºæ—‹è½¬å…ƒç´ å€¼numbers[x] &lt;= numbers[j] == numbers[m]ï¼Œåˆ™æœ‰:<ol>
<li>è‹¥numbers[x] &lt; numbers[j] :å³jæ–¹ä»æœ‰å€¼æ›´å°çš„å…ƒç´ ï¼Œæ‰§è¡Œj= j- 1åæ—‹è½¬ç‚¹x ä»åœ¨[i, j]åŒºé—´å†…ã€‚</li>
<li>è‹¥numbers[x] = numbers[j] :åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µã€‚<ol>
<li>å½“j&gt; x:æ˜“å¾—æ‰§è¡Œj= j- 1åæ—‹è½¬ç‚¹xä»åœ¨[i,j]åŒºé—´å†…ã€‚</li>
<li>å½“j= x:ç‰¹æ®Šæƒ…å†µï¼Œå³æ‰§è¡Œj=j- 1åæ—‹è½¬ç‚¹xå¯èƒ½ä¸åœ¨[i, j]åŒºé—´å†…ã€‚ä¾‹å¦‚<br>[1,1,1,2,3,1]ï¼Œå½“i=0,m=2,j= 5æ—¶æ‰§è¡Œj= j- 1åè™½ç„¶ç§©äº†æ—‹è½¬ç´¢å¼•x= 5ï¼Œä½†æœ€ç»ˆè¿”å›å€¼ä»æ­£ç¡®(æœ€ç»ˆè¿”å›numbers[0] ç­‰äºæ—‹è½¬ç‚¹å€¼numbers[5])ï¼Œè¿™æ˜¯å› ä¸º:ä¹‹åçš„äºŒåˆ†å¾ªç¯ä¸€ç›´åœ¨æ‰§è¡Œj = m,åŒºé—´[i, m]å†…çš„å…ƒç´ å€¼ä¸€å®šéƒ½ç­‰äºæ—‹è½¬ç‚¹å€¼numbers[x] ( :åŒºé—´å†…å…ƒç´ å€¼æ—¢è¦æ»¡è¶³â‰¥ä¹Ÿè¦æ»¡è¶³&lt; numbers[x] )ï¼Œå› æ­¤ä»å¯ä¿è¯æ­£ç¡®çš„è¿”å›å€¼ã€‚</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>æ€»ç»“:ä»¿æ²³ä»¥ä¿è¯è¿”å›å€¼numbers[i]| ç­‰äºæ—‹è½¬ç‚¹å€¼numbers[x] ;ä½†åœ¨å°‘æ•°ç‰¹ä¾‹ä¸‹iä¸æ˜¯æ—‹è½¬<br>ç‚¹xã€‚æœ¬é¢˜ç›®èŒè¦æ±‚è¿”å›â€œæ—‹è½¬ç‚¹çš„å€¼â€ï¼Œå› æ­¤æœ¬æ–¹æ³•å¯è¡Œã€‚</li>
</ol>
</li>
</ol>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minArray</span><span class="params">(<span class="keyword">int</span>[] numbers)</span> </span>{</span><br><span class="line">	  <span class="keyword">int</span> left = <span class="number">0</span>, right = numbers.length - <span class="number">1</span>;</span><br><span class="line">	  <span class="keyword">while</span>(left &lt; right) {</span><br><span class="line">		  <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">		  <span class="keyword">if</span>(numbers[mid] &lt; numbers[right]) {</span><br><span class="line">			  right = mid;</span><br><span class="line">		  }<span class="keyword">else</span> <span class="keyword">if</span>(numbers[mid] &gt; numbers[right]) {</span><br><span class="line">			  left = mid + <span class="number">1</span>;</span><br><span class="line">		  }<span class="keyword">else</span> {</span><br><span class="line">			  right--;</span><br><span class="line">		  }</span><br><span class="line">	  }</span><br><span class="line">	  <span class="keyword">return</span> numbers[left];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>python</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minArray</span><span class="params">(self, numbers: [int])</span> -&gt; int:</span></span><br><span class="line">        i, j = <span class="number">0</span>, len(numbers) - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; j:</span><br><span class="line">            m = (i + j) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> numbers[m] &gt; numbers[j]: i = m + <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> numbers[m] &lt; numbers[j]: j = m</span><br><span class="line">            <span class="keyword">else</span>: j -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> numbers[i]</span><br></pre></td></tr></tbody></table></figure>



<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>å‰‘æŒ‡offer</category>
      </categories>
      <tags>
        <tag>åˆ†æ²»</tag>
        <tag>äºŒåˆ†æœç´¢</tag>
        <tag>java</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ¨æ€è§„åˆ’_leetcode.1504.ç»Ÿè®¡å…¨1å­çŸ©å½¢</title>
    <url>/Statistical_all-1_subrectangle/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™ä½ ä¸€ä¸ªåªåŒ…å« 0 å’Œ 1 çš„ rows * columns çŸ©é˜µ mat ï¼Œè¯·ä½ è¿”å›æœ‰å¤šå°‘ä¸ª å­çŸ©å½¢ çš„å…ƒç´ å…¨éƒ¨éƒ½æ˜¯ 1 ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<a id="more"></a>

<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šmat = [[1,0,1],</span><br><span class="line">            [1,1,0],</span><br><span class="line">            [1,1,0]]</span><br><span class="line">è¾“å‡ºï¼š13</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">æœ‰ 6 ä¸ª 1x1 çš„çŸ©å½¢ã€‚</span><br><span class="line">æœ‰ 2 ä¸ª 1x2 çš„çŸ©å½¢ã€‚</span><br><span class="line">æœ‰ 3 ä¸ª 2x1 çš„çŸ©å½¢ã€‚</span><br><span class="line">æœ‰ 1 ä¸ª 2x2 çš„çŸ©å½¢ã€‚</span><br><span class="line">æœ‰ 1 ä¸ª 3x1 çš„çŸ©å½¢ã€‚</span><br><span class="line">çŸ©å½¢æ•°ç›®æ€»å…± = 6 + 2 + 3 + 1 + 1 = 13 ã€‚</span><br></pre></td></tr></tbody></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šmat = [[0,1,1,0],</span><br><span class="line">            [0,1,1,1],</span><br><span class="line">            [1,1,1,0]]</span><br><span class="line">è¾“å‡ºï¼š24</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">æœ‰ 8 ä¸ª 1x1 çš„å­çŸ©å½¢ã€‚</span><br><span class="line">æœ‰ 5 ä¸ª 1x2 çš„å­çŸ©å½¢ã€‚</span><br><span class="line">æœ‰ 2 ä¸ª 1x3 çš„å­çŸ©å½¢ã€‚</span><br><span class="line">æœ‰ 4 ä¸ª 2x1 çš„å­çŸ©å½¢ã€‚</span><br><span class="line">æœ‰ 2 ä¸ª 2x2 çš„å­çŸ©å½¢ã€‚</span><br><span class="line">æœ‰ 2 ä¸ª 3x1 çš„å­çŸ©å½¢ã€‚</span><br><span class="line">æœ‰ 1 ä¸ª 3x2 çš„å­çŸ©å½¢ã€‚</span><br><span class="line">çŸ©å½¢æ•°ç›®æ€»å…± = 8 + 5 + 2 + 4 + 2 + 2 + 1 = 24 ã€‚</span><br></pre></td></tr></tbody></table></figure>

<p>ç¤ºä¾‹ 3ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šmat = [[1,1,1,1,1,1]]</span><br><span class="line">è¾“å‡ºï¼š21</span><br><span class="line">ç¤ºä¾‹ 4ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šmat = [[1,0,1],[0,1,0],[1,0,1]]</span><br><span class="line">è¾“å‡ºï¼š5</span><br></pre></td></tr></tbody></table></figure>


<p>æç¤ºï¼š</p>
<ul>
<li><code>1 &lt;= rows &lt;= 150</code></li>
<li><code>1 &lt;= columns &lt;= 150</code></li>
<li><code>0 &lt;= mat[i][j] &lt;= 1</code></li>
</ul>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ã€æš´åŠ›"><a href="#ğŸŒ¸è§£æ³•ä¸€ã€æš´åŠ›" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ã€æš´åŠ›"></a>ğŸŒ¸è§£æ³•ä¸€ã€æš´åŠ›</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSubmat</span><span class="params">(<span class="keyword">int</span>[][] mat)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n=mat.length;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> m= mat[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++){</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++){</span><br><span class="line">            <span class="comment">// i,jä¸ºå·¦ä¸Šè§’é¡¶ç‚¹,å›ºå®šå·¦ä¸Šè§’,é€è¡Œéå†å³ä¸‹è§’</span></span><br><span class="line">            <span class="keyword">int</span> p=Integer.MAX_VALUE;<span class="comment">// çŸ©å½¢å³è¾¹ç•Œ</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> a=i;a&lt;n;a++){</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> b=j;b&lt;m&amp;&amp;b&lt;p;b++){</span><br><span class="line">                    <span class="comment">// a,bä¸ºå³ä¸‹è§’é¡¶ç‚¹</span></span><br><span class="line">                    <span class="keyword">if</span>(mat[a][b]==<span class="number">1</span>){</span><br><span class="line">                        ans++;</span><br><span class="line">                    } <span class="keyword">else</span> {</span><br><span class="line">                        p=b;<span class="comment">// æ›´æ–°è¾¹ç•Œ</span></span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸è§£æ³•äºŒã€åŠ¨æ€è§„åˆ’ï¼ˆæšä¸¾ï¼‰"><a href="#ğŸŒ¸è§£æ³•äºŒã€åŠ¨æ€è§„åˆ’ï¼ˆæšä¸¾ï¼‰" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒã€åŠ¨æ€è§„åˆ’ï¼ˆæšä¸¾ï¼‰"></a>ğŸŒ¸è§£æ³•äºŒã€åŠ¨æ€è§„åˆ’ï¼ˆæšä¸¾ï¼‰</h2><p>ğŸé¦–å…ˆå¾ˆç›´è§‚çš„æƒ³æ³•,æˆ‘ä»¬å¯ä»¥æšä¸¾çŸ©é˜µä¸­çš„æ¯ä¸ªä½ç½®(i, j),ç»Ÿè®¡ä»¥å…¶ä½œä¸ºå³ä¸‹è§’æ—¶,æœ‰å¤šå°‘ä¸ªå…ƒç´¢å…¨éƒ¨éƒ½æ˜¯1çš„å­çŸ©å½¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±èƒ½ä¸é‡ä¸æ¼åœ°ç»Ÿè®¡å‡ºæ»¡è¶³æ¡ä»¶çš„å­çŸ©å½¢ä¸ªæ•°ã€‚é‚£ä¹ˆæšä¸¾ä»¥åï¼Œæˆ‘ä»¬æ€ä¹ˆç»Ÿè®¡æ»¡è¶³æ¡ä»¶çš„å­çŸ©å½¢ä¸ªæ•°å‘¢?</p>
<p>æ—¢ç„¶æ˜¯æšä¸¾ä»¥(i, j)ä½œä¸ºå³ä¸‹è§’çš„å­çŸ©å½¢ä¸ªæ•°,é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥æš´åŠ›åœ°æšä¸¾å·¦ä¸Šè§’(k,y),çœ‹å…¶ç»„æˆçš„çŸ©å½¢æ˜¯å¦æ»¡è¶³æ¡ä»¶,æ—¶é—´å¤æ‚åº¦ä¸ºO(nm)ã€‚ä½†è¿™æ ·æ— ç–‘ä¼šä½¿å¾—æ—¶é—´å¤æ‚åº¦å˜å¾—å¾ˆé«˜,æˆ‘ä»¬éœ€è¦å¦å¯»ä»–è·¯ã€‚</p>
<p>æˆ‘ä»¬é¢„å¤„ç†rowæ•°ç»„,ä¸­row[i] [j]ä»£è¡¨çŸ©é˜µä¸­(i,j)å‘å·¦å»¶ä¼¸è¿ç»­1çš„ä¸ªæ•°,å®¹æ˜“å¾—å‡ºé€’æ¨å¼:<br>$$<br>row[i][j]=\begin{cases}0,&amp;\text{mat[i][j] = 0}\row[i][j - 1] + 1,&amp;\text{mat[i][j] = 1}\end{cases}<br>$$<br>æœ‰äº†rowæ•°ç»„ä»¥åï¼Œå¦‚æœè¦ç»Ÿè®¡ä»¥(i, j)ä¸ºå³ä¸‹è§’æ»¡è¶³æ¡ä»¶çš„å­çŸ©å½¢,æˆ‘ä»¬å°±å¯ä»¥æšä¸¾å­çŸ©å½¢çš„é«˜ï¼Œå³ç¬¬kè¡Œï¼Œçœ‹å½“å‰é«˜åº¦æœ‰å¤šå°‘æ»¡è¶³æ¡ä»¶çš„å­çŸ©å½¢ã€‚äºæˆ‘ä»¬çŸ¥é“ç¬¬kè¡Œåˆ°ç¬¬iè¡Œã€Œæ¯ä¸€è¡Œç¬¬jåˆ—å‘å·¦å»¶ä¼¸è¿ç»­1çš„ä¸ªæ•°ã€row[k] [j],â€¦.row[i] [j],],å› æ­¤æˆ‘ä»¬å¯ä»¥çŸ¥é“ç¬¬kè¡Œæ»¡è¶³æ¡ä»¶çš„å­çŸ©å½¢ä¸ªæ•°å°±æ˜¯è¿™äº›å€¼çš„æœ€å°å€¼ï¼Œå®ƒä»£è¡¨äº†ã€Œç¬¬ kè¡Œåˆ°ç¬¬iè¡Œå­å½¢çš„å®½çš„æœ€å¤§å€¼ã€ï¼Œ å…¬å¼åŒ–æ¥è¯´ï¼Œå³:<code>min{row[l] [j]}(l = k...i)</code></p>
<p>å› æ­¤æˆ‘ä»¬å€’åºæšä¸¾k,ç”¨colå˜é‡æ¥è®°å½•åˆ°å½“å‰è¡Œrowçš„æœ€å°å€¼ï¼Œå³èƒ½åœ¨0(n)çš„<br>æ—¶é—´å†…ç»Ÿè®¡å‡ºä»¥(i, j)ä¸ºå³ä¸‹è§’æ»¡è¶³æ¡ä»¶çš„å­çŸ©å½¢ä¸ªæ•°ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSubmat1</span><span class="params">(<span class="keyword">int</span>[][] mat)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> n = mat.length;</span><br><span class="line">	<span class="keyword">int</span> m = mat[<span class="number">0</span>].length;</span><br><span class="line">	<span class="keyword">int</span>[][] row = <span class="keyword">new</span> <span class="keyword">int</span>[n][m];</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) {</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) {</span><br><span class="line">			<span class="keyword">if</span>(j == <span class="number">0</span>) {</span><br><span class="line">				row[i][j] = mat[i][j];</span><br><span class="line">			}<span class="keyword">else</span> <span class="keyword">if</span>(mat[i][j] != <span class="number">0</span>) {</span><br><span class="line">				row[i][j] = row[i][j - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">			}<span class="keyword">else</span> {</span><br><span class="line">				row[i][j] = <span class="number">0</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) {</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) {</span><br><span class="line">			<span class="keyword">int</span> col = row[i][j];</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> k = i; k &gt;=<span class="number">0</span> &amp;&amp; col != <span class="number">0</span>; --k) {</span><br><span class="line">				col = Math.min(col, row[k][j]);</span><br><span class="line">				ans += col;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> ans;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numSubmat</span><span class="params">(self, mat: List[List[int]])</span> -&gt; int:</span></span><br><span class="line">        n, m = len(mat), len(mat[<span class="number">0</span>])</span><br><span class="line">        </span><br><span class="line">        row = [[<span class="number">0</span>] * m <span class="keyword">for</span> _ <span class="keyword">in</span> range(n)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(m):</span><br><span class="line">                <span class="keyword">if</span> j == <span class="number">0</span>:</span><br><span class="line">                    row[i][j] = mat[i][j]</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    row[i][j] = <span class="number">0</span> <span class="keyword">if</span> mat[i][j] == <span class="number">0</span> <span class="keyword">else</span> row[i][j - <span class="number">1</span>] + <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(m):</span><br><span class="line">                col = row[i][j]</span><br><span class="line">                <span class="keyword">for</span> k <span class="keyword">in</span> range(i, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">                    col = min(col, row[k][j])</span><br><span class="line">                    <span class="keyword">if</span> col == <span class="number">0</span>:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    ans += col</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸è§£æ³•ä¸‰ã€å•è°ƒæ ˆ"><a href="#ğŸŒ¸è§£æ³•ä¸‰ã€å•è°ƒæ ˆ" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸‰ã€å•è°ƒæ ˆ"></a>ğŸŒ¸è§£æ³•ä¸‰ã€å•è°ƒæ ˆ</h2><p>ğŸå•è°ƒæ ˆæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ˆï¼Œå®ƒå§‹ç»ˆä¿è¯æ ˆé‡Œçš„å…ƒç´ å…·æœ‰å•è°ƒæ€§,è¦ä¹ˆæ˜¯å•è°ƒé€’å¢ï¼Œ è¦ä¹ˆæ˜¯å•è°ƒé€’å‡ï¼Œåœ¨æ­¤é¢˜ä¸­æˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ä¸ªå­˜å‚¨rowå€¼çš„å•è°ƒæ ˆï¼Œæ»¡è¶³ä»æ ˆåº•åˆ°æ ˆé¡¶çš„å…ƒç´ å•è°ƒé€’å¢ã€‚ä¸ºä»€ä¹ˆä¼šæƒ³åˆ°è¿™ä¹ˆåš?è¿™å› ä¸ºæˆ‘ä»¬ä¼šå‘ç°ï¼Œæœ€å®¹æ˜“ç»Ÿè®¡çš„æƒ…å†µæ˜¯row[0..i] [j] çš„å€¼éšè¡Œå·å•è°ƒé€’å¢ï¼Œæ­¤æ—¶ç­”æ¡ˆå°±æ˜¯å®ƒä»¬çš„å’Œ,ä½†æ˜¯å¦‚æœé‡åˆ°éé€’å¢çš„æ—¶å€™ï¼Œå³å½“å‰row[i] [j]å°äºå½“å‰row[i- 1] [j],æ­¤æ—¶æ— ç–‘i- 1è¡Œrow[i- 1] [j]- row[i] [j] çš„éƒ¨åˆ†æˆ‘ä»¬æ˜¯ä¸å†éœ€è¦çš„ï¼Œå®ƒå¯¹åé¢i+1,i+ 2,â€¦ ,nä¸€1ç»Ÿè®¡ç­”æ¡ˆçš„æ—¶å€™éƒ½ä¸ä¼šå†ç”¨åˆ°ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥æŠ›å¼ƒæ‰è¿™éƒ¨åˆ†çš„å€¼ï¼Œç„¶åå†å»çœ‹row[i] [j]å’Œrow[i - 2] [j] çš„å€¼,ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°row[j[j]çš„å€¼å¤§äºå½“å‰å•è°ƒæ ˆæ ˆé¡¶çš„å…ƒç´ æ—¶ç»“æŸ,ç„¶åå†æ¨row[i] [j]. </p>
<p>è¿™å°±æ˜¯ç»´æŠ¤-ä¸€ä¸ªå•è°ƒæ ˆçš„è¿‡ç¨‹ï¼Œä½†æ˜¯è¿˜æ²¡å®Œï¼Œæˆ‘ä»¬ä¸èƒ½ç®€å•åœ°å°†ä¸æ»¡è¶³æ¡ä»¶çš„å€¼ä»æ ˆé‡Œå¼¹å‡ºï¼Œä»¥ä¸Šé¢ç¬¬i- 1è¡Œä¸¾ä¾‹ï¼Œå®ƒæœ‰row[i] [j] å¤§å°çš„éƒ¨åˆ†æ˜¯éœ€è¦ç»Ÿè®¡å…¥ç­”æ¡ˆçš„,<br>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦æ€ä¹ˆåšå‘¢?</p>
<p>æˆ‘ä»¬å¯¹å•è°ƒæ ˆå­˜å‚¨çš„å…ƒç´ è¿›è¡Œä¿®æ”¹ï¼Œæ”¹æˆå­˜å‚¨-ä¸ªäºŒ å…ƒç»„(row[i] [j], height),ç¤ºå½“<br>å‰çŸ©å½¢çš„å®½å’Œé«˜ï¼Œä¸€å¼€å§‹æˆ‘ä»¬æ”¾å…¥çš„å•è°ƒæ ˆçš„éƒ½æ˜¯é«˜ä¸º 1å®½ä¸ºrow[i] [j]çš„çŸ©å½¢ï¼Œä½†ç¢°åˆ°ä¸Šé¢æƒ…å†µçš„æ—¶å€™ï¼Œä¸ºäº†ä¿ç•™å¼¹å‡ºå…ƒç´ ä¸­å¯ç”¨éƒ¨åˆ†ã€çš„ç­”æ¡ˆ,æˆ‘ä»¬éœ€è¦å°†å½“å‰è¦æ¨å…¥æ ˆä¸­çš„å…ƒç´ çš„é«˜åŠ ä¸Šå¼¹å‡ºå…ƒç´ çš„é«˜ï¼Œäºè¿™ä¸ªæƒ…å†µåªä¼šå‘ç”Ÿåœ¨æ¨å…¥å…ƒç´ å°äºæ ˆé¡¶å…ƒç´ çš„æ—¶å€™å‘ç”Ÿï¼Œå› æ­¤çŸ©å½¢çš„å®½ä¸€æ˜¯å½“å‰æ¨å…¥å…ƒç´ çš„rowå€¼ï¼ŒåŒæ—¶æˆ‘ä»¬å†ç»´æŠ¤ä¸€ä¸ªåˆ°å½“å‰è¡Œçš„ç­”æ¡ˆå’Œsumå€¼å³å¯ã€‚</p>
<p>é€šè¿‡å•è°ƒæ ˆçš„ä½¿ç”¨ï¼Œæˆ‘ä»¬å°±ä¸å†éœ€è¦æ¯æ¬¡æšä¸¾çš„æ—¶å€™å†é‡å¤å€’åºæšä¸¾käº†,è¿›ä¸€æ­¥ä¼˜åŒ–äº†æ—¶é—´å¤æ‚åº¦ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSubmat2</span><span class="params">(<span class="keyword">int</span>[][] mat)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> n = mat.length;</span><br><span class="line">        <span class="keyword">int</span> m = mat[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span>[][] row = <span class="keyword">new</span> <span class="keyword">int</span>[n][m];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; ++j) {</span><br><span class="line">                <span class="keyword">if</span> (j == <span class="number">0</span>) {</span><br><span class="line">                    row[i][j] = mat[i][j];</span><br><span class="line">                } <span class="keyword">else</span> <span class="keyword">if</span> (mat[i][j] != <span class="number">0</span>) {</span><br><span class="line">                    row[i][j] = row[i][j - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">                } <span class="keyword">else</span> {</span><br><span class="line">                    row[i][j] = <span class="number">0</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; ++j) { </span><br><span class="line">            <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">            Deque&lt;<span class="keyword">int</span>[]&gt; Q = <span class="keyword">new</span> LinkedList&lt;<span class="keyword">int</span>[]&gt;();</span><br><span class="line">            <span class="keyword">int</span> sum = <span class="number">0</span>; </span><br><span class="line">            <span class="keyword">while</span> (i &lt;= n - <span class="number">1</span>) { </span><br><span class="line">                <span class="keyword">int</span> height = <span class="number">1</span>; </span><br><span class="line">                <span class="keyword">while</span> (!Q.isEmpty() &amp;&amp; Q.peekFirst()[<span class="number">0</span>] &gt; row[i][j]) {</span><br><span class="line">                  	<span class="comment">// å¼¹å‡ºçš„æ—¶å€™è¦å‡å»å¤šäºçš„ç­”æ¡ˆ</span></span><br><span class="line">                    sum -= Q.peekFirst()[<span class="number">1</span>] * (Q.peekFirst()[<span class="number">0</span>] - row[i][j]); </span><br><span class="line">                    height += Q.peekFirst()[<span class="number">1</span>]; </span><br><span class="line">                    Q.pollFirst(); </span><br><span class="line">                } </span><br><span class="line">                sum += row[i][j]; </span><br><span class="line">                ans += sum; </span><br><span class="line">                Q.offerFirst(<span class="keyword">new</span> <span class="keyword">int</span>[]{row[i][j], height}); </span><br><span class="line">                i++; </span><br><span class="line">            } </span><br><span class="line">        } </span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numSubmat</span><span class="params">(self, mat: List[List[int]])</span> -&gt; int:</span></span><br><span class="line">        n, m = len(mat), len(mat[<span class="number">0</span>])</span><br><span class="line">        </span><br><span class="line">        row = [[<span class="number">0</span>] * m <span class="keyword">for</span> _ <span class="keyword">in</span> range(n)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(m):</span><br><span class="line">                <span class="keyword">if</span> j == <span class="number">0</span>:</span><br><span class="line">                    row[i][j] = mat[i][j]</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    row[i][j] = <span class="number">0</span> <span class="keyword">if</span> mat[i][j] == <span class="number">0</span> <span class="keyword">else</span> row[i][j - <span class="number">1</span>] + <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(m):</span><br><span class="line">            Q = list()</span><br><span class="line">            total = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">                height = <span class="number">1</span></span><br><span class="line">                <span class="keyword">while</span> Q <span class="keyword">and</span> Q[<span class="number">-1</span>][<span class="number">0</span>] &gt; row[i][j]:</span><br><span class="line">                    <span class="comment"># å¼¹å‡ºçš„æ—¶å€™è¦å‡å»å¤šäºçš„ç­”æ¡ˆ</span></span><br><span class="line">                    total -= Q[<span class="number">-1</span>][<span class="number">1</span>] * (Q[<span class="number">-1</span>][<span class="number">0</span>] - row[i][j])</span><br><span class="line">                    height += Q[<span class="number">-1</span>][<span class="number">1</span>]</span><br><span class="line">                    Q.pop()</span><br><span class="line">                total += row[i][j]</span><br><span class="line">                ans += total</span><br><span class="line">                Q.append((row[i][j], height))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•å››ã€ä¸è¿ç®—"><a href="#ğŸŒ¸è§£æ³•å››ã€ä¸è¿ç®—" class="headerlink" title="ğŸŒ¸è§£æ³•å››ã€ä¸è¿ç®—"></a>ğŸŒ¸è§£æ³•å››ã€ä¸è¿ç®—</h2><p>ğŸå¯¹äºåªæœ‰ä¸€è¡Œæ•°ç»„è€Œè¨€ï¼Œæ¯”å¦‚[1,1,1,0,1,1,1,1,0,1]<br>å‰3ä¸ª1,èƒ½ç»„æˆ3ä¸ª1x1ï¼Œ2ä¸ª1x2ï¼Œ 1ä¸ª 1x3, - å…±3+2+1=6ç§æƒ…å†µ<br>ä¸­é—´4ä¸ª1,èƒ½ç»„æˆ4ä¸ª1x1, 3ä¸ª1x2ï¼Œ2ä¸ª1x3ï¼Œ1ä¸ª1x4, -å…±4+3+2+1=10ç§æƒ…å†µ<br>æ‰€ä»¥èƒ½æ‰¾åˆ°-ç§è§„å¾‹ï¼Œè¿ç»­å‡ºç°çš„nä¸ª1,å¯ä»¥ç»„æˆ1 +2+3+â€¦+nç§æƒ…å†µï¼Œä½¿<br>å…¬å¼ï¼Œå°±æ˜¯<code>n*(n+1)/2</code>ç§æƒ…å†µ<br>ä¸Šé¢æ˜¯åªæœ‰ä¸€è¡Œçš„æƒ…å†µã€‚<br>å¯¹äº2è¡Œè€Œè¨€ï¼Œæ¯”å¦‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">0,1,1,0,0,1,1,1,1</span><br><span class="line">0,0,1,0,1,0,0,1,1</span><br></pre></td></tr></tbody></table></figure>

<p>åªæœ‰ç¬¬3åˆ—èƒ½ç»„æˆ2x1ï¼Œåä¸¤åˆ—èƒ½ç»„æˆ1ä¸ª2x2,2ä¸ª2x1,</p>
<p>æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåªæœ‰åœ¨åŒä¸€åˆ—ï¼Œå…¨éƒ¨éƒ½æ˜¯1æ—¶æ‰èƒ½èµ·åˆ°ä½œç”¨ï¼Œå¯¹äºå…¶ä»–çš„åœ°æ–¹,<br>1çš„å­˜åœ¨æ˜¯æ²¡æœ‰æ„ä¹‰çš„,<br>è¿™ä¸ªç»“æœå’Œåªæœ‰1è¡Œçš„[0, 0, 1 ,0,0, 0,0,1, 1]çš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚<br>2è¡Œå˜æˆ1è¡Œï¼Œé€šè¿‡è§‚å¯Ÿå¯ä»¥å‘ç°ï¼Œå¯ä»¥ä½¿ç”¨ä¸è¿ç®—&amp;å®ç°ã€‚<br>å¯¹äº3è¡Œï¼Œ4è¡Œï¼Œ..nè¡ŒåŒç†ï¼Œéƒ½å¯ä»¥è½¬åŒ–æˆ1è¡Œæ¥è®¡ç®—ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSubmat3</span><span class="params">(<span class="keyword">int</span>[][] mat)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mat.length; i++) {</span><br><span class="line">        <span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[mat[i].length];</span><br><span class="line">        System.arraycopy(mat[i], <span class="number">0</span>, nums, <span class="number">0</span>, mat[i].length);</span><br><span class="line"></span><br><span class="line">        result += getRes(nums);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; mat.length; j++) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; mat[j].length; ++k) {</span><br><span class="line">                nums[k] = nums[k] &amp; mat[j][k];</span><br><span class="line">            }</span><br><span class="line">            result += getRes(nums);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¡ç®—1è¡Œ</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRes</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;     <span class="comment">//ç»“æœ</span></span><br><span class="line">    <span class="keyword">int</span> continuous = <span class="number">0</span>;  <span class="comment">//è¿ç»­å‡ºç°çš„1çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) {</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">0</span>) {</span><br><span class="line">            result += continuous * (continuous + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">            continuous = <span class="number">0</span>;</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            continuous++;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    result += continuous * (continuous + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>æšä¸¾</tag>
        <tag>java</tag>
        <tag>python</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
        <tag>å•è°ƒæ ˆ</tag>
        <tag>ä½è¿ç®—</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ¨æ€è§„åˆ’_leetcode.337.æ‰“å®¶åŠ«èˆ3</title>
    <url>/Beating_up_the_house_and_robbing_the_house_3/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸåœ¨ä¸Šæ¬¡æ‰“åŠ«å®Œä¸€æ¡è¡—é“ä¹‹åå’Œä¸€åœˆæˆ¿å±‹åï¼Œå°å·åˆå‘ç°äº†ä¸€ä¸ªæ–°çš„å¯è¡Œçªƒçš„åœ°åŒºã€‚è¿™ä¸ªåœ°åŒºåªæœ‰ä¸€ä¸ªå…¥å£ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œæ ¹â€ã€‚ é™¤äº†â€œæ ¹â€ä¹‹å¤–ï¼Œæ¯æ ‹æˆ¿å­æœ‰ä¸”åªæœ‰ä¸€ä¸ªâ€œçˆ¶â€œæˆ¿å­ä¸ä¹‹ç›¸è¿ã€‚ä¸€ç•ªä¾¦å¯Ÿä¹‹åï¼Œèªæ˜çš„å°å·æ„è¯†åˆ°â€œè¿™ä¸ªåœ°æ–¹çš„æ‰€æœ‰æˆ¿å±‹çš„æ’åˆ—ç±»ä¼¼äºä¸€æ£µäºŒå‰æ ‘â€ã€‚ å¦‚æœä¸¤ä¸ªç›´æ¥ç›¸è¿çš„æˆ¿å­åœ¨åŒä¸€å¤©æ™šä¸Šè¢«æ‰“åŠ«ï¼Œæˆ¿å±‹å°†è‡ªåŠ¨æŠ¥è­¦ã€‚</p>
<p>è®¡ç®—åœ¨ä¸è§¦åŠ¨è­¦æŠ¥çš„æƒ…å†µä¸‹ï¼Œå°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ã€‚</p>
<a id="more"></a>

<p>ç¤ºä¾‹ 1:</p>
<p>è¾“å…¥: [3,2,3,null,3,null,1]</p>
<pre><code>  3
 / \
2   3
 \   \ 
  3   1</code></pre><p>è¾“å‡º: 7<br>è§£é‡Š: å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = 3 + 3 + 1 = 7.</p>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>æœ¬é¢˜ç›®æœ¬èº«å°±æ˜¯åŠ¨æ€è§„åˆ’çš„æ ‘å½¢ç‰ˆæœ¬ï¼Œé€šè¿‡æ­¤é¢˜è§£ï¼Œå¯ä»¥äº†è§£ä¸€ä¸‹æ ‘å½¢é—®é¢˜åœ¨åŠ¨æ€è§„åˆ’é—®é¢˜è§£æ³•<br>æˆ‘ä»¬é€šè¿‡ä¸‰ä¸ªæ–¹æ³•ä¸æ–­é€’è¿›è§£å†³é—®é¢˜</p>
<ul>
<li>è§£æ³•ä¸€é€šè¿‡é€’å½’å®ç°ï¼Œè™½ç„¶è§£å†³äº†é—®é¢˜ï¼Œä½†æ˜¯å¤æ‚åº¦å¤ªé«˜</li>
<li>è§£æ³•äºŒé€šè¿‡è§£å†³æ–¹æ³•ä¸€ä¸­çš„é‡å¤å­é—®é¢˜ï¼Œå®ç°äº†æ€§èƒ½çš„ç™¾å€æå‡</li>
<li>è§£æ³•ä¸‰ç›´æ¥çœå»äº†é‡å¤å­é—®é¢˜ï¼Œæ€§èƒ½åˆæå‡äº†ä¸€æ­¥</li>
</ul>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ã€æš´åŠ›é€’å½’-æœ€ä¼˜å­ç»“æ„"><a href="#ğŸŒ¸è§£æ³•ä¸€ã€æš´åŠ›é€’å½’-æœ€ä¼˜å­ç»“æ„" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ã€æš´åŠ›é€’å½’ - æœ€ä¼˜å­ç»“æ„"></a>ğŸŒ¸è§£æ³•ä¸€ã€æš´åŠ›é€’å½’ - æœ€ä¼˜å­ç»“æ„</h2><p>åœ¨è§£æ³•ä¸€å’Œè§£æ³•äºŒä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çˆ·çˆ·ã€ä¸¤ä¸ªå­©å­ã€4 ä¸ªå­™å­æ¥è¯´æ˜é—®é¢˜<br>é¦–å…ˆæ¥å®šä¹‰è¿™ä¸ªé—®é¢˜çš„çŠ¶æ€<br>çˆ·çˆ·èŠ‚ç‚¹è·å–åˆ°æœ€å¤§çš„å·å–çš„é’±æ•°å‘¢</p>
<ul>
<li>é¦–å…ˆè¦æ˜ç¡®ç›¸é‚»çš„èŠ‚ç‚¹ä¸èƒ½å·ï¼Œä¹Ÿå°±æ˜¯çˆ·çˆ·é€‰æ‹©å·ï¼Œå„¿å­å°±ä¸èƒ½å·äº†ï¼Œä½†æ˜¯å­™å­å¯ä»¥å·</li>
<li>äºŒå‰æ ‘åªæœ‰å·¦å³ä¸¤ä¸ªå­©å­ï¼Œä¸€ä¸ªçˆ·çˆ·æœ€å¤š 2 ä¸ªå„¿å­ï¼Œ4 ä¸ªå­™å­<br>æ ¹æ®ä»¥ä¸Šæ¡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºå•ä¸ªèŠ‚ç‚¹çš„é’±è¯¥æ€ä¹ˆç®—</li>
</ul>
<p><strong>4 ä¸ªå­™å­å·çš„é’± + çˆ·çˆ·çš„é’± VS ä¸¤ä¸ªå„¿å­å·çš„é’± å“ªä¸ªç»„åˆé’±å¤šï¼Œå°±å½“åšå½“å‰èŠ‚ç‚¹èƒ½å·çš„æœ€å¤§é’±æ•°ã€‚è¿™å°±æ˜¯åŠ¨æ€è§„åˆ’é‡Œé¢çš„æœ€ä¼˜å­ç»“æ„</strong></p>
<p>ç”±äºæ˜¯äºŒå‰æ ‘ï¼Œè¿™é‡Œå¯ä»¥é€‰æ‹©è®¡ç®—æ‰€æœ‰å­èŠ‚ç‚¹</p>
<p>4 ä¸ªå­™å­æŠ•çš„é’±åŠ ä¸Šçˆ·çˆ·çš„é’±å¦‚ä¸‹<br><code>int method1 = root.val + rob(root.left.left) + rob(root.left.right) + rob(root.right.left) + rob(root.right.right)</code><br>ä¸¤ä¸ªå„¿å­å·çš„é’±å¦‚ä¸‹<br><code>int method2 = rob(root.left) + rob(root.right);</code><br>æŒ‘é€‰ä¸€ä¸ªé’±æ•°å¤šçš„æ–¹æ¡ˆåˆ™<br><code>int result = Math.max(method1, method2);</code></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rob</span><span class="params">(TreeNode root)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span>(root == <span class="keyword">null</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span> money = root.val;</span><br><span class="line">	<span class="keyword">if</span>(root.left != <span class="keyword">null</span>) {</span><br><span class="line">		money += rob(root.left.left) + rob(root.left.right);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(root.right != <span class="keyword">null</span>) {</span><br><span class="line">		money += rob(root.right.left) + rob(root.right.right);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> Math.max(money, rob(root.left) + rob(root.right));</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸è§£æ³•äºŒã€è®°å¿†åŒ–-è§£å†³é‡å¤å­é—®é¢˜"><a href="#ğŸŒ¸è§£æ³•äºŒã€è®°å¿†åŒ–-è§£å†³é‡å¤å­é—®é¢˜" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒã€è®°å¿†åŒ– - è§£å†³é‡å¤å­é—®é¢˜"></a>ğŸŒ¸è§£æ³•äºŒã€è®°å¿†åŒ– - è§£å†³é‡å¤å­é—®é¢˜</h2><p>é’ˆå¯¹è§£æ³•ä¸€ç§é€Ÿåº¦å¤ªæ…¢çš„é—®é¢˜ï¼Œç»è¿‡åˆ†æå…¶å®ç°ï¼Œæˆ‘ä»¬å‘ç°çˆ·çˆ·åœ¨è®¡ç®—è‡ªå·±èƒ½å·å¤šå°‘é’±çš„æ—¶å€™ï¼ŒåŒæ—¶è®¡ç®—äº† 4 ä¸ªå­™å­èƒ½å·å¤šå°‘é’±ï¼Œä¹Ÿè®¡ç®—äº† 2 ä¸ªå„¿å­èƒ½å·å¤šå°‘é’±ã€‚è¿™æ ·åœ¨å„¿å­å½“çˆ·çˆ·æ—¶ï¼Œå°±ä¼šäº§ç”Ÿé‡å¤è®¡ç®—ä¸€éå­™å­èŠ‚ç‚¹ã€‚</p>
<p>äºæ˜¯ä¹æˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªåŠ¨æ€è§„åˆ’çš„å…³é”®ä¼˜åŒ–ç‚¹</p>
<p><strong>é‡å¤å­é—®é¢˜</strong></p>
<p>æˆ‘ä»¬è¿™ä¸€æ­¥é’ˆå¯¹é‡å¤å­é—®é¢˜è¿›è¡Œä¼˜åŒ–ï¼Œæˆ‘ä»¬åœ¨åšæ–æ³¢é‚£å¥‘æ•°åˆ—æ—¶ï¼Œä½¿ç”¨çš„ä¼˜åŒ–æ–¹æ¡ˆæ˜¯è®°å¿†åŒ–ï¼Œä½†æ˜¯ä¹‹å‰çš„é—®é¢˜éƒ½æ˜¯ä½¿ç”¨æ•°ç»„è§£å†³çš„ï¼ŒæŠŠæ¯æ¬¡è®¡ç®—çš„ç»“æœéƒ½å­˜èµ·æ¥ï¼Œä¸‹æ¬¡å¦‚æœå†æ¥è®¡ç®—ï¼Œå°±ä»ç¼“å­˜ä¸­å–ï¼Œä¸å†è®¡ç®—äº†ï¼Œè¿™æ ·å°±ä¿è¯æ¯ä¸ªæ•°å­—åªè®¡ç®—ä¸€æ¬¡ã€‚<br>ç”±äºäºŒå‰æ ‘ä¸é€‚åˆæ‹¿æ•°ç»„å½“ç¼“å­˜ï¼Œæˆ‘ä»¬è¿™æ¬¡ä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨ç»“æœï¼ŒTreeNode å½“åš keyï¼Œèƒ½å·çš„é’±å½“åš value</p>
<p>è§£æ³•ä¸€åŠ ä¸Šè®°å¿†åŒ–ä¼˜åŒ–åä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rob1</span><span class="params">(TreeNode root)</span> </span>{</span><br><span class="line">	HashMap&lt;TreeNode, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">	<span class="keyword">return</span> rob_dfs(root, map);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">rob_dfs</span><span class="params">(TreeNode root, HashMap&lt;TreeNode, Integer&gt; map)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="keyword">if</span> (root == <span class="keyword">null</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span> (map.containsKey(root)) {</span><br><span class="line">		<span class="keyword">return</span> map.get(root);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span> money = root.val;</span><br><span class="line">	<span class="keyword">if</span> (root.left != <span class="keyword">null</span>) {</span><br><span class="line">		money += (rob_dfs(root.left.left, map) + rob_dfs(root.left.right, map));</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span> (root.right != <span class="keyword">null</span>) {</span><br><span class="line">		money += (rob_dfs(root.right.left, map) + rob_dfs(root.right.right, map));</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span> result = Math.max(money, rob_dfs(root.left, map) + rob_dfs(root.right, map));</span><br><span class="line">	map.put(root, result);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•ä¸‰ã€åŠ¨æ€è§„åˆ’"><a href="#ğŸŒ¸è§£æ³•ä¸‰ã€åŠ¨æ€è§„åˆ’" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸‰ã€åŠ¨æ€è§„åˆ’"></a>ğŸŒ¸è§£æ³•ä¸‰ã€åŠ¨æ€è§„åˆ’</h2><p>ä¸Šé¢ä¸¤ç§è§£æ³•ç”¨åˆ°äº†å­™å­èŠ‚ç‚¹ï¼Œè®¡ç®—çˆ·çˆ·èŠ‚ç‚¹èƒ½å·çš„é’±è¿˜è¦åŒæ—¶å»è®¡ç®—å­™å­èŠ‚ç‚¹æŠ•çš„é’±ï¼Œè™½ç„¶æœ‰äº†è®°å¿†åŒ–ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰æ€§èƒ½æŸè€—ã€‚</p>
<p>æˆ‘ä»¬æ¢ä¸€ç§åŠæ³•æ¥å®šä¹‰æ­¤é—®é¢˜</p>
<p>æ¯ä¸ªèŠ‚ç‚¹å¯é€‰æ‹©å·æˆ–è€…ä¸å·ä¸¤ç§çŠ¶æ€ï¼Œæ ¹æ®é¢˜ç›®æ„æ€ï¼Œç›¸è¿èŠ‚ç‚¹ä¸èƒ½ä¸€èµ·å·</p>
<p>å½“å‰èŠ‚ç‚¹é€‰æ‹©å·æ—¶ï¼Œé‚£ä¹ˆä¸¤ä¸ªå­©å­èŠ‚ç‚¹å°±ä¸èƒ½é€‰æ‹©å·äº†<br>å½“å‰èŠ‚ç‚¹é€‰æ‹©ä¸å·æ—¶ï¼Œä¸¤ä¸ªå­©å­èŠ‚ç‚¹åªéœ€è¦æ‹¿æœ€å¤šçš„é’±å‡ºæ¥å°±è¡Œ(ä¸¤ä¸ªå­©å­èŠ‚ç‚¹å·ä¸å·æ²¡å…³ç³»)<br>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå¤§å°ä¸º 2 çš„æ•°ç»„æ¥è¡¨ç¤º int[] res = new int[2] 0 ä»£è¡¨ä¸å·ï¼Œ1 ä»£è¡¨å·<br><strong>ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹èƒ½å·åˆ°çš„æœ€å¤§é’±çš„çŠ¶æ€å¯ä»¥å®šä¹‰ä¸º</strong></p>
<ul>
<li>å½“å‰èŠ‚ç‚¹é€‰æ‹©ä¸å·ï¼šå½“å‰èŠ‚ç‚¹èƒ½å·åˆ°çš„æœ€å¤§é’±æ•° = å·¦å­©å­èƒ½å·åˆ°çš„é’± + å³å­©å­èƒ½å·åˆ°çš„é’±</li>
<li>å½“å‰èŠ‚ç‚¹é€‰æ‹©å·ï¼šå½“å‰èŠ‚ç‚¹èƒ½å·åˆ°çš„æœ€å¤§é’±æ•° = å·¦å­©å­é€‰æ‹©è‡ªå·±ä¸å·æ—¶èƒ½å¾—åˆ°çš„é’± + å³å­©å­é€‰æ‹©ä¸å·æ—¶èƒ½å¾—åˆ°çš„é’± + å½“å‰èŠ‚ç‚¹çš„é’±æ•°</li>
</ul>
<p>å…¬å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">root[0] = Math.max(rob(root.left)[0], rob(root.left)[1]) + Math.max(rob(root.right)[0], rob(root.right)[1])</span><br><span class="line">root[1] = rob(root.left)[0] + rob(root.right)[0] + root.val;</span><br></pre></td></tr></tbody></table></figure>

<p>å°†å…¬å¼åšä¸ªå˜æ¢å°±æ˜¯ä»£ç </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rob2</span><span class="params">(TreeNode root)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span>[] result = rob_dfs2(root);</span><br><span class="line">	<span class="keyword">return</span> Math.max(result[<span class="number">0</span>], result[<span class="number">1</span>]);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[] rob_dfs2(TreeNode root) {</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="keyword">if</span> (root == <span class="keyword">null</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">	<span class="keyword">int</span>[] left = rob_dfs2(root.left);</span><br><span class="line">	<span class="keyword">int</span>[] right = rob_dfs2(root.right);</span><br><span class="line">	result[<span class="number">0</span>] = Math.max(left[<span class="number">0</span>], left[<span class="number">1</span>]) + Math.max(right[<span class="number">0</span>], right[<span class="number">1</span>]);</span><br><span class="line">	result[<span class="number">1</span>] = left[<span class="number">0</span>] + right[<span class="number">0</span>] + root.val;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h3><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>java</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
        <tag>é€’å½’</tag>
        <tag>è®°å¿†åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ¨æ€è§„åˆ’_leetcode.309.æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœŸå«å†·å†»æœŸ</title>
    <url>/Best_time_to_buy_and_sell_stocks_including_freezing_period/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå…¶ä¸­ç¬¬ i ä¸ªå…ƒç´ ä»£è¡¨äº†ç¬¬ i å¤©çš„è‚¡ç¥¨ä»·æ ¼ ã€‚</p>
<p>è®¾è®¡ä¸€ä¸ªç®—æ³•è®¡ç®—å‡ºæœ€å¤§åˆ©æ¶¦ã€‚åœ¨æ»¡è¶³ä»¥ä¸‹çº¦æŸæ¡ä»¶ä¸‹ï¼Œä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰:</p>
<p>ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚<br>å–å‡ºè‚¡ç¥¨åï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒå¤©ä¹°å…¥è‚¡ç¥¨ (å³å†·å†»æœŸä¸º 1 å¤©)ã€‚<br>ç¤ºä¾‹:</p>
<a id="more"></a>

<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: [1,2,3,0,2]</span><br><span class="line">è¾“å‡º: 3 </span><br><span class="line">è§£é‡Š: å¯¹åº”çš„äº¤æ˜“çŠ¶æ€ä¸º: [ä¹°å…¥, å–å‡º, å†·å†»æœŸ, ä¹°å…¥, å–å‡º]</span><br></pre></td></tr></tbody></table></figure>

<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a><strong>å‰è¨€</strong></h3><p>å¯¹äºåŠ›æ‰£å¹³å°ä¸Šçš„è‚¡ç¥¨ç±»å‹çš„é¢˜ç›®ï¼š</p>
<ol start="121">
<li><p>ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº</p>
</li>
<li><p>ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II</p>
</li>
<li><p>ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III</p>
</li>
<li><p>ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV</p>
</li>
</ol>
<p>ï¼ˆæœ¬é¢˜ï¼‰309. æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ</p>
<ol start="714">
<li>ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹</li>
</ol>
<p>å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦</p>
<p>è¿™é“é¢˜å¢åŠ äº†å†·å†»æœŸè¿™æ ·ä¸€ä¸ªæ¡ä»¶ï¼Œä¹Ÿæ²¡æœ‰é™åˆ¶å¤šå°‘ç¬”äº¤æ˜“ã€‚å› æ­¤åªéœ€è¦å¢åŠ ä¸€ä¸ªçŠ¶æ€ï¼ˆè¡¨ç¤ºå½“å‰è¿™ä¸€å¤©å¤„åœ¨ã€Œå†·å†»æœŸã€ï¼‰å³å¯ã€‚æ³¨æ„ï¼šè¿™é‡Œæ˜¯å¢åŠ ä¸€ä¸ªçŠ¶æ€ï¼Œä¸æ˜¯å¢åŠ ä¸€ç»´çŠ¶æ€ã€‚</p>
<h3 id="ç¬¬-1-æ­¥ï¼šçŠ¶æ€å®šä¹‰"><a href="#ç¬¬-1-æ­¥ï¼šçŠ¶æ€å®šä¹‰" class="headerlink" title="ç¬¬ 1 æ­¥ï¼šçŠ¶æ€å®šä¹‰"></a>ç¬¬ 1 æ­¥ï¼šçŠ¶æ€å®šä¹‰</h3><p>dp [i] [j] è¡¨ç¤º [0, i] åŒºé—´å†…ï¼Œåœ¨ä¸‹æ ‡ä¸º i è¿™ä¸€å¤©çŠ¶æ€ä¸º j æ—¶çš„æœ€å¤§æ”¶ç›Šã€‚</p>
<p>è¿™é‡Œ j å–ä¸‰ä¸ªå€¼ï¼š</p>
<ul>
<li>0 è¡¨ç¤ºä¸æŒè‚¡ä¸”å½“å¤©æ²¡å–å‡º,å®šä¹‰å…¶æœ€å¤§æ”¶ç›Šdp[i] [0]ï¼›</li>
<li>1 è¡¨ç¤ºæŒè‚¡ï¼Œå®šä¹‰å…¶æœ€å¤§æ”¶ç›Šdp[i] [1]ï¼›</li>
<li>2 è¡¨ç¤ºä¸æŒè‚¡ä¸”å½“å¤©å–å‡ºäº†ï¼Œå®šä¹‰å…¶æœ€å¤§æ”¶ç›Šdp[i][2]ã€‚</li>
</ul>
<h3 id="ç¬¬-2-æ­¥ï¼šçŠ¶æ€è½¬ç§»æ–¹ç¨‹"><a href="#ç¬¬-2-æ­¥ï¼šçŠ¶æ€è½¬ç§»æ–¹ç¨‹" class="headerlink" title="ç¬¬ 2 æ­¥ï¼šçŠ¶æ€è½¬ç§»æ–¹ç¨‹"></a>ç¬¬ 2 æ­¥ï¼š<strong>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</strong></h3><ul>
<li><p>ç¬¬iå¤©ä¸æŒè‚¡ä¸”æ²¡å–å‡ºçš„çŠ¶æ€dp[i] [0]ï¼Œä¹Ÿå°±æ˜¯æˆ‘æ²¡æœ‰è‚¡ç¥¨ï¼Œè€Œä¸”è¿˜ä¸æ˜¯å› ä¸ºæˆ‘å–äº†å®ƒæ‰æ²¡æœ‰çš„ï¼Œé‚£æ¢å¥è¯è¯´æ˜¯ä»i-1å¤©åˆ°ç¬¬iå¤©è½¬ç§»æ—¶ï¼Œå®ƒå‹æ ¹å°±æ²¡ç»™æˆ‘è‚¡ç¥¨ï¼æ‰€ä»¥i-1å¤©ä¸€å®šä¹Ÿæ˜¯ä¸æŒæœ‰ï¼Œé‚£å°±æ˜¯ä¸æŒæœ‰çš„ä¸¤ç§å¯èƒ½ï¼š</p>
<ul>
<li>i-1å¤©ä¸æŒè‚¡ä¸”å½“å¤©æ²¡æœ‰å–å‡ºdp[i-1] [0]ï¼›</li>
<li>i-1å¤©ä¸æŒè‚¡ä½†æ˜¯å½“å¤©å–å‡ºå»äº†dp[i-1] [2]ï¼›</li>
</ul>
</li>
<li><p>æ‰€ä»¥ï¼š dp[i] [0]=max(dp[i-1] [0],dp[i-1] [2])</p>
</li>
<li><p>ç¬¬iå¤©æŒè‚¡dp[i] [1]ï¼Œä»Šå¤©æˆ‘æŒè‚¡ï¼Œæ¥è‡ªä¸¤ç§å¯èƒ½ï¼š</p>
<p>1ã€è¦ä¹ˆæ˜¯æ˜¨å¤©æˆ‘å°±æŒè‚¡ï¼Œä»Šå¤©ç»§æ‰¿æ˜¨å¤©çš„ï¼Œä¹Ÿå°±æ˜¯dp[i-1] [1]ï¼Œè¿™ç§å¯èƒ½å¾ˆå¥½ç†è§£ï¼›</p>
<p>2ã€è¦ä¹ˆæ˜¯æ˜¨å¤©æˆ‘ä¸æŒè‚¡ï¼Œä»Šå¤©æˆ‘ä¹°å…¥çš„ï¼Œä½†å‰ææ˜¯æ˜¨å¤©æˆ‘ä¸€å®šæ²¡å–ï¼å› ä¸ºå¦‚æœæ˜¨å¤©æˆ‘å–äº†ï¼Œé‚£ä¹ˆä»Šå¤©æˆ‘ä¸èƒ½äº¤æ˜“ï¼ä¹Ÿå°±æ˜¯é¢˜ç›®ä¸­æ‰€è°“â€œå†·å†»æœŸâ€çš„å«ä¹‰ï¼Œåªæœ‰æ˜¨å¤©æ˜¯â€œä¸æŒè‚¡ä¸”å½“å¤©æ²¡å–å‡ºâ€è¿™ä¸ªçŠ¶æ€ï¼Œæˆ‘ä»Šå¤©æ‰èƒ½ä¹°å…¥ï¼æ‰€ä»¥æ˜¯dp[i-1] [0]-p[i]ã€‚æ‰€ä»¥ï¼š dp[i] [1]=max(dp[i-1] [1],dp[i-1] [0]-p[i])</p>
</li>
<li><p>iå¤©ä¸æŒè‚¡ä¸”å½“å¤©å–å‡ºäº†ï¼Œè¿™ç§å°±ç®€å•äº†ï¼Œé‚£å°±æ˜¯è¯´æ˜¨å¤©æˆ‘ä¸€å®šæ˜¯æŒè‚¡çš„ï¼Œè¦ä¸ç„¶æˆ‘ä»Šå¤©æ‹¿ä»€ä¹ˆå–å•Šï¼Œè€ŒæŒè‚¡åªæœ‰ä¸€ç§çŠ¶æ€ï¼Œæ˜¨å¤©æŒè‚¡çš„æ”¶ç›ŠåŠ ä¸Šä»Šå¤©å–å‡ºå¾—åˆ°çš„æ–°æ”¶ç›Šï¼Œå°±æ˜¯dp[i-1] [1]+p[i]å•¦</p>
</li>
</ul>
<p>ä¸ä¹‹å‰è‚¡ç¥¨é—®é¢˜çš„ä¸åŒä¹‹å¤„åªåœ¨äºï¼šä»ä¸æŒè‚¡çŠ¶æ€ä¸èƒ½ç›´æ¥åˆ°æŒè‚¡çŠ¶æ€ï¼Œå¾—ç»è¿‡ä¸€ä¸ªå†·å†»æœŸï¼Œæ‰èƒ½åˆ°æŒè‚¡çŠ¶æ€ã€‚</p>
<h3 id="ç¬¬-3-æ­¥ï¼šæ€è€ƒåˆå§‹åŒ–"><a href="#ç¬¬-3-æ­¥ï¼šæ€è€ƒåˆå§‹åŒ–" class="headerlink" title="ç¬¬ 3 æ­¥ï¼šæ€è€ƒåˆå§‹åŒ–"></a>ç¬¬ 3 æ­¥ï¼š<strong>æ€è€ƒåˆå§‹åŒ–</strong></h3><ul>
<li>åœ¨ç¬¬ 0 å¤©ï¼Œä¸æŒè‚¡çš„åˆå§‹åŒ–å€¼ä¸º 0ï¼Œ</li>
<li>æŒè‚¡çš„åˆå§‹åŒ–å€¼ä¸º -prices[0]ï¼ˆè¡¨ç¤ºè´­ä¹°äº†ä¸€è‚¡ï¼‰ï¼Œ</li>
<li>dp[0] [2]=0;//å¯ä»¥ç†è§£æˆç¬¬0å¤©ä¹°å…¥åˆå–å‡ºï¼Œé‚£ä¹ˆç¬¬0å¤©å°±æ˜¯â€œä¸æŒè‚¡ä¸”å½“å¤©å–å‡ºäº†â€è¿™ä¸ªçŠ¶æ€äº†,å…¶æ”¶ç›Šä¸º0ï¼Œæ‰€ä»¥åˆå§‹åŒ–ä¸º0æ˜¯åˆç†</li>
</ul>
<h3 id="ç¬¬-4-æ­¥ï¼šæ€è€ƒè¾“å‡º"><a href="#ç¬¬-4-æ­¥ï¼šæ€è€ƒè¾“å‡º" class="headerlink" title="ç¬¬ 4 æ­¥ï¼šæ€è€ƒè¾“å‡º"></a>ç¬¬ 4 æ­¥ï¼šæ€è€ƒè¾“å‡º</h3><p>æœ€åä¸€å¤©çš„æœ€å¤§æ”¶ç›Šæœ‰ä¸¤ç§å¯èƒ½ï¼Œè€Œä¸”ä¸€å®šæ˜¯â€œä¸æŒæœ‰â€çŠ¶æ€ä¸‹çš„ä¸¤ç§å¯èƒ½ï¼ŒæŠŠè¿™ä¸¤ç§â€œä¸æŒæœ‰â€æ¯”è¾ƒä¸€ä¸‹å¤§å°ï¼Œè¿”å›å³å¯</p>
<p>å‚è€ƒä»£ç ï¼š </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> len = prices.length;</span><br><span class="line">	<span class="keyword">if</span>(len &lt; <span class="number">2</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len][<span class="number">3</span>];</span><br><span class="line">	dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">	dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">	dp[<span class="number">0</span>][<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) {</span><br><span class="line">		dp[i][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">0</span>], dp[i - <span class="number">1</span>][<span class="number">2</span>]);</span><br><span class="line">		dp[i][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>], dp[i - <span class="number">1</span>][<span class="number">0</span>] - prices[i]);</span><br><span class="line">		dp[i][<span class="number">2</span>] = dp[i - <span class="number">1</span>][<span class="number">1</span>] + prices[i];</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> Math.max(dp[len - <span class="number">1</span>][<span class="number">0</span>], dp[len - <span class="number">1</span>][<span class="number">2</span>]);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ç¬¬-5-æ­¥ï¼šæ€è€ƒç©ºé—´ä¼˜åŒ–"><a href="#ç¬¬-5-æ­¥ï¼šæ€è€ƒç©ºé—´ä¼˜åŒ–" class="headerlink" title="ç¬¬ 5 æ­¥ï¼šæ€è€ƒç©ºé—´ä¼˜åŒ–"></a>ç¬¬ 5 æ­¥ï¼š<strong>æ€è€ƒç©ºé—´ä¼˜åŒ–</strong></h3><p>â€‹    ç”±äºå½“å‰å¤©åªå‚è€ƒäº†æ˜¨å¤©çš„çŠ¶æ€å€¼ï¼Œå› æ­¤å¯ä»¥è€ƒè™‘ä½¿ç”¨ã€Œæ»šåŠ¨æ•°ç»„ã€ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit1</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> len = prices.length;</span><br><span class="line">	<span class="keyword">if</span>(len &lt; <span class="number">2</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>][<span class="number">3</span>];</span><br><span class="line">	dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">	dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">	dp[<span class="number">0</span>][<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) {</span><br><span class="line">		dp[i &amp; <span class="number">1</span>][<span class="number">0</span>] = Math.max(dp[(i - <span class="number">1</span>) &amp; <span class="number">1</span>][<span class="number">0</span>], dp[(i - <span class="number">1</span>) &amp; <span class="number">1</span>][<span class="number">2</span>]);</span><br><span class="line">		dp[i &amp; <span class="number">1</span>][<span class="number">1</span>] = Math.max(dp[(i - <span class="number">1</span>) &amp; <span class="number">1</span>][<span class="number">1</span>], dp[(i - <span class="number">1</span>) &amp; <span class="number">1</span>][<span class="number">0</span>] - prices[i]);</span><br><span class="line">		dp[i &amp; <span class="number">1</span>][<span class="number">2</span>] = dp[(i - <span class="number">1</span>) &amp; <span class="number">1</span>][<span class="number">1</span>] + prices[i];</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> Math.max(dp[(len - <span class="number">1</span>) &amp; <span class="number">1</span>][<span class="number">0</span>], dp[(len - <span class="number">1</span>) &amp; <span class="number">1</span>][<span class="number">2</span>]);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>ç”±äºçŠ¶æ€å€¼å°± 3 ä¸ªï¼Œå¹¶ä¸”åªå…³å¿ƒæœ€å 1 å¤©çš„çŠ¶æ€å€¼ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ»šåŠ¨å˜é‡çš„æ–¹å¼æŠŠçŠ¶æ€è¡¨æ ¼ä¼˜åŒ–åˆ°ä¸€è¡Œã€‚</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit2</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> len = prices.length;</span><br><span class="line">	<span class="keyword">if</span>(len &lt; <span class="number">2</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">	dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">	dp[<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">	dp[<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">    <span class="keyword">int</span> preCash = dp[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> preStock = dp[<span class="number">1</span>];</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) {</span><br><span class="line">		dp[<span class="number">0</span>] = Math.max(preCash, dp[<span class="number">2</span>]);</span><br><span class="line">		dp[<span class="number">1</span>] = Math.max(preStock, preCash - prices[i]);</span><br><span class="line">		dp[<span class="number">2</span>] = preStock + prices[i];</span><br><span class="line">		</span><br><span class="line">        preCash = dp[<span class="number">0</span>];</span><br><span class="line">        preStock = dp[<span class="number">1</span>];</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> Math.max(dp[<span class="number">0</span>], dp[<span class="number">2</span>]);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h3><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ¨æ€è§„åˆ’_leetcode.120.ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ</title>
    <url>/Minimum_path_sum_of_triangles/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªä¸‰è§’å½¢ï¼Œæ‰¾å‡ºè‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œã€‚æ¯ä¸€æ­¥åªèƒ½ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œä¸­ç›¸é‚»çš„ç»“ç‚¹ä¸Šã€‚</p>
<p>ç›¸é‚»çš„ç»“ç‚¹ åœ¨è¿™é‡ŒæŒ‡çš„æ˜¯ ä¸‹æ ‡ ä¸ ä¸Šä¸€å±‚ç»“ç‚¹ä¸‹æ ‡ ç›¸åŒæˆ–è€…ç­‰äº ä¸Šä¸€å±‚ç»“ç‚¹ä¸‹æ ‡ + 1 çš„ä¸¤ä¸ªç»“ç‚¹ã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">ä¾‹å¦‚ï¼Œç»™å®šä¸‰è§’å½¢ï¼š</span><br><span class="line"></span><br><span class="line">[</span><br><span class="line">   [2],</span><br><span class="line">  [3,4],</span><br><span class="line"> [6,5,7],</span><br><span class="line">[4,1,8,3]</span><br><span class="line">]</span><br><span class="line">è‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œä¸º 11ï¼ˆå³ï¼Œ2 + 3 + 5 + 1 = 11ï¼‰ã€‚</span><br></pre></td></tr></tbody></table></figure>

<p>è¯´æ˜ï¼š</p>
<a id="more"></a>

<p><code>å¦‚æœä½ å¯ä»¥åªä½¿ç”¨ O(n) çš„é¢å¤–ç©ºé—´ï¼ˆn ä¸ºä¸‰è§’å½¢çš„æ€»è¡Œæ•°ï¼‰æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆä½ çš„ç®—æ³•ä¼šå¾ˆåŠ åˆ†ã€‚</code></p>
<h2 id="ğŸŒ¸åˆ†æ"><a href="#ğŸŒ¸åˆ†æ" class="headerlink" title="ğŸŒ¸åˆ†æ"></a>ğŸŒ¸åˆ†æ</h2><p>æœ¬é¢˜æ˜¯ä¸€é“éå¸¸ç»å…¸ä¸”å†å²æ‚ ä¹…çš„åŠ¨æ€è§„åˆ’é¢˜ï¼Œå…¶ä½œä¸ºç®—æ³•é¢˜å‡ºç°ï¼Œæœ€æ—©å¯ä»¥è¿½æº¯åˆ° 1994 å¹´çš„ IOIï¼ˆå›½é™…ä¿¡æ¯å­¦å¥¥æ—åŒ¹å…‹ç«èµ›ï¼‰çš„ The Triangleã€‚æ—¶å…‰é£é€ï¼Œç»è¿‡ 20 å¤šå¹´çš„æ²‰æ·€ï¼Œå¾€æ—¥çš„å›½é™…ç«èµ›é¢˜å¦‚ä»Šå·²ç»å˜æˆäº†åŠ¨æ€è§„åˆ’çš„å…¥é—¨å¿…åšé¢˜ï¼Œä¸æ–­ç£ä¿ƒç€æˆ‘ä»¬å­¦ä¹ å’Œå·©å›ºç®—æ³•ã€‚</p>
<p>è¿™é“é¢˜å½“æˆ‘çœ‹åˆ°è‡ªé¡¶å‘ä¸‹å››ä¸ªå­—å°±çŸ¥é“æ˜¯åŠ¨æ€è§„åˆ’ç±»é¢˜ç›®ï¼Œç„¶è€Œé¦–å…ˆè¯»å®Œé¢˜åœ¨è„‘æµ·é‡Œçš„å´æ˜¯æ·±åº¦ä¼˜å…ˆDFSï¼ˆæš´åŠ›æœç´¢è§£æ³•ï¼‰ï¼Œè‹¥å®šä¹‰ <code>f(i, j)</code> ä¸º <code>(i, j)</code>ç‚¹åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œï¼Œåˆ™æ˜“çŸ¥é€’å½’æ±‚è§£å¼ä¸º:</p>
<p><code>f(i, j) = min(f(i + 1, j), f(i + 1, j + 1)) + triangle [  i ] [ j ]</code></p>
<p>ç”±æ­¤ï¼Œæˆ‘ä»¬å°†ä»»ä¸€ç‚¹åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œï¼Œè½¬åŒ–æˆäº†ä¸è¯¥ç‚¹ç›¸é‚»ä¸¤ç‚¹åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œä¸­çš„è¾ƒå°å€¼ï¼Œå†åŠ ä¸Šè¯¥ç‚¹æœ¬èº«çš„å€¼ã€‚è¿™æ ·æœ¬é¢˜çš„ é€’å½’è§£æ³•ï¼ˆè§£æ³•ä¸€ï¼‰ å°±å®Œæˆäº†ã€‚æœ€ç»ˆè¶…æ—¶ï¼Œæœç„¶è¿˜æ˜¯å¾—åŠ¨æ€è§„åˆ’å‘€</p>
<h2 id="è§£æ³•ä¸€ï¼šDFSé€’å½’-æš´åŠ›è§£æ³•"><a href="#è§£æ³•ä¸€ï¼šDFSé€’å½’-æš´åŠ›è§£æ³•" class="headerlink" title="è§£æ³•ä¸€ï¼šDFSé€’å½’/æš´åŠ›è§£æ³•"></a>è§£æ³•ä¸€ï¼šDFSé€’å½’/æš´åŠ›è§£æ³•</h2><blockquote>
<p>æš´åŠ›æ±‚è§£ï¼Œä¸è§£é‡Šã€‚</p>
<p>æš´åŠ›æœç´¢ä¼šæœ‰å¤§é‡çš„é‡å¤è®¡ç®—ï¼Œå¯¼è‡´ <strong>è¶…æ—¶</strong>ï¼Œå› æ­¤åœ¨ <strong>è§£æ³•äºŒ</strong> ä¸­ç»“åˆè®°å¿†åŒ–æ•°ç»„è¿›è¡Œä¼˜åŒ–ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumTotal</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; triangle)</span> </span>{</span><br><span class="line">	<span class="keyword">return</span> dfs(triangle, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; triangle, <span class="keyword">int</span> rows, <span class="keyword">int</span> cols)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="keyword">if</span>(rows == triangle.size()) {</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> Math.min(dfs(triangle, rows + <span class="number">1</span>, cols), dfs(triangle, rows + <span class="number">1</span>, cols + <span class="number">1</span>)) + triangle.get(rows).get(cols);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="è§£æ³•äºŒï¼šé€’å½’-è®°å¿†åŒ–"><a href="#è§£æ³•äºŒï¼šé€’å½’-è®°å¿†åŒ–" class="headerlink" title="è§£æ³•äºŒï¼šé€’å½’+è®°å¿†åŒ–"></a>è§£æ³•äºŒï¼šé€’å½’+è®°å¿†åŒ–</h2><blockquote>
<p>åœ¨è§£æ³•ä¸€çš„åŸºç¡€ä¸Šï¼Œå®šä¹‰äº†äºŒç»´æ•°ç»„è¿›è¡Œè®°å¿†åŒ–ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">Integer[][] memory;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumTotal2</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; triangle)</span> </span>{</span><br><span class="line">	memory = <span class="keyword">new</span> Integer[triangle.size()][triangle.size()];</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> dfs2(triangle, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">dfs2</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; triangle, <span class="keyword">int</span> rows, <span class="keyword">int</span> cols)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="keyword">if</span>(rows == triangle.size()) {</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(memory[rows][cols] != <span class="keyword">null</span>) {</span><br><span class="line">		<span class="keyword">return</span> memory[rows][cols];</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> memory[rows][cols] = Math.min(dfs2(triangle, rows + <span class="number">1</span>, cols), dfs2(triangle, rows + <span class="number">1</span>, cols + <span class="number">1</span>)) + triangle.get(rows).get(cols);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="è§£æ³•ä¸‰ï¼š-è‡ªé¡¶å‘ä¸‹çš„åŠ¨æ€è§„åˆ’"><a href="#è§£æ³•ä¸‰ï¼š-è‡ªé¡¶å‘ä¸‹çš„åŠ¨æ€è§„åˆ’" class="headerlink" title="è§£æ³•ä¸‰ï¼š è‡ªé¡¶å‘ä¸‹çš„åŠ¨æ€è§„åˆ’"></a>è§£æ³•ä¸‰ï¼š è‡ªé¡¶å‘ä¸‹çš„åŠ¨æ€è§„åˆ’</h2><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>æˆ‘ä»¬ç”¨<code>f[i] [j]</code>ç¤ºä»ä¸‰å½¢é¡¶éƒ¨èµ°åˆ°ä½ç½®<code>(i, j)</code>çš„æœ€å°è·¯å¾„å’Œã€‚è¿™é‡Œçš„ä½ç½®<code>(i,j)</code>æŒ‡çš„æ˜¯ä¸‰è§’å½¢ä¸­ç¬¬ iè¡Œç¬¬ jåˆ—(å‡ä»0å¼€å§‹ç¼–å·)çš„ä½ç½®ã€‚äºæ¯-ç»‡èƒ½ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œã€Œç›¸é‚»çš„èŠ‚ç‚¹ï¼Œä¸Š, å› æ­¤è¦æƒ³èµ°åˆ°ä½ç½®<code>(i,j)</code>,ä¸Šä¸€æ­¥å°±åªèƒ½åœ¨ä½ç½®<code>(i- 1,j- 1)</code>æˆ–è€…ä½ç½®<code>(i-1,j)</code>ã€‚æˆ‘ä»¬åœ¨è¿™ä¸¤ä¸ªä½ç½®ä¸­é€‰æ‹©ä¸€ä¸ªè·¯å¾„å’Œè¾ƒå°çš„æ¥è¿›è¡Œè½¬ç§», çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º:<br><code>f[i] [j]= min(f[i- 1] [j- 1],f[i- 1] [j]) + c[i] [j]</code><br><code>c[i] [j]</code>ç¤ºä½ç½®(i, j)å¯¹åº”çš„å…ƒç´ å€¼ã€‚æ³¨æ„ç¬¬iè¡Œæœ‰i+ 1ä¸ªå…ƒç´ ,å®ƒä»¬å¯¹åº”çš„jçš„èŒƒå›´ä¸º<code>[0,i]</code>ã€‚å½“ j=0æˆ–j= iæ—¶, .ä¸Šè¿°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸­æœ‰ä¸€ äº›é¡¹æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ä¾‹å¦‚å½“j = 0æ—¶ï¼Œ<code>f[i- 1] [j- 1]</code>æ²¡æœ‰æ„ä¹‰ï¼Œå› æ­¤çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º:<code>f[i] [0]= f[i- 1] [0]+c[i] [0]</code>å³å½“æˆ‘ä»¬åœ¨ç¬¬iè¡Œçš„æœ€å·¦ä¾§æ—¶ï¼Œæˆ‘ä»¬åªèƒ½ä»ç¬¬<code>i - 1</code> è¡Œçš„æœ€å·¦ä¾§ç§»åŠ¨è¿‡æ¥ã€‚å½“<code>j=i</code>æ—¶<code>, f[i- 1][j]</code>æ²¡æœ‰æ„ä¹‰ï¼Œå› æ­¤çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º:</p>
<p><code>f[i] [i]= f[i-1] [i- 1] + c[i] [i]</code><br>å³å½“æˆ‘ä»¬åœ¨ç¬¬iè¡Œçš„æœ€å³ä¾§æ—¶,æˆ‘ä»¬åªèƒ½ä»ç¬¬i - 1è¡Œçš„æœ€å³ä¾§ç§»åŠ¨è¿‡æ¥ã€‚<br>æœ€ç»ˆçš„ç­”æ¡ˆå³ä¸º<code>f[n- 1] [0]</code> åˆ°<code>f[n- 1 ] [n- 1]</code>ä¸­çš„æœ€å¤§å€¼,n .æ˜¯ä¸‰è§’å½¢çš„è¡Œæ•°ã€‚</p>
<h3 id="ç»†èŠ‚"><a href="#ç»†èŠ‚" class="headerlink" title="ç»†èŠ‚"></a>ç»†èŠ‚</h3><blockquote>
<p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„è¾¹ç•Œæ¡ä»¶æ˜¯ä»€ä¹ˆ?äºæˆ‘ä»¬å·²ç»å´é™¤äº†æ‰€æœ‰æ²¡æœ‰æ„ä¹‰ã€<br>çš„çŠ¶æ€ï¼Œå› æ­¤è¾¹ç•Œæ¡ä»¶å¯ä»¥å®šä¸º:<br><code>f[0][0] = c[0][0]</code><br>å³åœ¨ä¸‰è§’å½¢çš„é¡¶éƒ¨æ—¶ï¼Œæœ€å°è·¯å¾„å’Œå°±ç­‰äºå¯¹åº”ä½ç½®çš„å…ƒç´ å€¼ã€‚è¿™æ ·ä¸€æ¥,<br>æˆ‘ä»¬ä»1å¼€å§‹é€’å¢åœ°æšä¸¾i,å¹¶åœ¨<code>[0, i]</code>çš„èŒƒå›´å†…é€’å¢åœ°æšä¸¾j,å°±å¯ä»¥<br>å®Œæˆæ‰€æœ‰çŠ¶æ€çš„è®¡ç®—ã€‚</p>
</blockquote>
<p><strong>java</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumTotal</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; triangle)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> n = triangle.size();</span><br><span class="line">    <span class="keyword">int</span>[][] f = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line">    f[<span class="number">0</span>][<span class="number">0</span>] = triangle.get(<span class="number">0</span>).get(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) {</span><br><span class="line">        f[i][<span class="number">0</span>] = f[i - <span class="number">1</span>][<span class="number">0</span>] + triangle.get(i).get(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; i; ++j) {</span><br><span class="line">            f[i][j] = Math.min(f[i - <span class="number">1</span>][j - <span class="number">1</span>], f[i - <span class="number">1</span>][j]) + triangle.get(i).get(j);</span><br><span class="line">        }</span><br><span class="line">        f[i][i] = f[i - <span class="number">1</span>][i - <span class="number">1</span>] + triangle.get(i).get(i);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">int</span> minTotal = f[n - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) {</span><br><span class="line">        minTotal = Math.min(minTotal, f[n - <span class="number">1</span>][i]);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> minTotal;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>python</strong></p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">minimumTotal</span><span class="params">(self, triangle: List[List[int]])</span> -&gt; int:</span></span><br><span class="line">     n = len(triangle)</span><br><span class="line">     f = [[<span class="number">0</span>] * n <span class="keyword">for</span> _ <span class="keyword">in</span> range(n)]</span><br><span class="line">     f[<span class="number">0</span>][<span class="number">0</span>] = triangle[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">     <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n):</span><br><span class="line">         f[i][<span class="number">0</span>] = f[i - <span class="number">1</span>][<span class="number">0</span>] + triangle[i][<span class="number">0</span>]</span><br><span class="line">         <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, i):</span><br><span class="line">             f[i][j] = min(f[i - <span class="number">1</span>][j - <span class="number">1</span>], f[i - <span class="number">1</span>][j]) + triangle[i][j]</span><br><span class="line">         f[i][i] = f[i - <span class="number">1</span>][i - <span class="number">1</span>] + triangle[i][i]</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">return</span> min(f[n - <span class="number">1</span>])</span><br></pre></td></tr></tbody></table></figure>

<h2 id="è§£æ³•å››ï¼š-è‡ªé¡¶å‘ä¸‹çš„ç©ºé—´ä¼˜åŒ–"><a href="#è§£æ³•å››ï¼š-è‡ªé¡¶å‘ä¸‹çš„ç©ºé—´ä¼˜åŒ–" class="headerlink" title="è§£æ³•å››ï¼š è‡ªé¡¶å‘ä¸‹çš„ç©ºé—´ä¼˜åŒ–"></a>è§£æ³•å››ï¼š è‡ªé¡¶å‘ä¸‹çš„ç©ºé—´ä¼˜åŒ–</h2><p>æˆ‘ä»¬ä»iåˆ°0é€’å‡åœ°æšä¸¾j,è¿™æ ·æˆ‘ä»¬åªè¦ä¸€ä¸ªé•¿åº¦ä¸ºnçš„ä¸€ç»´æ•°ç»„f,å°±å¯ä»¥å®ŒæˆçŠ¶æ€è½¬ç§»ã€‚</p>
<p>ä¸ºä»€ä¹ˆåªæœ‰åœ¨é€’å‡åœ°æšä¸¾jæ—¶ï¼Œæ‰èƒ½çœå»ä¸€ä¸ªä¸€ç»´æ•°ç»„?å½“æˆ‘ä»¬åœ¨è®¡ç®—ä½ç½®<code>(i,j)</code>æ—¶, <code>f[j+ 1]</code>åˆ°<code>f[i]</code>æ˜¯ç¬¬iè¡Œçš„å€¼ï¼Œè€Œ<code>f[0]</code>åˆ°<code>f[i]</code>ä»ç„¶æ˜¯ç¬¬iä¸€1è¡Œçš„å€¼ã€‚æ­¤æ—¶æˆ‘ä»¬ç›´æ¥é€šè¿‡</p>
<ul>
<li><code>f[j] = min(f[j - 1],f[j])+ c[i[j]</code></li>
</ul>
<p>è¿›è¡Œè½¬ç§»,æ°å¥½å°±æ˜¯åœ¨<code>(i - 1,j - 1)</code>å’Œ<code>(i- 1,j)</code>ä¸­è¿›è¡Œé€‰æ‹©ã€‚ä½†å¦‚æœæˆ‘ä»¬é€’å¢åœ°æšä¸¾j,é‚£ä¹ˆåœ¨è®¡ç®—ä½ç½®<code>(i,j)</code>æ—¶ï¼Œ<code>f(0)</code>åˆ°<code>f[j - 1]</code>ç»æ˜¯ç¬¬iè¡Œçš„å€¼ã€‚å¦‚æœæˆ‘]ä»ç„¶ä½¿ç”¨ä¸Šè¿°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œé‚£ä¹ˆæ˜¯åœ¨<code>(i,j-1)</code>å’Œ<code>(i- 1,i)</code>ä¸­è¿›è¡Œé€‰æ‹©,å°±äº§ç”Ÿäº†é”™è¯¯ã€‚</p>
<p>è¿™æ ·è™½ç„¶ç©ºé—´å¤æ‚åº¦ä»ç„¶ä¸º0(n),ä½†æˆ‘ä»¬åªä½¿ç”¨äº†nçš„ç©ºé—´å­˜å‚¨çŠ¶æ€,<br>å‡å°‘äº†ä¸€åŠçš„ç©ºé—´æ¶ˆè€—ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumTotal</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; triangle)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> n = triangle.size();</span><br><span class="line">        <span class="keyword">int</span>[] f = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        f[<span class="number">0</span>] = triangle.get(<span class="number">0</span>).get(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) {</span><br><span class="line">            f[i] = f[i - <span class="number">1</span>] + triangle.get(i).get(i);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i - <span class="number">1</span>; j &gt; <span class="number">0</span>; --j) {</span><br><span class="line">                f[j] = Math.min(f[j - <span class="number">1</span>], f[j]) + triangle.get(i).get(j);</span><br><span class="line">            }</span><br><span class="line">            f[<span class="number">0</span>] += triangle.get(i).get(<span class="number">0</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> minTotal = f[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) {</span><br><span class="line">            minTotal = Math.min(minTotal, f[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> minTotal;</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p><strong>python</strong> </p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">minimumTotal</span><span class="params">(self, triangle: List[List[int]])</span> -&gt; int:</span></span><br><span class="line">    n = len(triangle)</span><br><span class="line">    f = [<span class="number">0</span>] * n</span><br><span class="line">    f[<span class="number">0</span>] = triangle[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n):</span><br><span class="line">        f[i] = f[i - <span class="number">1</span>] + triangle[i][i]</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i - <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>):</span><br><span class="line">            f[j] = min(f[j - <span class="number">1</span>], f[j]) + triangle[i][j]</span><br><span class="line">        f[<span class="number">0</span>] += triangle[i][<span class="number">0</span>]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> min(f)</span><br></pre></td></tr></tbody></table></figure>



<h2 id="è§£æ³•äº”ï¼šè‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’"><a href="#è§£æ³•äº”ï¼šè‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’" class="headerlink" title="è§£æ³•äº”ï¼šè‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’"></a>è§£æ³•äº”ï¼šè‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’</h2><h3 id="åˆ†æ-1"><a href="#åˆ†æ-1" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><blockquote>
<p>å®šä¹‰äºŒç»´ dp æ•°ç»„ï¼Œå°†è§£æ³•äºŒä¸­ã€Œè‡ªé¡¶å‘ä¸‹çš„é€’å½’ã€æ”¹ä¸ºã€Œè‡ªåº•å‘ä¸Šçš„é€’æ¨ã€ã€‚</p>
<p><code>dp[i][j]</code>è¡¨ç¤ºä»ç‚¹ <code>(i, j)</code>åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œã€‚</p>
<p>çŠ¶æ€è½¬ç§»:<br><code>dp[i][j] = min(dp[i+ 1][i],dp[i + 1][j + 1]) + triangle[i][j]</code>[][j]</p>
</blockquote>
<p><strong>java</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumTotal3</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; triangle)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> len = triangle.size();</span><br><span class="line">	<span class="comment">//dp[i][j]è¡¨ç¤ºä»ç‚¹ï¼ˆiï¼Œj)åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œ</span></span><br><span class="line">	<span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>][len + <span class="number">1</span>];</span><br><span class="line">	<span class="comment">//ä»ä¸‰è§’å½¢çš„æœ€åä¸€è¡Œå¼€å§‹é€’æ¨</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= i; j++) {</span><br><span class="line">			dp[i][j] = Math.min(dp[i + <span class="number">1</span>][j], dp[i + <span class="number">1</span>][j + <span class="number">1</span>]) + triangle.get(i).get(j);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> dp[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="è§£æ³•äº”ï¼šè‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’-ç©ºé—´ä¼˜åŒ–"><a href="#è§£æ³•äº”ï¼šè‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’-ç©ºé—´ä¼˜åŒ–" class="headerlink" title="è§£æ³•äº”ï¼šè‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’+ç©ºé—´ä¼˜åŒ–"></a>è§£æ³•äº”ï¼šè‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’+ç©ºé—´ä¼˜åŒ–</h2><h3 id="åˆ†æ-2"><a href="#åˆ†æ-2" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><blockquote>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†-ä¸€ä¸ªNè¡ŒNåˆ—çš„dpæ•°ç»„(Nä¸‰è§’å½¢çš„è¡Œæ•°)<br>ä½†æ˜¯åœ¨å®é™…é€’æ¨ä¸­æˆ‘ä»¬å‘ç°ï¼Œè®¡ç®—<code>dp[i][j]</code>æ—¶ï¼Œåªç”¨åˆ°äº†ä¸‹ä¸€è¡Œçš„dp[i+ 1][j]å’Œ<code>dp[i+ 1][j+ 1]</code>ã€‚<br>å› æ­¤dpæ•°ç»„ä¸éœ€è¦å®šä¹‰Nè¡Œ,åªè¦å®šä¹‰1è¡Œå°±é˜”ä»¥ã€‚<br>æ‰€ä»¥æˆ‘ä»¬ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ä¸Šè¿°ä»£ç ,å°†iæ‰€åœ¨çš„ç»´åº¦å»æ‰(å¦‚ä¸‹)ï¼Œå°±å¯ä»¥<br>å°†O(N^2^)çš„ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–æˆO(N)</p>
</blockquote>
<p><strong>java</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumTotal4</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; triangle)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> len = triangle.size();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>];</span><br><span class="line">	<span class="comment">//ä»ä¸‰è§’å½¢çš„æœ€åä¸€è¡Œå¼€å§‹é€’æ¨</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= i; j++) {</span><br><span class="line">			dp[j] = Math.min(dp[j], dp[j + <span class="number">1</span>]) + triangle.get(i).get(j);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> dp[<span class="number">0</span>];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>java</tag>
        <tag>python</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ¨æ€è§„åˆ’_leetcode.64.æœ€å°è·¯å¾„å’Œ</title>
    <url>/Minimum_path_sum/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªåŒ…å«éè´Ÿæ•´æ•°çš„ m x n ç½‘æ ¼ï¼Œè¯·æ‰¾å‡ºä¸€æ¡ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„ä¸Šçš„æ•°å­—æ€»å’Œä¸ºæœ€å°ã€‚</p>
<p>è¯´æ˜ï¼šæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚</p>
<p>ç¤ºä¾‹:</p>
<a id="more"></a>

<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">[</span><br><span class="line">  [1,3,1],</span><br><span class="line">  [1,5,1],</span><br><span class="line">  [4,2,1]</span><br><span class="line">]</span><br><span class="line">è¾“å‡º: 7</span><br></pre></td></tr></tbody></table></figure>


<p>è§£é‡Š: å› ä¸ºè·¯å¾„ 1â†’3â†’1â†’1â†’1 çš„æ€»å’Œæœ€å°ã€‚</p>
<h2 id="ğŸŒ¸åˆ†æ"><a href="#ğŸŒ¸åˆ†æ" class="headerlink" title="ğŸŒ¸åˆ†æ"></a>ğŸŒ¸åˆ†æ</h2><p>ç”±äºè·¯å¾„çš„æ–¹å‘åªèƒ½æ˜¯å‘ä¸‹æˆ–å‘å³ï¼Œ<strong>å› æ­¤ç½‘æ ¼çš„ç¬¬ä¸€è¡Œçš„æ¯ä¸ªå…ƒç´ åªèƒ½ä»å·¦ä¸Šè§’å…ƒç´ å¼€å§‹å‘å³ç§»åŠ¨åˆ°è¾¾ï¼Œç½‘æ ¼çš„ç¬¬ä¸€åˆ—çš„æ¯ä¸ªå…ƒç´ åªèƒ½ä»å·¦ä¸Šè§’å…ƒç´ å¼€å§‹å‘ä¸‹ç§»åŠ¨åˆ°è¾¾ï¼Œæ­¤æ—¶çš„è·¯å¾„æ˜¯å”¯ä¸€çš„</strong>ï¼Œå› æ­¤æ¯ä¸ªå…ƒç´ å¯¹åº”çš„æœ€å°è·¯å¾„å’Œå³ä¸ºå¯¹åº”çš„è·¯å¾„ä¸Šçš„æ•°å­—æ€»å’Œã€‚</p>
<p>å¯¹äºä¸åœ¨ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—çš„å…ƒç´ ï¼Œå¯ä»¥ä»å…¶ä¸Šæ–¹ç›¸é‚»å…ƒç´ å‘ä¸‹ç§»åŠ¨ä¸€æ­¥åˆ°è¾¾ï¼Œæˆ–è€…ä»å…¶å·¦æ–¹ç›¸é‚»å…ƒç´ å‘å³ç§»åŠ¨ä¸€æ­¥åˆ°è¾¾ï¼Œå…ƒç´ å¯¹åº”çš„æœ€å°è·¯å¾„å’Œç­‰äºå…¶ä¸Šæ–¹ç›¸é‚»å…ƒç´ ä¸å…¶å·¦æ–¹ç›¸é‚»å…ƒç´ ä¸¤è€…å¯¹åº”çš„æœ€å°è·¯å¾„å’Œä¸­çš„æœ€å°å€¼åŠ ä¸Šå½“å‰å…ƒç´ çš„å€¼ã€‚ç”±äºæ¯ä¸ªå…ƒç´ å¯¹åº”çš„æœ€å°è·¯å¾„å’Œä¸å…¶ç›¸é‚»å…ƒç´ å¯¹åº”çš„æœ€å°è·¯å¾„å’Œæœ‰å…³ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£ã€‚</p>
<p>çŠ¶æ€å®šä¹‰ï¼š</p>
<ul>
<li>è®¾ dpä¸ºå¤§å° m<em>Ã—</em>nçŸ©é˜µï¼Œå…¶ä¸­ dp[i] [j]çš„å€¼ä»£è¡¨ç›´åˆ°èµ°åˆ° (i,j)çš„æœ€å°è·¯å¾„å’Œã€‚</li>
</ul>
<p>åˆå§‹çŠ¶æ€ï¼š</p>
<ul>
<li><code>dp[0][0] =grid[0][0]</code></li>
</ul>
<h2 id="ğŸŒ¸ç®—æ³•æµç¨‹"><a href="#ğŸŒ¸ç®—æ³•æµç¨‹" class="headerlink" title="ğŸŒ¸ç®—æ³•æµç¨‹"></a>ğŸŒ¸ç®—æ³•æµç¨‹</h2><ul>
<li>å½“i&gt;0ä¸”j=0æ—¶ï¼Œ<code>dp[i] [0]= dp[i - 1] [0]+ grid[i] [0].</code></li>
<li>å½“i=0ä¸”j&gt; 0æ—¶ï¼Œ<code>dp[0][j]= dp[0][j - 1]+ grid[0][ij]ã€‚</code></li>
<li>å½“i&gt;0ä¸”j&gt; 0æ—¶ï¼Œ<code>dp[i[i] = min(dp[i - 1][j], dp[i[ji -1]) + gridi[j]ã€‚</code></li>
<li>åå¾—åˆ°<code>dp[m- 1][n - 1]</code>çš„å€¼å³ä¸ºä»ç½‘æ ¼å·¦ä¸Šè§’åˆ°ç½‘æ ¼å³ä¸‹çš„æœ€å°<br>è·¯å¾„å’Œã€‚</li>
</ul>
<p>å…¶å®æˆ‘ä»¬å®Œå…¨ä¸éœ€è¦å»ºç«‹ dpçŸ©é˜µæµªè´¹é¢å¤–ç©ºé—´ï¼Œç›´æ¥éå† <code>grid[i][j]</code>ä¿®æ”¹å³å¯ã€‚è¿™æ˜¯å› ä¸ºï¼š<code>grid[i][j] = min(grid[i - 1][j], grid[i][j - 1]) + grid[i][j]</code> ï¼›åŸ gridçŸ©é˜µå…ƒç´ ä¸­è¢«è¦†ç›–ä¸º dp å…ƒç´ åï¼ˆéƒ½å¤„äºå½“å‰éå†ç‚¹çš„å·¦ä¸Šæ–¹ï¼‰ï¼Œä¸ä¼šå†è¢«ä½¿ç”¨åˆ°ã€‚</p>
<h2 id="ğŸŒ¸å¤æ‚åº¦åˆ†æ"><a href="#ğŸŒ¸å¤æ‚åº¦åˆ†æ" class="headerlink" title="ğŸŒ¸å¤æ‚åº¦åˆ†æ"></a>ğŸŒ¸å¤æ‚åº¦åˆ†æ</h2><ul>
<li><p>æ—¶é—´å¤æ‚åº¦O(MÃ—N) ï¼š éå†æ•´ä¸ª grid çŸ©é˜µå…ƒç´ ã€‚</p>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š ç›´æ¥ä¿®æ”¹åŸçŸ©é˜µï¼Œä¸ä½¿ç”¨é¢å¤–ç©ºé—´ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minPathSum</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>{</span><br><span class="line">	 <span class="keyword">if</span>(grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span> || grid[<span class="number">0</span>].length == <span class="number">0</span>) {</span><br><span class="line">		 <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	 }</span><br><span class="line">	 </span><br><span class="line">	 <span class="keyword">int</span> rows = grid.length, cols = grid[<span class="number">0</span>].length;</span><br><span class="line">	 <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[rows][cols];</span><br><span class="line">	 dp[<span class="number">0</span>][<span class="number">0</span>] = grid[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">	 </span><br><span class="line">	 <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++) {</span><br><span class="line">		 <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cols; j++) {</span><br><span class="line">			 <span class="keyword">if</span>(i == <span class="number">0</span> &amp;&amp; j == <span class="number">0</span>) {</span><br><span class="line">				 <span class="keyword">continue</span>;</span><br><span class="line">			 }<span class="keyword">else</span> <span class="keyword">if</span>(i == <span class="number">0</span>) {</span><br><span class="line">				 dp[<span class="number">0</span>][j] = dp[<span class="number">0</span>][j - <span class="number">1</span>] + grid[<span class="number">0</span>][j];</span><br><span class="line">			 }<span class="keyword">else</span> <span class="keyword">if</span>(j == <span class="number">0</span>) {</span><br><span class="line">				 dp[i][<span class="number">0</span>] = dp[i - <span class="number">1</span>][<span class="number">0</span>] + grid[i][<span class="number">0</span>];</span><br><span class="line">			 }<span class="keyword">else</span> {</span><br><span class="line">				 dp[i][j] = Math.min(dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>]) + grid[i][j];</span><br><span class="line">			 }</span><br><span class="line">		 }</span><br><span class="line">	 }</span><br><span class="line">	 </span><br><span class="line">	 <span class="keyword">return</span> dp[rows - <span class="number">1</span>][cols - <span class="number">1</span>];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>python</strong></p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minPathSum</span><span class="params">(self, grid: List[List[int]])</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> grid <span class="keyword">or</span> <span class="keyword">not</span> grid[<span class="number">0</span>]:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        rows, columns = len(grid), len(grid[<span class="number">0</span>])</span><br><span class="line">        dp = [[<span class="number">0</span>] * columns <span class="keyword">for</span> _ <span class="keyword">in</span> range(rows)]</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = grid[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, rows):</span><br><span class="line">            dp[i][<span class="number">0</span>] = dp[i - <span class="number">1</span>][<span class="number">0</span>] + grid[i][<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, columns):</span><br><span class="line">            dp[<span class="number">0</span>][j] = dp[<span class="number">0</span>][j - <span class="number">1</span>] + grid[<span class="number">0</span>][j]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, columns):</span><br><span class="line">                dp[i][j] = min(dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>]) + grid[i][j]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dp[rows - <span class="number">1</span>][columns - <span class="number">1</span>]</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸ä¸ä½¿ç”¨dpæ•°ç»„ã€‚ç›´æ¥åŸåœ°ä¿®æ”¹"><a href="#ğŸŒ¸ä¸ä½¿ç”¨dpæ•°ç»„ã€‚ç›´æ¥åŸåœ°ä¿®æ”¹" class="headerlink" title="ğŸŒ¸ä¸ä½¿ç”¨dpæ•°ç»„ã€‚ç›´æ¥åŸåœ°ä¿®æ”¹"></a>ğŸŒ¸ä¸ä½¿ç”¨dpæ•°ç»„ã€‚ç›´æ¥åŸåœ°ä¿®æ”¹</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minPathSum2</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>{</span><br><span class="line">	 <span class="keyword">if</span>(grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span> || grid[<span class="number">0</span>].length == <span class="number">0</span>) {</span><br><span class="line">		 <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	 }</span><br><span class="line">	 </span><br><span class="line">	 <span class="keyword">int</span> rows = grid.length, cols = grid[<span class="number">0</span>].length;</span><br><span class="line">	 </span><br><span class="line">	 <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++) {</span><br><span class="line">		 <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cols; j++) {</span><br><span class="line">			 <span class="keyword">if</span>(i == <span class="number">0</span> &amp;&amp; j == <span class="number">0</span>) {</span><br><span class="line">				 <span class="keyword">continue</span>;</span><br><span class="line">			 }<span class="keyword">else</span> <span class="keyword">if</span>(i == <span class="number">0</span>) {</span><br><span class="line">				 grid[<span class="number">0</span>][j] = grid[<span class="number">0</span>][j - <span class="number">1</span>] + grid[<span class="number">0</span>][j];</span><br><span class="line">			 }<span class="keyword">else</span> <span class="keyword">if</span>(j == <span class="number">0</span>) {</span><br><span class="line">				 grid[i][<span class="number">0</span>] = grid[i - <span class="number">1</span>][<span class="number">0</span>] + grid[i][<span class="number">0</span>];</span><br><span class="line">			 }<span class="keyword">else</span> {</span><br><span class="line">				 grid[i][j] = Math.min(grid[i - <span class="number">1</span>][j], grid[i][j - <span class="number">1</span>]) + grid[i][j];</span><br><span class="line">			 }</span><br><span class="line">		 }</span><br><span class="line">	 }</span><br><span class="line">	 </span><br><span class="line">	 <span class="keyword">return</span> grid[rows - <span class="number">1</span>][cols - <span class="number">1</span>];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p> <strong>python</strong></p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minPathSum</span><span class="params">(self, grid: [[int]])</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(grid)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(grid[<span class="number">0</span>])):</span><br><span class="line">                <span class="keyword">if</span> i == j == <span class="number">0</span>: <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">elif</span> i == <span class="number">0</span>:  grid[i][j] = grid[i][j - <span class="number">1</span>] + grid[i][j]</span><br><span class="line">                <span class="keyword">elif</span> j == <span class="number">0</span>:  grid[i][j] = grid[i - <span class="number">1</span>][j] + grid[i][j]</span><br><span class="line">                <span class="keyword">else</span>: grid[i][j] = min(grid[i - <span class="number">1</span>][j], grid[i][j - <span class="number">1</span>]) + grid[i][j]</span><br><span class="line">        <span class="keyword">return</span> grid[<span class="number">-1</span>][<span class="number">-1</span>]</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>python</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>é€’å½’_leetcode.151-å‰‘æŒ‡offer.07_é‡å»ºäºŒå‰æ ‘(ä»å…ˆåºå’Œä¸­åº)</title>
    <url>/Reconstruction_of_binary_tree/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸè¾“å…¥æŸäºŒå‰æ ‘çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœï¼Œè¯·é‡å»ºè¯¥äºŒå‰æ ‘ã€‚å‡è®¾è¾“å…¥çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœä¸­éƒ½ä¸å«é‡å¤çš„æ•°å­—ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç»™å‡º</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">å‰åºéå† preorder = [3,9,20,15,7]</span><br><span class="line">ä¸­åºéå† inorder = [9,3,15,20,7]</span><br></pre></td></tr></tbody></table></figure>

<p>è¿”å›å¦‚ä¸‹çš„äºŒå‰æ ‘ï¼š</p>
<a id="more"></a>

<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></tbody></table></figure>

<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">0 &lt;= èŠ‚ç‚¹ä¸ªæ•° &lt;= 5000</span><br></pre></td></tr></tbody></table></figure>

<h2 id="è§£æ³•ä¸€ï¼šé€’å½’"><a href="#è§£æ³•ä¸€ï¼šé€’å½’" class="headerlink" title="è§£æ³•ä¸€ï¼šé€’å½’"></a>è§£æ³•ä¸€ï¼šé€’å½’</h2><p><strong>ğŸæ€è·¯</strong></p>
<p>å¯¹äºä»»æ„ä¸€é¢—æ ‘è€Œè¨€ï¼Œå‰åºéå†çš„å½¢å¼æ€»æ˜¯</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">[ æ ¹èŠ‚ç‚¹, [å·¦å­æ ‘çš„å‰åºéå†ç»“æœ], [å³å­æ ‘çš„å‰åºéå†ç»“æœ] ]</span><br></pre></td></tr></tbody></table></figure>

<p>å³æ ¹èŠ‚ç‚¹æ€»æ˜¯å‰åºéå†ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚è€Œä¸­åºéå†çš„å½¢å¼æ€»æ˜¯</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">[ [å·¦å­æ ‘çš„ä¸­åºéå†ç»“æœ], æ ¹èŠ‚ç‚¹, [å³å­æ ‘çš„ä¸­åºéå†ç»“æœ] ]</span><br></pre></td></tr></tbody></table></figure>

<p>åªè¦æˆ‘ä»¬åœ¨ä¸­åºéå†ä¸­å®šä½åˆ°æ ¹èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åˆ†åˆ«çŸ¥é“å·¦å­æ ‘å’Œå³å­æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ç›®ã€‚ç”±äºåŒä¸€é¢—å­æ ‘çš„å‰åºéå†å’Œä¸­åºéå†çš„é•¿åº¦æ˜¾ç„¶æ˜¯ç›¸åŒçš„ï¼Œå› æ­¤æˆ‘ä»¬å°±å¯ä»¥å¯¹åº”åˆ°å‰åºéå†çš„ç»“æœä¸­ï¼Œå¯¹ä¸Šè¿°å½¢å¼ä¸­çš„æ‰€æœ‰å·¦å³æ‹¬å·è¿›è¡Œå®šä½ã€‚</p>
<p>è¿™æ ·ä»¥æ¥ï¼Œæˆ‘ä»¬å°±çŸ¥é“äº†å·¦å­æ ‘çš„å‰åºéå†å’Œä¸­åºéå†ç»“æœï¼Œä»¥åŠå³å­æ ‘çš„å‰åºéå†å’Œä¸­åºéå†ç»“æœï¼Œæˆ‘ä»¬å°±å¯ä»¥é€’å½’åœ°å¯¹æ„é€ å‡ºå·¦å­æ ‘å’Œå³å­æ ‘ï¼Œå†å°†è¿™ä¸¤é¢—å­æ ‘æ¥åˆ°æ ¹èŠ‚ç‚¹çš„å·¦å³ä½ç½®ã€‚</p>
<p><strong>ğŸç»†èŠ‚</strong></p>
<p>åœ¨ä¸­åºéå†ä¸­å¯¹æ ¹èŠ‚ç‚¹è¿›è¡Œå®šä½æ—¶ï¼Œä¸€ç§ç®€å•çš„æ–¹æ³•æ˜¯ç›´æ¥æ‰«ææ•´ä¸ªä¸­åºéå†çš„ç»“æœå¹¶æ‰¾å‡ºæ ¹èŠ‚ç‚¹ï¼Œä½†è¿™æ ·åšçš„æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ã€‚æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨å“ˆå¸Œæ˜ å°„ï¼ˆHashMapï¼‰æ¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿåœ°å®šä½æ ¹èŠ‚ç‚¹ã€‚å¯¹äºå“ˆå¸Œæ˜ å°„ä¸­çš„æ¯ä¸ªé”®å€¼å¯¹ï¼Œé”®è¡¨ç¤ºä¸€ä¸ªå…ƒç´ ï¼ˆèŠ‚ç‚¹çš„å€¼ï¼‰ï¼Œå€¼è¡¨ç¤ºå…¶åœ¨ä¸­åºéå†ä¸­çš„å‡ºç°ä½ç½®ã€‚åœ¨æ„é€ äºŒå‰æ ‘çš„è¿‡ç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ä¸­åºéå†çš„åˆ—è¡¨è¿›è¡Œä¸€éæ‰«æï¼Œå°±å¯ä»¥æ„é€ å‡ºè¿™ä¸ªå“ˆå¸Œæ˜ å°„ã€‚åœ¨æ­¤åæ„é€ äºŒå‰æ ‘çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°±åªéœ€è¦O(1) çš„æ—¶é—´å¯¹æ ¹èŠ‚ç‚¹è¿›è¡Œå®šä½äº†ã€‚</p>
<p><a href="https://imgchr.com/i/aVzPQe" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/07/29/aVzPQe.png" alt="aVzPQe.png"></a></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> val;</span><br><span class="line">	TreeNode left;</span><br><span class="line">	TreeNode right;</span><br><span class="line"></span><br><span class="line">	TreeNode(<span class="keyword">int</span> x) {</span><br><span class="line">		val = x;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Text</span> </span>{</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">	Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;Integer, Integer&gt;();</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] preorder, <span class="keyword">int</span>[] inorder)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> preLen = preorder.length;</span><br><span class="line">		<span class="keyword">int</span> inLen = inorder.length;</span><br><span class="line">		<span class="keyword">if</span> (preLen != inLen) {</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Incorrect input data."</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="comment">// æ„å»ºå“ˆå¸Œæ˜ å°„ï¼Œå¿«é€Ÿå®šä½æ ¹èŠ‚ç‚¹</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; preLen; i++) {</span><br><span class="line">			map.put(inorder[i], i);</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> buildTree(preorder, <span class="number">0</span>, preLen - <span class="number">1</span>, inorder, <span class="number">0</span>, inLen - <span class="number">1</span>);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] preorder, <span class="keyword">int</span> preLeft, <span class="keyword">int</span> preRight, <span class="keyword">int</span>[] inorder, <span class="keyword">int</span> inLeft, <span class="keyword">int</span> inRight)</span> </span>{</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="comment">// é€’å½’ç»“æŸæ¡ä»¶</span></span><br><span class="line">		<span class="keyword">if</span> (preLeft &gt; preRight || inLeft &gt; inRight) {</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="comment">// å…ˆåºéå†çš„èµ·ç‚¹å…ƒç´ ä¸ºæ ¹èŠ‚ç‚¹</span></span><br><span class="line">		<span class="keyword">int</span> pre_root = preorder[preLeft];</span><br><span class="line">		<span class="comment">// å®šä½ä¸­åºéå†ä¸­çš„æ ¹èŠ‚ç‚¹çš„ä¸‹æ ‡</span></span><br><span class="line">		<span class="keyword">int</span> in_root = map.get(pre_root);</span><br><span class="line">		<span class="comment">// å°†æ ¹èŠ‚ç‚¹å»ºç«‹èµ·æ¥</span></span><br><span class="line">		TreeNode root = <span class="keyword">new</span> TreeNode(pre_root);</span><br><span class="line">		<span class="comment">// å…ˆåºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ+1 å¼€å§‹çš„ in_root-inLeft(å³å·¦å­æ ‘å…ƒç´ çš„ä¸ªæ•°)ã€ä¸ªå…ƒç´ å°±å¯¹åº”äº†ä¸­åºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ å¼€å§‹åˆ°</span></span><br><span class="line">		<span class="comment">// æ ¹èŠ‚ç‚¹å®šä½-1ã€çš„å…ƒç´ </span></span><br><span class="line">		root.left = buildTree(preorder, preLeft + <span class="number">1</span>, in_root - inLeft + preLeft, inorder, inLeft, in_root - <span class="number">1</span>);</span><br><span class="line">		<span class="comment">// å…ˆåºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ+1+å·¦å­æ ‘èŠ‚ç‚¹æ•°ç›® å¼€å§‹åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ å°±å¯¹åº”äº†ä¸­åºéå†ä¸­ã€Œä» æ ¹èŠ‚ç‚¹å®šä½+1 åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ </span></span><br><span class="line">		root.right = buildTree(preorder, in_root - inLeft + preLeft + <span class="number">1</span>, preRight, inorder, in_root + <span class="number">1</span>, inRight);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> root;</span><br><span class="line"></span><br><span class="line">	}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">buildTree</span><span class="params">(self, preorder: List[int], inorder: List[int])</span> -&gt; TreeNode:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">myBuildTree</span><span class="params">(preorder_left: int, preorder_right: int, inorder_left: int, inorder_right: int)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> preorder_left &gt; preorder_right:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment"># å‰åºéå†ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            preorder_root = preorder_left</span><br><span class="line">            <span class="comment"># åœ¨ä¸­åºéå†ä¸­å®šä½æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            inorder_root = index[preorder[preorder_root]]</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># å…ˆæŠŠæ ¹èŠ‚ç‚¹å»ºç«‹å‡ºæ¥</span></span><br><span class="line">            root = TreeNode(preorder[preorder_root])</span><br><span class="line">            <span class="comment"># å¾—åˆ°å·¦å­æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ç›®</span></span><br><span class="line">            size_left_subtree = inorder_root - inorder_left</span><br><span class="line">            <span class="comment"># é€’å½’åœ°æ„é€ å·¦å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            <span class="comment"># å…ˆåºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ+1 å¼€å§‹çš„ size_left_subtreeã€ä¸ªå…ƒç´ å°±å¯¹åº”äº†ä¸­åºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ å¼€å§‹åˆ° æ ¹èŠ‚ç‚¹å®šä½-1ã€çš„å…ƒç´ </span></span><br><span class="line">            root.left = myBuildTree(preorder_left + <span class="number">1</span>, preorder_left + size_left_subtree, inorder_left, inorder_root - <span class="number">1</span>)</span><br><span class="line">            <span class="comment"># é€’å½’åœ°æ„é€ å³å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            <span class="comment"># å…ˆåºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ+1+å·¦å­æ ‘èŠ‚ç‚¹æ•°ç›® å¼€å§‹åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ å°±å¯¹åº”äº†ä¸­åºéå†ä¸­ã€Œä» æ ¹èŠ‚ç‚¹å®šä½+1 åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ </span></span><br><span class="line">            root.right = myBuildTree(preorder_left + size_left_subtree + <span class="number">1</span>, preorder_right, inorder_root + <span class="number">1</span>, inorder_right)</span><br><span class="line">            <span class="keyword">return</span> root</span><br><span class="line">        </span><br><span class="line">        n = len(preorder)</span><br><span class="line">        <span class="comment"># æ„é€ å“ˆå¸Œæ˜ å°„ï¼Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        index = {element: i <span class="keyword">for</span> i, element <span class="keyword">in</span> enumerate(inorder)}</span><br><span class="line">        <span class="keyword">return</span> myBuildTree(<span class="number">0</span>, n - <span class="number">1</span>, <span class="number">0</span>, n - <span class="number">1</span>)</span><br></pre></td></tr></tbody></table></figure>



<h2 id="è§£æ³•äºŒï¼š-è¿­ä»£"><a href="#è§£æ³•äºŒï¼š-è¿­ä»£" class="headerlink" title="è§£æ³•äºŒï¼š è¿­ä»£"></a>è§£æ³•äºŒï¼š è¿­ä»£</h2><p><strong>ğŸæ€è·¯</strong></p>
<p>è¿­ä»£æ³•æ˜¯ä¸€ç§éå¸¸å·§å¦™çš„å®ç°æ–¹æ³•ã€‚</p>
<p>å¯¹äºå‰åºéå†ä¸­çš„ä»»æ„ä¸¤ä¸ªè¿ç»­èŠ‚ç‚¹ u å’Œ vï¼Œæ ¹æ®å‰åºéå†çš„æµç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ u å’Œ v åªæœ‰ä¸¤ç§å¯èƒ½çš„å…³ç³»ï¼š</p>
<ul>
<li><p>v æ˜¯ u çš„å·¦å„¿å­ã€‚è¿™æ˜¯å› ä¸ºåœ¨éå†åˆ° u ä¹‹åï¼Œä¸‹ä¸€ä¸ªéå†çš„èŠ‚ç‚¹å°±æ˜¯ u çš„å·¦å„¿å­ï¼Œå³ vï¼›</p>
</li>
<li><p>u æ²¡æœ‰å·¦å„¿å­ï¼Œå¹¶ä¸” v æ˜¯ u çš„æŸä¸ªç¥–å…ˆèŠ‚ç‚¹ï¼ˆæˆ–è€… u æœ¬èº«ï¼‰çš„å³å„¿å­ã€‚å¦‚æœ u æ²¡æœ‰å·¦å„¿å­ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªéå†çš„èŠ‚ç‚¹å°±æ˜¯ u çš„å³å„¿å­ã€‚å¦‚æœ u æ²¡æœ‰å³å„¿å­ï¼Œæˆ‘ä»¬å°±ä¼šå‘ä¸Šå›æº¯ï¼Œç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªæœ‰å³å„¿å­ï¼ˆä¸” u ä¸åœ¨å®ƒçš„å³å„¿å­çš„å­æ ‘ä¸­ï¼‰çš„èŠ‚ç‚¹$$u_a$$ï¼Œé‚£ä¹ˆ v å°±æ˜¯ $$u_a$$ çš„å³å„¿å­ã€‚</p>
</li>
</ul>
<p>ç¬¬äºŒç§å…³ç³»çœ‹ä¸Šå»æœ‰äº›å¤æ‚ã€‚æˆ‘ä»¬ä¸¾ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜å…¶æ­£ç¡®æ€§ï¼Œå¹¶åœ¨ä¾‹å­ä¸­ç»™å‡ºæˆ‘ä»¬çš„è¿­ä»£ç®—æ³•ã€‚</p>
<p>æˆ‘ä»¬ä»¥æ ‘</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">        3</span><br><span class="line">       / \</span><br><span class="line">      9  20</span><br><span class="line">     /  /  \</span><br><span class="line">    8  15   7</span><br><span class="line">   / \</span><br><span class="line">  5  10</span><br><span class="line"> /</span><br><span class="line">4</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸ºä¾‹ï¼Œå®ƒçš„å‰åºéå†å’Œä¸­åºéå†åˆ†åˆ«ä¸º</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">preorder = [3, 9, 8, 5, 4, 10, 20, 15, 7]</span><br><span class="line">inorder = [4, 5, 8, 10, 9, 3, 15, 20, 7]</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬ç”¨ä¸€ä¸ªæ ˆstackæ¥ç»´æŠ¤ã€Œå½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰è¿˜æ²¡æœ‰è€ƒè™‘è¿‡å³å„¿å­çš„ç¥–å…ˆèŠ‚<br>ç‚¹,æ ˆé¡¶å°±æ˜¯å½“å‰èŠ‚ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åœ¨æ ˆä¸­çš„èŠ‚ç‚¹å¯èƒ½è¿æ¥ä¸€ä¸ªæ–°çš„å³<br>å­ã€‚åŒæ—¶,æˆ‘ä»¬ç”¨ä¸€ä¸ªæŒ‡é’ˆindex æŒ‡å‘ä¸­åºéå†çš„æŸä¸ªä½ç½®ï¼Œ åˆå§‹å€¼ä¸º<br>0ã€‚indexå¯¹åº”çš„èŠ‚ç‚¹æ˜¯ã€Œ å½“å‰èŠ‚ç‚¹ä¸æ–­å¾€å·¦èµ°è¾¾åˆ°çš„æœ€ç»ˆèŠ‚ç‚¹ï¼Œè¿™ä¹Ÿæ˜¯ç¬¦<br>åˆåºéå†çš„ï¼Œå®ƒçš„ä½œç”¨åœ¨ä¸‹é¢çš„è¿‡ç¨‹ä¸­ä¼šæœ‰æ‰€ä½“ç°ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬å°†æ ¹èŠ‚ç‚¹3å…¥æ ˆï¼Œå†åˆå§‹åŒ– index æ‰€æŒ‡å‘çš„èŠ‚ç‚¹ä¸º4ï¼Œéšåå¯¹äºå‰åºéå†ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬ä¾æ­¤åˆ¤æ–­å®ƒæ˜¯æ ˆé¡¶èŠ‚ç‚¹çš„å·¦å„¿å­ï¼Œè¿˜æ˜¯æ ˆä¸­æŸä¸ªèŠ‚ç‚¹çš„å³å„¿å­ã€‚</p>
<ul>
<li><p>æˆ‘ä»¬éå†9ã€‚9ä¸€å®šæ˜¯æ ˆé¡¶èŠ‚ç‚¹3çš„å·¦å„¿å­ã€‚æˆ‘ä»¬ä½¿ç”¨åè¯æ³•ï¼Œå‡è®¾9æ˜¯3çš„å³å­,é‚£ä¹ˆ3æ²¡æœ‰å·¦å„¿å­ï¼Œindex åº”è¯¥æ°å¥½æŒ‡å‘3,ä½†å®é™…ä¸Šä¸º4ï¼Œå› æ­¤äº§ç”Ÿäº†çŸ›ç›¾ã€‚æ‰€ä»¥æˆ‘ä»¬å°†9ä½œä¼ª3çš„å·¦å„¿å­,å¹¶å°†9å…¥æ ˆã€‚</p>
<ul>
<li><code>stack= [3ï¼Œ 9]</code></li>
<li><code>index -&gt; inorder[0] = 4</code></li>
</ul>
</li>
<li><p>æˆ‘ä»¬éå†8ï¼Œ5å’Œ4ã€‚åŒç†å¯å¾—å®ƒä»¬éƒ½æ˜¯ä¸Šä¸€ä¸ªèŠ‚ç‚¹(æ ˆé¡¶èŠ‚ç‚¹)çš„å·¦<br>å„¿å­,æ‰€ä»¥å®ƒä»¬ä¼šä¾æ¬¡å…¥æ ˆã€‚</p>
<ul>
<li><code>stack=[3, 9ï¼Œ8ï¼Œ5ï¼Œ4]</code></li>
<li><code>index -&gt; inorder[0] = 4</code></li>
</ul>
</li>
<li><p>æˆ‘ä»¬éå†10 ï¼Œè¿™æ—¶æƒ…å†µå°±ä¸-æ ·äº†ã€‚æˆ‘ä»¬å‘ç°index æ°å¥½æŒ‡å‘å½“å‰çš„æ ˆé¡¶èŠ‚ç‚¹4,ä¹Ÿå°±æ˜¯è¯´4æ²¡æœ‰å·¦å„¿å­ï¼Œé‚£ä¹ˆ10å¿…é¡»ä¸ºæ ˆä¸­æŸä¸ªèŠ‚ç‚¹çš„å³å­ã€‚é‚£ä¹ˆå¦‚ä½•æ‰¾åˆ°è¿™ä¸ªèŠ‚ç‚¹å‘¢?æ ˆä¸­çš„èŠ‚ç‚¹çš„é¡ºåºå’Œå®ƒä»¬åœ¨å‰åºéå†ä¸­å‡ºç°çš„é¡ºåºæ˜¯ä¸€è‡´çš„ï¼Œ ä¸”æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å³å„¿å­éƒ½è¿˜æ²¡æœ‰è¢«éå†è¿‡ï¼Œ<strong>é‚£ä¹ˆè¿™äº›èŠ‚ç‚¹çš„é¡ºåºå’Œå®ƒä»¬åœ¨ä¸­åºéå†ä¸­å‡ºç°çš„é¡ºåºä¸€å®šæ˜¯ç›¸åçš„</strong>ã€‚</p>
<blockquote>
<p>è¿™æ˜¯å› ä¸ºæ ˆä¸­çš„ä»»æ„ä¸¤ä¸ªç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå‰è€…éƒ½æ˜¯åè€…çš„æŸä¸ªç¥–å…ˆã€‚å¹¶ä¸”æˆ‘ä»¬çŸ¥é“ï¼Œæ ˆä¸­çš„ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„å³å„¿å­è¿˜æ²¡æœ‰è¢«éå†è¿‡ï¼Œè¯´æ˜åè€…ä¸€å®šæ˜¯å‰è€…å·¦å„¿å­çš„å­æ ‘ä¸­çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆåè€…å°±å…ˆäºå‰è€…å‡ºç°åœ¨ä¸­åºéå†ä¸­ã€‚</p>
</blockquote>
<p>å› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠindex ä¸æ–­å‘å³ç§»åŠ¨ï¼Œ å¹¶ä¸æ ˆé¡¶èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœ<br>indexå¯¹åº”çš„å…ƒç´ æ°å¥½ç­‰äºæ ˆé¡¶èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯´æ˜æˆ‘ä»¬åœ¨ä¸­åºéå†ä¸­æ‰¾åˆ°äº†<br>æ ˆé¡¶èŠ‚ç‚¹ï¼Œæ‰€ä»¥å°†indexå¢åŠ 1å¹¶å¼¹å‡ºæ ˆé¡¶èŠ‚ç‚¹ï¼Œç›´åˆ°index å¯¹åº”çš„å…ƒç´ ä¸ç­‰äºæ ˆé¡¶èŠ‚ç‚¹ã€‚æŒ‰ç…§è¿™æ ·çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¼¹å‡ºçš„æœ€å-ä¸€ä¸ªèŠ‚ç‚¹xå°±æ˜¯10çš„åŒäº²èŠ‚ç‚¹ï¼Œè¿™æ˜¯å› ä¸º10 å‡ºç°åœ¨äº†xä¸xåœ¨æ ˆä¸­çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä¸­åºéå†ä¹‹é—´ï¼Œå› å‘²10å°±æ˜¯xçš„å³å­ã€‚</p>
</li>
</ul>
<p>  å›åˆ°æˆ‘ä»¬çš„ä¾‹å­ï¼Œæˆ‘ä»¬ä¼šä¾æ¬¡ä»æ ˆé¡¶å¼¹å‡º4ï¼Œ5å’Œ8ï¼Œå¹¶ä¸”å°†indexå‘å³ç§»åŠ¨äº†ä¸‰æ¬¡ã€‚æˆ‘ä»¬å°†10ä½œä¸ºæœ€åå¼¹å‡ºçš„èŠ‚ç‚¹8çš„å³å„¿å­ï¼Œå¹¶å°‡10å…¥æ ˆã€‚</p>
<ul>
<li>stack = [3, 9ï¼Œ10]</li>
<li>index -&gt; inorder[3] = 10</li>
</ul>
<ul>
<li><p>æˆ‘ä»¬éå†20ã€‚åŒç†ï¼Œindex æ°å¥½æŒ‡å‘å½“å‰æ ˆé¡¶èŠ‚ç‚¹10ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šä¾æ¬¡ä»æ ˆé¡¶å¼¹å‡º| 10ï¼Œ9å’Œ3,å¹¶ä¸”å°†index å‘å³ç§»åŠ¨äº†ä¸‰æ¬¡ã€‚æˆ‘ä»¬å°†20ä½œä¸ºæœ€åå¼¹å‡ºçš„èŠ‚ç‚¹3çš„å³å„¿å­,å¹¶å°†20å…¥æ ˆã€‚</p>
<ul>
<li><code>stack = [20]</code></li>
<li><code>index -&gt; inorder[6] = 15</code></li>
</ul>
</li>
<li><p>æˆ‘ä»¬éå†15ï¼Œå°†| 15ä½œä¸ºæ ˆé¡¶èŠ‚ç‚¹20çš„å·¦å„¿å­ï¼Œå¹¶å°‡15å…¥æ ˆã€‚</p>
<ul>
<li><code>stack = [20ï¼Œ 15]</code></li>
<li><code>index -&gt; inorder[6] = 15</code></li>
</ul>
</li>
<li><p>æˆ‘ä»¬éå†7ã€‚1 index æ°å¥½æŒ‡å‘å½“å‰æ ˆé¡¶èŠ‚ç‚¹15 ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šä¾æ¬¡ä»æ ˆé¡¶å¼¹å‡º15å’Œ20ï¼Œå¹¶ä¸”å°†index å‘å³ç§»åŠ¨äº†ä¸¤æ¬¡ã€‚æˆ‘ä»¬å°†7ä½œä¸ºæœ€åå¼¹å‡ºçš„èŠ‚ç‚¹20 çš„å³å„¿å­ï¼Œå°‡7å…¥æ ˆã€‚</p>
<ul>
<li><code>stack = [7]</code></li>
<li><code>index -&gt; inorder[8] = 7</code></li>
</ul>
</li>
</ul>
<p>æ­¤æ—¶éå†ç»“æŸï¼Œæˆ‘ä»¬å°±æ„é€ å‡ºäº†æ­£ç¡®çš„äºŒå‰æ ‘ã€‚</p>
<p><strong>ğŸç®—æ³•</strong></p>
<p>æˆ‘ä»¬å½’çº³å‡ºä¸Šè¿°ä¾‹å­ä¸­çš„ç®—æ³•æµç¨‹:</p>
<ul>
<li>æˆ‘ä»¬ç”¨ä¸€ä¸ªæ ˆå’Œä¸€ä¸ªæŒ‡é’ˆè¾…åŠ©è¿›è¡ŒäºŒå‰æ ‘çš„æ„é€ ã€‚åˆå§‹æ—¶æ ˆä¸­å­˜æ”¾äº†æ ¹èŠ‚ç‚¹(å‰åºéå†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹) ï¼ŒæŒ‡é’ˆæŒ‡å‘ä¸­åºéå†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹;</li>
<li>æˆ‘ä»¬ä¾æ¬¡æšä¸¾å‰éå†ä¸­é™¤äº†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä»¥å¤–çš„æ¯ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœindex æ°å¥½æŒ‡å‘æ ˆé¡¶èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸æ–­åœ°å¼¹å‡ºæ ˆé¡¶èŠ‚ç‚¹å¹¶å‘å³ç§»åŠ¨index ï¼Œå¹¶å°†å½“å‰èŠ‚ç‚¹ä½œä¸ºæœ€åä¸€ä¸ªå¼¹å‡ºçš„èŠ‚ç‚¹çš„å³å„¿å­;å¦‚æœindex å’Œæ ˆé¡¶èŠ‚ç‚¹ä¸åŒï¼Œæˆ‘ä»¬å°†å½“å‰èŠ‚ç‚¹ä½œä¸ºæ ˆé¡¶èŠ‚ç‚¹çš„å·¦å„¿å­;</li>
<li>æ— è®ºæ˜¯å“ªä¸€ç§æƒ…å†µï¼Œæˆ‘ä»¬æœ€åéƒ½å°†å½“å‰çš„èŠ‚ç‚¹å…¥æ ˆã€‚</li>
</ul>
<p>åå¾—åˆ°çš„äºŒå‰æ ‘å³ä¸ºç­”æ¡ˆã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] preorder, <span class="keyword">int</span>[] inorder)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (preorder == <span class="keyword">null</span> || preorder.length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        }</span><br><span class="line">        TreeNode root = <span class="keyword">new</span> TreeNode(preorder[<span class="number">0</span>]);</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;TreeNode&gt;();</span><br><span class="line">        stack.push(root);</span><br><span class="line">        <span class="keyword">int</span> inorderIndex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; preorder.length; i++) {</span><br><span class="line">            <span class="keyword">int</span> preorderVal = preorder[i];</span><br><span class="line">            TreeNode node = stack.peek();</span><br><span class="line">            <span class="keyword">if</span> (node.val != inorder[inorderIndex]) {</span><br><span class="line">                node.left = <span class="keyword">new</span> TreeNode(preorderVal);</span><br><span class="line">                stack.push(node.left);</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peek().val == inorder[inorderIndex]) {</span><br><span class="line">                    node = stack.pop();</span><br><span class="line">                    inorderIndex++;</span><br><span class="line">                }</span><br><span class="line">                node.right = <span class="keyword">new</span> TreeNode(preorderVal);</span><br><span class="line">                stack.push(node.right);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>å‰‘æŒ‡offer</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>é€’å½’</tag>
        <tag>å…ˆåºéå†</tag>
        <tag>è¿­ä»£</tag>
        <tag>ä¸­åºéå†</tag>
      </tags>
  </entry>
  <entry>
    <title>é€’å½’_leetcode.114.äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨</title>
    <url>/Binary_tree_expanded_into_linked_list/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼ŒåŸåœ°å°†å®ƒå±•å¼€ä¸ºä¸€ä¸ªå•é“¾è¡¨ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šäºŒå‰æ ‘</p>
<pre><code>    1
   / \
  2   5
 / \   \
3   4   6</code></pre><p>å°†å…¶å±•å¼€ä¸º</p>
<a id="more"></a>

<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">1</span><br><span class="line"> \</span><br><span class="line">  2</span><br><span class="line">   \</span><br><span class="line">    3</span><br><span class="line">     \</span><br><span class="line">      4</span><br><span class="line">       \</span><br><span class="line">        5</span><br><span class="line">         \</span><br><span class="line">          6</span><br></pre></td></tr></tbody></table></figure>

<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>æœ¬é¢˜éœ€è¦å°†äºŒå‰æ ‘è½¬åŒ–ä¸ºåˆ—è¡¨ï¼Œå¯¹äºäºŒå‰æ ‘çš„é¢˜ç›®ï¼Œæ— éå°±ä»¥ä¸‹å‡ ç§è§£é¢˜æ€è·¯ï¼š</p>
<ul>
<li>å…ˆåºéå†ï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰</li>
<li>ä¸­åºéå†ï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰ï¼ˆå°¤å…¶äºŒå‰æœç´¢æ ‘ï¼‰</li>
<li>ååºéå†ï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰</li>
<li>å±‚åºéå†ï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰ï¼ˆå°¤å…¶æŒ‰ç…§å±‚æ¥è§£å†³é—®é¢˜çš„æ—¶å€™ï¼‰</li>
<li>åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼ˆç»“æ„å”¯ä¸€æ€§é—®é¢˜ï¼‰</li>
</ul>
<h2 id="è§£æ³•ä¸€ï¼šæš´åŠ›ï¼ˆå¸¸è§„æ€è·¯ï¼‰"><a href="#è§£æ³•ä¸€ï¼šæš´åŠ›ï¼ˆå¸¸è§„æ€è·¯ï¼‰" class="headerlink" title="è§£æ³•ä¸€ï¼šæš´åŠ›ï¼ˆå¸¸è§„æ€è·¯ï¼‰"></a>è§£æ³•ä¸€ï¼šæš´åŠ›ï¼ˆå¸¸è§„æ€è·¯ï¼‰</h2><p>å¯ä»¥å‘ç°å±•å¼€çš„é¡ºåºå…¶å®å°±æ˜¯äºŒå‰æ ‘çš„å…ˆåºéå†ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤æ­¥å®Œæˆè¿™é“é¢˜ã€‚</p>
<ul>
<li>å°†å·¦å­æ ‘æ’å…¥åˆ°å³å­æ ‘çš„åœ°æ–¹</li>
<li>å°†åŸæ¥çš„å³å­æ ‘æ¥åˆ°å·¦å­æ ‘çš„æœ€å³è¾¹èŠ‚ç‚¹</li>
<li>è€ƒè™‘æ–°çš„å³å­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œä¸€ç›´é‡å¤ä¸Šè¾¹çš„è¿‡ç¨‹ï¼Œç›´åˆ°æ–°çš„å³å­æ ‘ä¸º null</li>
<li>å¯ä»¥çœ‹å›¾ç†è§£ä¸‹è¿™ä¸ªè¿‡ç¨‹ã€‚</li>
</ul>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">    1</span><br><span class="line">   / \</span><br><span class="line">  2   5</span><br><span class="line"> / \   \</span><br><span class="line">3   4   6</span><br><span class="line"></span><br><span class="line">//å°† 1 çš„å·¦å­æ ‘æ’å…¥åˆ°å³å­æ ‘çš„åœ°æ–¹</span><br><span class="line">    1</span><br><span class="line">     \</span><br><span class="line">      2         5</span><br><span class="line">     / \         \</span><br><span class="line">    3   4         6        </span><br><span class="line">//å°†åŸæ¥çš„å³å­æ ‘æ¥åˆ°å·¦å­æ ‘çš„æœ€å³è¾¹èŠ‚ç‚¹</span><br><span class="line">    1</span><br><span class="line">     \</span><br><span class="line">      2          </span><br><span class="line">     / \          </span><br><span class="line">    3   4  </span><br><span class="line">         \</span><br><span class="line">          5</span><br><span class="line">           \</span><br><span class="line">            6</span><br><span class="line">            </span><br><span class="line"> //å°† 2 çš„å·¦å­æ ‘æ’å…¥åˆ°å³å­æ ‘çš„åœ°æ–¹</span><br><span class="line">    1</span><br><span class="line">     \</span><br><span class="line">      2          </span><br><span class="line">       \          </span><br><span class="line">        3       4  </span><br><span class="line">                 \</span><br><span class="line">                  5</span><br><span class="line">                   \</span><br><span class="line">                    6   </span><br><span class="line">        </span><br><span class="line"> //å°†åŸæ¥çš„å³å­æ ‘æ¥åˆ°å·¦å­æ ‘çš„æœ€å³è¾¹èŠ‚ç‚¹</span><br><span class="line">    1</span><br><span class="line">     \</span><br><span class="line">      2          </span><br><span class="line">       \          </span><br><span class="line">        3      </span><br><span class="line">         \</span><br><span class="line">          4  </span><br><span class="line">           \</span><br><span class="line">            5</span><br><span class="line">             \</span><br><span class="line">              6         </span><br><span class="line">  </span><br><span class="line">  ......</span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">flatten</span><span class="params">(TreeNode root)</span> </span>{</span><br><span class="line">	<span class="keyword">while</span>(root != <span class="keyword">null</span>) {</span><br><span class="line">		<span class="comment">//å·¦å­æ ‘ä¸ºç©ºç›´æ¥è€ƒè™‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">		<span class="keyword">if</span>(root.left == <span class="keyword">null</span>) {</span><br><span class="line">			root = root.right;</span><br><span class="line">		}<span class="keyword">else</span> {</span><br><span class="line">			<span class="comment">//æ‰¾å·¦å­æ ‘æœ€å³è¾¹çš„èŠ‚ç‚¹</span></span><br><span class="line">			TreeNode pre = root.left;</span><br><span class="line">			<span class="keyword">while</span>(pre.right != <span class="keyword">null</span>) {</span><br><span class="line">				pre = pre.right;</span><br><span class="line">			}</span><br><span class="line">			<span class="comment">//å°†åŸæ¥çš„å³å­æ ‘æ¥åˆ°å·¦å­æ ‘çš„æœ€å³è¾¹çš„èŠ‚ç‚¹</span></span><br><span class="line">			pre.right = root.right;</span><br><span class="line">			<span class="comment">//å°†å·¦å­æ ‘æ’å…¥åˆ°å³å­æ ‘çš„åœ°æ–¹</span></span><br><span class="line">			root.right = root.left;</span><br><span class="line">			root.left = <span class="keyword">null</span>;</span><br><span class="line">			<span class="comment">//è€ƒè™‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">			root = root.right;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="è§£æ³•äºŒï¼š-æ·±åº¦é€’å½’æœç´¢"><a href="#è§£æ³•äºŒï¼š-æ·±åº¦é€’å½’æœç´¢" class="headerlink" title="è§£æ³•äºŒï¼š æ·±åº¦é€’å½’æœç´¢"></a>è§£æ³•äºŒï¼š æ·±åº¦é€’å½’æœç´¢</h2><p>å…¶å®æ˜¯åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<ul>
<li>é¦–å…ˆå°†æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘å˜æˆé“¾è¡¨</li>
<li>å…¶æ¬¡å°†æ ¹èŠ‚ç‚¹çš„å³å­æ ‘å˜æˆé“¾è¡¨</li>
<li>æœ€åå°†å˜æˆé“¾è¡¨çš„å³å­æ ‘æ”¾åœ¨å˜æˆé“¾è¡¨çš„å·¦å­æ ‘çš„æœ€å³è¾¹</li>
</ul>
<p>è¿™å°±æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œé€’å½’çš„ä¸€ä¸ªéå¸¸é‡è¦çš„ç‚¹å°±æ˜¯ï¼šä¸å»ç®¡å‡½æ•°çš„å†…éƒ¨ç»†èŠ‚æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Œæˆ‘ä»¬åªçœ‹å…¶å‡½æ•°ä½œç”¨ä»¥åŠè¾“å…¥ä¸è¾“å‡ºã€‚å¯¹äºå‡½æ•°flattenæ¥è¯´ï¼š</p>
<ul>
<li>å‡½æ•°ä½œç”¨ï¼šå°†ä¸€ä¸ªäºŒå‰æ ‘ï¼ŒåŸåœ°å°†å®ƒå±•å¼€ä¸ºé“¾è¡¨</li>
<li>è¾“å…¥ï¼šæ ‘çš„æ ¹èŠ‚ç‚¹</li>
<li>è¾“å‡ºï¼šæ— </li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">flatten</span><span class="params">(TreeNode root)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span>(root == <span class="keyword">null</span>) {</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//å°†æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘ç¼–ç¨‹è¿è¡¨</span></span><br><span class="line">	flatten(root.left);</span><br><span class="line">	<span class="comment">//å°†æ ¹èŠ‚ç‚¹çš„å³å­æ ‘å˜æˆé“¾è¡¨</span></span><br><span class="line">	flatten(root.right);</span><br><span class="line">	TreeNode temp = root.right;</span><br><span class="line">	<span class="comment">//è®²è¿°çš„å³è¾¹æ¢æˆå·¦è¾¹çš„é“¾è¡¨</span></span><br><span class="line">	root.right = root.left;</span><br><span class="line">	<span class="comment">//è®°å¾—å°†å·¦è¾¹ç½®ç©º</span></span><br><span class="line">	root.left = <span class="keyword">null</span>;</span><br><span class="line">	<span class="comment">//æ‰¾åˆ°æ ‘çš„æœ€å³è¾¹çš„ç‚¹</span></span><br><span class="line">	<span class="keyword">while</span>(root.right != <span class="keyword">null</span>) {</span><br><span class="line">		root = root.right;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//æŠŠå³è¾¹çš„é“¾è¡¨è¿æ¥åˆ°åˆšæ‰æ ‘å¾—æœ€å³è¾¹çš„èŠ‚ç‚¹</span></span><br><span class="line">	root.right = temp;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="è§£æ³•ä¸‰ï¼šå…ˆåºéå†é€’å½’"><a href="#è§£æ³•ä¸‰ï¼šå…ˆåºéå†é€’å½’" class="headerlink" title="è§£æ³•ä¸‰ï¼šå…ˆåºéå†é€’å½’"></a>è§£æ³•ä¸‰ï¼šå…ˆåºéå†é€’å½’</h2><p>å…¶å®å°±æ˜¯å°†äºŒå‰æ ‘é€šè¿‡å³æŒ‡é’ˆï¼Œç»„æˆä¸€ä¸ªé“¾è¡¨ã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5 -&gt; 6</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬çŸ¥é“é¢˜ç›®ç»™å®šçš„éå†é¡ºåºå…¶å®å°±æ˜¯å…ˆåºéå†çš„é¡ºåºï¼Œæ‰€ä»¥æˆ‘ä»¬èƒ½ä¸èƒ½åˆ©ç”¨å…ˆåºéå†çš„ä»£ç ï¼Œæ¯éå†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°±å°†ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„å³æŒ‡é’ˆæ›´æ–°ä¸ºå½“å‰èŠ‚ç‚¹ã€‚</p>
<p>å…ˆåºéå†çš„é¡ºåºæ˜¯ 1 2 3 4 5 6ã€‚</p>
<p>éå†åˆ° 2ï¼ŒæŠŠ 1 çš„å³æŒ‡é’ˆæŒ‡å‘ 2ã€‚1 -&gt; 2 3 4 5 6ã€‚</p>
<p>éå†åˆ° 3ï¼ŒæŠŠ 2 çš„å³æŒ‡é’ˆæŒ‡å‘ 3ã€‚1 -&gt; 2 -&gt; 3 4 5 6ã€‚</p>
<p>â€¦ â€¦</p>
<p>ä¸€ç›´è¿›è¡Œä¸‹å»ä¼¼ä¹å°±è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ä½†ç°å®æ˜¯æ®‹é…·çš„ï¼ŒåŸå› å°±æ˜¯æˆ‘ä»¬æŠŠ 1 çš„å³æŒ‡é’ˆæŒ‡å‘ 2ï¼Œé‚£ä¹ˆ 1 çš„åŸæœ¬çš„å³å­©å­å°±ä¸¢å¤±äº†ï¼Œä¹Ÿå°±æ˜¯ 5 å°±æ‰¾ä¸åˆ°äº†ã€‚</p>
<p>è§£å†³æ–¹æ³•çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥é€†è¿‡æ¥è¿›è¡Œã€‚</p>
<p>æˆ‘ä»¬ä¾æ¬¡éå† 6 5 4 3 2 1ï¼Œç„¶åæ¯éå†ä¸€ä¸ªèŠ‚ç‚¹å°±å°†å½“å‰èŠ‚ç‚¹çš„å³æŒ‡é’ˆæ›´æ–°ä¸ºä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>
<p>éå†åˆ° 5ï¼ŒæŠŠ 5 çš„å³æŒ‡é’ˆæŒ‡å‘ 6ã€‚6 &lt;- 5 4 3 2 1ã€‚</p>
<p>éå†åˆ° 4ï¼ŒæŠŠ 4 çš„å³æŒ‡é’ˆæŒ‡å‘ 5ã€‚6 &lt;- 5 &lt;- 4 3 2 1ã€‚</p>
<p>â€¦ â€¦</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">    1</span><br><span class="line">   / \</span><br><span class="line">  2   5</span><br><span class="line"> / \   \</span><br><span class="line">3   4   6</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ ·å°±ä¸ä¼šæœ‰ä¸¢å¤±å­©å­çš„é—®é¢˜äº†ï¼Œå› ä¸ºæ›´æ–°å½“å‰çš„å³æŒ‡é’ˆçš„æ—¶å€™ï¼Œå½“å‰èŠ‚ç‚¹çš„å³å­©å­å·²ç»è®¿é—®è¿‡äº†ã€‚</p>
<p>è€Œ 6 5 4 3 2 1 çš„éå†é¡ºåºå…¶å®å˜å½¢çš„ååºéå†ï¼Œéå†é¡ºåºæ˜¯å³å­æ ‘-&gt;å·¦å­æ ‘-&gt;æ ¹èŠ‚ç‚¹ã€‚</p>
<p>å…ˆå›æƒ³ä¸€ä¸‹ååºéå†çš„ä»£ç </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PrintBinaryTreeBacRecur</span><span class="params">(TreeNode&lt;T&gt; root)</span></span>{</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    </span><br><span class="line">    PrintBinaryTreeBacRecur(root.right);</span><br><span class="line">    PrintBinaryTreeBacRecur(root.left); </span><br><span class="line">    System.out.print(root.data);</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™é‡Œçš„è¯ï¼Œæˆ‘ä»¬ä¸å†æ˜¯æ‰“å°æ ¹èŠ‚ç‚¹ï¼Œè€Œæ˜¯åˆ©ç”¨ä¸€ä¸ªå…¨å±€å˜é‡ <code>pre</code>ï¼Œæ›´æ–°å½“å‰æ ¹èŠ‚ç‚¹çš„å³æŒ‡é’ˆä¸º <code>pre</code>ï¼Œå·¦æŒ‡é’ˆä¸º <code>null</code>ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> TreeNode pre = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">flatten</span><span class="params">(TreeNode root)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    flatten(root.right);</span><br><span class="line">    flatten(root.left);</span><br><span class="line">    root.right = pre;</span><br><span class="line">    root.left = <span class="keyword">null</span>;</span><br><span class="line">    pre = root;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç›¸åº”çš„å·¦å­©å­ä¹Ÿè¦ç½®ä¸º nullï¼ŒåŒæ ·çš„ä¹Ÿä¸ç”¨æ‹…å¿ƒå·¦å­©å­ä¸¢å¤±ï¼Œå› ä¸ºæ˜¯ååºéå†ï¼Œå·¦å­©å­å·²ç»éå†è¿‡äº†ã€‚å’Œ 112 é¢˜ä¸€æ ·ï¼Œéƒ½å·§å¦™çš„åˆ©ç”¨äº†ååºéå†ã€‚</p>
<p>æ—¢ç„¶ååºéå†è¿™ä¹ˆæœ‰ç”¨ï¼Œåˆ©ç”¨ 112 é¢˜ä»‹ç»çš„ååºéå†çš„è¿­ä»£æ–¹æ³•ï¼ŒæŠŠè¿™é“é¢˜ä¹Ÿæ”¹ä¸€ä¸‹å§ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">flatten</span><span class="params">(TreeNode root)</span> </span>{ </span><br><span class="line">    Stack&lt;TreeNode&gt; toVisit = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    TreeNode cur = root;</span><br><span class="line">    TreeNode pre = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="keyword">null</span> || !toVisit.isEmpty()) {</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="keyword">null</span>) {</span><br><span class="line">            toVisit.push(cur); <span class="comment">// æ·»åŠ æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            cur = cur.right; <span class="comment">// é€’å½’æ·»åŠ å³èŠ‚ç‚¹</span></span><br><span class="line">        }</span><br><span class="line">        cur = toVisit.peek(); <span class="comment">// å·²ç»è®¿é—®åˆ°æœ€å³çš„èŠ‚ç‚¹äº†</span></span><br><span class="line">        <span class="comment">// åœ¨ä¸å­˜åœ¨å·¦èŠ‚ç‚¹æˆ–è€…å³èŠ‚ç‚¹å·²ç»è®¿é—®è¿‡çš„æƒ…å†µä¸‹ï¼Œè®¿é—®æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (cur.left == <span class="keyword">null</span> || cur.left == pre) {</span><br><span class="line">            toVisit.pop(); </span><br><span class="line">            <span class="comment">/**************ä¿®æ”¹çš„åœ°æ–¹***************/</span></span><br><span class="line">            cur.right = pre;</span><br><span class="line">            cur.left = <span class="keyword">null</span>;</span><br><span class="line">            <span class="comment">/*************************************/</span></span><br><span class="line">            pre = cur;</span><br><span class="line">            cur = <span class="keyword">null</span>;</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            cur = cur.left; <span class="comment">// å·¦èŠ‚ç‚¹è¿˜æ²¡æœ‰è®¿é—®è¿‡å°±å…ˆè®¿é—®å·¦èŠ‚ç‚¹</span></span><br><span class="line">        }</span><br><span class="line">    } </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="è§£æ³•å››ï¼š-å…ˆåºéå†è¿­ä»£"><a href="#è§£æ³•å››ï¼š-å…ˆåºéå†è¿­ä»£" class="headerlink" title="è§£æ³•å››ï¼š å…ˆåºéå†è¿­ä»£"></a>è§£æ³•å››ï¼š å…ˆåºéå†è¿­ä»£</h2><p>è§£æ³•äºŒä¸­æåˆ°å¦‚æœç”¨å…ˆåºéå†çš„è¯ï¼Œä¼šä¸¢å¤±æ‰å³å­©å­ï¼Œé™¤äº†ç”¨ååºéå†ï¼Œè¿˜æœ‰æ²¡æœ‰å…¶ä»–çš„æ–¹æ³•é¿å…è¿™ä¸ªé—®é¢˜ã€‚åœ¨ Discuss åˆå‘ç°äº†ä¸€ç§è§£æ³•ã€‚</p>
<p>ä¸ºäº†æ›´å¥½çš„æ§åˆ¶ç®—æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨å…ˆåºéå†è¿­ä»£çš„å½¢å¼ï¼Œæ­£å¸¸çš„å…ˆåºéå†ä»£ç </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">preOrderStack</span><span class="params">(TreeNode root)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) { </span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    Stack&lt;TreeNode&gt; s = <span class="keyword">new</span> Stack&lt;TreeNode&gt;();</span><br><span class="line">    <span class="keyword">while</span> (root != <span class="keyword">null</span> || !s.isEmpty()) {</span><br><span class="line">        <span class="keyword">while</span> (root != <span class="keyword">null</span>) {</span><br><span class="line">            System.out.println(root.val);</span><br><span class="line">            s.push(root);</span><br><span class="line">            root = root.left;</span><br><span class="line">        }</span><br><span class="line">        root = s.pop();</span><br><span class="line">        root = root.right;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿˜æœ‰ä¸€ç§ç‰¹æ®Šçš„å…ˆåºéå†ï¼Œæå‰å°†å³å­©å­ä¿å­˜åˆ°æ ˆä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨è¿™ç§éå†æ–¹å¼å°±å¯ä»¥é˜²æ­¢å³å­©å­çš„ä¸¢å¤±äº†ã€‚ç”±äºæ ˆæ˜¯å…ˆè¿›åå‡ºï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆå°†å³èŠ‚ç‚¹å…¥æ ˆã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">preOrderStack</span><span class="params">(TreeNode root)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>){</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    Stack&lt;TreeNode&gt; s = <span class="keyword">new</span> Stack&lt;TreeNode&gt;();</span><br><span class="line">    s.push(root);</span><br><span class="line">    <span class="keyword">while</span> (!s.isEmpty()) {</span><br><span class="line">        TreeNode temp = s.pop();</span><br><span class="line">        System.out.println(temp.val);</span><br><span class="line">        <span class="keyword">if</span> (temp.right != <span class="keyword">null</span>){</span><br><span class="line">            s.push(temp.right);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (temp.left != <span class="keyword">null</span>){</span><br><span class="line">            s.push(temp.left);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¹‹å‰æˆ‘ä»¬çš„æ€è·¯å¦‚ä¸‹ï¼š</p>
<p>é¢˜ç›®å…¶å®å°±æ˜¯å°†äºŒå‰æ ‘é€šè¿‡å³æŒ‡é’ˆï¼Œç»„æˆä¸€ä¸ªé“¾è¡¨ã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5 -&gt; 6</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬çŸ¥é“é¢˜ç›®ç»™å®šçš„éå†é¡ºåºå…¶å®å°±æ˜¯å…ˆåºéå†çš„é¡ºåºï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å…ˆåºéå†çš„ä»£ç ï¼Œæ¯éå†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°±å°†ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„å³æŒ‡é’ˆæ›´æ–°ä¸ºå½“å‰èŠ‚ç‚¹ã€‚</p>
<p>å…ˆåºéå†çš„é¡ºåºæ˜¯ 1 2 3 4 5 6ã€‚</p>
<p>éå†åˆ° 2ï¼ŒæŠŠ 1 çš„å³æŒ‡é’ˆæŒ‡å‘ 2ã€‚1 -&gt; 2 3 4 5 6ã€‚</p>
<p>éå†åˆ° 3ï¼ŒæŠŠ 2 çš„å³æŒ‡é’ˆæŒ‡å‘ 3ã€‚1 -&gt; 2 -&gt; 3 4 5 6ã€‚</p>
<p>â€¦ â€¦</p>
<p>å› ä¸ºæˆ‘ä»¬ç”¨æ ˆä¿å­˜äº†å³å­©å­ï¼Œæ‰€ä»¥ä¸éœ€è¦æ‹…å¿ƒå³å­©å­ä¸¢å¤±äº†ã€‚ç”¨ä¸€ä¸ª pre å˜é‡ä¿å­˜ä¸Šæ¬¡éå†çš„èŠ‚ç‚¹ã€‚ä¿®æ”¹çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">flatten</span><span class="params">(TreeNode root)</span> </span>{ </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>){</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    Stack&lt;TreeNode&gt; s = <span class="keyword">new</span> Stack&lt;TreeNode&gt;();</span><br><span class="line">    s.push(root);</span><br><span class="line">    TreeNode pre = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span> (!s.isEmpty()) {</span><br><span class="line">        TreeNode temp = s.pop(); </span><br><span class="line">        <span class="comment">/***********ä¿®æ”¹çš„åœ°æ–¹*************/</span></span><br><span class="line">        <span class="keyword">if</span>(pre!=<span class="keyword">null</span>){</span><br><span class="line">            pre.right = temp;</span><br><span class="line">            pre.left = <span class="keyword">null</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">/********************************/</span></span><br><span class="line">        <span class="keyword">if</span> (temp.right != <span class="keyword">null</span>){</span><br><span class="line">            s.push(temp.right);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (temp.left != <span class="keyword">null</span>){</span><br><span class="line">            s.push(temp.left);</span><br><span class="line">        } </span><br><span class="line">        <span class="comment">/***********ä¿®æ”¹çš„åœ°æ–¹*************/</span></span><br><span class="line">        pre = temp;</span><br><span class="line">        <span class="comment">/********************************/</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>é¢˜è§£æ¥è‡ª<a href="https://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list/solution/xiang-xi-tong-su-de-si-lu-fen-xi-duo-jie-fa-by--26/" target="_blank" rel="noopener">@windiang</a></p>
<h3 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</h3><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>é€’å½’</tag>
        <tag>å…ˆåºéå†</tag>
        <tag>è¿­ä»£</tag>
      </tags>
  </entry>
  <entry>
    <title>é€’å½’_leetcode.109.æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘</title>
    <url>/Transformation_of_binary_search_tree_from_ordered_linked_list/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼Œå…¶ä¸­çš„å…ƒç´ æŒ‰å‡åºæ’åºï¼Œå°†å…¶è½¬æ¢ä¸ºé«˜åº¦å¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ã€‚</p>
<p>æœ¬é¢˜ä¸­ï¼Œä¸€ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æ ‘æ˜¯æŒ‡ä¸€ä¸ªäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹ çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ã€‚</p>
<a id="more"></a>

<p>ç¤ºä¾‹:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">ç»™å®šçš„æœ‰åºé“¾è¡¨ï¼š [-10, -3, 0, 5, 9],</span><br><span class="line"></span><br><span class="line">ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ï¼š[0, -3, 9, -10, null, 5], å®ƒå¯ä»¥è¡¨ç¤ºä¸‹é¢è¿™ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼š</span><br><span class="line"></span><br><span class="line">      0</span><br><span class="line">     / \</span><br><span class="line">   -3   9</span><br><span class="line">   /   /</span><br><span class="line"> -10  5</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸åˆ†æ"><a href="#ğŸŒ¸åˆ†æ" class="headerlink" title="ğŸŒ¸åˆ†æ"></a>ğŸŒ¸åˆ†æ</h2><p>å°†ç»™å®šçš„æœ‰åºé“¾è¡¨è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘çš„ç¬¬ä¸€æ­¥æ˜¯ç¡®å®šæ ¹èŠ‚ç‚¹ã€‚ç”±äºæˆ‘ä»¬éœ€è¦æ„é€ <br>å‡ºå¹³è¡¡çš„äºŒå‰æ ‘ï¼Œå› æ­¤æ¯”è¾ƒç›´è§‚çš„æƒ³æ³•æ˜¯è®©æ ¹èŠ‚ç‚¹å·¦å­æ ‘ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ä¸å³å­æ ‘<br>ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°å°½å¯èƒ½æ¥è¿‘ã€‚è¿™æ ·ä¸€æ¥ï¼Œå·¦å³å­æ ‘çš„é«˜åº¦ä¹Ÿä¼šéå¸¸æ¥è¿‘,å¯ä»¥è¾¾åˆ°<br>åº¦å·®ç»å¯¹å€¼ä¸è¶…è¿‡1çš„é¢˜ç›®è¦æ±‚ã€‚</p>
<p>å¦‚ä½•æ‰¾å‡ºè¿™æ ·çš„ä¸€ä¸ªæ ¹èŠ‚ç‚¹å‘¢?æˆ‘ä»¬å¯ä»¥æ‰¾å‡ºé“¾è¡¨å…ƒç´ çš„ä¸­ä½æ•°ä½œä¸ºæ ¹èŠ‚ç‚¹çš„<br>å€¼ã€‚</p>
<blockquote>
<p>è¿™å¯¹äºä¸­ä½æ•°çš„å®šä¹‰ä¸º:å¦‚æœé“¾è¡¨ä¸­çš„å…ƒç´ ä¸ªæ•°ä¸ºå¥‡æ•°,é‚£ä¹ˆå”¯ä¸€çš„ä¸­é—´<br>å€¼ä¸ºä¸­ä½æ•°;å¦‚æœå…ƒç´ ä¸ªæ•°ä¸ºå¶æ•°,é‚£ä¹ˆå”¯äºŒçš„ä¸­é—´å€¼éƒ½å¯ä»¥ä½œä¸ºä¸­ä½æ•°,<br>è€Œä¸æ˜¯å¸¸è§„å®šä¹‰ä¸­äºŒè€…çš„å¹³å‡å€¼ã€‚</p>
</blockquote>
<p>æ ¹æ®ä¸­ä½æ•°çš„æ€§è´¨ï¼Œé“¾è¡¨ä¸­å°äºä¸­ä½æ•°çš„å…ƒç´ ä¸ªæ•°ä¸å¤§äºä¸­ä½æ•°çš„å…ƒç´ ä¸ªæ•°è¦ä¹ˆ<br>ç›¸ç­‰,è¦ä¹ˆç›¸å·®1.æ­¤æ—¶ï¼Œå°äºä¸­ä½æ•°çš„å…ƒç´ ç»„æˆäº†å·¦å­æ ‘,å¤§äºä¸­ä½æ•°çš„å…ƒç´ ç»„æˆäº†å³å­æ ‘ï¼Œå®ƒä»¬åˆ†åˆ«å¯¹åº”ç€æœ‰åºé“¾è¡¨ä¸­è¿ç»­çš„ä¸€-æ®µã€‚åœ¨è¿™ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨åˆ†æ²»çš„æ€æƒ³ï¼Œç»§ç»­é€’å½’åœ°å¯¹å·¦å³å­æ ‘è¿›è¡Œæ„é€ ï¼Œæ‰¾å‡ºå¯¹åº”çš„ä¸­ä½æ•°ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p>å¯ä»¥è¯æ˜ï¼Œè¿™æ ·çš„æ„é€ æ–¹æ³•å¾—åˆ°çš„äºŒå‰æœç´¢æ ‘æ˜¯å¹³è¡¡çš„,è¯¦è§æ–‡æœ«çš„ã€Œæ­£ç¡®æ€§è¯<br>æ˜ã€éƒ¨åˆ†ã€‚</p>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šåˆ†æ²»"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šåˆ†æ²»" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šåˆ†æ²»"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šåˆ†æ²»</h2><p>å…·ä½“åœ°ï¼Œè®¾å½“å‰é“¾è¡¨çš„å·¦ç«¯ç‚¹ä¸ºleft,å³ç«¯ç‚¹right,åŒ…å«å…³ç³»ä¸ºã€Œå·¦é—­å³å¼€ã€ï¼Œ<br>å³leftåŒ…å«åœ¨é“¾è¡¨ä¸­è€Œrightä¸åŒ…å«åœ¨é“¾è¡¨ä¸­ã€‚æˆ‘ä»¬å¸Œæœ›å¿«é€Ÿåœ°æ‰¾å‡ºé“¾è¡¨çš„ä¸­ä½<br>æ•°èŠ‚ç‚¹mid.</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆè¦è®¾å®š[é—­å³åˆ‘çš„å…³ç³»?äºé¢˜ç›®ä¸­ç»™å®šçš„é“¾è¡¨ä¸ºå‘é“¾è¡¨ï¼Œè®¿é—®åç»§å…ƒç´ ååˆ†å®¹æ˜“,ä½†æ— æ³•ç›´æ¥è®¿é—®å‰é©±å…ƒç´ ã€‚å› æ­¤åœ¨æ‰¾å‡ºé“¾è¡¨çš„ä¸­ä½æ•°èŠ‚ç‚¹midä¹‹åï¼Œå¦‚æœè®¾å®šã€Œå·¦é—­å³å¼€ã€çš„å…³ç³»ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ç”¨(left, mid)ä»¥å¸(mid. next, right) æ¥è¡¨åœ¨å­æ ‘å¯¹åº”çš„åˆ—è¡¨äº†ã€‚åˆåˆå§‹çš„åˆ—è¡¨ä¹Ÿå¯ä»¥ç”¨(head, null)æ–¹ä¾¿åœ°è¿›è¡Œè¡¨ç¤ºï¼Œä¸­nullè¡¨ç¤ºç©ºèŠ‚ç‚¹ã€‚</p>
</blockquote>
<p>æ‰¾å‡ºé“¾è¡¨ä¸­ä½æ•°èŠ‚ç‚¹çš„æ–¹æ³•å¤šç§å¤šæ ·ï¼Œä¸­è¾ƒä¸ºç®€å•çš„ä¸€ç§æ˜¯ã€Œå¿«æ…¢æŒ‡é’ˆæ³•ã€ã€‚<br>åˆå§‹æ—¶ï¼Œå¿«æŒ‡é’ˆfastå’Œæ…¢æŒ‡é’ˆslowå‡æŒ‡å‘é“¾è¡¨çš„å·¦ç«¯ç‚¹leftã€‚æˆ‘ä»¬å°†å¿«æŒ‡é’ˆ<br>fastå‘å³ç§»åŠ¨ä¸¤æ¬¡çš„åŒæ—¶ï¼Œå°†æ…¢æŒ‡é’ˆslowå‘å³ç§»åŠ¨ä¸€æ¬¡ï¼Œç›´åˆ°å¿«æŒ‡é’ˆåˆ°è¾¾è¾¹ç•Œ.<br>(å³å¿«æŒ‡é’ˆåˆ°è¾¾å³ç«¯ç‚¹æˆ–å¿«æŒ‡é’ˆçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å³ç«¯ç‚¹)ã€‚æ­¤æ—¶ï¼Œæ…¢æŒ‡é’ˆå¯¹åº”çš„<br>å…ƒæ„«å°±æ˜¯ä¸­ä½æ•°ã€‚</p>
<p>åœ¨æ‰¾å‡ºäº†ä¸­ä½æ•°èŠ‚ç‚¹ä¹‹å,æˆ‘ä»¬å°†å…¶ä½œä¸ºå½“å‰æ ¹èŠ‚ç‚¹çš„å…ƒç´ ï¼Œå¹¶é€’å½’åœ°æ„é€ å…¶å·¦<br>ä¾§éƒ¨åˆ†çš„é“¾è¡¨å¯¹åº”çš„å·¦å­æ ‘ï¼Œä»¥åŠå³ä¾§éƒ¨åˆ†çš„é“¾è¡¨å¯¹åº”çš„å³å­æ ‘ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">sortedListToBST</span><span class="params">(ListNode head)</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> buildTree(head, <span class="keyword">null</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(ListNode left, ListNode right)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (left == right) {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    }</span><br><span class="line">    ListNode mid = getMedian(left, right);</span><br><span class="line">    TreeNode root = <span class="keyword">new</span> TreeNode(mid.val);</span><br><span class="line">    root.left = buildTree(left, mid);</span><br><span class="line">    root.right = buildTree(mid.next, right);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">getMedian</span><span class="params">(ListNode left, ListNode right)</span> </span>{</span><br><span class="line">    ListNode fast = left;</span><br><span class="line">    ListNode slow = left;</span><br><span class="line">    <span class="keyword">while</span> (fast != right &amp;&amp; fast.next != right) {</span><br><span class="line">        fast = fast.next;</span><br><span class="line">        fast = fast.next;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> slow;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># python    </span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sortedListToBST</span><span class="params">(self, head: ListNode)</span> -&gt; TreeNode:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">getMedian</span><span class="params">(left: ListNode, right: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">            fast = slow = left</span><br><span class="line">            <span class="keyword">while</span> fast != right <span class="keyword">and</span> fast.next != right:</span><br><span class="line">                fast = fast.next.next</span><br><span class="line">                slow = slow.next</span><br><span class="line">            <span class="keyword">return</span> slow</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">buildTree</span><span class="params">(left: ListNode, right: ListNode)</span> -&gt; TreeNode:</span></span><br><span class="line">            <span class="keyword">if</span> left == right:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">            mid = getMedian(left, right)</span><br><span class="line">            root = TreeNode(mid.val)</span><br><span class="line">            root.left = buildTree(left, mid)</span><br><span class="line">            root.right = buildTree(mid.next, right)</span><br><span class="line">            <span class="keyword">return</span> root</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> buildTree(head, <span class="literal">None</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>å†™æ³•äºŒ</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">sortedListToBST</span><span class="params">(ListNode head)</span> </span>{</span><br><span class="line">    <span class="comment">//è¾¹ç•Œæ¡ä»¶çš„åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (head.next == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TreeNode(head.val);</span><br><span class="line">    <span class="comment">//è¿™é‡Œé€šè¿‡å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹slowï¼Œpreå°±æ˜¯ä¸­é—´</span></span><br><span class="line">    <span class="comment">//ç»“ç‚¹slowçš„å‰ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">    ListNode slow = head, fast = head, pre = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span> (fast != <span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>) {</span><br><span class="line">        pre = slow;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//é“¾è¡¨æ–­å¼€ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯nodeçš„å·¦å­èŠ‚ç‚¹ï¼Œä¸€éƒ¨åˆ†æ˜¯node</span></span><br><span class="line">    <span class="comment">//çš„å³å­èŠ‚ç‚¹</span></span><br><span class="line">    pre.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">//nodeå°±æ˜¯å½“å‰èŠ‚ç‚¹</span></span><br><span class="line">    TreeNode node = <span class="keyword">new</span> TreeNode(slow.val);</span><br><span class="line">    <span class="comment">//ä»headèŠ‚ç‚¹åˆ°preèŠ‚ç‚¹æ˜¯nodeå·¦å­æ ‘çš„èŠ‚ç‚¹</span></span><br><span class="line">    node.left = sortedListToBST(head);</span><br><span class="line">    <span class="comment">//ä»slow.nextåˆ°é“¾è¡¨çš„æœ«å°¾æ˜¯nodeçš„å³å­æ ‘çš„ç»“ç‚¹</span></span><br><span class="line">    node.right = sortedListToBST(slow.next);</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">sortedListToBST</span><span class="params">(ListNode head)</span> </span>{</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">//æŠŠé“¾è¡¨èŠ‚ç‚¹å€¼å…¨éƒ¨æå–åˆ°listä¸­</span></span><br><span class="line">    <span class="keyword">while</span> (head != <span class="keyword">null</span>) {</span><br><span class="line">        list.add(head.val);</span><br><span class="line">        head = head.next;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> sortedListToBSTHelper(list, <span class="number">0</span>, list.size() - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">TreeNode <span class="title">sortedListToBSTHelper</span><span class="params">(List&lt;Integer&gt; list, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (left &gt; right)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">//æŠŠlistä¸­æ•°æ®åˆ†ä¸ºä¸¤éƒ¨åˆ†</span></span><br><span class="line">    <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">    TreeNode root = <span class="keyword">new</span> TreeNode(list.get(mid));</span><br><span class="line">    root.left = sortedListToBSTHelper(list, left, mid - <span class="number">1</span>);</span><br><span class="line">    root.right = sortedListToBSTHelper(list, mid + <span class="number">1</span>, right);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸è§£æ³•äºŒï¼š-åˆ†æ²»-ä¸­åºéå†ä¼˜åŒ–"><a href="#ğŸŒ¸è§£æ³•äºŒï¼š-åˆ†æ²»-ä¸­åºéå†ä¼˜åŒ–" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼š åˆ†æ²»+ä¸­åºéå†ä¼˜åŒ–"></a>ğŸŒ¸è§£æ³•äºŒï¼š åˆ†æ²»+ä¸­åºéå†ä¼˜åŒ–</h2><p>æ–¹æ³•ä¸€çš„æ—¶é—´å¤æ‚åº¦çš„ç“¶é¢ˆåœ¨äºå¯»æ‰¾ä¸­ä½æ•°èŠ‚ç‚¹ã€‚ç”±äº<strong>æ„é€ å‡ºçš„äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†ç»“æœå°±æ˜¯é“¾è¡¨æœ¬èº«</strong>,å› æ­¤æˆ‘ä»¬å¯ä»¥å°†åˆ†æ²»å’Œä¸­åºéå†ç»“åˆèµ·æ¥ï¼Œå‡å°‘æ—¶é—´å¤æ‚åº¦ã€‚</p>
<p>å…·ä½“åœ°ï¼Œè®¾å½“å‰é“¾è¡¨çš„å·¦ç«¯ç‚¹ç¼–å·ä¸ºleft, å³ç«¯ç‚¹ç¼–å·ä¸ºright, åŒ…å«å…³ç³»ä¸ºã€ŒåŒé—­]ï¼Œå³leftå’Œrightå‡åŒ…å«åœ¨é“¾è¡¨ä¸­ã€‚é“¾è¡¨èŠ‚ç‚¹çš„ç¼–å·ä¸º[0,n)ã€‚ä¸­åºéå†çš„é¡ºåºæ˜¯[å·¦å­æ ‘-æ ¹èŠ‚ç‚¹-å³å­æ ‘ã€ï¼Œé‚£ä¹ˆåœ¨åˆ†æ²»çš„è¿‡ç¨‹ä¸­, æˆ‘ä»¬ä¸ç”¨æ€¥ç€æ‰¾å‡ºé“¾è¡¨çš„ä¸­ä½æ•°èŠ‚ç‚¹ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€ä¸ªå ä½èŠ‚ç‚¹,ç­‰åˆ°ä¸­åºéå†åˆ°è¯¥èŠ‚ç‚¹æ—¶,å†å¡«å……å®ƒçš„å€¼ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¡ç®—ç¼–å·èŒƒå›´æ¥è¿›è¡Œä¸­åºéå†:</p>
<ul>
<li><p>ä¸­ä½æ•°èŠ‚ç‚¹å¯¹åº”çš„ç¼–å·ä¸º<code>mid= (left+ right + 1)/2;</code></p>
<blockquote>
<p>æ ¹æ®æ–¹æ³•ä¸€ ä¸­å¯¹äºä¸­ä½æ•°çš„å®šä¹‰,ç¼–å·ä¸º(left + right)/2 çš„èŠ‚ç‚¹åŒæ ·ä¹Ÿå¯ä»¥æ˜¯ä¸­ä½æ•°èŠ‚ç‚¹ã€‚</p>
</blockquote>
</li>
<li><p>å·¦å³å­æ ‘å¯¹åº”çš„ç¼–å·èŒƒå›´åˆ†åˆ«ä¸º<code>[left, mid - 1]å’Œ[mid+ 1, right]ã€‚</code></p>
</li>
</ul>
<p>å¦‚æœleft &gt; right, é‚£ä¹ˆéå†åˆ°çš„ä½ç½®å¯¹åº”ç€ä¸€ä¸ªç©ºèŠ‚ç‚¹ï¼Œ å¦åˆ™å¯¹åº”ç€äºŒå‰ æœç´¢æ ‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚<br>è¿™æ ·ä¸€æ¥æˆ‘ä»¬å…¶å®å·²ç»çŸ¥é“äº†è¿™æ£µäºŒå‰æœç´¢æ ‘çš„ç»“æ„,ç»„é¢˜ç›®ç»™å®šäº†å®ƒçš„ä¸­åºéå†ç»“æœ,é‚£ä¹ˆæˆ‘ä»¬åªè¦å¯¹å…¶è¿›è¡Œä¸­åºéå†ï¼Œå°±å¯ä»¥è¿˜åŸå‡ºæ•´æ£µäºŒå‰ æœç´¢æ ‘äº†ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">   ListNode globalNode;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> TreeNode <span class="title">sortedListToBST2</span><span class="params">(ListNode head)</span> </span>{</span><br><span class="line">   	globalNode = head;</span><br><span class="line">   	<span class="keyword">int</span> length = getLength(head);</span><br><span class="line">   	<span class="keyword">return</span> buildTree(<span class="number">0</span>, length - <span class="number">1</span>);</span><br><span class="line">   }</span><br><span class="line"><span class="function"><span class="keyword">private</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="keyword">if</span>(left &gt; right) {</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span> mid = (right + left + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">	TreeNode root = <span class="keyword">new</span> TreeNode();</span><br><span class="line">	root.left = buildTree(left, mid - <span class="number">1</span>);</span><br><span class="line">	root.val = globalNode.val;</span><br><span class="line">	globalNode = globalNode.next;</span><br><span class="line">	root.right = buildTree(mid + <span class="number">1</span>, right);</span><br><span class="line">	<span class="keyword">return</span> root;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getLength</span><span class="params">(ListNode head)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(head != <span class="keyword">null</span>) {</span><br><span class="line">		++ret;</span><br><span class="line">		head = head.next;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> ret;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sortedListToBST</span><span class="params">(self, head: ListNode)</span> -&gt; TreeNode:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getLength</span><span class="params">(head: ListNode)</span> -&gt; int:</span></span><br><span class="line">        ret = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> head:</span><br><span class="line">            ret += <span class="number">1</span></span><br><span class="line">            head = head.next</span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">buildTree</span><span class="params">(left: int, right: int)</span> -&gt; TreeNode:</span></span><br><span class="line">        <span class="keyword">if</span> left &gt; right:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        mid = (left + right + <span class="number">1</span>) // <span class="number">2</span></span><br><span class="line">        root = TreeNode()</span><br><span class="line">        root.left = buildTree(left, mid - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">nonlocal</span> head</span><br><span class="line">        root.val = head.val</span><br><span class="line">        head = head.next</span><br><span class="line">        root.right = buildTree(mid + <span class="number">1</span>, right)</span><br><span class="line">        <span class="keyword">return</span> root</span><br><span class="line">    </span><br><span class="line">    length = getLength(head)</span><br><span class="line">    <span class="keyword">return</span> buildTree(<span class="number">0</span>, length - <span class="number">1</span>)</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸æ­£ç¡®æ€§è¯æ˜"><a href="#ğŸŒ¸æ­£ç¡®æ€§è¯æ˜" class="headerlink" title="ğŸŒ¸æ­£ç¡®æ€§è¯æ˜"></a>ğŸŒ¸æ­£ç¡®æ€§è¯æ˜</h2><p>æˆ‘ä»¬éœ€è¦è¯æ˜çš„æ˜¯:å¯¹äºä»»æ„çš„æœ‰åºé“¾è¡¨ï¼Œç”¨ã€Œå‰è¨€ã€éƒ¨åˆ†çš„æ„é€ æ–¹æ³•å¾—åˆ°çš„äºŒå‰æœç´¢æ ‘ä¸€å®šæ˜¯å¹³è¡¡çš„ã€‚æ˜¾ç„¶,å¦‚æœäºŒå‰æœç´¢æ ‘çš„å·¦å³å­æ ‘éƒ½æ˜¯å¹³è¡¡çš„ï¼Œå¹¶ä¸”å®ƒä»¬çš„é«˜åº¦å·®ä¸è¶…è¿‡1,é‚£ä¹ˆè¯¥äºŒå‰æœç´¢æ ‘å°±æ˜¯å¹³è¡¡çš„ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨æ•°å­¦å½’çº³æ³•,è®¾é“¾è¡¨çš„é•¿åº¦ä¸ºn,å¯¹åº”çš„äºŒå‰æœç´¢æ ‘çš„é«˜åº¦ä¸ºH(n):</p>
<blockquote>
<p>è¿™é‡Œè§„å®šåªåŒ…å«æ ¹èŠ‚ç‚¹çš„äºŒå‰æœç´¢æ ‘çš„é«˜åº¦ä¸º 1.</p>
</blockquote>
<ul>
<li>å½“n= 1,2æ—¶ï¼Œå¯¹åº”çš„äºŒå‰æœç´¢æ ‘éƒ½æ˜¯å¹³è¡¡çš„ï¼Œå¹¶ä¸”<code>H(1)= 1, H(2)= 2;</code></li>
<li>å½“n=3æ—¶,å¯¹åº”çš„äºŒå‰æœç´¢æ ‘åŒ…å«ä¸€ ä¸ªæ ¹èŠ‚ç‚¹å’Œå·¦å³å­æ ‘å„ä¸€ ä¸ªèŠ‚ç‚¹ï¼Œå®ƒæ˜¯å¹³è¡¡çš„,å¹¶ä¸”H(3)= 2;</li>
<li>å‡è®¾å½“n&lt; $$n_0$$æ—¶ï¼Œå¯¹åº”çš„äºŒå‰æœç´¢æ ‘æ˜¯å¹³è¡¡çš„ï¼Œå¹¶ä¸”å¯¹äºä»»æ„çš„1â‰¤n&lt;$$n_0$$-1,éƒ½æœ‰H(n+ 1) - H(n)â‰¤1,é‚£ä¹ˆå½“n= $$n_0$$æ—¶:<ul>
<li>å¦‚æœnä¸ºå¥‡æ•°,è®¾n= 2k+3,é‚£ä¹ˆäºŒå‰æœç´¢æ ‘çš„å·¦å³å­æ ‘çš„å¤§å°å‡ä¸ºk+ 1,é«˜åº¦ç›¸ç­‰ï¼Œå› æ­¤äºŒå‰æœç´¢æ ‘å¹³è¡¡çš„ï¼Œçµ„æœ‰<code>H(n)= H(k+ 1)+1.</code>è€Œn-1=2k+ 2,å¯¹åº”çš„äºŒå‰æœç´¢æ ‘çš„å·¦å³å­æ ‘çš„å¤§å°ä¸ºkå’Œk+1,å³<code>H(n-1)= H(k+ 1)+1</code>,å› æ­¤<code>H(n)= H(n- 1);</code></li>
<li>å¦‚æœnä¸ºå¶æ•°ï¼Œè®¾<code>n=2k+ 2</code>,é‚£ä¹ˆäºŒå‰æœ ç´¢æ ‘çš„å·¦å³å­æ ‘çš„å¤§å°ä¸ºkå’Œk+ 1,æ ¹æ®å‡è®¾,åº¦å·®<code>H(k+ 1)- H(k)â‰¤1</code>,å› æ­¤äºŒå‰æœç´¢æ ‘æ˜¯å¹³è¡¡çš„ï¼Œå¹¶ä¸”æœ‰<code>H(n)= H(k+1)+ 1ã€‚è€Œn-1= 2k+ 1</code></li>
<li>å¯¹åº”çš„äºŒå‰æœç´¢æ ‘çš„å·¦å³å­æ ‘çš„å¤§å°å‡ä¸ºk,å³H(n- 1)= H(k),å› æ­¤<code>H(n)- H(n- 1)=H(k + 1)- H(k)â‰¤1ã€‚</code></li>
</ul>
</li>
</ul>
<p>è¿™æ ·æˆ‘ä»¬å°±è¯æ˜äº†ä»»æ„é•¿åº¦çš„é“¾è¡¨å¯¹åº”çš„äºŒå‰æœç´¢æ ‘æ˜¯å¹³è¡¡çš„ã€‚</p>
<p>é¢˜è§£å‡ºè‡ª<a href="https://leetcode-cn.com/problems/convert-sorted-list-to-binary-search-tree/solution/you-xu-lian-biao-zhuan-huan-er-cha-sou-suo-shu-1-3/" target="_blank" rel="noopener">@LeetCode-Solution</a></p>
<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>åˆ†æ²»</tag>
        <tag>äºŒåˆ†æœç´¢</tag>
        <tag>ä¸­åºéå†</tag>
      </tags>
  </entry>
  <entry>
    <title>é€’å½’_leetcode.95.ä¸åŒçš„äºŒå‰æœç´¢æ ‘2</title>
    <url>/Different_binary_search_trees_2/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œæ±‚ä»¥ 1 â€¦ n ä¸ºèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘æœ‰å¤šå°‘ç§ï¼Ÿ</p>
<a id="more"></a>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š3</span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[</span><br><span class="line">[1,null,3,2],</span><br><span class="line">[3,2,null,1],</span><br><span class="line">[3,1,null,null,2],</span><br><span class="line">[2,1,3],</span><br><span class="line">[1,null,2,null,3]</span><br><span class="line">]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ä»¥ä¸Šçš„è¾“å‡ºå¯¹åº”ä»¥ä¸‹ 5 ç§ä¸åŒç»“æ„çš„äºŒå‰æœç´¢æ ‘ï¼š</span><br><span class="line"></span><br><span class="line"> 1         3     3      2      1</span><br><span class="line">  \       /     /      / \      \</span><br><span class="line">   3     2     1      1   3      2</span><br><span class="line">  /     /       \                 \</span><br><span class="line"> 2     1         2                 3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æç¤ºï¼š</span><br><span class="line"></span><br><span class="line">0 &lt;= n &lt;= 8</span><br></pre></td></tr></tbody></table></figure>



<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><blockquote>
<p>ç»™å®šä¸€ä¸ªæœ‰åºåºåˆ—1..n,ä¸ºäº†æ„å»ºå‡ºä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸€ä¸‹æŸ¥æ‰¾äºŒå‰æ ‘çš„æ€§è´¨ã€‚å·¦å­æ ‘çš„æ‰€æœ‰å€¼å°äºæ ¹èŠ‚ç‚¹ï¼Œå³å­æ ‘çš„æ‰€æœ‰å€¼å¤§äºæ ¹èŠ‚ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥éå†æ¯ä¸ªæ•°å­—i,å°†è¯¥æ•°å­—ä½œä¸ºæ ‘æ ¹ï¼Œæ‰€ä»¥å¦‚æœæ±‚1..nçš„æ‰€æœ‰å¯èƒ½ã€‚</p>
<ul>
<li><p>æˆ‘ä»¬åªéœ€è¦æŠŠ1ä½œä¸ºæ ¹èŠ‚ç‚¹, [] ç©ºä½œä¸ºå·¦å­æ ‘, [2 .. n]çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå³<br>å­æ ‘ã€‚</p>
</li>
<li><p>2ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œ[1] ä½œä¼ªå·¦å­æ ‘, [3..n]çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå³å­æ ‘ã€‚</p>
</li>
<li><p>3ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œ[1ï¼Œ 2 ]çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå·¦å­æ ‘ï¼Œ[4 â€¦ n]çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå³å­æ ‘ï¼Œç„¶åå·¦å­æ ‘å’Œå³å­æ ‘ä¸¤ä¸¤ç»„åˆã€‚</p>
</li>
<li><p>4ä½œä¸ºæ ¹èŠ‚ç‚¹[1 ï¼Œ2ï¼Œ3]çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºä½å­æ ‘ï¼Œ[5 .. n]çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå³å­æ ‘,ç„¶åä½å­æ ‘å’Œå³å­æ ‘ä¸¤ä¸¤ç»„åˆã€‚</p>
</li>
<li><p>â€¦â€¦.</p>
</li>
<li><p>nä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œ[ 1â€¦. n]çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå·¦å­æ ‘ï¼Œ[]ä½œä¸ºå³å­æ ‘ã€‚</p>
</li>
</ul>
<p>ç”±æ­¤å¯è§ï¼ŒåŸé—®é¢˜å¯ä»¥åˆ†è§£æˆè§„æ¨¡è¾ƒå°çš„ä¸¤ä¸ªå­é—®é¢˜ï¼Œå­é—®é¢˜çš„è§£å¯ä»¥å¤ç”¨ã€‚<br>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä½¿ç”¨é€’å½’ã€åŠ¨æ€è§„åˆ’æ¥æ±‚è§£æœ¬é¢˜ã€‚</p>
</blockquote>
<h2 id="è§£æ³•ä¸€ï¼šé€’å½’æœç´¢"><a href="#è§£æ³•ä¸€ï¼šé€’å½’æœç´¢" class="headerlink" title="è§£æ³•ä¸€ï¼šé€’å½’æœç´¢"></a>è§£æ³•ä¸€ï¼šé€’å½’æœç´¢</h2><blockquote>
<p>æŒ‰ç…§ä»¥ä¸Šåˆ†æçš„æ€è·¯ï¼Œåˆ©ç”¨ä¸Šè¾¹çš„æ–¹æ³•ï¼ŒæŠŠæ¯ä¸ªæ•°å­—ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œç„¶åæŠŠæ‰€æœ‰å¯èƒ½çš„å·¦å­æ ‘å’Œå³å­æ ‘ç»„åˆèµ·æ¥å³å¯ã€‚</p>
<p>å¦‚æœåªæœ‰ä¸€ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆæ‰€æœ‰å¯èƒ½å°±æ˜¯ä¸€ç§æƒ…å†µï¼ŒæŠŠè¯¥æ•°å­—ä½œä¸ºä¸€æ£µæ ‘ã€‚è€Œå¦‚æœæ˜¯ [ ]ï¼Œé‚£å°±è¿”å› nullã€‚</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title">generateTrees</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">0</span>) {</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;TreeNode&gt;();</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> dfs(<span class="number">1</span>, n);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> List&lt;TreeNode&gt; <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	List&lt;TreeNode&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	<span class="comment">//å¦‚æœæ­¤æ—¶æ²¡æœ‰å€¼ï¼Œå°†nullåŠ å…¥åˆ°ç»“æœä¸­</span></span><br><span class="line">	<span class="keyword">if</span>(start &gt; end) {</span><br><span class="line">		res.add(<span class="keyword">null</span>);</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//å¦‚æœåªæœ‰ä¸€ä¸ªæ•°å­—ï¼Œå°†å½“å‰æ•°å­—ä½œä¸ºä¸€æ£µæ ‘åŠ å…¥åˆ°ç»“æœä¸­</span></span><br><span class="line">	<span class="keyword">if</span>(start == end) {</span><br><span class="line">		TreeNode tree = <span class="keyword">new</span> TreeNode(start);</span><br><span class="line">		res.add(tree);</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//å°è¯•æ¯ä¸ªæ•°å­—ä½œä¸ºæ ¹èŠ‚ç‚¹</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = start; i &lt;= end; i++) {</span><br><span class="line">		<span class="comment">//å¾—åˆ°æ‰€æœ‰å¯èƒ½çš„å·¦å­æ ‘</span></span><br><span class="line">		List&lt;TreeNode&gt; leftTrees = dfs(start, i - <span class="number">1</span>);</span><br><span class="line">		<span class="comment">//å¾—åˆ°æ‰€æœ‰å¯èƒ½çš„å³å­æ ‘</span></span><br><span class="line">		List&lt;TreeNode&gt; rightTrees = dfs(i + <span class="number">1</span>, end);</span><br><span class="line">		<span class="comment">//å°†æ‰€å¾—çš„å·¦å­æ ‘å³å­æ ‘ä¸¤ä¸¤ç»„åˆ</span></span><br><span class="line">		<span class="keyword">for</span>(TreeNode leftTree : leftTrees) {</span><br><span class="line">			<span class="keyword">for</span>(TreeNode rightTree : rightTrees) {</span><br><span class="line">				TreeNode tree = <span class="keyword">new</span> TreeNode(i);</span><br><span class="line">				tree.left = leftTree;</span><br><span class="line">				tree.right = rightTree;</span><br><span class="line">				<span class="comment">//åŠ å…¥åˆ°ç»“æœé›†ä¸­å»</span></span><br><span class="line">				res.add(tree);</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="è§£æ³•äºŒï¼š-åŠ¨æ€è§„åˆ’"><a href="#è§£æ³•äºŒï¼š-åŠ¨æ€è§„åˆ’" class="headerlink" title="è§£æ³•äºŒï¼š åŠ¨æ€è§„åˆ’"></a>è§£æ³•äºŒï¼š åŠ¨æ€è§„åˆ’</h2><blockquote>
<p>ä»”ç»†åˆ†æï¼Œå¯ä»¥å‘ç°ä¸€ä¸ªè§„å¾‹ã€‚é¦–å…ˆæˆ‘ä»¬æ¯æ¬¡æ–°å¢åŠ çš„æ•°å­—å¤§äºä¹‹å‰çš„æ‰€æœ‰æ•°å­—ï¼Œæ‰€ä»¥æ–°å¢åŠ çš„æ•°å­—å‡ºç°çš„ä½ç½®åªå¯èƒ½æ˜¯æ ¹èŠ‚ç‚¹æˆ–è€…æ˜¯æ ¹èŠ‚ç‚¹çš„å³å­©å­ï¼Œå³å­©å­çš„å³å­©å­ï¼Œå³å­©å­çš„å³å­©å­çš„å³å­©å­ç­‰ç­‰ï¼Œæ€»ä¹‹ä¸€å®šæ˜¯å³è¾¹ã€‚å…¶æ¬¡ï¼Œæ–°æ•°å­—æ‰€åœ¨ä½ç½®åŸæ¥çš„å­æ ‘ï¼Œæ”¹ä¸ºå½“å‰æ’å…¥æ•°å­—çš„å·¦å­©å­å³å¯ï¼Œå› ä¸ºæ’å…¥æ•°å­—æ˜¯æœ€å¤§çš„ã€‚</p>
<p>ç”±äºæ±‚å½“å‰çš„æ‰€æœ‰è§£åªéœ€è¦ä¸Šä¸€æ¬¡çš„è§£ï¼Œæ‰€æœ‰æˆ‘ä»¬åªéœ€è¦ä¸¤ä¸ª listï¼Œpre ä¿å­˜ä¸Šä¸€æ¬¡çš„æ‰€æœ‰è§£ï¼Œ cur è®¡ç®—å½“å‰çš„æ‰€æœ‰è§£ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title">generateTrees2</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">    List&lt;TreeNode&gt; pre = <span class="keyword">new</span> ArrayList&lt;TreeNode&gt;();</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">return</span> pre;</span><br><span class="line">    }</span><br><span class="line">    pre.add(<span class="keyword">null</span>);</span><br><span class="line">    <span class="comment">//æ¯æ¬¡å¢åŠ ä¸€ä¸ªæ•°å­—</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">        List&lt;TreeNode&gt; cur = <span class="keyword">new</span> ArrayList&lt;TreeNode&gt;();</span><br><span class="line">        <span class="comment">//éå†ä¹‹å‰çš„æ‰€æœ‰è§£</span></span><br><span class="line">        <span class="keyword">for</span> (TreeNode root : pre) {</span><br><span class="line">            <span class="comment">//æ’å…¥åˆ°æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            TreeNode insert = <span class="keyword">new</span> TreeNode(i);</span><br><span class="line">            insert.left = root;</span><br><span class="line">            cur.add(insert);</span><br><span class="line">            <span class="comment">//æ’å…¥åˆ°å³å­©å­ï¼Œå³å­©å­çš„å³å­©å­...æœ€å¤šæ‰¾ n æ¬¡å­©å­</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= n; j++) {</span><br><span class="line">                TreeNode root_copy = treeCopy(root); <span class="comment">//å¤åˆ¶å½“å‰çš„æ ‘</span></span><br><span class="line">                TreeNode right = root_copy; <span class="comment">//æ‰¾åˆ°è¦æ’å…¥å³å­©å­çš„ä½ç½®</span></span><br><span class="line">                <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">                <span class="comment">//éå† j æ¬¡æ‰¾å³å­©å­</span></span><br><span class="line">                <span class="keyword">for</span> (; k &lt; j; k++) {</span><br><span class="line">                    <span class="keyword">if</span> (right == <span class="keyword">null</span>)</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    right = right.right;</span><br><span class="line">                }</span><br><span class="line">                <span class="comment">//åˆ°è¾¾ null æå‰ç»“æŸ</span></span><br><span class="line">                <span class="keyword">if</span> (right == <span class="keyword">null</span>)</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">//ä¿å­˜å½“å‰å³å­©å­çš„ä½ç½®çš„å­æ ‘ä½œä¸ºæ’å…¥èŠ‚ç‚¹çš„å·¦å­©å­</span></span><br><span class="line">                TreeNode rightTree = right.right;</span><br><span class="line">                insert = <span class="keyword">new</span> TreeNode(i);</span><br><span class="line">                right.right = insert; <span class="comment">//å³å­©å­æ˜¯æ’å…¥çš„èŠ‚ç‚¹</span></span><br><span class="line">                insert.left = rightTree; <span class="comment">//æ’å…¥èŠ‚ç‚¹çš„å·¦å­©å­æ›´æ–°ä¸ºæ’å…¥ä½ç½®ä¹‹å‰çš„å­æ ‘</span></span><br><span class="line">                <span class="comment">//åŠ å…¥ç»“æœä¸­</span></span><br><span class="line">                cur.add(root_copy);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        pre = cur;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> pre;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> TreeNode <span class="title">treeCopy</span><span class="params">(TreeNode root)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) {</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    }</span><br><span class="line">    TreeNode newRoot = <span class="keyword">new</span> TreeNode(root.val);</span><br><span class="line">    newRoot.left = treeCopy(root.left);</span><br><span class="line">    newRoot.right = treeCopy(root.right);</span><br><span class="line">    <span class="keyword">return</span> newRoot;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
        <tag>é€’å½’</tag>
      </tags>
  </entry>
  <entry>
    <title>KMP_leetcode.459.é‡å¤çš„å­å­—ç¬¦ä¸²</title>
    <url>/Repeated_substring_of_a_string/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªéç©ºçš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦å¯ä»¥ç”±å®ƒçš„ä¸€ä¸ªå­ä¸²é‡å¤å¤šæ¬¡æ„æˆã€‚ç»™å®šçš„å­—ç¬¦ä¸²åªå«æœ‰å°å†™è‹±æ–‡å­—æ¯ï¼Œå¹¶ä¸”é•¿åº¦ä¸è¶…è¿‡10000ã€‚</p>
<a id="more"></a>

<p>ç¤ºä¾‹ 1:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: "abab"</span><br><span class="line"></span><br><span class="line">è¾“å‡º: True</span><br><span class="line"></span><br><span class="line">è§£é‡Š: å¯ç”±å­å­—ç¬¦ä¸² "ab" é‡å¤ä¸¤æ¬¡æ„æˆã€‚</span><br><span class="line">ç¤ºä¾‹ 2:</span><br><span class="line"></span><br><span class="line">è¾“å…¥: "aba"</span><br><span class="line">è¾“å‡º: False</span><br></pre></td></tr></tbody></table></figure>


<p>ç¤ºä¾‹ 3:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">è¾“å…¥: "abcabcabcabc"</span><br><span class="line"></span><br><span class="line">è¾“å‡º: True</span><br><span class="line"></span><br><span class="line">è§£é‡Š: å¯ç”±å­å­—ç¬¦ä¸² "abc" é‡å¤å››æ¬¡æ„æˆã€‚ (æˆ–è€…å­å­—ç¬¦ä¸² "abcabc" é‡å¤ä¸¤æ¬¡æ„æˆã€‚)</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸åˆ†æ"><a href="#ğŸŒ¸åˆ†æ" class="headerlink" title="ğŸŒ¸åˆ†æ"></a>ğŸŒ¸åˆ†æ</h2><p>æš´åŠ›å‡ºå¥‡è¿¹ï¼Œä¼˜åŒ–è§çœŸç« ï¼</p>
<h2 id="ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•ï¼ˆç›´æ¥åŒ¹é…ï¼‰"><a href="#ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•ï¼ˆç›´æ¥åŒ¹é…ï¼‰" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•ï¼ˆç›´æ¥åŒ¹é…ï¼‰"></a>ğŸŒ¸è§£æ³•ä¸€ï¼šæš´åŠ›è§£æ³•ï¼ˆç›´æ¥åŒ¹é…ï¼‰</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">repeatedSubstringPattern1</span><span class="params">(String s)</span> </span>{</span><br><span class="line">       <span class="keyword">if</span>(s.length() == <span class="number">0</span>||s.length()==<span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       List&lt;Integer&gt; indexes =<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       indexes.add(<span class="number">0</span>);</span><br><span class="line">       <span class="comment">//è®¡ç®—å‡ºæ‰€æœ‰æœ‰å¯èƒ½çš„å­ä¸²é•¿åº¦</span></span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;s.length() ; i++) {</span><br><span class="line">           <span class="comment">//å’Œç¬¬0ä¸ªä½ç½®çš„å­—ç¬¦ç›¸ç­‰ï¼Œä¸”æ€»å­—ç¬¦ä¸²çš„é•¿åº¦èƒ½å¤Ÿæ•´é™¤å½“å‰å­ä¸²é•¿åº¦</span></span><br><span class="line">           <span class="keyword">if</span>(s.charAt(i)==s.charAt(<span class="number">0</span>)</span><br><span class="line">                   &amp;&amp;s.length()%i==<span class="number">0</span>){</span><br><span class="line">               indexes.add(i);</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; indexes.size() ; i++) {</span><br><span class="line">           <span class="keyword">int</span> length =indexes.get(i);  <span class="comment">//å½“å‰è€ƒè™‘çš„å­ä¸²é•¿åº¦å•ä½</span></span><br><span class="line">           String str = s.substring(<span class="number">0</span>,length);   <span class="comment">//å­ä¸²</span></span><br><span class="line">           <span class="keyword">int</span> j = length;</span><br><span class="line">           <span class="comment">//ä»¥å½“å‰è€ƒè™‘çš„é•¿åº¦å•ä½è¿›è¡Œéå†ï¼Œå¦‚æœæ¯éš”lengthçš„å­ä¸²éƒ½ç­‰äºstrï¼Œ</span></span><br><span class="line">           <span class="comment">//å¹¶ä¸”éå†åˆ°äº†å­—ç¬¦ä¸²æœ«å°¾ï¼Œè¯´æ˜ç»“æœä¸ºtrueï¼Œåä¹‹è·³å‡ºè€ƒè™‘ä¸‹ä¸€ç§å­ä¸²é•¿åº¦</span></span><br><span class="line">           <span class="keyword">for</span> (; j &lt;s.length() ; j=j+length) {</span><br><span class="line">               <span class="keyword">if</span>(!s.substring(j,j+length).equals(str))</span><br><span class="line">                   <span class="keyword">break</span>;</span><br><span class="line">           }</span><br><span class="line">           <span class="keyword">if</span>(j==s.length())</span><br><span class="line">               <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•äºŒï¼š-æš´åŠ›è§£æ³•ï¼ˆæšä¸¾ï¼‰"><a href="#ğŸŒ¸è§£æ³•äºŒï¼š-æš´åŠ›è§£æ³•ï¼ˆæšä¸¾ï¼‰" class="headerlink" title="ğŸŒ¸è§£æ³•äºŒï¼š æš´åŠ›è§£æ³•ï¼ˆæšä¸¾ï¼‰"></a>ğŸŒ¸è§£æ³•äºŒï¼š æš´åŠ›è§£æ³•ï¼ˆæšä¸¾ï¼‰</h2><p>å¦‚æœä¸€ä¸ªé•¿åº¦ä¸ºnçš„å­—ç¬¦ä¸²så¯ä»¥ç”±å®ƒçš„ä¸€ä¸ªé•¿åº¦ä¸º<code>n'</code>çš„å­ä¸²<code>s'</code>é‡å¤å¤šæ¬¡æ„<br>æˆï¼Œé‚£ä¹ˆ:</p>
<ul>
<li>nâ€”å®šæ˜¯<code>n'</code>çš„å€æ•°;</li>
<li><code>s'</code>ä¸€å®šæ˜¯sçš„å‰ç¼€;</li>
<li>å¯¹äºä»»æ„çš„<code>i âˆˆ[nâ€™, 7)</code>ï¼Œæœ‰<code>s[2]= s[i - n']</code>ã€‚</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œsä¸­é•¿åº¦ä¸º<code>n'</code>çš„å‰ç¼€å°±æ˜¯<code>s'</code>ï¼Œå¹¶ä¸”åœ¨è¿™ä¹‹åçš„æ¯ä¸€ä¸ªä½ç½®ä¸Šçš„å­—ç¬¦<code>s[i]</code>ï¼Œéƒ½éœ€è¦ä¸å®ƒä¹‹å‰çš„ç¬¬<code>n'</code>ä¸ªå­—ç¬¦<code>s[i-n'</code>]ç›¸åŒã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä»å°åˆ°å¤§æšä¸¾<code>n'</code>ï¼Œå¹¶å¯¹å­—ç¬¦ä¸²sè¿›è¡Œéå†ï¼Œè¿›è¡Œä¸Šè¿°çš„åˆ¤æ–­ã€‚æ³¨<br>æ„åˆ°ä¸€ä¸ªå°ä¼˜åŒ–æ˜¯ï¼Œå› ä¸ºå­ä¸²è‡³å°‘éœ€è¦é‡å¤ä¸€æ¬¡ï¼Œæ‰€ä»¥<code>n'</code>ä¸ä¼šå¤§äºnçš„ä¸€åŠï¼Œæˆ‘<br>ä»¬åªéœ€è¦åœ¨<code>[1, n/2]</code>çš„èŒƒå›´å†…æšä¸¾<code>n'</code>å³å¯ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">repeatedSubstringPattern</span><span class="params">(String s)</span> </span>{</span><br><span class="line">       <span class="keyword">int</span> n = s.length();</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i * <span class="number">2</span> &lt;= n; ++i) {</span><br><span class="line">           <span class="keyword">if</span> (n % i == <span class="number">0</span>) {</span><br><span class="line">               <span class="keyword">boolean</span> match = <span class="keyword">true</span>;</span><br><span class="line">               <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; n; ++j) {</span><br><span class="line">                   <span class="keyword">if</span> (s.charAt(j) != s.charAt(j - i)) {</span><br><span class="line">                       match = <span class="keyword">false</span>;</span><br><span class="line">                       <span class="keyword">break</span>;</span><br><span class="line">                   }</span><br><span class="line">               }</span><br><span class="line">               <span class="keyword">if</span> (match) {</span><br><span class="line">                   <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">               }</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•ä¸‰ï¼šç§»åŠ¨åŒ¹é…"><a href="#ğŸŒ¸è§£æ³•ä¸‰ï¼šç§»åŠ¨åŒ¹é…" class="headerlink" title="ğŸŒ¸è§£æ³•ä¸‰ï¼šç§»åŠ¨åŒ¹é…"></a>ğŸŒ¸è§£æ³•ä¸‰ï¼šç§»åŠ¨åŒ¹é…</h2><p>å¦‚æœæ‚¨çš„å­—ç¬¦ä¸²SåŒ…å«ä¸€ä¸ªé‡å¤çš„å­å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè¿™æ„å‘³ç€æ‚¨å¯ä»¥å¤šæ¬¡â€œç§»ä½å’Œæ¢è¡Œâ€æ‚¨çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä½¿å…¶ä¸åŸå§‹å­—ç¬¦ä¸²åŒ¹é…ã€‚<br>ä¾‹å¦‚:<code>abcabc</code></p>
<ul>
<li>ç§»ä½ä¸€æ¬¡:<code>cabcab</code></li>
<li>ç§»ä½ä¸¤æ¬¡:<code>bcabca</code></li>
<li>ç§»ä½ä¸‰æ¬¡:<code>abcabc</code></li>
</ul>
<p>ç°åœ¨å­—ç¬¦ä¸²å’ŒåŸå­—ç¬¦ä¸²åŒ¹é…äº†ï¼Œæ‰€ä»¥å¯ä»¥å¾—å‡ºç»“è®ºå­˜åœ¨é‡å¤çš„å­ä¸²</p>
<p>åŸºäºè¿™ä¸ªæ€æƒ³ï¼Œå¯ä»¥æ¯æ¬¡ç§»åŠ¨kä¸ªå­—ç¬¦ï¼Œç›´åˆ°åŒ¹é…ç§»åŠ¨length -1æ¬¡ã€‚ä½†æ˜¯è¿™æ ·å¯¹äºé‡å¤å­—ç¬¦ä¸²å¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼Œæ•ˆç‡ä¼šéå¸¸ä½ã€‚åœ¨LeetCodeä¸­æ‰§è¡Œæ—¶é—´è¶…æ—¶äº†ã€‚</p>
<p>ä¸ºäº†é¿å…è¿™ç§æ— ç”¨çš„ç¯ç»•ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²str;å®ƒç­‰äºåŸæ¥çš„å­—ç¬¦ä¸²Så†åŠ ä¸ŠSè‡ªèº«ï¼Œè¿™æ ·å…¶å®å°±åŒ…å«äº†æ‰€æœ‰ç§»åŠ¨çš„å­—ç¬¦ä¸²ã€‚</p>
<p>æ¯”å¦‚å­—ç¬¦ä¸²: S= acdï¼Œé‚£ä¹ˆ<code>str = S+S = acdacd</code></p>
<p>acdç§»åŠ¨çš„å¯èƒ½: dacã€cdaã€‚å…¶å®éƒ½åŒ…å«åœ¨äº†strä¸­äº†ã€‚å°±åƒä¸€ä¸ªæ»‘åŠ¨çª—å£ä¸€å¼€å§‹acd (acd)ï¼Œç§»åŠ¨ä¸€æ¬¡<code>ac(dac)d</code>,ç§»åŠ¨ä¸¤æ¬¡<code>a(cda)cd</code>ã€‚å¾ªç¯ç»“æŸ</p>
<p>æ‰€ä»¥å¯ä»¥ç›´æ¥åˆ¤æ–­strä¸­å»é™¤é¦–å°¾å…ƒç´ ä¹‹åï¼Œæ˜¯å¦åŒ…å«è‡ªèº«å…ƒç´ ã€‚å¦‚æœåŒ…å«ã€‚åˆ™è¡¨æ˜å­˜åœ¨é‡å¤å­ä¸²ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">repeatedSubstringPattern2</span><span class="params">(String s)</span> </span>{</span><br><span class="line">	String str = s + s;</span><br><span class="line">	<span class="keyword">return</span> str.substring(<span class="number">1</span>, str.length() - <span class="number">1</span>).contains(s);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ğŸŒ¸è§£æ³•å››ï¼šKMPï¼ˆç•™ä¸‹äº†æ— çŸ¥çš„æ³ªæ°´ï¼Œå¤ªéš¾äº†ã€‚ï¼‰"><a href="#ğŸŒ¸è§£æ³•å››ï¼šKMPï¼ˆç•™ä¸‹äº†æ— çŸ¥çš„æ³ªæ°´ï¼Œå¤ªéš¾äº†ã€‚ï¼‰" class="headerlink" title="ğŸŒ¸è§£æ³•å››ï¼šKMPï¼ˆç•™ä¸‹äº†æ— çŸ¥çš„æ³ªæ°´ï¼Œå¤ªéš¾äº†ã€‚ï¼‰"></a>ğŸŒ¸è§£æ³•å››ï¼šKMPï¼ˆç•™ä¸‹äº†æ— çŸ¥çš„æ³ªæ°´ï¼Œå¤ªéš¾äº†ã€‚ï¼‰</h2><p>è¯»è€…éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹:</p>
<ul>
<li>KMP ç®—æ³•è™½ç„¶æœ‰ç€è‰¯å¥½çš„ç†è®ºæ—¶é—´å¤æ‚åº¦ä¸Šé™ï¼Œä½†å¤§éƒ¨åˆ†è¯­è¨€è‡ªå¸¦çš„å­—ç¬¦ä¸²æŸ¥æ‰¾å‡½æ•°å¹¶ä¸æ˜¯ç”¨ KMP ç®—æ³•å®ç°çš„ã€‚è¿™æ˜¯å› ä¸ºåœ¨å®ç° API æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¹³å‡æ—¶é—´å¤æ‚åº¦å’Œæœ€åæ—¶é—´å¤æ‚åº¦äºŒè€…ä¹‹é—´æƒè¡¡ã€‚æ™®é€šçš„æš´åŠ›åŒ¹é…ç®—æ³•ä»¥åŠä¼˜åŒ–çš„ BM ç®—æ³•æ‹¥æœ‰æ¯” KMP ç®—æ³•æ›´ä¸ºä¼˜ç§€çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼›</li>
<li>å­¦ä¹  KMP ç®—æ³•æ—¶ï¼Œä¸€å®šè¦ç†è§£å…¶æœ¬è´¨ã€‚å¦‚æœæ”¾å¼ƒé˜…è¯»æ™¦æ¶©éš¾æ‡‚çš„ææ–™ï¼ˆå³ä½¿å¤§éƒ¨åˆ†è®²è§£ KMP ç®—æ³•çš„ææ–™éƒ½åŒ…å«å¤§é‡çš„å›¾ï¼Œä½†å›¾æ¯•ç«Ÿåªèƒ½æè¿°ç‰¹æ®Šè€Œéä¸€èˆ¬æƒ…å†µï¼‰è€Œæ˜¯ç›´æ¥å»é˜…è¯»ä»£ç ï¼Œæ˜¯æ°¸è¿œæ— æ³•å­¦ä¼š KMP ç®—æ³•çš„ã€‚è¯»è€…ç”šè‡³æ— æ³•ç†è§£ KMP ç®—æ³•å…³é”®ä»£ç ä¸­çš„ä»»æ„ä¸€è¡Œã€‚</li>
</ul>
<p>ç”±äºæœ¬é¢˜å°±æ˜¯åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æŸ¥è¯¢å¦ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å‡ºç°ï¼Œå¯ä»¥ç›´æ¥å¥—ç”¨ KMP ç®—æ³•ã€‚å› æ­¤è¿™é‡Œå¯¹ KMP ç®—æ³•æœ¬èº«ä¸å†èµ˜è¿°ã€‚è¯»è€…å¯ä»¥è‡ªè¡ŒæŸ¥é˜…èµ„æ–™è¿›è¡Œå­¦ä¹ ã€‚è¿™é‡Œç•™äº†ä¸‰ä¸ªæ€è€ƒé¢˜ï¼Œè¯»è€…å¯ä»¥åœ¨å­¦ä¹ å®Œæ¯•åå°è¯•å›ç­”è¿™ä¸‰ä¸ªé—®é¢˜ï¼Œæ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœï¼š</p>
<ul>
<li>è®¾æŸ¥è¯¢ä¸²çš„çš„é•¿åº¦ä¸º nï¼Œæ¨¡å¼ä¸²çš„é•¿åº¦ä¸º mï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­æ¨¡å¼ä¸²æ˜¯å¦ä¸ºæŸ¥è¯¢ä¸²çš„å­ä¸²ã€‚é‚£ä¹ˆä½¿ç”¨ KMP ç®—æ³•å¤„ç†è¯¥é—®é¢˜æ—¶çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿåœ¨åˆ†ææ—¶é—´å¤æ‚åº¦æ—¶ä½¿ç”¨äº†å“ªä¸€ç§åˆ†ææ–¹æ³•ï¼Ÿ</li>
<li>å¦‚æœæœ‰å¤šä¸ªæŸ¥è¯¢ä¸²ï¼Œå¹³å‡é•¿åº¦ä¸º nï¼Œæ•°é‡ä¸º kï¼Œé‚£ä¹ˆæ€»æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿ</li>
<li>åœ¨ KMP ç®—æ³•ä¸­ï¼Œå¯¹äºæ¨¡å¼ä¸²ï¼Œæˆ‘ä»¬éœ€è¦é¢„å¤„ç†å‡ºä¸€ä¸ªfail æ•°ç»„ï¼ˆæœ‰æ—¶ä¹Ÿç§°ä¸º next æ•°ç»„ã€Ï€ æ•°ç»„ç­‰ï¼‰ã€‚è¿™ä¸ªæ•°ç»„åˆ°åº•è¡¨ç¤ºäº†ä»€ä¹ˆï¼Ÿ</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">repeatedSubstringPattern3</span><span class="params">(String s)</span> </span>{</span><br><span class="line">       <span class="keyword">return</span> kmp(s + s, s);</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">kmp</span><span class="params">(String query, String pattern)</span> </span>{</span><br><span class="line">       <span class="keyword">int</span> n = query.length();</span><br><span class="line">       <span class="keyword">int</span> m = pattern.length();</span><br><span class="line">       <span class="keyword">int</span>[] fail = <span class="keyword">new</span> <span class="keyword">int</span>[m];</span><br><span class="line">       Arrays.fill(fail, -<span class="number">1</span>);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; m; ++i) {</span><br><span class="line">           <span class="keyword">int</span> j = fail[i - <span class="number">1</span>];</span><br><span class="line">           <span class="keyword">while</span> (j != -<span class="number">1</span> &amp;&amp; pattern.charAt(j + <span class="number">1</span>) != pattern.charAt(i)) {</span><br><span class="line">               j = fail[j];</span><br><span class="line">           }</span><br><span class="line">           <span class="keyword">if</span> (pattern.charAt(j + <span class="number">1</span>) == pattern.charAt(i)) {</span><br><span class="line">               fail[i] = j + <span class="number">1</span>;</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">int</span> match = -<span class="number">1</span>;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n - <span class="number">1</span>; ++i) {</span><br><span class="line">           <span class="keyword">while</span> (match != -<span class="number">1</span> &amp;&amp; pattern.charAt(match + <span class="number">1</span>) != query.charAt(i)) {</span><br><span class="line">               match = fail[match];</span><br><span class="line">           }</span><br><span class="line">           <span class="keyword">if</span> (pattern.charAt(match + <span class="number">1</span>) == query.charAt(i)) {</span><br><span class="line">               ++match;</span><br><span class="line">               <span class="keyword">if</span> (match == m - <span class="number">1</span>) {</span><br><span class="line">                   <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">               }</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure>



<h2 id="ğŸŒ¸æ­£ç¡®æ€§è¯æ˜"><a href="#ğŸŒ¸æ­£ç¡®æ€§è¯æ˜" class="headerlink" title="ğŸŒ¸æ­£ç¡®æ€§è¯æ˜"></a>ğŸŒ¸æ­£ç¡®æ€§è¯æ˜</h2><p><a href="https://imgchr.com/i/dDZdW8" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/24/dDZdW8.png" alt="dDZdW8.png"></a></p>
<p><a href="https://imgchr.com/i/dDZ0SS" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/24/dDZ0SS.png" alt="dDZ0SS.png"></a></p>
<p>é¢˜è§£å‡ºè‡ª<a href="https://leetcode-cn.com/problems/convert-sorted-list-to-binary-search-tree/solution/you-xu-lian-biao-zhuan-huan-er-cha-sou-suo-shu-1-3/" target="_blank" rel="noopener">@LeetCode-Solution</a></p>
<h2 id="ğŸŒ¸æ€è€ƒé¢˜ç­”æ¡ˆ"><a href="#ğŸŒ¸æ€è€ƒé¢˜ç­”æ¡ˆ" class="headerlink" title="ğŸŒ¸æ€è€ƒé¢˜ç­”æ¡ˆ"></a>ğŸŒ¸æ€è€ƒé¢˜ç­”æ¡ˆ</h2><ul>
<li><p>è®¾æŸ¥è¯¢ä¸²çš„çš„é•¿åº¦ä¸º nï¼Œæ¨¡å¼ä¸²çš„é•¿åº¦ä¸º mï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­æ¨¡å¼ä¸²æ˜¯å¦ä¸ºæŸ¥è¯¢ä¸²çš„å­ä¸²ã€‚é‚£ä¹ˆä½¿ç”¨ KMP ç®—æ³•å¤„ç†è¯¥é—®é¢˜æ—¶çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿåœ¨åˆ†ææ—¶é—´å¤æ‚åº¦æ—¶ä½¿ç”¨äº†å“ªä¸€ç§åˆ†ææ–¹æ³•ï¼Ÿ</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ä¸º O(n+m)ï¼Œç”¨åˆ°äº†å‡æ‘Šåˆ†æï¼ˆæ‘Šè¿˜åˆ†æï¼‰çš„æ–¹æ³•ã€‚</li>
<li>å…·ä½“åœ°ï¼Œæ— è®ºåœ¨é¢„å¤„ç†è¿‡ç¨‹è¿˜æ˜¯æŸ¥è¯¢è¿‡ç¨‹ä¸­ï¼Œè™½ç„¶åŒ¹é…å¤±è´¥æ—¶ï¼ŒæŒ‡é’ˆä¼šä¸æ–­åœ°æ ¹æ® fail æ•°ç»„å‘å·¦å›é€€ï¼Œçœ‹ä¼¼æ—¶é—´å¤æ‚åº¦ä¼šå¾ˆé«˜ã€‚ä½†è€ƒè™‘åŒ¹é…æˆåŠŸæ—¶ï¼ŒæŒ‡é’ˆä¼šå‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œè¿™ä¸€éƒ¨åˆ†å¯¹åº”çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n+m)ã€‚åˆå› ä¸ºå‘å·¦ç§»åŠ¨çš„æ¬¡æ•°ä¸ä¼šè¶…è¿‡å‘å³ç§»åŠ¨çš„æ¬¡æ•°ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä»ç„¶ä¸º O(n+m)ã€‚</li>
</ul>
</li>
<li><p>å¦‚æœæœ‰å¤šä¸ªæŸ¥è¯¢ä¸²ï¼Œå¹³å‡é•¿åº¦ä¸º nï¼Œæ•°é‡ä¸º kï¼Œé‚£ä¹ˆæ€»æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿ</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ä¸º O(nk+m)ã€‚æ¨¡å¼ä¸²åªéœ€è¦é¢„å¤„ç†ä¸€æ¬¡ã€‚</li>
</ul>
</li>
<li><p>åœ¨ KMP ç®—æ³•ä¸­ï¼Œå¯¹äºæ¨¡å¼ä¸²ï¼Œæˆ‘ä»¬éœ€è¦é¢„å¤„ç†å‡ºä¸€ä¸ªfail æ•°ç»„ï¼ˆæœ‰æ—¶ä¹Ÿç§°ä¸ºnext æ•°ç»„ã€Ï€ æ•°ç»„ç­‰ï¼‰ã€‚è¿™ä¸ªæ•°ç»„åˆ°åº•è¡¨ç¤ºäº†ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>fail[i] ç­‰äºæ»¡è¶³ä¸‹è¿°è¦æ±‚çš„ x çš„æœ€å¤§å€¼ï¼šs[0:i]å…·æœ‰é•¿åº¦ä¸º x+1 çš„å®Œå…¨ç›¸åŒçš„å‰ç¼€å’Œåç¼€ã€‚è¿™ä¹Ÿæ˜¯ KMP ç®—æ³•æœ€é‡è¦çš„ä¸€éƒ¨åˆ†</li>
</ul>
</li>
</ul>
<h2 id="ğŸŒ¸è§£æ³•äº”-ä¼˜åŒ–çš„KMP"><a href="#ğŸŒ¸è§£æ³•äº”-ä¼˜åŒ–çš„KMP" class="headerlink" title="ğŸŒ¸è§£æ³•äº”: ä¼˜åŒ–çš„KMP"></a>ğŸŒ¸è§£æ³•äº”: ä¼˜åŒ–çš„KMP</h2><p>å¦‚æœè¯»è€…èƒ½å¤Ÿçœ‹æ‡‚ã€Œæ­£ç¡®æ€§è¯æ˜ã€å’Œã€Œæ€è€ƒé¢˜ç­”æ¡ˆã€è¿™ä¸¤éƒ¨åˆ†ï¼Œé‚£ä¹ˆä¸€å®šå·²ç»å‘ç°äº†æ–¹æ³•ä¸‰ä¸­çš„ KMP ç®—æ³•æœ‰å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ã€‚å³ï¼š</p>
<ul>
<li><p>åœ¨ã€Œæ­£ç¡®æ€§è¯æ˜ã€éƒ¨åˆ†ï¼Œå¦‚æœæˆ‘ä»¬è®¾ i ä¸º<code>æœ€å°çš„</code>èµ·å§‹ä½ç½®ï¼Œé‚£ä¹ˆä¸€å®šæœ‰ gcd(n,i)=iï¼Œå³ n æ˜¯ i çš„å€æ•°ã€‚è¿™è¯´æ˜å­—ç¬¦ä¸² s æ˜¯ç”±é•¿åº¦ä¸º içš„å‰ç¼€é‡å¤ n / iæ¬¡æ„æˆï¼›</p>
</li>
<li><p>ç”±äºfail[nâˆ’1] è¡¨ç¤º s å…·æœ‰é•¿åº¦ä¸º fail[nâˆ’1]+1 çš„å®Œå…¨ç›¸åŒçš„ï¼ˆä¸”æœ€é•¿çš„ï¼‰å‰ç¼€å’Œåç¼€ã€‚é‚£ä¹ˆå¯¹äºæ»¡è¶³é¢˜ç›®è¦æ±‚çš„å­—ç¬¦ä¸²ï¼Œä¸€å®šæœ‰ fail[nâˆ’1]=nâˆ’iâˆ’1ï¼Œå³ i=nâˆ’fail[nâˆ’1]âˆ’1ï¼›</p>
</li>
<li><p>å¯¹äºä¸æ»¡è¶³é¢˜ç›®è¦æ±‚çš„å­—ç¬¦ä¸²ï¼Œn ä¸€å®šä¸æ˜¯ n âˆ’<em>fail</em>[<em>n</em>âˆ’1]âˆ’1 çš„å€æ•°</p>
</li>
</ul>
<blockquote>
<p>ä¸Šè¿°æ‰€æœ‰çš„ç»“è®ºéƒ½å¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ç”¨åè¯æ³•è¯å‡ºã€‚</p>
</blockquote>
<p>å› æ­¤ï¼Œæˆ‘ä»¬åœ¨é¢„å¤„ç†å‡ºfail æ•°ç»„åï¼Œåªéœ€è¦åˆ¤æ–­ n æ˜¯å¦ä¸º n - fail[nâˆ’1]âˆ’1 çš„å€æ•°å³å¯ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">repeatedSubstringPattern4</span><span class="params">(String s)</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> kmp(s);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">kmp</span><span class="params">(String pattern)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> n = pattern.length();</span><br><span class="line">    <span class="keyword">int</span>[] fail = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    Arrays.fill(fail, -<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) {</span><br><span class="line">        <span class="keyword">int</span> j = fail[i - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">while</span> (j != -<span class="number">1</span> &amp;&amp; pattern.charAt(j + <span class="number">1</span>) != pattern.charAt(i)) {</span><br><span class="line">            j = fail[j];</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (pattern.charAt(j + <span class="number">1</span>) == pattern.charAt(i)) {</span><br><span class="line">            fail[i] = j + <span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> fail[n - <span class="number">1</span>] != -<span class="number">1</span> &amp;&amp; n % (n - fail[n - <span class="number">1</span>] - <span class="number">1</span>) == <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>é¢˜è§£å‡ºè‡ª<a href="https://leetcode-cn.com/problems/repeated-substring-pattern/solution/zhong-fu-de-zi-zi-fu-chuan-by-leetcode-solution/" target="_blank" rel="noopener">LeetCode-Solution</a></p>
<h3 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</h3><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>KMP</tag>
        <tag>æšä¸¾</tag>
        <tag>åŒ¹é…</tag>
      </tags>
  </entry>
  <entry>
    <title>DFS-BFS_leetcode.785.åˆ¤æ–­äºŒåˆ†å›¾</title>
    <url>/Judge_bipartite_graph/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ğŸç»™å®šä¸€ä¸ªæ— å‘å›¾graphï¼Œå½“è¿™ä¸ªå›¾ä¸ºäºŒåˆ†å›¾æ—¶è¿”å›trueã€‚</p>
<p>å¦‚æœæˆ‘ä»¬èƒ½å°†ä¸€ä¸ªå›¾çš„èŠ‚ç‚¹é›†åˆåˆ†å‰²æˆä¸¤ä¸ªç‹¬ç«‹çš„å­é›†Aå’ŒBï¼Œå¹¶ä½¿å›¾ä¸­çš„æ¯ä¸€æ¡è¾¹çš„ä¸¤ä¸ªèŠ‚ç‚¹ä¸€ä¸ªæ¥è‡ªAé›†åˆï¼Œä¸€ä¸ªæ¥è‡ªBé›†åˆï¼Œæˆ‘ä»¬å°±å°†è¿™ä¸ªå›¾ç§°ä¸ºäºŒåˆ†å›¾ã€‚</p>
<p>graphå°†ä¼šä»¥é‚»æ¥è¡¨æ–¹å¼ç»™å‡ºï¼Œgraph[i]è¡¨ç¤ºå›¾ä¸­ä¸èŠ‚ç‚¹iç›¸è¿çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªåœ¨0åˆ°<code>graph.length-1</code>ä¹‹é—´çš„æ•´æ•°ã€‚è¿™å›¾ä¸­æ²¡æœ‰è‡ªç¯å’Œå¹³è¡Œè¾¹ï¼š <code>graph[i]</code> ä¸­ä¸å­˜åœ¨iï¼Œå¹¶ä¸”graph[i]ä¸­æ²¡æœ‰é‡å¤çš„å€¼ã€‚</p>
<a id="more"></a>

<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">ç¤ºä¾‹ 1:</span><br><span class="line">è¾“å…¥: [[1,3], [0,2], [1,3], [0,2]]</span><br><span class="line">è¾“å‡º: true</span><br><span class="line">è§£é‡Š: </span><br><span class="line">æ— å‘å›¾å¦‚ä¸‹:</span><br><span class="line">0----1</span><br><span class="line">|    |</span><br><span class="line">|    |</span><br><span class="line">3----2</span><br><span class="line">æˆ‘ä»¬å¯ä»¥å°†èŠ‚ç‚¹åˆ†æˆä¸¤ç»„: {0, 2} å’Œ {1, 3}ã€‚</span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ 2:</span><br><span class="line">è¾“å…¥: [[1,2,3], [0,2], [0,1,3], [0,2]]</span><br><span class="line">è¾“å‡º: false</span><br><span class="line">è§£é‡Š: </span><br><span class="line">æ— å‘å›¾å¦‚ä¸‹:</span><br><span class="line">0----1</span><br><span class="line">| \  |</span><br><span class="line">|  \ |</span><br><span class="line">3----2</span><br><span class="line">æˆ‘ä»¬ä¸èƒ½å°†èŠ‚ç‚¹åˆ†å‰²æˆä¸¤ä¸ªç‹¬ç«‹çš„å­é›†ã€‚</span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨æ„:</p>
<p><code>graph</code> çš„é•¿åº¦èŒƒå›´ä¸º <code>[1, 100]</code>ã€‚<br><code>graph[i]</code> ä¸­çš„å…ƒç´ çš„èŒƒå›´ä¸º <code>[0, graph.length - 1]ã€‚</code><br><code>graph[i]</code> ä¸ä¼šåŒ…å« i æˆ–è€…æœ‰é‡å¤çš„å€¼ã€‚<br>å›¾æ˜¯æ— å‘çš„: å¦‚æœj åœ¨ <code>graph[i]</code>é‡Œè¾¹, é‚£ä¹ˆ i ä¹Ÿä¼šåœ¨ <code>graph[j]é‡Œ</code>è¾¹ã€‚</p>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p><strong>å¯¹äºå›¾ä¸­çš„ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹ u å’Œ vï¼Œå¦‚æœå®ƒä»¬ä¹‹é—´æœ‰ä¸€æ¡è¾¹ç›´æ¥ç›¸è¿ï¼Œé‚£ä¹ˆ u å’Œ vvå¿…é¡»å±äºä¸åŒçš„é›†åˆã€‚</strong></p>
<p>å¦‚æœç»™å®šçš„æ— å‘å›¾è¿é€šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä»»é€‰ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œç»™å®ƒåˆ†æˆç¬¬ä¸€ç»„ã€‚éšåæˆ‘ä»¬å¯¹æ•´ä¸ªå›¾è¿›è¡Œéå†ï¼Œå°†è¯¥èŠ‚ç‚¹ç›´æ¥ç›¸è¿çš„æ‰€æœ‰èŠ‚ç‚¹åˆ†æˆç¬¬äºŒç»„ï¼Œè¡¨ç¤ºè¿™äº›èŠ‚ç‚¹ä¸èƒ½ä¸èµ·å§‹èŠ‚ç‚¹å±äºåŒä¸€ä¸ªé›†åˆã€‚æˆ‘ä»¬å†å°†è¿™äº›ç¬¬äºŒç»„çš„èŠ‚ç‚¹ç›´æ¥ç›¸è¿çš„æ‰€æœ‰èŠ‚ç‚¹åˆ†æˆç¬¬ä¸€ç»„ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ— å‘å›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹å‡è¢«åˆ†ç»„ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬èƒ½å¤ŸæˆåŠŸåˆ†ç»„ï¼Œé‚£ä¹ˆä¸€ç»„å’ŒäºŒç»„çš„èŠ‚ç‚¹å„å±äºä¸€ä¸ªé›†åˆï¼Œè¿™ä¸ªæ— å‘å›¾å°±æ˜¯ä¸€ä¸ªäºŒåˆ†å›¾ï¼›å¦‚æœæˆ‘ä»¬æœªèƒ½æˆåŠŸåˆ†ç»„ï¼Œå³åœ¨åˆ†ç»„çš„è¿‡ç¨‹ä¸­ï¼ŒæŸä¸€æ—¶åˆ»è®¿é—®åˆ°äº†ä¸€ä¸ªå·²ç»åˆ†ç»„çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”å®ƒçš„ç»„ä¸æˆ‘ä»¬å°†è¦ç»™å®ƒåˆ†çš„ç»„ä¸ç›¸åŒï¼Œä¹Ÿå°±è¯´æ˜è¿™ä¸ªæ— å‘å›¾ä¸æ˜¯ä¸€ä¸ªäºŒåˆ†å›¾ã€‚</p>
<p>ç®—æ³•çš„æµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li><p>æˆ‘ä»¬ä»»é€‰ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œå°†å…¶åˆ†ç»„ç¬¬ä¸€ç»„ï¼Œå¹¶ä»è¯¥èŠ‚ç‚¹å¼€å§‹å¯¹æ•´ä¸ªæ— å‘å›¾è¿›è¡Œéå†ï¼›</p>
</li>
<li><p>åœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæˆ‘ä»¬é€šè¿‡èŠ‚ç‚¹ u éå†åˆ°äº†èŠ‚ç‚¹ vï¼ˆå³ u å’Œ v åœ¨å›¾ä¸­æœ‰ä¸€æ¡è¾¹ç›´æ¥ç›¸è¿ï¼‰ï¼Œé‚£ä¹ˆä¼šæœ‰ä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li>å¦‚æœ v æœªè¢«åˆ†ç»„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å…¶åˆ†æˆä¸ u ä¸åŒçš„ç»„ï¼Œå¹¶å¯¹ v ç›´æ¥ç›¸è¿çš„èŠ‚ç‚¹è¿›è¡Œéå†ï¼›</li>
<li>å¦‚æœ v è¢«åˆ†ç»„ï¼Œå¹¶ä¸”ç»„ä¸ u ç›¸åŒï¼Œé‚£ä¹ˆè¯´æ˜ç»™å®šçš„æ— å‘å›¾ä¸æ˜¯äºŒåˆ†å›¾ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥é€€å‡ºéå†å¹¶è¿”å› False ä½œä¸ºç­”æ¡ˆã€‚</li>
</ul>
</li>
<li><p>å½“éå†ç»“æŸæ—¶ï¼Œè¯´æ˜ç»™å®šçš„æ— å‘å›¾æ˜¯äºŒåˆ†å›¾ï¼Œè¿”å› True ä½œä¸ºç­”æ¡ˆã€‚</p>
</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ã€Œæ·±åº¦ä¼˜å…ˆæœç´¢ã€æˆ–ã€Œå¹¿åº¦ä¼˜å…ˆæœç´¢ã€å¯¹æ— å‘å›¾è¿›è¡Œéå†ï¼Œä¸‹æ–‡åˆ†åˆ«ç»™å‡ºäº†è¿™ä¸¤ç§æœç´¢å¯¹åº”çš„ä»£ç ã€‚</p>
<h3 id="æ³¨æ„ï¼š"><a href="#æ³¨æ„ï¼š" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h3><p>é¢˜ç›®ä¸­ç»™å®šçš„æ— å‘å›¾ä¸ä¸€å®šä¿è¯è¿é€šï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è¿›è¡Œå¤šæ¬¡éå†ï¼Œç›´åˆ°æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½è¢«åˆ†ç»„ï¼Œæˆ–ç¡®å®šç­”æ¡ˆä¸º False ä¸ºæ­¢ã€‚æ¯æ¬¡éå†å¼€å§‹æ—¶ï¼Œæˆ‘ä»¬ä»»é€‰ä¸€ä¸ªæœªè¢«åˆ†ç»„çš„èŠ‚ç‚¹ï¼Œå°†æ‰€æœ‰ä¸è¯¥èŠ‚ç‚¹ç›´æ¥æˆ–é—´æ¥ç›¸è¿çš„èŠ‚ç‚¹è¿›è¡Œåˆ†ç»„ã€‚</p>
<h2 id="è§£æ³•ä¸€ï¼šDFS"><a href="#è§£æ³•ä¸€ï¼šDFS" class="headerlink" title="è§£æ³•ä¸€ï¼šDFS"></a>è§£æ³•ä¸€ï¼šDFS</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//0 ä»£è¡¨è¿˜æœªåˆ†ç»„çš„æ•°å­—ï¼Œ1ä»£è¡¨åˆ†çš„æ˜¯ç¬¬ä¸€ç»„ï¼Œ2ä»£è¡¨åˆ†çš„æ˜¯ç¬¬äºŒç»„</span></span><br><span class="line"><span class="comment">//groupç”¨äºè®°å½•æ— å‘å›¾æ•°å­—åˆ†ç»„çš„çŠ¶æ€ï¼šä¾‹å¦‚group[2] = 2;è¡¨ç¤ºå›¾ä¸­é¡¶ç‚¹2 è¢«åˆ†ä¸ºç¬¬äºŒç»„</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[] group;</span><br><span class="line"><span class="comment">//è®°å½•åˆ†ç»„æˆåŠŸä¸å¦çš„æ ‡å¿—</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span> flag;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">	</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBipartite</span><span class="params">(<span class="keyword">int</span>[][] graph)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> len = graph.length;</span><br><span class="line">	<span class="comment">//å¼€å§‹åˆå§‹åŒ–æ ‡å¿—ä¸ºtrue,ç”¨äºåˆ¤æ–­æ•°å­—èƒ½å¦åˆ†ç»„æˆåŠŸ</span></span><br><span class="line">	flag = <span class="keyword">true</span>;</span><br><span class="line">	<span class="comment">//åˆå§‹åŒ–æ•°å­—åˆ†ç»„çš„çŠ¶æ€ï¼š0</span></span><br><span class="line">	group = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">	Arrays.fill(group, <span class="number">0</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//ä»åˆå§‹éå†æ— å‘å›¾çš„æ¯ä¸ªæ•°å­—</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len &amp;&amp; flag; i++) {</span><br><span class="line">		<span class="comment">//å¦‚æœè¯¥æ•°å­—æ˜¯æœªåˆ†ç»„çŠ¶æ€ï¼Œæ·±åº¦æœç´¢è¯¥æ•°å­—å¯¹åº”çš„è¾¹çš„é‚£ä¸ªæ•°å­—</span></span><br><span class="line">		<span class="keyword">if</span>(group[i] == <span class="number">0</span>) {</span><br><span class="line">			dfs(i, <span class="number">1</span>, graph);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> flag;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> node, <span class="keyword">int</span> sub, <span class="keyword">int</span>[][] graph)</span> </span>{</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	<span class="comment">//å°†èŠ‚ç‚¹nodeåˆ†ç»„</span></span><br><span class="line">	group[node] = sub;</span><br><span class="line">	<span class="comment">//ä¿å­˜å½“å‰èŠ‚ç‚¹nodeåˆ†ç»„æ‰€å¯¹åº”çš„å¦ä¸€ä¸ªåˆ†ç»„</span></span><br><span class="line">	<span class="keyword">int</span> sub2 = sub == <span class="number">1</span> ? <span class="number">2</span> : <span class="number">1</span>;</span><br><span class="line">	<span class="comment">//æœç´¢å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰é‚»èŠ‚ç‚¹</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> neighbor : graph[node]) {</span><br><span class="line">		<span class="comment">//è¯¥é‚»èŠ‚ç‚¹æœªåˆ†ç»„ï¼Œæ·±åº¦æœç´¢ è¿›è¡Œåˆ†ç»„</span></span><br><span class="line">		<span class="keyword">if</span>(group[neighbor] == <span class="number">0</span>) {</span><br><span class="line">			dfs(neighbor, sub2, graph);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//å¦‚æœflagä¸ºfalseï¼Œè¯´æ˜æœªèƒ½å®Œæˆåˆ†ç»„ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">			<span class="keyword">if</span>(!flag) {</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			}</span><br><span class="line">			<span class="comment">//å¦‚æœä»¥åˆ†ç»„ä¸”ä¸é‚»æ¥ç‚¹å¤„äºåŒä¸€ç»„</span></span><br><span class="line">		}<span class="keyword">else</span> <span class="keyword">if</span>(group[neighbor] != sub2) {</span><br><span class="line">			flag = <span class="keyword">false</span>;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isBipartite</span><span class="params">(self, graph: List[List[int]])</span> -&gt; bool:</span></span><br><span class="line">        n = len(graph)</span><br><span class="line">        UNCOLORED, RED, GREEN = <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">        color = [UNCOLORED] * n</span><br><span class="line">        valid = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(node: int, c: int)</span>:</span></span><br><span class="line">            <span class="keyword">nonlocal</span> valid</span><br><span class="line">            color[node] = c</span><br><span class="line">            cNei = (GREEN <span class="keyword">if</span> c == RED <span class="keyword">else</span> RED)</span><br><span class="line">            <span class="keyword">for</span> neighbor <span class="keyword">in</span> graph[node]:</span><br><span class="line">                <span class="keyword">if</span> color[neighbor] == UNCOLORED:</span><br><span class="line">                    dfs(neighbor, cNei)</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> valid:</span><br><span class="line">                        <span class="keyword">return</span></span><br><span class="line">                <span class="keyword">elif</span> color[neighbor] != cNei:</span><br><span class="line">                    valid = <span class="literal">False</span></span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">if</span> color[i] == UNCOLORED:</span><br><span class="line">                dfs(i, RED)</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> valid:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> valid</span><br></pre></td></tr></tbody></table></figure>



<h2 id="è§£æ³•äºŒï¼š-BFS"><a href="#è§£æ³•äºŒï¼š-BFS" class="headerlink" title="è§£æ³•äºŒï¼š BFS"></a>è§£æ³•äºŒï¼š BFS</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBipartite2</span><span class="params">(<span class="keyword">int</span>[][] graph)</span> </span>{</span><br><span class="line">       <span class="keyword">int</span> n = graph.length;</span><br><span class="line">       group = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">       Arrays.fill(group, <span class="number">0</span>);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) {</span><br><span class="line">           <span class="keyword">if</span> (group[i] == <span class="number">0</span>) {</span><br><span class="line">               Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">               queue.offer(i);</span><br><span class="line">               group[i] = <span class="number">1</span>;</span><br><span class="line">               <span class="keyword">while</span> (!queue.isEmpty()) {</span><br><span class="line">                   <span class="keyword">int</span> node = queue.poll();</span><br><span class="line">                   <span class="keyword">int</span> cNei = group[node] == <span class="number">1</span> ? <span class="number">2</span> : <span class="number">1</span>;</span><br><span class="line">                   <span class="keyword">for</span> (<span class="keyword">int</span> neighbor : graph[node]) {</span><br><span class="line">                       <span class="keyword">if</span> (group[neighbor] == <span class="number">0</span>) {</span><br><span class="line">                           queue.offer(neighbor);</span><br><span class="line">                           group[neighbor] = cNei;</span><br><span class="line">                       } <span class="keyword">else</span> <span class="keyword">if</span> (group[neighbor] != cNei) {</span><br><span class="line">                           <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                       }</span><br><span class="line">                   }</span><br><span class="line">               }</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isBipartite</span><span class="params">(self, graph: List[List[int]])</span> -&gt; bool:</span></span><br><span class="line">        n = len(graph)</span><br><span class="line">        UNCOLORED, RED, GREEN = <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">        color = [UNCOLORED] * n</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">if</span> color[i] == UNCOLORED:</span><br><span class="line">                q = collections.deque([i])</span><br><span class="line">                color[i] = RED</span><br><span class="line">                <span class="keyword">while</span> q:</span><br><span class="line">                    node = q.popleft()</span><br><span class="line">                    cNei = (GREEN <span class="keyword">if</span> color[node] == RED <span class="keyword">else</span> RED)</span><br><span class="line">                    <span class="keyword">for</span> neighbor <span class="keyword">in</span> graph[node]:</span><br><span class="line">                        <span class="keyword">if</span> color[neighbor] == UNCOLORED:</span><br><span class="line">                            q.append(neighbor)</span><br><span class="line">                            color[neighbor] = cNei</span><br><span class="line">                        <span class="keyword">elif</span> color[neighbor] != cNei:</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h2><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>BFS</tag>
        <tag>å›¾</tag>
      </tags>
  </entry>
  <entry>
    <title>DFS_leetcode.130.è¢«å›´ç»•çš„åŒºåŸŸ</title>
    <url>/Surrounding_area/</url>
    <content><![CDATA[<h2 id="ğŸŒ¸é¢˜ç›®"><a href="#ğŸŒ¸é¢˜ç›®" class="headerlink" title="ğŸŒ¸é¢˜ç›®"></a>ğŸŒ¸é¢˜ç›®</h2><p>ç»™å®šä¸€ä¸ªäºŒç»´çš„çŸ©é˜µï¼ŒåŒ…å« â€˜Xâ€™ å’Œ â€˜Oâ€™ï¼ˆå­—æ¯ Oï¼‰ã€‚</p>
<p>æ‰¾åˆ°æ‰€æœ‰è¢« â€˜Xâ€™ å›´ç»•çš„åŒºåŸŸï¼Œå¹¶å°†è¿™äº›åŒºåŸŸé‡Œæ‰€æœ‰çš„ â€˜Oâ€™ ç”¨ â€˜Xâ€™ å¡«å……ã€‚</p>
<a id="more"></a>

<p>ç¤ºä¾‹:</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">X X X X</span><br><span class="line">X O O X</span><br><span class="line">X X O X</span><br><span class="line">X O X X</span><br></pre></td></tr></tbody></table></figure>


<p>è¿è¡Œä½ çš„å‡½æ•°åï¼ŒçŸ©é˜µå˜ä¸ºï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">X X X X</span><br><span class="line">X X X X</span><br><span class="line">X X X X</span><br><span class="line">X O X X</span><br></pre></td></tr></tbody></table></figure>


<p>è§£é‡Š:</p>
<p>è¢«å›´ç»•çš„åŒºé—´ä¸ä¼šå­˜åœ¨äºè¾¹ç•Œä¸Šï¼Œæ¢å¥è¯è¯´ï¼Œä»»ä½•è¾¹ç•Œä¸Šçš„ â€˜Oâ€™ éƒ½ä¸ä¼šè¢«å¡«å……ä¸º â€˜Xâ€™ã€‚ ä»»ä½•ä¸åœ¨è¾¹ç•Œä¸Šï¼Œæˆ–ä¸ä¸è¾¹ç•Œä¸Šçš„ â€˜Oâ€™ ç›¸è¿çš„ â€˜Oâ€™ æœ€ç»ˆéƒ½ä¼šè¢«å¡«å……ä¸º â€˜Xâ€™ã€‚å¦‚æœä¸¤ä¸ªå…ƒç´ åœ¨æ°´å¹³æˆ–å‚ç›´æ–¹å‘ç›¸é‚»ï¼Œåˆ™ç§°å®ƒä»¬æ˜¯â€œç›¸è¿â€çš„ã€‚</p>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>è¿™é“é¢˜æˆ‘ä»¬æ‹¿åˆ°åŸºæœ¬å°±å¯ä»¥ç¡®å®šæ˜¯å›¾çš„ dfsã€bfs éå†çš„é¢˜ç›®äº†ã€‚é¢˜ç›®ä¸­è§£é‡Šè¯´è¢«åŒ…å›´çš„åŒºé—´ä¸ä¼šå­˜åœ¨äºè¾¹ç•Œä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šæƒ³åˆ°è¾¹ç•Œä¸Šçš„ O è¦ç‰¹æ®Šå¤„ç†ï¼Œåªè¦æŠŠè¾¹ç•Œä¸Šçš„ O ç‰¹æ®Šå¤„ç†äº†ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„ O æ›¿æ¢æˆ XX å°±å¯ä»¥äº†ã€‚é—®é¢˜è½¬åŒ–ä¸ºï¼Œå¦‚ä½•å¯»æ‰¾å’Œè¾¹ç•Œè”é€šçš„ Oï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘å¦‚ä¸‹æƒ…å†µã€‚</p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">X X X X</span><br><span class="line">X O O X</span><br><span class="line">X X O X</span><br><span class="line">X O O X</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ—¶å€™çš„0ä¸åšæ›¿æ¢çš„ã€‚å› ä¸ºå’Œè¾¹ç•Œæ˜¯è¿é€šçš„ã€‚ä¸ºäº†è®°å½•è¿™ç§çŠ¶æ€,æˆ‘ä»¬æŠŠè¿™<br>ç§æƒ…å†µä¸‹çš„Oæ¢æˆ#ä½œä¸ºå ä½ç¬¦,å¾…æœç´¢ç»“æŸä¹‹åï¼Œé‡åˆ°Oæ›¿æ¢ä¸ºX (å’Œè¾¹ç•Œ<br>ä¸è¿é€šçš„O) ;é‡å€’#,æ›¿æ¢å›$O(å’Œè¾¹ç•Œè¿é€šçš„0)ã€‚<br>å¦‚ä½•å¯»æ‰¾å’Œè¾¹ç•Œè”é€šçš„O?ä»è¾¹ç•Œå‡ºå‘,å¯¹å›¾è¿›è¡Œdfs å’Œbfs å³å‘µã€‚è¿™é‡Œç®€å•<br>æ€»ç»“ä¸‹dfså’Œbfs</p>
<ul>
<li>bfsé€’å½’ã€‚å¯ä»¥æƒ³æƒ³äºŒå‰æ ‘ä¸­å¦‚ä½•é€’å½’çš„è¿›è¡Œåºéå†ã€‚</li>
<li>bfsé€’å½’ã€‚ä¸€èˆ¬ç”¨é˜Ÿåˆ—å­˜å‚¨ã€‚</li>
<li>dfsé€’å½’ã€‚æœ€å¸¸ç”¨ï¼Œå¦‚äºŒå‰æ ‘çš„å…ˆåºéå†ã€‚</li>
<li>dfséé€’å½’ã€‚ä¸€èˆ¬ç”¨stackã€‚</li>
</ul>
<p>é‚£ä¹ˆåŸºäºä¸Šé¢è¿™ç§æƒ³æ³•ï¼Œæˆ‘ä»¬æœ‰å››ç§æ–¹å¼å®ç°ã€‚</p>
<h2 id="è§£æ³•ä¸€ï¼šDFS"><a href="#è§£æ³•ä¸€ï¼šDFS" class="headerlink" title="è§£æ³•ä¸€ï¼šDFS"></a>è§£æ³•ä¸€ï¼šDFS</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> m = board.length;</span><br><span class="line">        <span class="keyword">int</span> n = board[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) {</span><br><span class="line">                <span class="comment">// ä»è¾¹ç¼˜oå¼€å§‹æœç´¢</span></span><br><span class="line">                <span class="keyword">boolean</span> isEdge = i == <span class="number">0</span> || j == <span class="number">0</span> || i == m - <span class="number">1</span> || j == n - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (isEdge &amp;&amp; board[i][j] == <span class="string">'O'</span>) {</span><br><span class="line">                    dfs(board, i, j);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) {</span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">'O'</span>) {</span><br><span class="line">                    board[i][j] = <span class="string">'X'</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">'#'</span>) {</span><br><span class="line">                    board[i][j] = <span class="string">'O'</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span> || j &lt; <span class="number">0</span> || i &gt;= board.length  || j &gt;= board[<span class="number">0</span>].length || board[i][j] == <span class="string">'X'</span> || board[i][j] == <span class="string">'#'</span>) {</span><br><span class="line">            <span class="comment">// board[i][j] == '#' è¯´æ˜å·²ç»æœç´¢è¿‡äº†. </span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        board[i][j] = <span class="string">'#'</span>;</span><br><span class="line">        dfs(board, i - <span class="number">1</span>, j); <span class="comment">// ä¸Š</span></span><br><span class="line">        dfs(board, i + <span class="number">1</span>, j); <span class="comment">// ä¸‹</span></span><br><span class="line">        dfs(board, i, j - <span class="number">1</span>); <span class="comment">// å·¦</span></span><br><span class="line">        dfs(board, i, j + <span class="number">1</span>); <span class="comment">// å³</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>





<h2 id="è§£æ³•äºŒï¼š-DFSéé€’å½’"><a href="#è§£æ³•äºŒï¼š-DFSéé€’å½’" class="headerlink" title="è§£æ³•äºŒï¼š DFSéé€’å½’"></a>è§£æ³•äºŒï¼š DFSéé€’å½’</h2><p>éé€’å½’çš„æ–¹å¼ï¼Œæˆ‘ä»¬éœ€è¦è®°å½•æ¯- -æ¬¡éå†è¿‡çš„ä½ç½® ï¼Œæˆ‘ä»¬ç”¨stack æ¥è®°å½•ï¼Œå› <br>ä¸ºå®ƒå…ˆè¿›åå‡ºçš„ç‰¹ç‚¹ã€‚è€Œä½ç½®æˆ‘ä»¬å®šä¹‰ä¸€ä¸€ä¸ªå†…éƒ¨ç±»Pos æ¥æ ‡è®°æ¨ªåæ ‡å’Œçºµå<br>æ ‡ã€‚æ³¨æ„çš„æ˜¯ï¼Œåœ¨å†™éé€’å½’çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ¯æ¬¡æŸ¥çœ‹stacké¡¶ï¼Œä½†æ˜¯å¹¶ä¸å‡ºstack<br>ï¼Œç›´åˆ°è¿™ä¸ªä½ç½®ä¸Šä¸‹å·¦å³éƒ½æœç´¢ä¸åˆ°çš„æ—¶å€™å‡ºStack</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Pos</span></span>{</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> j;</span><br><span class="line">        Pos(<span class="keyword">int</span> i, <span class="keyword">int</span> j) {</span><br><span class="line">            <span class="keyword">this</span>.i = i;</span><br><span class="line">            <span class="keyword">this</span>.j = j;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> m = board.length;</span><br><span class="line">        <span class="keyword">int</span> n = board[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) {</span><br><span class="line">                <span class="comment">// ä»è¾¹ç¼˜ç¬¬ä¸€ä¸ªæ˜¯oçš„å¼€å§‹æœç´¢</span></span><br><span class="line">                <span class="keyword">boolean</span> isEdge = i == <span class="number">0</span> || j == <span class="number">0</span> || i == m - <span class="number">1</span> || j == n - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (isEdge &amp;&amp; board[i][j] == <span class="string">'O'</span>) {</span><br><span class="line">                    dfs(board, i, j);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) {</span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">'O'</span>) {</span><br><span class="line">                    board[i][j] = <span class="string">'X'</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">'#'</span>) {</span><br><span class="line">                    board[i][j] = <span class="string">'O'</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>{</span><br><span class="line">        Stack&lt;Pos&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        stack.push(<span class="keyword">new</span> Pos(i, j));</span><br><span class="line">        board[i][j] = <span class="string">'#'</span>;</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty()) {</span><br><span class="line">            <span class="comment">// å–å‡ºå½“å‰stack é¡¶, ä¸å¼¹å‡º.</span></span><br><span class="line">            Pos current = stack.peek();</span><br><span class="line">            <span class="comment">// ä¸Š</span></span><br><span class="line">            <span class="keyword">if</span> (current.i - <span class="number">1</span> &gt;= <span class="number">0</span> </span><br><span class="line">                &amp;&amp; board[current.i - <span class="number">1</span>][current.j] == <span class="string">'O'</span>) {</span><br><span class="line">                stack.push(<span class="keyword">new</span> Pos(current.i - <span class="number">1</span>, current.j));</span><br><span class="line">                board[current.i - <span class="number">1</span>][current.j] = <span class="string">'#'</span>;</span><br><span class="line">              <span class="keyword">continue</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// ä¸‹</span></span><br><span class="line">            <span class="keyword">if</span> (current.i + <span class="number">1</span> &lt;= board.length - <span class="number">1</span> </span><br><span class="line">                &amp;&amp; board[current.i + <span class="number">1</span>][current.j] == <span class="string">'O'</span>) {</span><br><span class="line">                stack.push(<span class="keyword">new</span> Pos(current.i + <span class="number">1</span>, current.j));</span><br><span class="line">                board[current.i + <span class="number">1</span>][current.j] = <span class="string">'#'</span>;      </span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// å·¦</span></span><br><span class="line">            <span class="keyword">if</span> (current.j - <span class="number">1</span> &gt;= <span class="number">0</span> </span><br><span class="line">                &amp;&amp; board[current.i][current.j - <span class="number">1</span>] == <span class="string">'O'</span>) {</span><br><span class="line">                stack.push(<span class="keyword">new</span> Pos(current.i, current.j - <span class="number">1</span>));</span><br><span class="line">                board[current.i][current.j - <span class="number">1</span>] = <span class="string">'#'</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// å³</span></span><br><span class="line">            <span class="keyword">if</span> (current.j + <span class="number">1</span> &lt;= board[<span class="number">0</span>].length - <span class="number">1</span> </span><br><span class="line">                &amp;&amp; board[current.i][current.j + <span class="number">1</span>] == <span class="string">'O'</span>) {</span><br><span class="line">                stack.push(<span class="keyword">new</span> Pos(current.i, current.j + <span class="number">1</span>));</span><br><span class="line">                board[current.i][current.j + <span class="number">1</span>] = <span class="string">'#'</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// å¦‚æœä¸Šä¸‹å·¦å³éƒ½æœç´¢ä¸åˆ°,æœ¬æ¬¡æœç´¢ç»“æŸï¼Œå¼¹å‡ºstack</span></span><br><span class="line">            stack.pop();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="è§£æ³•ä¸‰ï¼šBFSéé€’å½’"><a href="#è§£æ³•ä¸‰ï¼šBFSéé€’å½’" class="headerlink" title="è§£æ³•ä¸‰ï¼šBFSéé€’å½’"></a>è§£æ³•ä¸‰ï¼šBFSéé€’å½’</h2><p>dfséé€’å½’çš„æ—¶å€™æˆ‘ä»¬ç”¨stackæ¥è®°å½•çŠ¶æ€ï¼Œè€Œbfs éé€’å½’,æˆ‘ä»¬åˆ™ç”¨é˜Ÿåˆ—æ¥è®°å½•çŠ¶æ€ã€‚å’Œdfs ä¸åŒçš„æ˜¯ï¼Œdfs ä¸­æœç´¢ä¸Šä¸‹å·¦å³,åªè¦æœç´¢åˆ°ä¸€ä¸€ä¸ªæ»¡è¶³æ¡ä»¶,æˆ‘ä»¬å°±é¡ºç€è¯¥æ–¹å‘ç»§ç»­æœç´¢,æ‰€ä»¥ä½ å¯ä»¥çœ‹åˆ°dfsä»£ç ä¸­ï¼Œåªè¦æ»¡è¶³æ¡ä»¶ï¼Œå°±å…¥Stack ,<br>ç„¶åcont inueæœ¬æ¬¡æœç´¢,è¿›è¡Œä¸‹ä¸€æ¬¡æœç´¢,ç›´åˆ°æœç´¢åˆ°æ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„æ—¶å€™å‡ºstack ã€‚è€Œdfs ä¸­ï¼Œæˆ‘ä»¬è¦æŠŠä¸Šä¸‹å·¦å³æ»¡è¶³æ¡ä»¶çš„éƒ½å…¥é˜Ÿï¼Œæ‰€ä»¥æœç´¢çš„æ—¶å€™å°±ä¸èƒ½continue ã€‚å¤§å®¶å¯ä»¥å¯¹æ¯”ä¸‹ä¸¤è€…çš„ä»£ç ï¼Œä½“ä¼šbfså’Œdfs çš„å·®å¼‚ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Pos</span></span>{</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> j;</span><br><span class="line">        Pos(<span class="keyword">int</span> i, <span class="keyword">int</span> j) {</span><br><span class="line">            <span class="keyword">this</span>.i = i;</span><br><span class="line">            <span class="keyword">this</span>.j = j;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> m = board.length;</span><br><span class="line">        <span class="keyword">int</span> n = board[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) {</span><br><span class="line">                <span class="comment">// ä»è¾¹ç¼˜ç¬¬ä¸€ä¸ªæ˜¯oçš„å¼€å§‹æœç´¢</span></span><br><span class="line">                <span class="keyword">boolean</span> isEdge = i == <span class="number">0</span> || j == <span class="number">0</span> || i == m - <span class="number">1</span> || j == n - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (isEdge &amp;&amp; board[i][j] == <span class="string">'O'</span>) {</span><br><span class="line">                    bfs(board, i, j);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) {</span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">'O'</span>) {</span><br><span class="line">                    board[i][j] = <span class="string">'X'</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">'#'</span>) {</span><br><span class="line">                    board[i][j] = <span class="string">'O'</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>{</span><br><span class="line">        Queue&lt;Pos&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        queue.add(<span class="keyword">new</span> Pos(i, j));</span><br><span class="line">        board[i][j] = <span class="string">'#'</span>;</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) {</span><br><span class="line">            Pos current = queue.poll();</span><br><span class="line">            <span class="comment">// ä¸Š</span></span><br><span class="line">            <span class="keyword">if</span> (current.i - <span class="number">1</span> &gt;= <span class="number">0</span> </span><br><span class="line">                &amp;&amp; board[current.i - <span class="number">1</span>][current.j] == <span class="string">'O'</span>) {</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pos(current.i - <span class="number">1</span>, current.j));</span><br><span class="line">                board[current.i - <span class="number">1</span>][current.j] = <span class="string">'#'</span>;</span><br><span class="line">              	<span class="comment">// æ²¡æœ‰continue.</span></span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// ä¸‹</span></span><br><span class="line">            <span class="keyword">if</span> (current.i + <span class="number">1</span> &lt;= board.length - <span class="number">1</span> </span><br><span class="line">                &amp;&amp; board[current.i + <span class="number">1</span>][current.j] == <span class="string">'O'</span>) {</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pos(current.i + <span class="number">1</span>, current.j));</span><br><span class="line">                board[current.i + <span class="number">1</span>][current.j] = <span class="string">'#'</span>;      </span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// å·¦</span></span><br><span class="line">            <span class="keyword">if</span> (current.j - <span class="number">1</span> &gt;= <span class="number">0</span> </span><br><span class="line">                &amp;&amp; board[current.i][current.j - <span class="number">1</span>] == <span class="string">'O'</span>) {</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pos(current.i, current.j - <span class="number">1</span>));</span><br><span class="line">                board[current.i][current.j - <span class="number">1</span>] = <span class="string">'#'</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// å³</span></span><br><span class="line">            <span class="keyword">if</span> (current.j + <span class="number">1</span> &lt;= board[<span class="number">0</span>].length - <span class="number">1</span> </span><br><span class="line">                &amp;&amp; board[current.i][current.j + <span class="number">1</span>] == <span class="string">'O'</span>) {</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pos(current.i, current.j + <span class="number">1</span>));</span><br><span class="line">                board[current.i][current.j + <span class="number">1</span>] = <span class="string">'#'</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="BFS-é€’å½’"><a href="#BFS-é€’å½’" class="headerlink" title="BFS é€’å½’"></a>BFS é€’å½’</h2><p><code>bfs</code> ä¸€èˆ¬æˆ‘ä»¬ä¸ä¼šå»æ¶‰åŠï¼Œè€Œä¸”æ¯”è¾ƒç»•ï¼Œä¹‹å‰æˆ‘ä»¬å”¯ä¸€ <code>A</code> è¿‡çš„ç”¨ <code>bfs</code> é€’å½’çš„æ–¹å¼æ˜¯å±‚åºéå†äºŒå‰æ ‘çš„æ—¶å€™å¯ä»¥ç”¨é€’å½’çš„æ–¹å¼ã€‚</p>
<h2 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="headerlink" title="å¹¶æŸ¥é›†"></a>å¹¶æŸ¥é›†</h2><p>å¹¶æŸ¥é›†è¿™ç§æ•°æ®ç»“æ„å¥½åƒå¤§å®¶ä¸å¤ªå¸¸ç”¨ï¼Œå®é™…ä¸Šå¾ˆæœ‰ç”¨ï¼Œæˆ‘åœ¨å®é™…çš„ production code ä¸­ç”¨è¿‡å¹¶æŸ¥é›†ã€‚å¹¶æŸ¥é›†å¸¸ç”¨æ¥è§£å†³è¿é€šæ€§çš„é—®é¢˜ï¼Œå³å°†ä¸€ä¸ªå›¾ä¸­è¿é€šçš„éƒ¨åˆ†åˆ’åˆ†å‡ºæ¥ã€‚å½“æˆ‘ä»¬åˆ¤æ–­å›¾ä¸­ä¸¤ä¸ªç‚¹ä¹‹é—´æ˜¯å¦å­˜åœ¨è·¯å¾„æ—¶ï¼Œå°±å¯ä»¥æ ¹æ®åˆ¤æ–­ä»–ä»¬æ˜¯å¦åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸã€‚ è€Œè¿™é“é¢˜æˆ‘ä»¬å…¶å®æ±‚è§£çš„å°±æ˜¯å’Œè¾¹ç•Œçš„ O åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸçš„çš„é—®é¢˜ã€‚</p>
<p>å¹¶æŸ¥é›†çš„æ€æƒ³å°±æ˜¯ï¼ŒåŒä¸€ä¸ªè¿é€šåŒºåŸŸå†…çš„æ‰€æœ‰ç‚¹çš„æ ¹èŠ‚ç‚¹æ˜¯åŒä¸€ä¸ªã€‚å°†æ¯ä¸ªç‚¹æ˜ å°„æˆä¸€ä¸ªæ•°å­—ã€‚å…ˆå‡è®¾æ¯ä¸ªç‚¹çš„æ ¹èŠ‚ç‚¹å°±æ˜¯ä»–ä»¬è‡ªå·±ï¼Œç„¶åæˆ‘ä»¬ä»¥æ­¤è¾“å…¥è¿é€šçš„ç‚¹å¯¹ï¼Œç„¶åå°†å…¶ä¸­ä¸€ä¸ªç‚¹çš„æ ¹èŠ‚ç‚¹èµ‹æˆå¦ä¸€ä¸ªèŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹ï¼Œè¿™æ ·è¿™ä¸¤ä¸ªç‚¹æ‰€åœ¨è¿é€šåŒºåŸŸåˆç›¸äº’è¿é€šäº†ã€‚<br>å¹¶æŸ¥é›†çš„ä¸»è¦æ“ä½œæœ‰ï¼š</p>
<ul>
<li><code>find(int m)</code>ï¼šè¿™æ˜¯å¹¶æŸ¥é›†çš„åŸºæœ¬æ“ä½œï¼ŒæŸ¥æ‰¾ m çš„æ ¹èŠ‚ç‚¹ã€‚</li>
<li><code>isConnected(int m,int n)</code>ï¼šåˆ¤æ–­ mï¼Œn ä¸¤ä¸ªç‚¹æ˜¯å¦åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸã€‚</li>
<li><code>union(int m,int n)</code>:åˆå¹¶ mï¼Œï¼Œn ä¸¤ä¸ªç‚¹æ‰€åœ¨çš„è¿é€šåŒºåŸŸã€‚</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnionFind</span> </span>{</span><br><span class="line">    <span class="keyword">int</span>[] parents;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UnionFind</span><span class="params">(<span class="keyword">int</span> totalNodes)</span> </span>{</span><br><span class="line">        parents = <span class="keyword">new</span> <span class="keyword">int</span>[totalNodes];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totalNodes; i++) {</span><br><span class="line">            parents[i] = i;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">		<span class="comment">// åˆå¹¶è¿é€šåŒºåŸŸæ˜¯é€šè¿‡findæ¥æ“ä½œçš„, å³çœ‹è¿™ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯ä¸æ˜¯åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸå†….</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> node1, <span class="keyword">int</span> node2)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> root1 = find(node1);</span><br><span class="line">        <span class="keyword">int</span> root2 = find(node2);</span><br><span class="line">        <span class="keyword">if</span> (root1 != root2) {</span><br><span class="line">            parents[root2] = root1;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> node)</span> </span>{</span><br><span class="line">        <span class="keyword">while</span> (parents[node] != node) {</span><br><span class="line">            <span class="comment">// å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ æŒ‡å‘çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹.</span></span><br><span class="line">            <span class="comment">// ä¿è¯ä¸€ä¸ªè¿é€šåŒºåŸŸæœ€ç»ˆçš„parentsåªæœ‰ä¸€ä¸ª.</span></span><br><span class="line">            parents[node] = parents[parents[node]];</span><br><span class="line">            node = parents[node];</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isConnected</span><span class="params">(<span class="keyword">int</span> node1, <span class="keyword">int</span> node2)</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> find(node1) == find(node2);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬çš„æ€è·¯æ˜¯æŠŠæ‰€æœ‰è¾¹ç•Œä¸Šçš„ O çœ‹åšä¸€ä¸ªè¿é€šåŒºåŸŸã€‚é‡åˆ° O å°±æ‰§è¡Œå¹¶æŸ¥é›†åˆå¹¶æ“ä½œï¼Œè¿™æ ·æ‰€æœ‰çš„ O å°±ä¼šè¢«åˆ†æˆä¸¤ç±»</p>
<ul>
<li>å’Œè¾¹ç•Œä¸Šçš„ O åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸå†…çš„ã€‚è¿™äº› Oæˆ‘ä»¬ä¿ç•™ã€‚</li>
<li>ä¸å’Œè¾¹ç•Œä¸Šçš„ O åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸå†…çš„ã€‚è¿™äº› O å°±æ˜¯è¢«åŒ…å›´çš„ï¼Œæ›¿æ¢ã€‚</li>
</ul>
<p>ç”±äºå¹¶æŸ¥é›†æˆ‘ä»¬ä¸€èˆ¬ç”¨ä¸€ç»´æ•°ç»„æ¥è®°å½•ï¼Œæ–¹ä¾¿æŸ¥æ‰¾ parantsï¼Œæ‰€ä»¥æˆ‘ä»¬å°†äºŒç»´åæ ‡ç”¨ node å‡½æ•°è½¬åŒ–ä¸ºä¸€ç»´åæ ‡ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> rows = board.length;</span><br><span class="line">        <span class="keyword">int</span> cols = board[<span class="number">0</span>].length;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç”¨ä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹, è¾¹ç•Œä¸Šçš„O çš„çˆ¶èŠ‚ç‚¹éƒ½æ˜¯è¿™ä¸ªè™šæ‹ŸèŠ‚ç‚¹</span></span><br><span class="line">        UnionFind uf = <span class="keyword">new</span> UnionFind(rows * cols + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> dummyNode = rows * cols;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cols; j++) {</span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">'O'</span>) {</span><br><span class="line">                    <span class="comment">// é‡åˆ°Oè¿›è¡Œå¹¶æŸ¥é›†æ“ä½œåˆå¹¶</span></span><br><span class="line">                    <span class="keyword">if</span> (i == <span class="number">0</span> || i == rows - <span class="number">1</span> || j == <span class="number">0</span> || j == cols - <span class="number">1</span>) {</span><br><span class="line">                        <span class="comment">// è¾¹ç•Œä¸Šçš„O,æŠŠå®ƒå’ŒdummyNode åˆå¹¶æˆä¸€ä¸ªè¿é€šåŒºåŸŸ.</span></span><br><span class="line">                        uf.union(node(i, j), dummyNode);</span><br><span class="line">                    } <span class="keyword">else</span> {</span><br><span class="line">                        <span class="comment">// å’Œä¸Šä¸‹å·¦å³åˆå¹¶æˆä¸€ä¸ªè¿é€šåŒºåŸŸ.</span></span><br><span class="line">                        <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; board[i - <span class="number">1</span>][j] == <span class="string">'O'</span>)</span><br><span class="line">                            uf.union(node(i, j), node(i - <span class="number">1</span>, j));</span><br><span class="line">                        <span class="keyword">if</span> (i &lt; rows - <span class="number">1</span> &amp;&amp; board[i + <span class="number">1</span>][j] == <span class="string">'O'</span>)</span><br><span class="line">                            uf.union(node(i, j), node(i + <span class="number">1</span>, j));</span><br><span class="line">                        <span class="keyword">if</span> (j &gt; <span class="number">0</span> &amp;&amp; board[i][j - <span class="number">1</span>] == <span class="string">'O'</span>)</span><br><span class="line">                            uf.union(node(i, j), node(i, j - <span class="number">1</span>));</span><br><span class="line">                        <span class="keyword">if</span> (j &lt; cols - <span class="number">1</span> &amp;&amp; board[i][j + <span class="number">1</span>] == <span class="string">'O'</span>)</span><br><span class="line">                            uf.union(node(i, j), node(i, j + <span class="number">1</span>));</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cols; j++) {</span><br><span class="line">                <span class="keyword">if</span> (uf.isConnected(node(i, j), dummyNode)) {</span><br><span class="line">                    <span class="comment">// å’ŒdummyNode åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸçš„,é‚£ä¹ˆå°±æ˜¯Oï¼›</span></span><br><span class="line">                    board[i][j] = <span class="string">'O'</span>;</span><br><span class="line">                } <span class="keyword">else</span> {</span><br><span class="line">                    board[i][j] = <span class="string">'X'</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">node</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> i * cols + j;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>é¢˜è§£å‡ºè‡ª@<a href="https://leetcode-cn.com/problems/surrounded-regions/solution/bfsdi-gui-dfsfei-di-gui-dfsbing-cha-ji-by-ac_pipe/" target="_blank" rel="noopener">Ac_pipe</a></strong></p>
<h3 id="æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"><a href="#æœ€åï¼Œä¸ç»å†é£é›¨-æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼-æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼" class="headerlink" title="æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼"></a><strong>æœ€åï¼Œä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</strong></h3><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
        <tag>BFS</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®°ä¹‹pipçš„åŸºç¡€ä½¿ç”¨</title>
    <url>/pip/</url>
    <content><![CDATA[<h2 id="ç²—ç•¥å­¦ä¹ äº†pipçš„åŸºç¡€çŸ¥è¯†ï¼Œä¾¿å°†æ­¤ä½œä¸ºå­¦ä¹ ç¬”è®°è®°å½•ä¸‹æ¥åŒæ ·å¸Œæœ›åˆ†äº«çš„èƒ½å¸®åˆ°å¤§å®¶ï¼"><a href="#ç²—ç•¥å­¦ä¹ äº†pipçš„åŸºç¡€çŸ¥è¯†ï¼Œä¾¿å°†æ­¤ä½œä¸ºå­¦ä¹ ç¬”è®°è®°å½•ä¸‹æ¥åŒæ ·å¸Œæœ›åˆ†äº«çš„èƒ½å¸®åˆ°å¤§å®¶ï¼" class="headerlink" title="ç²—ç•¥å­¦ä¹ äº†pipçš„åŸºç¡€çŸ¥è¯†ï¼Œä¾¿å°†æ­¤ä½œä¸ºå­¦ä¹ ç¬”è®°è®°å½•ä¸‹æ¥åŒæ ·å¸Œæœ›åˆ†äº«çš„èƒ½å¸®åˆ°å¤§å®¶ï¼"></a>ç²—ç•¥å­¦ä¹ äº†pipçš„åŸºç¡€çŸ¥è¯†ï¼Œä¾¿å°†æ­¤ä½œä¸ºå­¦ä¹ ç¬”è®°è®°å½•ä¸‹æ¥åŒæ ·å¸Œæœ›åˆ†äº«çš„èƒ½å¸®åˆ°å¤§å®¶ï¼</h2><p>å¦‚æœè‡ªå·±ç”µè„‘æ²¡æœ‰pip,å°æ¾ˆåœ¨æ­¤åˆ†äº«å¦‚ä½•å®‰è£…ï¼Œè§£å†³åŠæ³•å¾ˆå¤šå‘¢</p>
<p>1ã€ä½¿ç”¨easy_installå®‰è£…ï¼š <a id="more"></a>å„ç§è¿›å…¥åˆ°easy_installè„šæœ¬çš„ç›®å½•ä¸‹ï¼Œç„¶åè¿è¡Œeasy_inatall pip</p>
<p>2ã€ä½¿ç”¨get-pip.pyå®‰è£…ï¼š åœ¨ä¸‹é¢çš„urlä¸‹è½½get-pip.pyè„šæœ¬ curl <a href="https://bootstrap.pypa.io/get-pip.py" target="_blank" rel="noopener">https://bootstrap.pypa.io/get-pip.py</a> -o get-pip.py ç„¶åè¿è¡Œï¼špython get-pip.py è¿™ä¸ªè„šæœ¬ä¼šåŒæ—¶å®‰è£…setuptoolså’Œwheelå·¥å…·ã€‚</p>
<p>3ã€åœ¨linuxä¸‹ä½¿ç”¨åŒ…ç®¡ç†å·¥å…·å®‰è£…pipï¼š ä¾‹å¦‚ï¼Œubuntuä¸‹ï¼š<code>sudo apt-get install python-pip</code>ã€‚Fedoraç³»ä¸‹ï¼šsudo yum install python-pip</p>
<p>4ã€åœ¨windowsä¸‹å®‰è£…pipï¼š åœ¨C:\python27\scirptsä¸‹è¿è¡Œ<code>easy_install pip</code>è¿›è¡Œå®‰è£…ã€‚<br>åˆšå®‰è£…å®Œæ¯•çš„pipå¯èƒ½éœ€è¦å…ˆå‡çº§ä¸€ä¸‹è‡ªèº«ï¼š åœ¨Linuxæˆ–masOSä¸­ï¼špip install -U pip åœ¨windowsä¸­ï¼š<code>python -m pip install -U pip</code></p>
<h2 id="ä¸€ã€åŸºç¡€ä½¿ç”¨"><a href="#ä¸€ã€åŸºç¡€ä½¿ç”¨" class="headerlink" title="ä¸€ã€åŸºç¡€ä½¿ç”¨"></a>ä¸€ã€åŸºç¡€ä½¿ç”¨</h2><p>1ã€åœ¨å‘½ä»¤è¡Œä¸‹ï¼Œè¾“å…¥pipï¼Œå›è½¦å¯ä»¥çœ‹åˆ°å¸®åŠ©è¯´æ˜ï¼š<br><img src="https://img-blog.csdnimg.cn/2020032115483851.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>2ã€ä»¥å®‰è£…pillowæ¨¡å—ä¸ºä¾‹ã€‚è¾“å…¥pip install pillowï¼ˆæˆ‘ç»è¿‡äº†æ¢æºï¼‰ï¼Œå®‰è£…è¿‡ç¨‹å¦‚ä¸‹å›¾<br><img src="https://img-blog.csdnimg.cn/20200321155107882.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="å‘½ä»¤é›†é”¦"><a href="#å‘½ä»¤é›†é”¦" class="headerlink" title="å‘½ä»¤é›†é”¦"></a>å‘½ä»¤é›†é”¦</h2><p>3ã€ æŒ‡å®šç‰ˆæœ¬å®‰è£…<br>å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„packageï¼Œé€šè¿‡ä½¿ç”¨==, &gt;=, &lt;=, &gt;, &lt;æ¥æŒ‡å®šä¸€ä¸ªç‰ˆæœ¬å·ã€‚ <code>pip install 'Markdown&lt;2.0' pip install 'Markdown&gt;2.0,&lt;2.0.3</code></p>
<p>4ã€å¸è½½å·²å®‰è£…çš„åº“<br><code>pip uninstall pillow</code></p>
<p>5ã€ åˆ—å‡ºå·²ç»å®‰è£…çš„åº“<br><code>pip list</code></p>
<p>6ã€ å°†å·²ç»å®‰è£…çš„åº“åˆ—è¡¨ä¿å­˜åˆ°æ–‡æœ¬æ–‡ä»¶ä¸­<br><code>pip freeze &gt; requirements.txt</code></p>
<p>è¿™ä¸ªåŠŸèƒ½éå¸¸å¸¸ç”¨ã€å¥½ç”¨ï¼ç»å¸¸è¢«ç”¨ä½œé¡¹ç›®ç¯å¢ƒä¾èµ–æ–‡ä»¶ã€‚</p>
<p>7ã€ æ ¹æ®ä¾èµ–æ–‡ä»¶æ‰¹é‡å®‰è£…åº“<br><code>pip install -r requirements.txt</code></p>
<p>ä½¿ç”¨ä¸Šé¢çš„txtæ–‡ä»¶ï¼Œæ‰¹é‡å®‰è£…ç¬¬ä¸‰æ–¹åº“ã€‚</p>
<p>8ã€ä½¿ç”¨wheelæ–‡ä»¶å®‰è£…<br>é™¤äº†ä½¿ç”¨ä¸Šé¢çš„æ–¹å¼è”ç½‘è¿›è¡Œå®‰è£…å¤–ï¼Œè¿˜å¯ä»¥å°†å®‰è£…åŒ…ä¹Ÿå°±æ˜¯wheelæ ¼å¼çš„æ–‡ä»¶ï¼Œä¸‹è½½åˆ°æœ¬åœ°ï¼Œç„¶åä½¿ç”¨pipè¿›è¡Œå®‰è£…ã€‚æ¯”å¦‚æˆ‘åœ¨PYPIä¸Šæå‰ä¸‹è½½çš„pillowåº“çš„wheelæ–‡ä»¶ï¼Œåç¼€åä¸ºwhlã€‚</p>
<p>å¯ä»¥ä½¿ç”¨<code>pip install pillow-x.xxxxxxxx.whl</code>çš„æ–¹å¼ç¦»çº¿è¿›è¡Œå®‰è£…</p>
<p>9ã€pipæºçš„é€‰æ‹©<br>å¾ˆå¤šæ—¶å€™ï¼Œæ¯”å¦‚ç½‘ç»œä¸ç»™åŠ›ï¼Œè¿æ¥è¶…æ—¶ã€é˜²ç«å¢™é˜»æŒ¡ç­‰ç­‰å„ç§åŸå› ï¼Œæˆ‘ä»¬å¯èƒ½æ— æ³•ä»Pythonå®˜æ–¹çš„PyPiä»“åº“è¿›è¡Œpipå®‰è£…ï¼Œè¿™æ—¶å€™å¯ä»¥é€‰æ‹©å›½å†…çš„ç¬¬ä¸‰æ–¹æºï¼Œæ¨èä½¿ç”¨è±†ç“£æºï¼Œé€Ÿåº¦ä¸é”™ã€‚</p>
<p>æ€»ç»“ï¼š<br>pip æ˜¯ç›®å‰ python åŒ…ç®¡ç†çš„äº‹å®æ ‡å‡†ï¼Œ2008å¹´å‘å¸ƒã€‚å®ƒè¢«ç”¨ä½œ easy_install çš„æ›¿ä»£å“ï¼Œä½†æ˜¯å®ƒä»æœ‰å¤§é‡çš„åŠŸèƒ½å»ºç«‹åœ¨ setuptools ç»„ä»¶ä¹‹ä¸Šã€‚å…·æœ‰ååˆ†å¤§çš„ä¼˜åŠ¿ï¼Œå€¼å¾—æœ‹å‹ä»¬å»å­¦ä¹ ã€‚</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>åç«¯</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>pip</tag>
      </tags>
  </entry>
  <entry>
    <title>python å®‰è£…æ¨¡å—ä¹‹pip install +æ¨¡å—åçš„æ¢æºå†™æ³•</title>
    <url>/py_pip/</url>
    <content><![CDATA[<p>1ã€é‡‡ç”¨å›½å†…æºï¼ŒåŠ é€Ÿä¸‹è½½æ¨¡å—çš„é€Ÿåº¦<br>2ã€å¸¸ç”¨pipæºï¼ˆä¸Šä¸€ç¯‡åšå®¢ä»‹ç»è¿‡ï¼‰ï¼š<br>    â€“ è±†ç“£ï¼š<a href="https://pypi.douban.com/simple" target="_blank" rel="noopener">https://pypi.douban.com/simple</a></p>
<a id="more"></a>

<p>â€‹    â€“ é˜¿é‡Œï¼š<a href="https://mirrors.aliyun.com/pypi/simple" target="_blank" rel="noopener">https://mirrors.aliyun.com/pypi/simple</a><br>3ã€åŠ é€Ÿå®‰è£…çš„å‘½ä»¤ï¼š<br>â€‹    â€“ &gt;: pip install -i <a href="https://pypi.douban.com/simple" target="_blank" rel="noopener">https://pypi.douban.com/simple</a> æ¨¡å—å</p>
<h2 id="æ°¸ä¹…é…ç½®ä¸‹è½½æº"><a href="#æ°¸ä¹…é…ç½®ä¸‹è½½æº" class="headerlink" title="æ°¸ä¹…é…ç½®ä¸‹è½½æº"></a>æ°¸ä¹…é…ç½®ä¸‹è½½æº</h2><h2 id="Windowsç³»ç»Ÿä¸‹"><a href="#Windowsç³»ç»Ÿä¸‹" class="headerlink" title="Windowsç³»ç»Ÿä¸‹"></a>Windowsç³»ç»Ÿä¸‹</h2><p>1ã€æ–‡ä»¶ç®¡ç†å™¨æ–‡ä»¶è·¯å¾„åœ°å€æ æ•²ï¼š%APPDATA% å›è½¦ï¼Œå¿«é€Ÿè¿›å…¥ C:\Users\ç”µè„‘ç”¨æˆ·\AppData\Roaming æ–‡ä»¶å¤¹ä¸­<br>2ã€æ–°å»º pip æ–‡ä»¶å¤¹å¹¶åœ¨æ–‡ä»¶å¤¹ä¸­æ–°å»º pip.ini é…ç½®æ–‡ä»¶<br>3ã€æ–°å¢ pip.ini é…ç½®æ–‡ä»¶å†…å®¹</p>
<h2 id="MacOSã€Linux"><a href="#MacOSã€Linux" class="headerlink" title="MacOSã€Linux"></a>MacOSã€Linux</h2><p>1ã€åœ¨ç”¨æˆ·æ ¹ç›®å½•ä¸‹ ~ ä¸‹åˆ›å»º .pip éšè—æ–‡ä»¶å¤¹ï¼Œå¦‚æœå·²ç»æœ‰äº†å¯ä»¥è·³è¿‡<br>    <code>-- mkdir ~/.pip</code><br>2ã€è¿›å…¥ .pip éšè—æ–‡ä»¶å¤¹å¹¶åˆ›å»º pip.conf é…ç½®æ–‡ä»¶<br>    <code>-- cd ~/.pip &amp;&amp; touch pip.conf</code><br>3ã€å¯åŠ¨ Finder(è®¿è¾¾) æŒ‰ cmd+shift+g æ¥çš„è¿›å…¥ï¼Œè¾“å…¥ ~/.pip å›è½¦è¿›å…¥<br>4ã€æ–°å¢ pip.conf é…ç½®æ–‡ä»¶å†…å®¹</p>
<h2 id="é…ç½®æ–‡ä»¶å†…å®¹"><a href="#é…ç½®æ–‡ä»¶å†…å®¹" class="headerlink" title="é…ç½®æ–‡ä»¶å†…å®¹"></a>é…ç½®æ–‡ä»¶å†…å®¹</h2><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url = http://pypi.douban.com/simple</span><br><span class="line">[install]</span><br><span class="line">use-mirrors =true</span><br><span class="line">mirrors =http://pypi.douban.com/simple/</span><br><span class="line">trusted-host =pypi.douban.com</span><br></pre></td></tr></tbody></table></figure><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>åç«¯</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>pip</tag>
        <tag>é•œåƒ</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³è™šæ‹Ÿæœºä¸­linuxç³»ç»Ÿæ— æ³•ä½¿ç”¨æœ¬æœºæ— çº¿wifiè”ç½‘çš„é—®é¢˜</title>
    <url>/linux_wifi/</url>
    <content><![CDATA[<p>æœ€è¿‘ä½¿ç”¨Linuxç³»ç»Ÿæ¥ç©ä¸€ç©ï¼Œæ‰¾åˆ°äº†å›½äº§Deepping,åœ¨å®‰è£…åŒç³»ç»Ÿçš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†ä¸€ç³»åˆ—çš„é”™è¯¯ï¼Œç»“æœéƒ½æ˜¯ç¬¬ä¸€æ¬¡å¼€æœºèƒ½ä½¿ç”¨ï¼Œç¬¬äºŒæ¬¡å¼€æœºéƒ½æŒ‚èµ·åœ¨äº†å¼€æœºé¡µé¢ï¼Œè¯•è¿‡äº†å¾ˆå¤šç§æ–¹æ³•ï¼Œæ€»ç»“å‡ºæ¥è¿˜æ˜¯è‡ªå·±çš„ç¬”è®°æœ¬å¤ªlowï¼Œæ˜¾å¡ä¸è¡Œå“ï¼Œåªèƒ½èƒ½è¢«è¿«è½¬æˆ˜VMware Workstation ï¼ŒVMware Workstationå®‰è£…ç³»ç»Ÿååˆ†ç®€å•ï¼Œç®€å•çš„nextå°±å®Œæˆäº†ï¼Œæˆ‘å®‰è£…äº†ä¸€ä¸ªdeepping,ä¸€ä¸ªUbuntuï¼Œåœ¨ä½¿ç”¨Ubuntuçš„è¿‡ç¨‹ä¸­æ²¡å•¥æ¯›ç—…ï¼Œä½†å°±æ˜¯deepingç³»ç»Ÿæ— æ³•åšåˆ°ä¸Windowsçš„æ— çº¿ç½‘ç»œè¿æ¥ï¼ˆå› ä¸ºæˆ‘æˆ‘æ²¡æœ‰æ— çº¿ç½‘å¡ï¼Œä¹Ÿæ²¡æœ‰ç½‘çº¿ï¼Œåªèƒ½è¿æ¥å±€åŸŸç½‘ï¼Œå“ï¼‰,å¯¼è‡´ä¸èƒ½ä¸Šç½‘ï¼Œåæ¥åœ¨ç½‘ä¸ŠæŸ¥é˜…èµ„æ–™ï¼Œæ•´ç†å‡ºæ¥äº†è¿™ä¹ˆä¸€ç¯‡è§£å†³çš„åšæ–‡ï¼Œå¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚</p>
<a id="more"></a>

<p>æ³¨ï¼š<br>deeppingæ“ä½œç³»ç»Ÿé•œåƒ;<br><a href="%E9%93%BE%E6%8E%A5%EF%BC%9Ahttps://pan.baidu.com/s/1OUKz32XhVeM2L4r25lFzvw">ç½‘ç›˜ä¸‹è½½åœ°å€</a><br>æå–ç ï¼š3fgz</p>
<h2 id="1-æ‰“å¼€Win10ç½‘ç»œé…ç½®ï¼Œæ“ä½œå¦‚ä¸‹ï¼š"><a href="#1-æ‰“å¼€Win10ç½‘ç»œé…ç½®ï¼Œæ“ä½œå¦‚ä¸‹ï¼š" class="headerlink" title="1. æ‰“å¼€Win10ç½‘ç»œé…ç½®ï¼Œæ“ä½œå¦‚ä¸‹ï¼š"></a>1. æ‰“å¼€Win10ç½‘ç»œé…ç½®ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</h2><p><img src="https://img-blog.csdnimg.cn/20200321105219605.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20200321105227900.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="2-åœ¨è™šæ‹Ÿæœºèœå•ä¸­è¿›è¡Œé…ç½®ï¼Œé€‰æ‹©ç¼–è¾‘-gt-è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨-æŒ‰ç…§ä»¥ä¸‹æ–¹æ³•è¿›è¡Œé…ç½®ï¼š"><a href="#2-åœ¨è™šæ‹Ÿæœºèœå•ä¸­è¿›è¡Œé…ç½®ï¼Œé€‰æ‹©ç¼–è¾‘-gt-è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨-æŒ‰ç…§ä»¥ä¸‹æ–¹æ³•è¿›è¡Œé…ç½®ï¼š" class="headerlink" title="2. åœ¨è™šæ‹Ÿæœºèœå•ä¸­è¿›è¡Œé…ç½®ï¼Œé€‰æ‹©ç¼–è¾‘->è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨ ,æŒ‰ç…§ä»¥ä¸‹æ–¹æ³•è¿›è¡Œé…ç½®ï¼š"></a>2. åœ¨è™šæ‹Ÿæœºèœå•ä¸­è¿›è¡Œé…ç½®ï¼Œé€‰æ‹©ç¼–è¾‘-&gt;è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨ ,æŒ‰ç…§ä»¥ä¸‹æ–¹æ³•è¿›è¡Œé…ç½®ï¼š</h2><p><img src="https://img-blog.csdnimg.cn/20200321105236917.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p><img src="https://img-blog.csdnimg.cn/20200321105245791.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="3-è®¾ç½®Linuxç³»ç»Ÿçš„ç½‘ç»œé€‚é…å™¨ï¼Œä½¿ç”¨NATæ¨¡å¼ï¼Œå¦‚ä¸‹æ“ä½œï¼š"><a href="#3-è®¾ç½®Linuxç³»ç»Ÿçš„ç½‘ç»œé€‚é…å™¨ï¼Œä½¿ç”¨NATæ¨¡å¼ï¼Œå¦‚ä¸‹æ“ä½œï¼š" class="headerlink" title="3. è®¾ç½®Linuxç³»ç»Ÿçš„ç½‘ç»œé€‚é…å™¨ï¼Œä½¿ç”¨NATæ¨¡å¼ï¼Œå¦‚ä¸‹æ“ä½œï¼š"></a>3. è®¾ç½®Linuxç³»ç»Ÿçš„ç½‘ç»œé€‚é…å™¨ï¼Œä½¿ç”¨NATæ¨¡å¼ï¼Œå¦‚ä¸‹æ“ä½œï¼š</h2><p><img src="https://img-blog.csdnimg.cn/20200321105257783.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="4-è¿›å…¥linux-ç³»ç»Ÿä¸­è¿›è¡Œé…ç½®ï¼Œç‚¹å‡»ç³»ç»Ÿ-gt-ç½‘ç»œè®¾ç½®ï¼Œå¹¶è¿›è¡Œå¦‚ä¸‹è®¾ç½®ï¼š"><a href="#4-è¿›å…¥linux-ç³»ç»Ÿä¸­è¿›è¡Œé…ç½®ï¼Œç‚¹å‡»ç³»ç»Ÿ-gt-ç½‘ç»œè®¾ç½®ï¼Œå¹¶è¿›è¡Œå¦‚ä¸‹è®¾ç½®ï¼š" class="headerlink" title="4. è¿›å…¥linux ç³»ç»Ÿä¸­è¿›è¡Œé…ç½®ï¼Œç‚¹å‡»ç³»ç»Ÿ->ç½‘ç»œè®¾ç½®ï¼Œå¹¶è¿›è¡Œå¦‚ä¸‹è®¾ç½®ï¼š"></a>4. è¿›å…¥linux ç³»ç»Ÿä¸­è¿›è¡Œé…ç½®ï¼Œç‚¹å‡»ç³»ç»Ÿ-&gt;ç½‘ç»œè®¾ç½®ï¼Œå¹¶è¿›è¡Œå¦‚ä¸‹è®¾ç½®ï¼š</h2><p><img src="https://img-blog.csdnimg.cn/20200321105306410.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="5-é‡å¯Linuxç³»ç»Ÿï¼Œå®Œæˆé…ç½®è¿‡ç¨‹ï¼›"><a href="#5-é‡å¯Linuxç³»ç»Ÿï¼Œå®Œæˆé…ç½®è¿‡ç¨‹ï¼›" class="headerlink" title="5. é‡å¯Linuxç³»ç»Ÿï¼Œå®Œæˆé…ç½®è¿‡ç¨‹ï¼›"></a>5. é‡å¯Linuxç³»ç»Ÿï¼Œå®Œæˆé…ç½®è¿‡ç¨‹ï¼›</h2><p>ä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼ï¼</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>Linux</category>
        <category>Debug</category>
      </categories>
      <tags>
        <tag>è™šæ‹Ÿæœº</tag>
        <tag>Linux</tag>
        <tag>wifi</tag>
        <tag>è”ç½‘</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³pythonè¯­è¨€çš„å·¥å…·pycharmä»¥åŠWindowsç”µè„‘å®‰è£…pygameæ¨¡å—çš„é—®é¢˜</title>
    <url>/pygame_py/</url>
    <content><![CDATA[<p>äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨pythonï¼Œpythonä½œä¸ºä¸€é—¨å½“ä»Šæ—¶ä»£æ½®æµæ€§çš„è¯­è¨€ï¼Œå·²ç»æˆä¸ºå¤§å¤šæ•°çš„å¹´è½»ç¨‹åºçŒ¿ä»¬å‘å¾€çš„ç›®æ ‡ï¼Œpythonä¸­æœ‰è®¸å¤šçš„åº“ï¼Œ</p>
<p>å…¶ä¸­æœ‰ä¸€ä¸ªpygameåº“æ˜¯ä½œä¸ºå¼€å‘2Dæ¸¸æˆå¿…ä¸å¯å°‘çš„å¼€å‘åº“ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå®Œæ•´çš„2Dæ¸¸æˆæ¨¡å—ï¼Œç›¸ä¿¡å¾ˆå¤šå°ä¼™ä¼´ç”¨pythonå¼€å‘æ¸¸æˆä¸€å®šå¬è¯´è¿‡å®ƒã€‚</p>
<a id="more"></a>

<p>ä½†æ˜¯å®‰è£…pygameæ—¶æ€»æ˜¯ä¼šå‡ºç°å„ç§å„æ ·çš„é—®é¢˜ï¼Œä½¿ç”¨pipå®‰è£…pygameæç¤ºå‡ºé”™ã€‚</p>
<p>ä¸‹é¢å°æ¾ˆå°±æ‰‹æŠŠæ‰‹æ•™å¤§å®¶æ€ä¹ˆæ ·ä»å¤´åˆ°å°¾å®‰è£…pygameè¿™ä¸ª2Dæ¸¸æˆæ¨¡å—ã€‚</p>
<p>é¦–å…ˆï¼Œç¬¬ä¸€ä¸ªåŸå§‹çš„ç¬¨æ–¹æ³•</p>
<p>ï¼ˆå®‰è£…pygameçš„å‰ææ˜¯ä½ çš„ç”µè„‘é‡Œé¢æœ‰pythonç¼–è¯‘å™¨å“¦ï¼‰</p>
<h2 id="1ã€åœ¨pycharmä¸­ç‚¹å‡»fieâ€”â€”-gt-settingâ€”â€”-gt-Project-Interpreter"><a href="#1ã€åœ¨pycharmä¸­ç‚¹å‡»fieâ€”â€”-gt-settingâ€”â€”-gt-Project-Interpreter" class="headerlink" title="1ã€åœ¨pycharmä¸­ç‚¹å‡»fieâ€”â€”>settingâ€”â€”>Project Interpreter"></a>1ã€åœ¨pycharmä¸­ç‚¹å‡»fieâ€”â€”&gt;settingâ€”â€”&gt;Project Interpreter</h2><p><img src="https://img-blog.csdnimg.cn/20200321103954196.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="2ã€ç‚¹å‡»åŠ å·ï¼Œé‡Œé¢æœç´¢pygame-åç‚¹å‡»å®‰è£…"><a href="#2ã€ç‚¹å‡»åŠ å·ï¼Œé‡Œé¢æœç´¢pygame-åç‚¹å‡»å®‰è£…" class="headerlink" title="2ã€ç‚¹å‡»åŠ å·ï¼Œé‡Œé¢æœç´¢pygame åç‚¹å‡»å®‰è£…"></a>2ã€ç‚¹å‡»åŠ å·ï¼Œé‡Œé¢æœç´¢pygame åç‚¹å‡»å®‰è£…</h2><p><img src="https://img-blog.csdnimg.cn/20200321104036712.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="3ã€å¦‚æœä½ ç›´æ¥å®‰è£…æˆåŠŸï¼Œåé¢çš„æ–¹æ³•ä½ éƒ½å¯ä»¥ç›´æ¥å¿½ç•¥äº†ã€‚"><a href="#3ã€å¦‚æœä½ ç›´æ¥å®‰è£…æˆåŠŸï¼Œåé¢çš„æ–¹æ³•ä½ éƒ½å¯ä»¥ç›´æ¥å¿½ç•¥äº†ã€‚" class="headerlink" title="3ã€å¦‚æœä½ ç›´æ¥å®‰è£…æˆåŠŸï¼Œåé¢çš„æ–¹æ³•ä½ éƒ½å¯ä»¥ç›´æ¥å¿½ç•¥äº†ã€‚"></a>3ã€å¦‚æœä½ ç›´æ¥å®‰è£…æˆåŠŸï¼Œåé¢çš„æ–¹æ³•ä½ éƒ½å¯ä»¥ç›´æ¥å¿½ç•¥äº†ã€‚</h2><h2 id="äºŒã€ä¸‹ä¸€ç§æ–¹æ³•"><a href="#äºŒã€ä¸‹ä¸€ç§æ–¹æ³•" class="headerlink" title="äºŒã€ä¸‹ä¸€ç§æ–¹æ³•"></a><strong>äºŒã€ä¸‹ä¸€ç§æ–¹æ³•</strong></h2><h2 id="1ã€é¦–å…ˆï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥å®˜ç½‘ï¼Œåœ¨PIPYé‡Œé¢æœç´¢pygameï¼Œåœ¨download-é‡Œé¢æ‰¾åˆ°é€‚åˆè‡ªå·±pythonç‰ˆæœ¬çš„pygameï¼ˆcp38ä»£è¡¨pythonç‰ˆæœ¬ï¼Œå› ä¸ºæˆ‘çš„æ˜¯python3-8ï¼Œæ‰€ä»¥æˆ‘é€‰çš„ä¹Ÿæ˜¯3-8ç‰ˆæœ¬ï¼‰"><a href="#1ã€é¦–å…ˆï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥å®˜ç½‘ï¼Œåœ¨PIPYé‡Œé¢æœç´¢pygameï¼Œåœ¨download-é‡Œé¢æ‰¾åˆ°é€‚åˆè‡ªå·±pythonç‰ˆæœ¬çš„pygameï¼ˆcp38ä»£è¡¨pythonç‰ˆæœ¬ï¼Œå› ä¸ºæˆ‘çš„æ˜¯python3-8ï¼Œæ‰€ä»¥æˆ‘é€‰çš„ä¹Ÿæ˜¯3-8ç‰ˆæœ¬ï¼‰" class="headerlink" title="1ã€é¦–å…ˆï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥å®˜ç½‘ï¼Œåœ¨PIPYé‡Œé¢æœç´¢pygameï¼Œåœ¨download é‡Œé¢æ‰¾åˆ°é€‚åˆè‡ªå·±pythonç‰ˆæœ¬çš„pygameï¼ˆcp38ä»£è¡¨pythonç‰ˆæœ¬ï¼Œå› ä¸ºæˆ‘çš„æ˜¯python3.8ï¼Œæ‰€ä»¥æˆ‘é€‰çš„ä¹Ÿæ˜¯3.8ç‰ˆæœ¬ï¼‰"></a>1ã€é¦–å…ˆï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥å®˜ç½‘ï¼Œåœ¨PIPYé‡Œé¢æœç´¢pygameï¼Œåœ¨download é‡Œé¢æ‰¾åˆ°é€‚åˆè‡ªå·±pythonç‰ˆæœ¬çš„pygameï¼ˆcp38ä»£è¡¨pythonç‰ˆæœ¬ï¼Œå› ä¸ºæˆ‘çš„æ˜¯python3.8ï¼Œæ‰€ä»¥æˆ‘é€‰çš„ä¹Ÿæ˜¯3.8ç‰ˆæœ¬ï¼‰</h2><p><img src="https://img-blog.csdnimg.cn/20200321104058273.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20200321104108144.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p><img src="https://img-blog.csdnimg.cn/20200321104118745.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="2å°†ä¸‹è½½åçš„whlæ–‡ä»¶æ”¾å…¥è‡ªå·±python38çš„æ–‡ä»¶ä¸‹çš„LIbä¸‹çš„site-packagesæ–‡ä»¶å¤¹é‡Œ"><a href="#2å°†ä¸‹è½½åçš„whlæ–‡ä»¶æ”¾å…¥è‡ªå·±python38çš„æ–‡ä»¶ä¸‹çš„LIbä¸‹çš„site-packagesæ–‡ä»¶å¤¹é‡Œ" class="headerlink" title="2å°†ä¸‹è½½åçš„whlæ–‡ä»¶æ”¾å…¥è‡ªå·±python38çš„æ–‡ä»¶ä¸‹çš„LIbä¸‹çš„site-packagesæ–‡ä»¶å¤¹é‡Œ"></a>2å°†ä¸‹è½½åçš„whlæ–‡ä»¶æ”¾å…¥è‡ªå·±python38çš„æ–‡ä»¶ä¸‹çš„LIbä¸‹çš„site-packagesæ–‡ä»¶å¤¹é‡Œ</h2><p><img src="https://img-blog.csdnimg.cn/20200321104148297.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p><img src="https://img-blog.csdnimg.cn/20200321104159303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p> <img src="https://img-blog.csdnimg.cn/202003211042071.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="3ã€ç„¶åå°†shift-é¼ æ ‡å³é”®ç‚¹ä½site-packagesæ–‡ä»¶å¤¹åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£ï¼Œè¾“å…¥pip-install-pygame-1-9-6-cp38-cp38-win-amd64-whl-è¿™ä¸ªæ˜¯ä½ ä¸‹è½½çš„ç‰ˆæœ¬åã€‚ç„¶åå›è½¦å³å¯å¼€å§‹å®‰è£…ï¼‰-4ã€æœ€åwin-R-cmd-è¾“å…¥pythonåå›è½¦ï¼Œå†è¾“å…¥import-pygameï¼ŒéªŒè¯æ˜¯å¦æˆåŠŸã€‚"><a href="#3ã€ç„¶åå°†shift-é¼ æ ‡å³é”®ç‚¹ä½site-packagesæ–‡ä»¶å¤¹åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£ï¼Œè¾“å…¥pip-install-pygame-1-9-6-cp38-cp38-win-amd64-whl-è¿™ä¸ªæ˜¯ä½ ä¸‹è½½çš„ç‰ˆæœ¬åã€‚ç„¶åå›è½¦å³å¯å¼€å§‹å®‰è£…ï¼‰-4ã€æœ€åwin-R-cmd-è¾“å…¥pythonåå›è½¦ï¼Œå†è¾“å…¥import-pygameï¼ŒéªŒè¯æ˜¯å¦æˆåŠŸã€‚" class="headerlink" title="3ã€ç„¶åå°†shift+é¼ æ ‡å³é”®ç‚¹ä½site-packagesæ–‡ä»¶å¤¹åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£ï¼Œè¾“å…¥pip install pygame-1.9.6-cp38-cp38-win_amd64.whl(è¿™ä¸ªæ˜¯ä½ ä¸‹è½½çš„ç‰ˆæœ¬åã€‚ç„¶åå›è½¦å³å¯å¼€å§‹å®‰è£…ï¼‰ 4ã€æœ€åwin+R cmd è¾“å…¥pythonåå›è½¦ï¼Œå†è¾“å…¥import pygameï¼ŒéªŒè¯æ˜¯å¦æˆåŠŸã€‚"></a>3ã€ç„¶åå°†shift+é¼ æ ‡å³é”®ç‚¹ä½site-packagesæ–‡ä»¶å¤¹åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£ï¼Œè¾“å…¥<code>pip install pygame-1.9.6-cp38-cp38-win_amd64.whl</code>(è¿™ä¸ªæ˜¯ä½ ä¸‹è½½çš„ç‰ˆæœ¬åã€‚ç„¶åå›è½¦å³å¯å¼€å§‹å®‰è£…ï¼‰ 4ã€æœ€åwin+R cmd è¾“å…¥pythonåå›è½¦ï¼Œå†è¾“å…¥import pygameï¼ŒéªŒè¯æ˜¯å¦æˆåŠŸã€‚</h2><p><img src="https://img-blog.csdnimg.cn/20200321104223146.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="ä¸‰ã€ç¬¨æ–¹æ³•è®²å®Œäº†ï¼Œè®²ä¸€ä¸‹å‡ä¸€çº§çš„æ–¹æ³•"><a href="#ä¸‰ã€ç¬¨æ–¹æ³•è®²å®Œäº†ï¼Œè®²ä¸€ä¸‹å‡ä¸€çº§çš„æ–¹æ³•" class="headerlink" title="ä¸‰ã€ç¬¨æ–¹æ³•è®²å®Œäº†ï¼Œè®²ä¸€ä¸‹å‡ä¸€çº§çš„æ–¹æ³•"></a>ä¸‰ã€ç¬¨æ–¹æ³•è®²å®Œäº†ï¼Œè®²ä¸€ä¸‹å‡ä¸€çº§çš„æ–¹æ³•</h2><h2 id="1ã€åœ¨pipyé‡Œé¢ä¸‹è½½çš„è‹¥æ˜¯å¦‚ä¸‹å›¾çš„æ–‡ä»¶"><a href="#1ã€åœ¨pipyé‡Œé¢ä¸‹è½½çš„è‹¥æ˜¯å¦‚ä¸‹å›¾çš„æ–‡ä»¶" class="headerlink" title="1ã€åœ¨pipyé‡Œé¢ä¸‹è½½çš„è‹¥æ˜¯å¦‚ä¸‹å›¾çš„æ–‡ä»¶"></a>1ã€åœ¨pipyé‡Œé¢ä¸‹è½½çš„è‹¥æ˜¯å¦‚ä¸‹å›¾çš„æ–‡ä»¶</h2><p><img src="https://img-blog.csdnimg.cn/20200321104233518.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="2ã€åˆ™å°†ä¸‹è½½å¥½çš„å‹ç¼©æ–‡ä»¶è§£å‹åˆ°pythonçš„libç›®å½•ä¸‹ï¼ˆå‰é¢æœ‰è¯¦ç»†è®²lib-è¿™é‡Œå°±ä¸è¯¦ç»†äº†ï¼‰-3ã€ç›´æ¥æ‰“å¼€å‘½ä»¤è¡Œçª—å£è¾“å…¥python-m-pip-install-â€“user-pygameï¼Œç„¶åå›è½¦ã€‚"><a href="#2ã€åˆ™å°†ä¸‹è½½å¥½çš„å‹ç¼©æ–‡ä»¶è§£å‹åˆ°pythonçš„libç›®å½•ä¸‹ï¼ˆå‰é¢æœ‰è¯¦ç»†è®²lib-è¿™é‡Œå°±ä¸è¯¦ç»†äº†ï¼‰-3ã€ç›´æ¥æ‰“å¼€å‘½ä»¤è¡Œçª—å£è¾“å…¥python-m-pip-install-â€“user-pygameï¼Œç„¶åå›è½¦ã€‚" class="headerlink" title="2ã€åˆ™å°†ä¸‹è½½å¥½çš„å‹ç¼©æ–‡ä»¶è§£å‹åˆ°pythonçš„libç›®å½•ä¸‹ï¼ˆå‰é¢æœ‰è¯¦ç»†è®²lib,è¿™é‡Œå°±ä¸è¯¦ç»†äº†ï¼‰ 3ã€ç›´æ¥æ‰“å¼€å‘½ä»¤è¡Œçª—å£è¾“å…¥python -m pip install â€“user pygameï¼Œç„¶åå›è½¦ã€‚"></a>2ã€åˆ™å°†ä¸‹è½½å¥½çš„å‹ç¼©æ–‡ä»¶è§£å‹åˆ°pythonçš„libç›®å½•ä¸‹ï¼ˆå‰é¢æœ‰è¯¦ç»†è®²lib,è¿™é‡Œå°±ä¸è¯¦ç»†äº†ï¼‰ 3ã€ç›´æ¥æ‰“å¼€å‘½ä»¤è¡Œçª—å£è¾“å…¥python -m pip install â€“user pygameï¼Œç„¶åå›è½¦ã€‚</h2><p> <img src="https://img-blog.csdnimg.cn/20200321104244228.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTMzMzkzNA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="4ã€è¿™æ ·å°±ç›´æ¥å®‰è£…æˆåŠŸäº†"><a href="#4ã€è¿™æ ·å°±ç›´æ¥å®‰è£…æˆåŠŸäº†" class="headerlink" title="4ã€è¿™æ ·å°±ç›´æ¥å®‰è£…æˆåŠŸäº†"></a>4ã€è¿™æ ·å°±ç›´æ¥å®‰è£…æˆåŠŸäº†</h2><h2 id="å››ã€å†è¯´ä¸€ä¸ªå†å‡ä¸€çº§çš„æ–¹æ³•ï¼Œåœ¨ä½ æœ‰pipçš„å‰æä¸‹å¯ä»¥ä½¿ç”¨"><a href="#å››ã€å†è¯´ä¸€ä¸ªå†å‡ä¸€çº§çš„æ–¹æ³•ï¼Œåœ¨ä½ æœ‰pipçš„å‰æä¸‹å¯ä»¥ä½¿ç”¨" class="headerlink" title="å››ã€å†è¯´ä¸€ä¸ªå†å‡ä¸€çº§çš„æ–¹æ³•ï¼Œåœ¨ä½ æœ‰pipçš„å‰æä¸‹å¯ä»¥ä½¿ç”¨"></a>å››ã€å†è¯´ä¸€ä¸ªå†å‡ä¸€çº§çš„æ–¹æ³•ï¼Œåœ¨ä½ æœ‰pipçš„å‰æä¸‹å¯ä»¥ä½¿ç”¨</h2><p>1ã€ä»¥ç®¡ç†å‘˜èº«ä»½å¯åŠ¨å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥<code>pip --version</code> æŸ¥çœ‹è‡ªå·±çš„pipç‰ˆæœ¬æˆ–è€…ç›´æ¥è¾“å…¥<code>py -m pip install -U pygame==1.9.6 -i https://pypi.tuna.tsinghua.edu.cn/simple</code> æµ‹è¯•èƒ½å¦ç›´æ¥å®‰è£…pygameï¼Œ</p>
<p>æ³¨ï¼š# ==åé¢çš„è¯­å¥æ„æ€æ˜¯å›½å¤–ç½‘é€Ÿè¾ƒæ…¢ï¼Œæ›´æ¢ä¸ºå›½å†…æ¸…åå¤§å­¦çš„é•œåƒæºä¸‹è½½é€Ÿåº¦å¯ä»¥åŠ å¿«å¾ˆå¤šå¾ˆå¤šï¼Œå¦‚æœä¸ä»‹æ„ä¸‹è½½é€Ÿåº¦ï¼Œå¯ä»¥ç›´æ¥å¿½ç•¥</p>
<p>åŠ å¿«å®‰è£…é€Ÿåº¦å¯ä»¥ä½¿ç”¨å›½å†…é•œåƒæºã€‚æ¸…åï¼š<a href="https://pypi.tuna.tsinghua.edu.cn/simple" target="_blank" rel="noopener">https://pypi.tuna.tsinghua.edu.cn/simple</a></p>
<p>é˜¿é‡Œäº‘ï¼š<a href="http://mirrors.aliyun.com/pypi/simple/" target="_blank" rel="noopener">http://mirrors.aliyun.com/pypi/simple/</a></p>
<p>ä¸­å›½ç§‘æŠ€å¤§å­¦ <a href="https://pypi.mirrors.ustc.edu.cn/simple/" target="_blank" rel="noopener">https://pypi.mirrors.ustc.edu.cn/simple/</a></p>
<p>åä¸­ç†å·¥å¤§å­¦ï¼š<a href="http://pypi.hustunique.com/" target="_blank" rel="noopener">http://pypi.hustunique.com/</a></p>
<p>å±±ä¸œç†å·¥å¤§å­¦ï¼š<a href="http://pypi.sdutlinux.org/" target="_blank" rel="noopener">http://pypi.sdutlinux.org/</a></p>
<p>è±†ç“£ï¼š<a href="http://pypi.douban.com/simple/" target="_blank" rel="noopener">http://pypi.douban.com/simple/</a></p>
<p>2.å¦‚æœå‡ºç°<code>WARNING: You are using pip version 19.2.3, however version 20.0.2 is available.</code><br><code>You should consider upgrading via the 'python -m pip install --upgrade pip' command.æŠ¥é”™</code><br>è¯´æ˜ä½ çš„pipç‰ˆæœ¬å¤ªä½</p>
<p>3.è¿™æ—¶è¾“å…¥ï¼š<br><code>python -m pip install -U pip # å½“ç„¶ï¼Œå¦‚æœå«Œå¼ƒä¸‹è½½é€Ÿåº¦æ…¢åŒæ ·å¯ä»¥è€ƒè™‘æ¢æº</code><br>å®‰è£…æœ€æ–°ç‰ˆæœ¬pip</p>
<p>4.æˆåŠŸåé‡å¤2æ“ä½œ</p>
<p>5.è¾“å…¥ï¼š<br><code>py -m pygame.examples.aliens</code><br>è¿™æ˜¯pygameè‡ªå¸¦çš„ä¸€ä¸ªæ¸¸æˆï¼Œç”¨äºæ£€æµ‹pygameæ˜¯å¦å®‰è£…æˆåŠŸï¼Œå¦‚æœæˆåŠŸï¼Œåˆ™ä¼šå¼€å§‹è¿è¡Œä¸€ä¸ªå°æ¸¸æˆï¼Œå¦åˆ™å¤±è´¥ï¼</p>
<p>æ€»ç»“ï¼š</p>
<p>ä»¥ä¸Šæ‰€è¿°æ˜¯å°æ¾ˆç»™å¤§å®¶ä»‹ç»çš„pythonä¸­pygameå®‰è£…è¿‡ç¨‹ï¼ˆè¶…çº§è¯¦ç»†ï¼‰ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï¼Œå¦‚æœå¤§å®¶æœ‰ä»»ä½•ç–‘é—®æ¬¢è¿ç»™æˆ‘ç•™è¨€ï¼Œå°æ¾ˆä¼šåŠæ—¶å›å¤å¤§å®¶çš„ï¼</p>
<p>ä¸ç»å†é£é›¨,æ€èƒ½åœ¨è®¡ç®—æœºçš„å¤§å±±ä¹‹é¡¶çœ‹è§å½©è™¹å‘¢ï¼ æ— è®ºæ€æ ·ï¼Œç›¸ä¿¡æ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼ï¼ï¼ï¼</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>åç«¯</category>
        <category>Debug</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>pygame</tag>
        <tag>pycharm</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World Created</title>
    <url>/hellow_world/</url>
    <content><![CDATA[<h2 id="Hellow-World-çš„ä¸åŒè¯­è¨€å®ç°æ–¹æ³•ï¼Œå€¼å¾—äº†è§£"><a href="#Hellow-World-çš„ä¸åŒè¯­è¨€å®ç°æ–¹æ³•ï¼Œå€¼å¾—äº†è§£" class="headerlink" title="Hellow World çš„ä¸åŒè¯­è¨€å®ç°æ–¹æ³•ï¼Œå€¼å¾—äº†è§£"></a>Hellow World çš„ä¸åŒè¯­è¨€å®ç°æ–¹æ³•ï¼Œå€¼å¾—äº†è§£</h2><p>æˆ‘ä»¬ä½œä¸ºä¸€åç¨‹åºå‘˜ï¼Œåœ¨å­¦ä¹ ä¸åŒè¯­è¨€æ—¶è‡³å°‘å®Œæˆäº†ä¸€ä¸ªâ€œHello, World!â€œç¨‹åºã€‚å½“æˆ‘ä»¬å­¦ä¹ ä¸€é—¨æ–°çš„è¯­è¨€æ—¶ï¼Œâ€œHello, World!â€œé€šå¸¸æ˜¯æˆ‘ä»¬æ‰€å†™çš„ç¬¬ä¸€ä¸ªç¨‹åºã€‚ç„¶è€Œå­¦ä¼šï¼ˆäº†è§£ï¼‰ä¸åŒè¯­è¨€çš„è¡¨è¾¾æ˜¯ä¸€ä¸ªç¨‹åºçŒ¿æ‰€å¿…è¦çš„ï¼Œåœ¨è¿™é‡Œæˆ‘è¯¢é—®å¤§å®¶ï¼Œå¤§å®¶ä»å­¦ä¹ ç¼–ç¨‹è¯­è¨€ä»¥æ¥ï¼Œç›®å‰èƒ½ä½¿ç”¨å¤šå°‘ç§è¯­è¨€çš„åŸºç¡€è¡¨è¾¾å‘¢ï¼Ÿæ¬¢è¿å¤§å®¶è¯„è®ºåŒºåŸŸç•™è¨€è®¨è®ºå“¦ã€‚</p>
<a id="more"></a>

<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä¼šå¸¦å¤§å®¶ç»å†`ä¸€æ®µè®¡ç®—æœºç¼–ç¨‹é¢†åŸŸçš„æ—¶ç©ºä¹‹æ—…ã€‚ä¸ºæ­¤ï¼Œæˆ‘å°†å‘ä½ å±•ç¤º50ç§ä¸åŒçš„ç¼–ç¨‹è¯­è¨€çš„  â€œHello, World!â€œç¨‹åºçš„å†™æ³•ã€‚å¦‚æœæœ‰é”™ä¹Ÿè¯·å¤§å®¶è¯„è®ºåŒºå»çº æ­£å‘¢ã€‚æ¯•ç«Ÿåœ¨ä¸‹ä¹Ÿä¸æ˜¯ååˆ†äº†è§£ã€‚</p>
<h2 id="NO-1-æ±‡ç¼–è¯­è¨€-1949"><a href="#NO-1-æ±‡ç¼–è¯­è¨€-1949" class="headerlink" title="NO.1. æ±‡ç¼–è¯­è¨€ - 1949"></a>NO.1. æ±‡ç¼–è¯­è¨€ - 1949</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">bdos equ <span class="number">0005</span>H ; BDOS entry point</span><br><span class="line">start: mvi c,<span class="number">9</span> ; BDOS function: output <span class="keyword">string</span></span><br><span class="line">lxi d,msg$ ; address of msg</span><br><span class="line">call bdos</span><br><span class="line">ret ; <span class="keyword">return</span> to CCP</span><br><span class="line">msg$: db <span class="string">'Hello, world!$'</span></span><br><span class="line">end start</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-2-Fortran-1957"><a href="#NO-2-Fortran-1957" class="headerlink" title="NO.2. Fortran - 1957"></a>NO.2. Fortran - 1957</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">PROGRAM Hello</span><br><span class="line">WRITE (*,*) <span class="string">'Hello, World!'</span></span><br><span class="line">STOP</span><br><span class="line">END</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-3-Lisp-1958"><a href="#NO-3-Lisp-1958" class="headerlink" title="NO.3. Lisp - 1958"></a>NO.3. Lisp - 1958</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">(write-line <span class="string">"Hello, World!"</span>)</span><br><span class="line">NO<span class="number">.4</span>. Cobol - <span class="number">1959</span></span><br><span class="line">IDENTIFICATION DIVISION.</span><br><span class="line">PROGRAM-ID. HELLO-WORLD.</span><br><span class="line">PROCEDURE DIVISION.</span><br><span class="line">DISPLAY <span class="string">"Hello, World!"</span></span><br><span class="line">STOP RUN.</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-5-BASIC-1964"><a href="#NO-5-BASIC-1964" class="headerlink" title="NO.5. BASIC - 1964"></a>NO.5. BASIC - 1964</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">PRINT <span class="string">"Hello, World!"</span></span><br><span class="line">END</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-6-Logo-1968"><a href="#NO-6-Logo-1968" class="headerlink" title="NO.6. Logo - 1968"></a>NO.6. Logo - 1968</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">print [Hello World !]</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-7-B-1969"><a href="#NO-7-B-1969" class="headerlink" title="NO.7. B - 1969"></a>NO.7. B - 1969</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">main(</span><br><span class="line">{</span><br><span class="line">putstr(<span class="string">"Hello world!*n"</span>);</span><br><span class="line"><span class="keyword">return</span>(<span class="number">0</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-8-Pascal-1970"><a href="#NO-8-Pascal-1970" class="headerlink" title="NO.8. Pascal - 1970"></a>NO.8. Pascal - 1970</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">begin</span><br><span class="line">writeln(<span class="string">'Hello, World!'</span>)</span><br><span class="line">end.</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-9-Forth-1970"><a href="#NO-9-Forth-1970" class="headerlink" title="NO.9. Forth - 1970"></a>NO.9. Forth - 1970</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">: HELLO ( -- ) .<span class="string">" Hello, World!"</span> CR ;</span><br><span class="line">HELLO</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-10-C-1972"><a href="#NO-10-C-1972" class="headerlink" title="NO.10. C - 1972"></a>NO.10. C - 1972</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#include &lt;stdio.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span>(<span class="params"><span class="keyword">void</span></span>)</span> {</span><br><span class="line">printf(<span class="string">"Hello, World!\n"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-11-Smalltalk-1972"><a href="#NO-11-Smalltalk-1972" class="headerlink" title="NO.11. Smalltalk - 1972"></a>NO.11. Smalltalk - 1972</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">Transcript show: <span class="string">'Hello, world!'</span>; cr.</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-12-Prolog-1972"><a href="#NO-12-Prolog-1972" class="headerlink" title="NO.12. Prolog - 1972"></a>NO.12. Prolog - 1972</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">:- write(<span class="string">'Hello, World!'</span>),nl.</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-13-ML-1973"><a href="#NO-13-ML-1973" class="headerlink" title="NO.13. ML - 1973"></a>NO.13. ML - 1973</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">print <span class="string">"Hello, World!\n"</span>;</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-14-Scheme-1975"><a href="#NO-14-Scheme-1975" class="headerlink" title="NO.14. Scheme - 1975"></a>NO.14. Scheme - 1975</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">(display <span class="string">"Hello, World!"</span>) (newline)</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-15-SQL-1978"><a href="#NO-15-SQL-1978" class="headerlink" title="NO.15. SQL - 1978"></a>NO.15. SQL - 1978</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function">CREATE TABLE <span class="title">message</span> (<span class="params">text <span class="keyword">char</span>(<span class="number">15</span></span>))</span>;</span><br><span class="line"><span class="function">INSERT INTO <span class="title">message</span> (<span class="params">text</span>) <span class="title">VALUES</span> (<span class="params"><span class="string">'Hello, World!'</span></span>)</span>;</span><br><span class="line">SELECT text FROM message;</span><br><span class="line">DROP TABLE message;</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-16-C-1980"><a href="#NO-16-C-1980" class="headerlink" title="NO.16. C++ - 1980"></a>NO.16. C++ - 1980</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span>(<span class="params"></span>)</span> {</span><br><span class="line">cout &lt;&lt; <span class="string">"Hello, World!"</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-17-Ada-1983"><a href="#NO-17-Ada-1983" class="headerlink" title="NO.17. Ada - 1983"></a>NO.17. Ada - 1983</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">with Ada.Text_IO;</span><br><span class="line">procedure Hello <span class="keyword">is</span></span><br><span class="line">begin</span><br><span class="line">Ada.Text_IO.Put_Line (<span class="string">"Hello, World!"</span>);</span><br><span class="line">end Hello;</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-18-Common-Lisp-1984"><a href="#NO-18-Common-Lisp-1984" class="headerlink" title="NO.18. Common Lisp - 1984"></a>NO.18. Common Lisp - 1984</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">(princ <span class="string">"Hello, World!"</span>)</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-19-MATLAB-1984"><a href="#NO-19-MATLAB-1984" class="headerlink" title="NO.19. MATLAB - 1984"></a>NO.19. MATLAB - 1984</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">disp(<span class="string">'Hello, World!'</span>)</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-20-Eiffel-1985"><a href="#NO-20-Eiffel-1985" class="headerlink" title="NO.20. Eiffel - 1985"></a>NO.20. Eiffel - 1985</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">class</span></span><br><span class="line"><span class="title">HELLO_WORLD</span></span><br><span class="line"><span class="title">create</span></span><br><span class="line"><span class="title">make</span></span><br><span class="line"><span class="title">feature</span></span><br><span class="line"><span class="title">make</span></span><br><span class="line"><span class="title">do</span></span><br><span class="line">print ("Hello, world!%N")</span><br><span class="line">end</span><br><span class="line">end</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-21-Objective-C-1986"><a href="#NO-21-Objective-C-1986" class="headerlink" title="NO.21. Objective-C - 1986"></a>NO.21. Objective-C - 1986</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#import &lt;Foundation/Foundation.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span>(<span class="params"></span>)</span> {</span><br><span class="line">@autoreleasepool {</span><br><span class="line">NSLog(<span class="string">@"Hello, World!"</span>);</span><br><span class="line">ã€€ã€€}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-22-Erlang-1986"><a href="#NO-22-Erlang-1986" class="headerlink" title="NO.22. Erlang - 1986"></a>NO.22. Erlang - 1986</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">io:format(<span class="string">"Hello world!~n"</span>).</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-23-Perl-1987"><a href="#NO-23-Perl-1987" class="headerlink" title="NO.23. Perl - 1987"></a>NO.23. Perl - 1987</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">print <span class="string">"Hello, World!\n"</span>;</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-24-Caml-1987"><a href="#NO-24-Caml-1987" class="headerlink" title="NO.24. Caml - 1987"></a>NO.24. Caml - 1987</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">print_string <span class="string">"Hello, World!\n"</span>;;</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-25-Tcl-1988"><a href="#NO-25-Tcl-1988" class="headerlink" title="NO.25. Tcl - 1988"></a>NO.25. Tcl - 1988</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">puts <span class="string">"Hello, World!"</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-26-Haskell-1990"><a href="#NO-26-Haskell-1990" class="headerlink" title="NO.26. Haskell - 1990"></a>NO.26. Haskell - 1990</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">main = putStrLn <span class="string">"Hello, World!"</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-27-Python-1991"><a href="#NO-27-Python-1991" class="headerlink" title="NO.27. Python - 1991"></a>NO.27. Python - 1991</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">print(<span class="string">"Hello, World!"</span>)</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-28-Visual-Basic-1991"><a href="#NO-28-Visual-Basic-1991" class="headerlink" title="NO.28. Visual Basic - 1991"></a>NO.28. Visual Basic - 1991</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function">Public Sub <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">Debug.Print "Hello, World!"</span></span><br><span class="line"><span class="function">End Sub</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-29-Lua-1993"><a href="#NO-29-Lua-1993" class="headerlink" title="NO.29. Lua - 1993"></a>NO.29. Lua - 1993</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">print(<span class="string">"Hello, World!"</span>)</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-30-Ruby-1995"><a href="#NO-30-Ruby-1995" class="headerlink" title="NO.30. Ruby - 1995"></a>NO.30. Ruby - 1995</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">puts <span class="string">'Hello, World!'</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-31-Java-1995"><a href="#NO-31-Java-1995" class="headerlink" title="NO.31. Java - 1995"></a>NO.31. Java - 1995</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">HelloWorld</span> {</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>)</span> {</span><br><span class="line">System.<span class="keyword">out</span>.println(<span class="string">"Hello, World!"</span>);</span><br><span class="line">ã€€ã€€}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-32-JavaScript-1995"><a href="#NO-32-JavaScript-1995" class="headerlink" title="NO.32. JavaScript - 1995"></a>NO.32. JavaScript - 1995</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">document.write(<span class="string">'Hello, World!'</span>);</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-33-PHP-1995"><a href="#NO-33-PHP-1995" class="headerlink" title="NO.33. PHP - 1995"></a>NO.33. PHP - 1995</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">&lt;? echo <span class="string">"Hello, World!"</span> ?&gt;</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-34-Rebol-1997"><a href="#NO-34-Rebol-1997" class="headerlink" title="NO.34. Rebol - 1997"></a>NO.34. Rebol - 1997</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">print <span class="string">"Hello, World!"</span></span><br><span class="line"></span><br><span class="line">NO<span class="number">.35</span>. ActionScript â€” <span class="number">1998</span></span><br><span class="line">package {</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">HelloWorld</span> {</span><br><span class="line"><span class="function"><span class="keyword">public</span> function <span class="title">HelloWorld</span>(<span class="params"></span>)</span> {</span><br><span class="line">trace(<span class="string">"Hello World !"</span>);</span><br><span class="line">ã€€ã€€ã€€ã€€}</span><br><span class="line">ã€€ã€€}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-36-D-1999"><a href="#NO-36-D-1999" class="headerlink" title="NO.36. D - 1999"></a>NO.36. D - 1999</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">import std.stdio;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span> (<span class="params"></span>)</span> {</span><br><span class="line">writefln(<span class="string">"Hello, World!"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-37-C-2000"><a href="#NO-37-C-2000" class="headerlink" title="NO.37. C# - 2000"></a>NO.37. C# - 2000</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">HelloWorld</span> {</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span> {</span><br><span class="line">Console.WriteLine(<span class="string">"Hello, World!"</span>);</span><br><span class="line">ã€€ã€€}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-38-Groovy-2003"><a href="#NO-38-Groovy-2003" class="headerlink" title="NO.38. Groovy - 2003"></a>NO.38. Groovy - 2003</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">println <span class="string">"Hello, World!"</span></span><br><span class="line"></span><br><span class="line">NO<span class="number">.39</span>. Scala - <span class="number">2003</span></span><br><span class="line"><span class="keyword">object</span> HelloWorld extends App {</span><br><span class="line">println(<span class="string">"Hello, World!"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-40-F-2005"><a href="#NO-40-F-2005" class="headerlink" title="NO.40. F# - 2005"></a>NO.40. F# - 2005</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">printfn <span class="string">"Hello, World!"</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-41-Windows-PowerShell-2006"><a href="#NO-41-Windows-PowerShell-2006" class="headerlink" title="NO.41. Windows PowerShell - 2006"></a>NO.41. Windows PowerShell - 2006</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">echo <span class="string">"Hello, World!"</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-42-Clojure-2007"><a href="#NO-42-Clojure-2007" class="headerlink" title="NO.42. Clojure - 2007"></a>NO.42. Clojure - 2007</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">(println <span class="string">"Hello, World!"</span>)</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-43-Go-2009"><a href="#NO-43-Go-2009" class="headerlink" title="NO.43. Go - 2009"></a>NO.43. Go - 2009</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function">func <span class="title">main</span>(<span class="params"></span>)</span> {</span><br><span class="line">fmt.Println(<span class="string">"Hello, World!"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-44-Rust-2010"><a href="#NO-44-Rust-2010" class="headerlink" title="NO.44. Rust - 2010"></a>NO.44. Rust - 2010</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function">fn <span class="title">main</span>(<span class="params"></span>)</span> {</span><br><span class="line">println(<span class="string">"Hello, World!"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-45-Dart-2011"><a href="#NO-45-Dart-2011" class="headerlink" title="NO.45. Dart - 2011"></a>NO.45. Dart - 2011</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">main() {</span><br><span class="line">print(<span class="string">'Hello, World!'</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-46-Kotlin-â€”-2011"><a href="#NO-46-Kotlin-â€”-2011" class="headerlink" title="NO.46. Kotlin â€” 2011"></a>NO.46. Kotlin â€” 2011</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function">fun <span class="title">main</span>(<span class="params">args: Array&lt;String&gt;</span>)</span> {</span><br><span class="line">println(<span class="string">"Hello, World!"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-47-Ceylon-2011"><a href="#NO-47-Ceylon-2011" class="headerlink" title="NO.47. Ceylon - 2011"></a>NO.47. Ceylon - 2011</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hello</span>(<span class="params"></span>)</span> {</span><br><span class="line">print(<span class="string">"Hello, World!"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-48-TypeScript-2012"><a href="#NO-48-TypeScript-2012" class="headerlink" title="NO.48. TypeScript - 2012"></a>NO.48. TypeScript - 2012</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">console.log(<span class="string">"Hello, World!"</span>);</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-49-Julia-2012"><a href="#NO-49-Julia-2012" class="headerlink" title="NO.49. Julia - 2012"></a>NO.49. Julia - 2012</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">println(<span class="string">"Hello, World!"</span>)</span><br></pre></td></tr></tbody></table></figure>

<h2 id="NO-50-Swift-2014"><a href="#NO-50-Swift-2014" class="headerlink" title="NO.50. Swift - 2014"></a>NO.50. Swift - 2014</h2><figure class="highlight csharp"><table><tbody><tr><td class="code"><pre><span class="line">print(<span class="string">"Hello, World!"</span>)</span><br></pre></td></tr></tbody></table></figure>



<p>æ€»ç»“ä¸€ä¸‹ï¼Œ50ç§è¯­è¨€çš„å‘å±•æ¥çœ‹ï¼Œå¤§å¤šæ•°è¯­è¨€çš„è®¾è®¡æ€æƒ³éƒ½æ˜¯äº’ç›¸å€Ÿé‰´çš„ã€‚è¯­è¨€çš„å‘å±•ä¹Ÿæ˜¯é€æ¸æ¼”è¿›çš„ï¼Œä½†ä¸æ˜¯è¶Šå¼ºå¤§çš„è¯­è¨€å°±è¶Šæµè¡Œã€‚ä¸€é—¨è¯­è¨€æƒ³è¦å˜å¾—æµè¡Œä¹Ÿæ˜¯éœ€è¦ä¸€å®šçš„æœºé‡çš„ï¼ˆä¾‹å¦‚Pythonï¼‰ï¼Œæˆ–è€…æ˜¯éœ€è¦æœ‰ä¸ªä¼˜è´¨çš„å¤§è…¿ï¼ˆä¾‹å¦‚Javaå’ŒDartï¼‰ã€‚(å¦‚æœä»¥ä¸Šä»£ç æœ‰é—®é¢˜æˆ–è€…æœ‰é”™çš„è¯·å¤§å®¶è¯„è®ºåŒºå¸®å¿™çº æ­£ï¼‰</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>ç¼–ç¨‹è¯­è¨€</tag>
        <tag>è¯­æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML+CSSé‡è¦çŸ¥è¯†ç‚¹æ€»ç»“</title>
    <url>/html_css/</url>
    <content><![CDATA[<h2 id="HTMLé‡è¦çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#HTMLé‡è¦çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="HTMLé‡è¦çŸ¥è¯†ç‚¹æ€»ç»“"></a>HTMLé‡è¦çŸ¥è¯†ç‚¹æ€»ç»“</h2><p>è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼ˆè‹±è¯­ï¼šHyperText Markup Languageï¼Œç®€ç§°ï¼šHTMLï¼‰æ˜¯ä¸€ç§ç”¨äºåˆ›å»ºç½‘é¡µçš„æ ‡å‡†æ ‡è®°è¯­è¨€ã€‚</p>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ HTML æ¥å»ºç«‹è‡ªå·±çš„ WEB ç«™ç‚¹ï¼ŒHTML è¿è¡Œåœ¨æµè§ˆå™¨ä¸Šï¼Œç”±æµè§ˆå™¨æ¥è§£æã€‚</p>
<ul>
<li>CSS æŒ‡å±‚å æ ·å¼è¡¨ (<strong>C</strong>ascading <strong>S</strong>tyle <strong>S</strong>heets)</li>
<li>æ ·å¼å®šä¹‰<strong>å¦‚ä½•æ˜¾ç¤º</strong> HTML å…ƒç´ </li>
<li>æ ·å¼é€šå¸¸å­˜å‚¨åœ¨<strong>æ ·å¼è¡¨</strong>ä¸­</li>
<li>æŠŠæ ·å¼æ·»åŠ åˆ° HTML 4.0 ä¸­ï¼Œæ˜¯ä¸ºäº†<strong>è§£å†³å†…å®¹ä¸è¡¨ç°åˆ†ç¦»çš„é—®é¢˜</strong></li>
<li><strong>å¤–éƒ¨æ ·å¼è¡¨</strong>å¯ä»¥æå¤§æé«˜å·¥ä½œæ•ˆç‡</li>
<li>å¤–éƒ¨æ ·å¼è¡¨é€šå¸¸å­˜å‚¨åœ¨ <strong>CSS æ–‡ä»¶</strong>ä¸­</li>
<li>å¤šä¸ªæ ·å¼å®šä¹‰å¯<strong>å±‚å </strong>ä¸ºä¸€ä¸ª</li>
</ul>
<a id="more"></a>

<h2 id="ä¸€-VSCodeé…ç½®å’Œæ’ä»¶"><a href="#ä¸€-VSCodeé…ç½®å’Œæ’ä»¶" class="headerlink" title="ä¸€. VSCodeé…ç½®å’Œæ’ä»¶"></a>ä¸€. VSCodeé…ç½®å’Œæ’ä»¶</h2><h3 id="1-1-VSCodeé…ç½®"><a href="#1-1-VSCodeé…ç½®" class="headerlink" title="1.1. VSCodeé…ç½®"></a>1.1. VSCodeé…ç½®</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">{</span><br><span class="line">            "type": "chrome",</span><br><span class="line">            "request": "launch",</span><br><span class="line">            "file":"${file}",</span><br><span class="line">            "runtimeExecutable": "C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe",</span><br><span class="line">            "name": "Launch Chrome against localhost",</span><br><span class="line">            "url": "http://localhost:8080",</span><br><span class="line">            "userDataDir": "${tmpdir}",</span><br><span class="line">            "sourceMaps": true,</span><br><span class="line">            "webRoot": "${workspaceFolder}"</span><br><span class="line">        }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="1-2-VSCodeæ’ä»¶"><a href="#1-2-VSCodeæ’ä»¶" class="headerlink" title="1.2. VSCodeæ’ä»¶"></a>1.2. VSCodeæ’ä»¶</h3><ul>
<li><p>Beautify</p>
</li>
<li><p>Chinese Language Pack for Visual Studio Code</p>
</li>
<li><p>Chinese Lorem Ipsum</p>
</li>
<li><p>Debugger for Chrome</p>
</li>
<li><p>EJS language support </p>
</li>
<li><p>ESLint</p>
</li>
<li><p>Front Mattter</p>
</li>
<li><p>Language-styles</p>
</li>
<li><p>lit-html</p>
</li>
<li><p>Lorem ipsum</p>
</li>
<li><p>Mantaâ€™s Stylus Supremacy</p>
</li>
<li><p>Markdown-formatter</p>
</li>
<li><p>Markdowm+Math</p>
</li>
<li><p>one Dark Pro</p>
</li>
<li><p>Prettier - Code formatter</p>
</li>
</ul>
<h2 id="äºŒ-HTMLåŸºæœ¬å…ƒç´ "><a href="#äºŒ-HTMLåŸºæœ¬å…ƒç´ " class="headerlink" title="äºŒ. HTMLåŸºæœ¬å…ƒç´ "></a>äºŒ. HTMLåŸºæœ¬å…ƒç´ </h2><h3 id="2-1-htmlå…ƒç´ "><a href="#2-1-htmlå…ƒç´ " class="headerlink" title="2.1. htmlå…ƒç´ "></a>2.1. htmlå…ƒç´ </h3><ul>
<li>æ ¹å…ƒç´ </li>
<li>langå±æ€§: è®¾ç½®è¯­è¨€<ul>
<li>ç¿»è¯‘å·¥å…·</li>
<li>è¯­éŸ³åˆæˆ</li>
</ul>
</li>
</ul>
<h3 id="2-2-headå…ƒç´ "><a href="#2-2-headå…ƒç´ " class="headerlink" title="2.2. headå…ƒç´ "></a>2.2. headå…ƒç´ </h3><ul>
<li>å­—ç¬¦ç¼–ç <ul>
<li>charset=â€utf-8â€</li>
</ul>
</li>
<li>title</li>
</ul>
<h3 id="2-3-h-p-strongå…ƒç´ "><a href="#2-3-h-p-strongå…ƒç´ " class="headerlink" title="2.3. h/p/strongå…ƒç´ "></a>2.3. h/p/strongå…ƒç´ </h3><h3 id="2-4-code-br-hrå…ƒç´ "><a href="#2-4-code-br-hrå…ƒç´ " class="headerlink" title="2.4. code-br-hrå…ƒç´ "></a>2.4. code-br-hrå…ƒç´ </h3><h3 id="2-5-å­—ä½“å®ä½“"><a href="#2-5-å­—ä½“å®ä½“" class="headerlink" title="2.5. å­—ä½“å®ä½“"></a>2.5. å­—ä½“å®ä½“</h3><p>&amp;gt; =&gt; &gt;</p>
<h3 id="2-6-span-div"><a href="#2-6-span-div" class="headerlink" title="2.6. span/div"></a>2.6. span/div</h3><h3 id="2-7-imgå…ƒç´ "><a href="#2-7-imgå…ƒç´ " class="headerlink" title="2.7. imgå…ƒç´ "></a>2.7. imgå…ƒç´ </h3><ul>
<li>srcå±æ€§</li>
<li>altå±æ€§</li>
</ul>
<h3 id="2-8-aå…ƒç´ "><a href="#2-8-aå…ƒç´ " class="headerlink" title="2.8. aå…ƒç´ "></a>2.8. aå…ƒç´ </h3><ul>
<li>href: æŒ‡å®šè¶…é“¾æ¥</li>
<li>target: <ul>
<li>_self</li>
<li>_blank</li>
<li>_parent</li>
<li>_top</li>
<li>æŒ‡å®šå€¼</li>
<li>å’Œiframeç»“åˆä½¿ç”¨</li>
</ul>
</li>
<li>baseå…ƒç´  -&gt; <a href="http://www.baidu.com" target="_blank" rel="noopener">http://www.baidu.com</a></li>
<li>aå…ƒç´ çš„é”šç‚¹é“¾æ¥</li>
<li>aå…ƒç´ å’Œimgå…ƒç´ ç»“åˆ</li>
</ul>
<h2 id="ä¸‰-CSSçš„åŸºæœ¬ä½¿ç”¨"><a href="#ä¸‰-CSSçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="ä¸‰. CSSçš„åŸºæœ¬ä½¿ç”¨"></a>ä¸‰. CSSçš„åŸºæœ¬ä½¿ç”¨</h2><h3 id="3-1-CSSå¼•å…¥æ–¹å¼"><a href="#3-1-CSSå¼•å…¥æ–¹å¼" class="headerlink" title="3.1. CSSå¼•å…¥æ–¹å¼"></a>3.1. CSSå¼•å…¥æ–¹å¼</h3><ul>
<li>å†…è”æ ·å¼ style</li>
<li>æ–‡æ¡£æ ·å¼è¡¨</li>
<li>å¤–éƒ¨æ ·å¼è¡¨</li>
</ul>
<h3 id="3-2-CSSå¸¸ç”¨é€‰æ‹©å™¨"><a href="#3-2-CSSå¸¸ç”¨é€‰æ‹©å™¨" class="headerlink" title="3.2. CSSå¸¸ç”¨é€‰æ‹©å™¨"></a>3.2. CSSå¸¸ç”¨é€‰æ‹©å™¨</h3><ul>
<li>ç»Ÿé…é€‰æ‹©å™¨</li>
<li>å…ƒç´ é€‰æ‹©å™¨</li>
<li>idé€‰æ‹©å™¨</li>
</ul>
<h3 id="3-3-æœ€å¸¸ç”¨çš„CSSå±æ€§"><a href="#3-3-æœ€å¸¸ç”¨çš„CSSå±æ€§" class="headerlink" title="3.3. æœ€å¸¸ç”¨çš„CSSå±æ€§"></a>3.3. æœ€å¸¸ç”¨çš„CSSå±æ€§</h3><ul>
<li>width</li>
<li>height</li>
<li>color</li>
<li>background-color</li>
<li>font-size</li>
</ul>
<h3 id="3-4-é¢œè‰²è®¾ç½®æ–¹å¼"><a href="#3-4-é¢œè‰²è®¾ç½®æ–¹å¼" class="headerlink" title="3.4. é¢œè‰²è®¾ç½®æ–¹å¼"></a>3.4. é¢œè‰²è®¾ç½®æ–¹å¼</h3><ul>
<li>å…³é”®å­—: red/orange/blue</li>
<li>åå…­è¿›åˆ¶: #ffaabb</li>
<li>rgb: rgb(r, g, b)</li>
<li>rgba: rgba(r, g,b,a)</li>
</ul>
<h2 id="å››-æ–‡å­—å’Œå­—ä½“"><a href="#å››-æ–‡å­—å’Œå­—ä½“" class="headerlink" title="å››. æ–‡å­—å’Œå­—ä½“"></a>å››. æ–‡å­—å’Œå­—ä½“</h2><h3 id="4-1-æ–‡å­—å±æ€§çš„è®¾ç½®"><a href="#4-1-æ–‡å­—å±æ€§çš„è®¾ç½®" class="headerlink" title="4.1. æ–‡å­—å±æ€§çš„è®¾ç½®"></a>4.1. æ–‡å­—å±æ€§çš„è®¾ç½®</h3><ul>
<li>text-decoration<ul>
<li>underline : ä¸‹åˆ’çº¿</li>
<li>line-through: åˆ é™¤çº¿</li>
<li>none</li>
<li>overline: ä¸Šåˆ’çº¿</li>
</ul>
</li>
<li>letter-word-spacing</li>
<li>text-transform(ä¸å¸¸ç”¨)</li>
<li>text-indent:<ul>
<li>ç¼©è¿›ï¼ˆ2emï¼‰</li>
</ul>
</li>
<li>text-align:<ul>
<li>å†…å®¹å¯¹é½</li>
<li>left</li>
<li>right</li>
<li>center</li>
<li>è¡Œå†…çº§å…ƒç´ </li>
</ul>
</li>
</ul>
<h3 id="4-2-å­—ä½“å±æ€§çš„è®¾ç½®"><a href="#4-2-å­—ä½“å±æ€§çš„è®¾ç½®" class="headerlink" title="4.2. å­—ä½“å±æ€§çš„è®¾ç½®"></a>4.2. å­—ä½“å±æ€§çš„è®¾ç½®</h3><ul>
<li>font-size<ul>
<li><em>ç™¾åˆ†æ¯”æ˜¯åŸºäºçˆ¶å…ƒç´ </em></li>
</ul>
</li>
<li>font-family<ul>
<li>å¦‚æœå¸Œæœ›ä¸­è‹±æ–‡åˆ†åˆ«ä½¿ç”¨ä¸åŒçš„å­—ä½“ï¼Œåº”è¯¥å…ˆå°†è‹±æ–‡å­—ä½“å†™åœ¨å‰é¢ï¼Œä¸­æ–‡å­—ä½“å†™åœ¨åé¢</li>
</ul>
</li>
<li>font-weight<ul>
<li>ä¸€èˆ¬æ˜¯700åŠ ç²—</li>
</ul>
</li>
<li>font-style<ul>
<li>italic: æ–œä½“</li>
<li>oblique: æ–‡æœ¬å€¾æ–œæ˜¾ç¤º</li>
</ul>
</li>
<li>font-varient(ä¸å¸¸ç”¨)</li>
<li>line-height<ul>
<li>ç­‰äºè¡Œé«˜æ—¶æ–‡æœ¬å‚ç›´å±…ä¸­ï¼ˆé—´è·ç­‰åˆ†ï¼‰</li>
</ul>
</li>
<li>fontç¼©å†™å±æ€§:<ul>
<li>font-size/line-height font-family</li>
<li>style varient weight(å‰ä¸‰ä¸ªå¯ä»¥çœç•¥ï¼Œä¹Ÿå¯ä»¥äº¤æ¢é¡ºåº) size/line-height family</li>
</ul>
</li>
</ul>
<h2 id="äº”-CSSå…¶ä»–é€‰æ‹©å™¨"><a href="#äº”-CSSå…¶ä»–é€‰æ‹©å™¨" class="headerlink" title="äº”.CSSå…¶ä»–é€‰æ‹©å™¨"></a>äº”.CSSå…¶ä»–é€‰æ‹©å™¨</h2><h3 id="5-1-å±æ€§é€‰æ‹©å™¨"><a href="#5-1-å±æ€§é€‰æ‹©å™¨" class="headerlink" title="5.1. å±æ€§é€‰æ‹©å™¨"></a>5.1. å±æ€§é€‰æ‹©å™¨</h3><figure class="highlight css"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-attr">[title=<span class="string">"abc"</span>]</span> {</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="5-2-åä»£å’Œå­ä»£é€‰æ‹©å™¨"><a href="#5-2-åä»£å’Œå­ä»£é€‰æ‹©å™¨" class="headerlink" title="5.2. åä»£å’Œå­ä»£é€‰æ‹©å™¨"></a>5.2. åä»£å’Œå­ä»£é€‰æ‹©å™¨</h3><figure class="highlight css"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span> <span class="selector-tag">a</span>{</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span>&gt;<span class="selector-tag">a</span> {</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="5-3-ç›¸é‚»å…„å¼Ÿå’Œå…¨å…„å¼Ÿ"><a href="#5-3-ç›¸é‚»å…„å¼Ÿå’Œå…¨å…„å¼Ÿ" class="headerlink" title="5.3. ç›¸é‚»å…„å¼Ÿå’Œå…¨å…„å¼Ÿ"></a>5.3. ç›¸é‚»å…„å¼Ÿå’Œå…¨å…„å¼Ÿ</h3><figure class="highlight css"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>+<span class="selector-tag">p</span> {</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span>~<span class="selector-tag">p</span> {</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="5-4-äº¤é›†å’Œå¹¶é›†"><a href="#5-4-äº¤é›†å’Œå¹¶é›†" class="headerlink" title="5.4. äº¤é›†å’Œå¹¶é›†"></a>5.4. äº¤é›†å’Œå¹¶é›†</h3><figure class="highlight css"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.box</span> {</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span>, <span class="selector-class">.box</span>{</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="5-5-ä¼ªç±»é€‰æ‹©å™¨"><a href="#5-5-ä¼ªç±»é€‰æ‹©å™¨" class="headerlink" title="5.5. ä¼ªç±»é€‰æ‹©å™¨"></a>5.5. ä¼ªç±»é€‰æ‹©å™¨</h3><ul>
<li><p>ç›®æ ‡ä¼ªç±»: :target</p>
</li>
<li><p>å…ƒç´ çŠ¶æ€ä¼ªç±»: :enable</p>
</li>
<li><p>åŠ¨æ€ä¼ªç±»:</p>
<ul>
<li>:linkï¼šæœªè®¿é—®ä¹‹å‰çš„çŠ¶æ€</li>
<li>:visitedï¼šè®¿é—®ä¹‹åçš„çŠ¶æ€</li>
<li>:focusï¼šæŒ‡å½“å‰æ‹¥æœ‰è¾“å…¥ç„¦ç‚¹çš„å…ƒç´ ï¼ˆèƒ½æ¥æ”¶é”®ç›˜è¾“å…¥ï¼‰<ul>
<li>å»é™¤aå…ƒç´ çš„focusæ•ˆæœï¼š a:focus {outline: none;}</li>
</ul>
</li>
<li>:hoverï¼šé¼ æ ‡ç§»åŠ¨åˆ°é“¾æ¥ä¹‹ä¸Šçš„çŠ¶æ€</li>
<li>:activeï¼šé•¿æŒ‰æœªæ¾å¼€çš„çŠ¶æ€</li>
</ul>
</li>
<li><p>ç»“æ„ä¼ªç±»:</p>
<ul>
<li><p>nth-childï¼šçˆ¶å…ƒç´ ä¸­çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ </p>
<ul>
<li>æ•°å­—</li>
<li>n</li>
</ul>
</li>
<li><p>nth-last-child</p>
</li>
<li><p>nth-of-typeï¼šåªè®¡ç®—åŒç±»å‹çš„å…ƒç´ </p>
</li>
<li><p>nth-last-of-type</p>
</li>
<li><p>only-childï¼šæ˜¯çˆ¶å…ƒç´ ä¸­å”¯ä¸€çš„å­å…ƒç´ </p>
</li>
<li><p>rootï¼šæ ¹å…ƒç´ ï¼Œå°±æ˜¯HTMLå…ƒç´ </p>
</li>
<li><p>emptyï¼šä»£è¡¨é‡Œé¢å®Œå…¨ç©ºç™½çš„å…ƒç´ </p>
</li>
<li><p>:notï¼ˆxï¼‰ï¼šé™¤ä»€ä¹ˆä»¥å¤–</p>
<ul>
<li>xåªèƒ½æ˜¯ç®€å•çš„é€‰æ‹©å™¨ï¼Œä¸èƒ½æ˜¯ç»„åˆé€‰æ‹©å™¨</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="5-6-ä¼ªå…ƒç´ ä½¿ç”¨"><a href="#5-6-ä¼ªå…ƒç´ ä½¿ç”¨" class="headerlink" title="5.6. ä¼ªå…ƒç´ ä½¿ç”¨"></a>5.6. ä¼ªå…ƒç´ ä½¿ç”¨</h3><ul>
<li><p>::first-letterï¼šé’ˆå¯¹é¦–å­—æ¯è®¾ç½®å±æ€§</p>
</li>
<li><p>::first-line</p>
</li>
<li><p>::beforeï¼šç”¨æ¥åœ¨ä¸€ä¸ªå…ƒç´ çš„å†…å®¹ä¹‹å‰æ’å…¥å…¶ä»–å†…å®¹ï¼ˆå¯ä»¥æ˜¯æ–‡å­—ã€å›¾ç‰‡ï¼‰</p>
</li>
<li><p>::afterï¼šç”¨æ¥åœ¨ä¸€ä¸ªå…ƒç´ çš„å†…å®¹ä¹‹åæ’å…¥å…¶ä»–å†…å®¹ï¼ˆå¯ä»¥æ˜¯æ–‡å­—ã€å›¾ç‰‡ï¼‰</p>
<ul>
<li><p>å¯ä»¥ç”¨æ¥è®¾ç½®æ¸…é™¤æµ®åŠ¨çš„é€‰æ‹©å™¨ï¼ˆæ”¾åœ¨æµ®åŠ¨å…ƒç´ çš„çˆ¶å…ƒç´ ä¸­ï¼‰</p>
<ul>
<li><h3 id=""><a href="#" class="headerlink" title=""></a></h3><figure class="highlight css"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/* æ¸…é™¤æµ®åŠ¨ */</span></span><br><span class="line"><span class="selector-class">.clear-fix</span><span class="selector-pseudo">::after</span> {</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">visibility</span>: hidden;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.clear-fix</span> {</span><br><span class="line">    *zoom: 1;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>







</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="å…­-CSSçš„ç‰¹æ€§"><a href="#å…­-CSSçš„ç‰¹æ€§" class="headerlink" title="å…­. CSSçš„ç‰¹æ€§"></a>å…­. CSSçš„ç‰¹æ€§</h2><h3 id="6-1-ç»§æ‰¿"><a href="#6-1-ç»§æ‰¿" class="headerlink" title="6.1.ç»§æ‰¿"></a>6.1.ç»§æ‰¿</h3><ul>
<li>ä¸€èˆ¬å’Œæ–‡å­—ç›¸å…³çš„éƒ½æ˜¯å¯ä»¥ç»§æ‰¿çš„<ul>
<li>font-size</li>
<li>line-height</li>
<li>color</li>
</ul>
</li>
</ul>
<h3 id="6-2-å±‚å "><a href="#6-2-å±‚å " class="headerlink" title="6.2. å±‚å "></a>6.2. å±‚å </h3><ul>
<li>åé¢å†™çš„ä¼šå±‚å å‰é¢</li>
<li>æƒé‡:<ul>
<li>!importantï¼š10000</li>
<li>å†…è”æ ·å¼ï¼š1000</li>
<li>id: 100</li>
<li>class: 10</li>
<li>å…ƒç´ : 1</li>
</ul>
</li>
<li>å¤šä¸ªé€‰æ‹©å™¨æ—¶æƒé‡çš„æ¯”è¾ƒï¼š<ul>
<li>pä»æƒå€¼æœ€å¤§çš„å¼€å§‹æ¯”è¾ƒæ¯ä¸€ç§æƒå€¼çš„æ•°é‡å¤šå°‘ï¼Œæ•°é‡å¤šçš„åˆ™ä¼˜å…ˆçº§é«˜ï¼Œå³å¯ç»“æŸæ¯”è¾ƒ</li>
<li>på¦‚æœæ•°é‡ç›¸åŒï¼Œæ¯”è¾ƒä¸‹ä¸€ä¸ªè¾ƒå°çš„æƒå€¼ï¼Œä»¥æ­¤ç±»æ¨</li>
<li>på¦‚æœæ‰€æœ‰æƒå€¼æ¯”è¾ƒå®Œæ¯•åï¼Œå‘ç°æ•°é‡éƒ½ç›¸åŒï¼Œå°±é‡‡å–â€œå°±è¿‘åŸåˆ™â€</li>
</ul>
</li>
</ul>
<h2 id="ä¸ƒ-å…¶ä»–HTMLå…ƒç´ "><a href="#ä¸ƒ-å…¶ä»–HTMLå…ƒç´ " class="headerlink" title="ä¸ƒ. å…¶ä»–HTMLå…ƒç´ "></a>ä¸ƒ. å…¶ä»–HTMLå…ƒç´ </h2><h3 id="7-1-åˆ—è¡¨å…ƒç´ "><a href="#7-1-åˆ—è¡¨å…ƒç´ " class="headerlink" title="7.1. åˆ—è¡¨å…ƒç´ "></a>7.1. åˆ—è¡¨å…ƒç´ </h3><ul>
<li>ol liï¼šæœ‰åº</li>
<li>ul liï¼šæ— åº</li>
<li>dl dt ddï¼šå®šä¹‰åˆ—è¡¨</li>
<li>list-style: è®¾ç½®liå…ƒç´ å‰é¢æ ‡è®°çš„æ ·å¼<ul>
<li>desc/circle/square/â€¦â€¦</li>
<li>none (é‡è¦)ï¼šæ— æ ·å¼ï¼Œç»å¸¸ç”¨åœ¨åƒå¯¼èˆªæ è¿™æ ·çš„åˆ—è¡¨ä¸­</li>
</ul>
</li>
</ul>
<h3 id="7-2-table"><a href="#7-2-table" class="headerlink" title="7.2. table"></a>7.2. table</h3><ul>
<li><p>tbodyï¼šè¡¨æ ¼çš„ä¸»é¢˜</p>
</li>
<li><p>caaptionï¼šè¡¨æ ¼çš„æ ‡é¢˜</p>
</li>
<li><p>theadï¼šè¡¨å¤´ï¼ˆé…åˆthï¼šè¡¨å¤´å•å…ƒæ ¼ï¼‰ä½¿ç”¨</p>
</li>
<li><p>tfootï¼šé¡µè„šï¼ˆä¸€èˆ¬ä¸ç”¨ï¼‰</p>
</li>
<li><p>colspan/rowspanï¼šå•å…ƒæ ¼å¯è·¨è¡Œåˆ—æ•°</p>
</li>
<li><p>border-collapse: collapse</p>
<ul>
<li>å•å…ƒæ ¼çš„åˆå¹¶</li>
</ul>
</li>
</ul>
<h3 id="7-3-è¡¨å•"><a href="#7-3-è¡¨å•" class="headerlink" title="7.3.è¡¨å•"></a>7.3.è¡¨å•</h3><ul>
<li><p>form</p>
<ul>
<li><p>enctype</p>
<ul>
<li>multipart/form-dataï¼šæ–‡ä»¶ä¸Šä¼ æ—¶å¿…é¡»ä¸ºè¿™ä¸ªå€¼ï¼Œå¹¶ä¸”methodå¿…é¡»æ˜¯post</li>
</ul>
</li>
<li><p>input: på•è¡Œæ–‡æœ¬è¾“å…¥æ¡†ã€å•é€‰æ¡†ã€å¤é€‰æ¡†ã€æŒ‰é’®ç­‰å…ƒç´ </p>
<ul>
<li>type<ul>
<li>text/password/radio/checkbox/button/reset/submit/file</li>
</ul>
</li>
<li>maxlengthï¼šå…è®¸è¾“å…¥çš„æœ€å¤§çš„å­—æ•°</li>
<li>placeholder: å ä½æ–‡å­—</li>
<li>readonly: åªè¯»</li>
<li>disable: ç¦ç”¨</li>
<li>checked: é»˜è®¤è¢«é€‰ä¸­</li>
<li>nameâ€”-valueï¼šé”®å€¼å¯¹  åå­—â€”-å€¼</li>
</ul>
</li>
<li><p>textareaï¼šå¤šè¡Œæ–‡æœ¬æ¡†</p>
</li>
<li><p>selectã€optionï¼šä¸‹æ‹‰é€‰æ‹©æ¡†</p>
</li>
<li><p>buttonï¼šæŒ‰é’®</p>
</li>
<li><p>textareaï¼šå¤šè¡Œæ–‡æœ¬</p>
<ul>
<li>resize: none(ç¦æ­¢ç¼©æ”¾)/horizontal(æ°´å¹³)/vertical(å‚ç›´)/bothï¼ˆæ°´å¹³å‚ç›´ï¼‰</li>
</ul>
</li>
<li><p>labelï¼šè¡¨å•å…ƒç´ çš„æ ‡é¢˜</p>
<ul>
<li><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">laber</span> <span class="attr">for</span>=<span class="string">"username"</span>&gt;</span>ç”¨æˆ·åï¼š<span class="tag">&lt;/<span class="name">laber</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"username"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>



</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>fieldsetï¼šè¡¨å•å…ƒç´ ç»„ï¼ˆæ•´ä¸ªè¡¨å•çš„è¾¹æ¡†ï¼‰</p>
</li>
<li><p>legendï¼šfieldsetçš„æ ‡é¢˜ï¼ˆè¾¹æ¡†ä¸Šçš„ä¿¡æ¯ï¼‰</p>
</li>
</ul>
<h2 id="å…«-CSSå…ƒç´ ç±»å‹"><a href="#å…«-CSSå…ƒç´ ç±»å‹" class="headerlink" title="å…«. CSSå…ƒç´ ç±»å‹"></a>å…«. CSSå…ƒç´ ç±»å‹</h2><h3 id="8-1-å…ƒç´ çš„ç±»å‹"><a href="#8-1-å…ƒç´ çš„ç±»å‹" class="headerlink" title="8.1. å…ƒç´ çš„ç±»å‹"></a>8.1. å…ƒç´ çš„ç±»å‹</h3><ul>
<li><p>å±•ç¤ºæ–¹å¼</p>
<ul>
<li>å—çº§å…ƒç´ ï¼šä¸èƒ½åœ¨åŒä¸€è¡Œæ˜¾ç¤º</li>
<li>è¡Œå†…å…ƒç´ ï¼šä¸èƒ½è®¾ç½®å®½é«˜ï¼Œåªèƒ½ç”±å†…å®¹æ’‘èµ·</li>
</ul>
</li>
<li><p>æµè§ˆæ˜¯å¦æ›¿æ¢æ–¹å¼</p>
<ul>
<li>æ›¿æ¢å…ƒç´ </li>
<li>éæ›¿æ¢å…ƒç´ </li>
</ul>
</li>
<li><p>display:</p>
<ul>
<li>inline</li>
<li>block</li>
<li>inline-blockï¼šåŒä¸€è¡Œæ˜¾ç¤ºï¼Œå¹¶å¯ä»¥è®¾ç½®å®½é«˜</li>
<li>noneï¼šéšè—</li>
</ul>
</li>
<li><p>visibility:visible/hidden</p>
</li>
<li><p>overflow</p>
<ul>
<li>scrollï¼šæ»šåŠ¨æœºåˆ¶</li>
<li>auto</li>
<li>visibleï¼šå†…å®¹æº¢å‡ºä¾æ—§å¯è§</li>
<li>hiddenï¼šæº¢å‡ºç›´æ¥è£å‰ª</li>
</ul>
</li>
<li><p>å…ƒç´ ä¹‹é—´çš„ç©ºéš™æ˜¯å¦‚ä½•äº§ç”Ÿçš„</p>
<ul>
<li>æµ®åŠ¨è§£å†³</li>
<li>flex</li>
</ul>
</li>
<li><p>å…ƒç´ çš„åµŒå¥—</p>
<ul>
<li>å—çº§å…ƒç´ å¯ä»¥åµŒå¥—è¡Œå†…çº§å…ƒç´ </li>
<li>på…ƒç´ ä¸è¦åµŒå¥—divå…ƒç´ </li>
</ul>
</li>
</ul>
<h2 id="ä¹-CSSçš„ç›’å­æ¨¡å‹"><a href="#ä¹-CSSçš„ç›’å­æ¨¡å‹" class="headerlink" title="ä¹. CSSçš„ç›’å­æ¨¡å‹"></a>ä¹. CSSçš„ç›’å­æ¨¡å‹</h2><h3 id="9-1-é‡è¦çš„å‡ ä¸ªå±æ€§"><a href="#9-1-é‡è¦çš„å‡ ä¸ªå±æ€§" class="headerlink" title="9.1. é‡è¦çš„å‡ ä¸ªå±æ€§"></a>9.1. é‡è¦çš„å‡ ä¸ªå±æ€§</h3><ul>
<li>content:<ul>
<li>width</li>
<li>height</li>
<li>max-width</li>
<li>min-width</li>
<li>max-height</li>
<li>min-height</li>
</ul>
</li>
<li>padding<ul>
<li>paddingç¼©å†™å±æ€§</li>
</ul>
</li>
<li>margin<ul>
<li>marginç¼©å†™å±æ€§</li>
<li>ä¼ é€’å’ŒæŠ˜å é—®é¢˜<ul>
<li>åªæœ‰ä¸Šä¸‹ä¼šä¼ é€’å’ŒæŠ˜å </li>
</ul>
</li>
</ul>
</li>
<li>border<ul>
<li>border: 1px solid red;</li>
</ul>
</li>
<li>è¡Œå†…å…ƒç´ :<ul>
<li>width/height/margin-top/margin-bottomæ— æ•ˆ</li>
<li>padding-top/bottom ï¼Œ border-top/bottomæ¯”è¾ƒç‰¹æ®Š<ul>
<li>çœ‹æ¥æœ‰è®¾ç½®ä½†æ˜¯ä¸å æ®ç©ºé—´</li>
</ul>
</li>
</ul>
</li>
<li>è®¾ç½®åœ†è§’æ•ˆæœ<ul>
<li>border-radiusï¼šå‚è€ƒå½“å‰å…ƒç´ çš„border+padding+width<ul>
<li>4ä¸ªå€¼çš„é¡ºåºæ˜¯top-leftã€top-rightã€bottom-rightã€bottom-leftï¼ˆé¡ºæ—¶é’ˆæ–¹å‘</li>
</ul>
</li>
</ul>
</li>
<li>è®¾ç½®è½®å»“<ul>
<li>outline</li>
</ul>
</li>
<li>è®¾ç½®é˜´å½±<ul>
<li>box-shadow: ç¬¬ä¸€ä¸ªæ˜¯æ°´å¹³æ–¹å‘ä¸Šçš„åç§»ï¼Œç¬¬äºŒä¸ªæ˜¯å‚ç›´æ–¹å‘ä¸Šçš„åç§»ï¼Œç¬¬ä¸‰ä¸ªå€¼æ˜¯ä½¿é˜´å½±æ¨¡ç³Šï¼Œç¬¬å››ä¸ªæ˜¯å»¶ä¼¸è·ç¦»ï¼Œé¢œè‰²ï¼Œinsetï¼ˆå‘å†…æ‰©æ•£é˜´å½±å¯ä»¥çœç•¥ï¼‰è‰²</li>
</ul>
</li>
<li>æ–‡å­—é˜´å½±</li>
<li>æ°´å¹³å±…ä¸­çš„ä¸åŒæ–¹å¼<ul>
<li>text-align</li>
<li>margin: 0 auto;</li>
</ul>
</li>
</ul>
<h2 id="å-èƒŒæ™¯çš„è®¾ç½®"><a href="#å-èƒŒæ™¯çš„è®¾ç½®" class="headerlink" title="å. èƒŒæ™¯çš„è®¾ç½®"></a>å. èƒŒæ™¯çš„è®¾ç½®</h2><ul>
<li><p>background-image</p>
<ul>
<li><p>è®¾ç½®èƒŒæ™¯å›¾ç‰‡å±…ä¸­æ˜¾ç¤º</p>
<ul>
<li><pre><code class="html">/* å‘å·¦ç§»åŠ¨imgçš„ä¸€åŠ */
           position: relative;
           /* left: -960px; */

           /* ç›¸å¯¹äºè‡ªå·±ç§»åŠ¨ */
           transform: translate(-50%);

           /* å‘å³ç§»åŠ¨çˆ¶å…ƒç´ ï¼ˆ.box)çš„ä¸€åŠ */
           margin-left: 50%;
<span class="comment"><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">      </span><br><span class="line"></span><br><span class="line">* background-color</span><br><span class="line"></span><br><span class="line">* background-repeat</span><br><span class="line"></span><br><span class="line">  * repeat:å¹³é“º</span><br><span class="line">  * no-repeat:ä¸å¹³é“º</span><br><span class="line">  * repeat-x/repeat-y</span><br><span class="line"></span><br><span class="line">* background-size</span><br><span class="line"></span><br><span class="line">  * cover ä½¿å›¾ç‰‡è¦†ç›–æ•´ä¸ªå…ƒç´ </span><br><span class="line">  * containï¼šå¯¹èƒŒæ™¯å›¾ç‰‡è¿›è¡Œæ‹‰ä¼¸ï¼ŒæŒ‰åŸæ¥çš„æ¯”ä¾‹æ‹‰ä¼¸ </span><br><span class="line">  * è®¾ç½®ç™¾åˆ†æ¯” æˆ–è€…å…·ä½“çš„å¤§å°</span><br><span class="line"></span><br><span class="line">* background-position</span><br><span class="line"></span><br><span class="line">* background-attachment</span><br><span class="line"></span><br><span class="line">  * scrollï¼šèƒŒæ™¯å›¾ç‰‡è·Ÿéšå…ƒç´ ä¸€èµ·æ»šåŠ¨ï¼ˆé»˜è®¤å€¼ï¼‰localï¼šèƒŒæ™¯å›¾ç‰‡è·Ÿéšå…ƒç´ ä»¥åŠå…ƒç´ å†…å®¹ä¸€èµ·æ»šåŠ¨  fixedï¼šèƒŒæ™¯å›¾ç‰‡ç›¸å¯¹äºæµè§ˆå™¨çª—å£å›ºå®š	</span><br><span class="line"></span><br><span class="line">* backgroundç¼©å†™å±æ€§:</span><br><span class="line"></span><br><span class="line">* å…‰æ ‡: cursor: pointer</span><br><span class="line"></span><br><span class="line">* ç²¾çµå›¾</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## åä¸€. å®šä½çš„ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">* position:</span><br><span class="line">  * static</span><br><span class="line">    * éå®šä½å…ƒç´ </span><br><span class="line">  * relative</span><br><span class="line">    * ç›¸å¯¹äºè‡ªå·±çš„ä½ç½®</span><br><span class="line">  * absolute</span><br><span class="line">    * ç¥–å…ˆå…ƒç´ çš„å®šä½å…ƒç´ </span><br><span class="line">    * å­ç»çˆ¶ç›¸</span><br><span class="line">    * ç»å¯¹å®šä½---ä¼šè„±ç¦»æ ‡å‡†æµ</span><br><span class="line">  * fixed</span><br><span class="line">    * ç›¸å¯¹è§†å£</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## åäºŒ. æµ®åŠ¨</span><br><span class="line"></span><br><span class="line">* float</span><br><span class="line"></span><br><span class="line">  * left</span><br><span class="line">  * right</span><br><span class="line">  * è„±æ ‡ -&gt; block</span><br><span class="line"></span><br><span class="line">* æµ®åŠ¨çš„å…­ä¸ªè§„åˆ™</span><br><span class="line"></span><br><span class="line">  * å®šä½å…ƒç´ ä¼šå±‚å åœ¨æµ®åŠ¨å…ƒç´ ä¸Šé¢</span><br><span class="line"></span><br><span class="line">  * æµ®åŠ¨å…ƒç´ ä¸èƒ½ä¸è¡Œå†…çº§å†…å®¹å±‚å ï¼Œè¡Œå†…çº§å†…å®¹å°†ä¼šè¢«æµ®åŠ¨å…ƒç´ æ¨å‡º</span><br><span class="line"></span><br><span class="line">  * å¦‚æœå…ƒç´ æ˜¯å‘å·¦ï¼ˆå³ï¼‰æµ®åŠ¨ï¼Œæµ®åŠ¨å…ƒç´ çš„å·¦ï¼ˆå³ï¼‰è¾¹ç•Œä¸èƒ½è¶…å‡ºåŒ…å«å—çš„å·¦ï¼ˆå³ï¼‰è¾¹ç•Œ</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## åä¸‰. è¡¥å……</span><br><span class="line"></span><br><span class="line">### 13.1. transform</span><br><span class="line"></span><br><span class="line">* translateï¼šå¹³ç§»translate(x, y)</span><br><span class="line"></span><br><span class="line">* scaleï¼šç¼©æ”¾ï¼šscale(x, y)</span><br><span class="line"></span><br><span class="line">* rotateï¼šæ—‹è½¬ï¼šrotate(deg)</span><br><span class="line"></span><br><span class="line">* skewï¼šå€¾æ–œï¼šskew(deg, deg)</span><br><span class="line"></span><br><span class="line">* transitionï¼šæ˜¯ transition-propertyï¼Œtransition-durationï¼Œtransition-timing-function å’Œ transition-delay çš„ä¸€ä¸ªç®€å†™å±æ€§ã€‚</span><br><span class="line"></span><br><span class="line">  * å€¼1 transition-propertyï¼šè¦è¿‡æ¸¡åŠ¨ç”»çš„å±æ€§åç§°</span><br><span class="line"></span><br><span class="line">    å€¼2ï¼šè¿‡æ¸¡åŠ¨ç”»æ‰€éœ€çš„æ—¶é—´</span><br><span class="line"></span><br><span class="line">    å€¼3ï¼šåŠ¨ç”»çš„å˜åŒ–çš„æ›²çº¿</span><br><span class="line"></span><br><span class="line">    å€¼4ï¼šåŠ¨ç”»çš„å»¶è¿Ÿç­‰å¾…</span><br><span class="line"></span><br><span class="line">* transform-originï¼šå˜å½¢çš„åŸç‚¹</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 13.2. vertical-align</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 13.3. èƒŒæ™¯é¢œè‰²æ¸å˜</span><br><span class="line"></span><br><span class="line">* background: linear-gradient</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 13.4. HTML5å…ƒç´ è¡¥å……</span><br><span class="line"></span><br><span class="line">* è¯­ä¹‰åŒ–æ ‡ç­¾:</span><br><span class="line">  * navï¼šå¯¼èˆªå…ƒç´ </span><br><span class="line">  * headerï¼šå¤´éƒ¨å…ƒç´ </span><br><span class="line">  * footerï¼šå°¾éƒ¨å…ƒç´ </span><br><span class="line">  * sectionï¼šå®šä¹‰æ–‡æ¡£æŸä¸ªåŒºåŸŸçš„å…ƒç´ </span><br><span class="line">  * articleï¼šå†…å®¹å…ƒç´ </span><br><span class="line">  * asideï¼šä¾§è¾¹æ å…ƒç´ </span><br><span class="line">* å¤šåª’ä½“å…ƒç´ </span><br><span class="line">  * video</span><br><span class="line">  * audio</span><br><span class="line">* inputè¡¥å……</span><br><span class="line">  * å±æ€§: autofocus / multiple / size / placeholder</span><br><span class="line">  * typeè¡¥å……</span><br><span class="line">    * email</span><br><span class="line">    * date</span><br><span class="line">    * time</span><br><span class="line"></span><br><span class="line">### 13.5. flexå¸ƒå±€</span><br><span class="line"></span><br><span class="line">* flex-container</span><br><span class="line">  * display: flex/inline-flex</span><br><span class="line">  * flex-direction</span><br><span class="line">  * justify-content</span><br><span class="line">  * align-items</span><br><span class="line">  * flex-wrap</span><br><span class="line">  * flex-flow:ç¼©å†™å±æ€§</span><br><span class="line">  * align-content: å¤šè¡Œ</span><br><span class="line">* flex-items</span><br><span class="line">  * order</span><br><span class="line">  * align-self</span><br><span class="line">  * flex-grow</span><br><span class="line">  * flex-shrink</span><br><span class="line">  * flex-basis</span><br><span class="line">  * flex</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 13.6. ç½‘ç»œå­—ä½“</span><br><span class="line"></span><br><span class="line">* ä½¿ç”¨ç½‘ç»œå­—ä½“</span><br><span class="line">* å­—ä½“å›¾æ ‡</span><br><span class="line">  * é˜¿é‡Œicon</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 13.7. åŠ¨ç”»çš„è¡¥å……</span><br><span class="line"></span><br><span class="line">* å…³é”®å¸§åŠ¨ç”»</span><br><span class="line">  * @keyframes</span><br><span class="line">  * animation: name duration  function;</span><br><span class="line">* 3D</span><br><span class="line">  * perspective</span><br><span class="line">  * transform-style: preserve-3d</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 13.8. æ–‡å­—çš„æ¢è¡Œ</span><br><span class="line"></span><br><span class="line">* white-space: nowrap</span><br><span class="line">* text-overflow: ellipsis;</span><br><span class="line">* overflow: hidden;</span><br><span class="line"></span><br><span class="line">```css</span><br><span class="line">/* æ˜¾ç¤ºä¸¤è¡Œæ–‡æœ¬å¹¶ä¸”æ˜¾ç¤ºçœç•¥å·çš„æ–¹æ³• */</span><br><span class="line">display: -webkit-box;</span><br><span class="line">-webkit-line-clamp: 2;</span><br><span class="line">-webkit-box-orient: vertical;</span><br><span class="line">text-overflow: ellipsis;</span><br><span class="line">overflow: hidden;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/* æ˜¾ç¤ºä¸€è¡Œæ–‡æœ¬å¹¶ä¸”æ˜¾ç¤ºçœç•¥å·çš„æ–¹æ³• */</span><br><span class="line">/* æ–‡å­—è¶…å‡ºåæ˜¯å¦è‡ªåŠ¨æ¢è¡Œ */</span><br><span class="line">white-space: nowrap;</span><br><span class="line">text-overflow: ellipsis;</span><br><span class="line">overflow: hidden;</span><br></pre></td></tr></tbody></table></figure></span>


</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="13-9-ç§»åŠ¨ç«¯é€‚é…"><a href="#13-9-ç§»åŠ¨ç«¯é€‚é…" class="headerlink" title="13.9. ç§»åŠ¨ç«¯é€‚é…"></a>13.9. ç§»åŠ¨ç«¯é€‚é…</h3><ul>
<li>è§†å£çš„è®¾ç½®:</li>
</ul>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>remè®¾ç½®<ul>
<li>ç›¸å¯¹htmlå­—ä½“å¤§å°</li>
<li>é—®é¢˜ä¸€: è®¾ç½®ä¸åŒhtmlçš„font-size<ul>
<li>åª’ä½“æŸ¥è¯¢</li>
<li>jsä»£ç </li>
</ul>
</li>
<li>é—®é¢˜äºŒ: åŠ¨æ€è®¡ç®—remå€¼<ul>
<li>vscodeæ’ä»¶</li>
<li>webpack postcss-pxtorem</li>
<li>less/sassè®¡ç®—</li>
</ul>
</li>
</ul>
</li>
</ul>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>css</tag>
        <tag>çŸ¥è¯†ç‚¹æ€»ç»“</tag>
      </tags>
  </entry>
</search>
